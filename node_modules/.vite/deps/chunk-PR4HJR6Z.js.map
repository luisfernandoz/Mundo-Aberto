{
  "version": 3,
  "sources": ["browser-external:node:util", "browser-external:child_process", "browser-external:crypto", "browser-external:worker_threads", "../../esbuild/lib/main.js", "browser-external:node:events", "browser-external:node:stream", "browser-external:node:string_decoder", "browser-external:node:child_process", "browser-external:net", "browser-external:http", "browser-external:node:crypto", "browser-external:node:dns", "browser-external:module", "browser-external:node:assert", "browser-external:node:v8", "browser-external:node:worker_threads", "browser-external:node:buffer", "browser-external:querystring", "browser-external:node:readline", "browser-external:zlib", "browser-external:buffer", "browser-external:https", "browser-external:tls", "browser-external:assert", "browser-external:node:zlib", "../../rollup/dist/es/parseAst.js", "../../vite/dist/node/constants.js", "../../vite/dist/node/chunks/dep-CB_7IfJ-.js"],
  "sourcesContent": ["module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:util\" has been externalized for browser compatibility. Cannot access \"node:util.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"child_process\" has been externalized for browser compatibility. Cannot access \"child_process.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"crypto\" has been externalized for browser compatibility. Cannot access \"crypto.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"worker_threads\" has been externalized for browser compatibility. Cannot access \"worker_threads.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "\"use strict\";\r\nvar __create = Object.create;\r\nvar __defProp = Object.defineProperty;\r\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\r\nvar __getOwnPropNames = Object.getOwnPropertyNames;\r\nvar __getProtoOf = Object.getPrototypeOf;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __export = (target, all) => {\r\n  for (var name in all)\r\n    __defProp(target, name, { get: all[name], enumerable: true });\r\n};\r\nvar __copyProps = (to, from, except, desc) => {\r\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\r\n    for (let key of __getOwnPropNames(from))\r\n      if (!__hasOwnProp.call(to, key) && key !== except)\r\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\r\n  }\r\n  return to;\r\n};\r\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\r\n  // If the importer is in node compatibility mode or this is not an ESM\r\n  // file that has been converted to a CommonJS file using a Babel-\r\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\r\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\r\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\r\n  mod\r\n));\r\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\r\n\r\n// lib/npm/node.ts\r\nvar node_exports = {};\r\n__export(node_exports, {\r\n  analyzeMetafile: () => analyzeMetafile,\r\n  analyzeMetafileSync: () => analyzeMetafileSync,\r\n  build: () => build,\r\n  buildSync: () => buildSync,\r\n  context: () => context,\r\n  default: () => node_default,\r\n  formatMessages: () => formatMessages,\r\n  formatMessagesSync: () => formatMessagesSync,\r\n  initialize: () => initialize,\r\n  stop: () => stop,\r\n  transform: () => transform,\r\n  transformSync: () => transformSync,\r\n  version: () => version\r\n});\r\nmodule.exports = __toCommonJS(node_exports);\r\n\r\n// lib/shared/stdio_protocol.ts\r\nfunction encodePacket(packet) {\r\n  let visit = (value) => {\r\n    if (value === null) {\r\n      bb.write8(0);\r\n    } else if (typeof value === \"boolean\") {\r\n      bb.write8(1);\r\n      bb.write8(+value);\r\n    } else if (typeof value === \"number\") {\r\n      bb.write8(2);\r\n      bb.write32(value | 0);\r\n    } else if (typeof value === \"string\") {\r\n      bb.write8(3);\r\n      bb.write(encodeUTF8(value));\r\n    } else if (value instanceof Uint8Array) {\r\n      bb.write8(4);\r\n      bb.write(value);\r\n    } else if (value instanceof Array) {\r\n      bb.write8(5);\r\n      bb.write32(value.length);\r\n      for (let item of value) {\r\n        visit(item);\r\n      }\r\n    } else {\r\n      let keys = Object.keys(value);\r\n      bb.write8(6);\r\n      bb.write32(keys.length);\r\n      for (let key of keys) {\r\n        bb.write(encodeUTF8(key));\r\n        visit(value[key]);\r\n      }\r\n    }\r\n  };\r\n  let bb = new ByteBuffer();\r\n  bb.write32(0);\r\n  bb.write32(packet.id << 1 | +!packet.isRequest);\r\n  visit(packet.value);\r\n  writeUInt32LE(bb.buf, bb.len - 4, 0);\r\n  return bb.buf.subarray(0, bb.len);\r\n}\r\nfunction decodePacket(bytes) {\r\n  let visit = () => {\r\n    switch (bb.read8()) {\r\n      case 0:\r\n        return null;\r\n      case 1:\r\n        return !!bb.read8();\r\n      case 2:\r\n        return bb.read32();\r\n      case 3:\r\n        return decodeUTF8(bb.read());\r\n      case 4:\r\n        return bb.read();\r\n      case 5: {\r\n        let count = bb.read32();\r\n        let value2 = [];\r\n        for (let i = 0; i < count; i++) {\r\n          value2.push(visit());\r\n        }\r\n        return value2;\r\n      }\r\n      case 6: {\r\n        let count = bb.read32();\r\n        let value2 = {};\r\n        for (let i = 0; i < count; i++) {\r\n          value2[decodeUTF8(bb.read())] = visit();\r\n        }\r\n        return value2;\r\n      }\r\n      default:\r\n        throw new Error(\"Invalid packet\");\r\n    }\r\n  };\r\n  let bb = new ByteBuffer(bytes);\r\n  let id = bb.read32();\r\n  let isRequest = (id & 1) === 0;\r\n  id >>>= 1;\r\n  let value = visit();\r\n  if (bb.ptr !== bytes.length) {\r\n    throw new Error(\"Invalid packet\");\r\n  }\r\n  return { id, isRequest, value };\r\n}\r\nvar ByteBuffer = class {\r\n  constructor(buf = new Uint8Array(1024)) {\r\n    this.buf = buf;\r\n    this.len = 0;\r\n    this.ptr = 0;\r\n  }\r\n  _write(delta) {\r\n    if (this.len + delta > this.buf.length) {\r\n      let clone = new Uint8Array((this.len + delta) * 2);\r\n      clone.set(this.buf);\r\n      this.buf = clone;\r\n    }\r\n    this.len += delta;\r\n    return this.len - delta;\r\n  }\r\n  write8(value) {\r\n    let offset = this._write(1);\r\n    this.buf[offset] = value;\r\n  }\r\n  write32(value) {\r\n    let offset = this._write(4);\r\n    writeUInt32LE(this.buf, value, offset);\r\n  }\r\n  write(bytes) {\r\n    let offset = this._write(4 + bytes.length);\r\n    writeUInt32LE(this.buf, bytes.length, offset);\r\n    this.buf.set(bytes, offset + 4);\r\n  }\r\n  _read(delta) {\r\n    if (this.ptr + delta > this.buf.length) {\r\n      throw new Error(\"Invalid packet\");\r\n    }\r\n    this.ptr += delta;\r\n    return this.ptr - delta;\r\n  }\r\n  read8() {\r\n    return this.buf[this._read(1)];\r\n  }\r\n  read32() {\r\n    return readUInt32LE(this.buf, this._read(4));\r\n  }\r\n  read() {\r\n    let length = this.read32();\r\n    let bytes = new Uint8Array(length);\r\n    let ptr = this._read(bytes.length);\r\n    bytes.set(this.buf.subarray(ptr, ptr + length));\r\n    return bytes;\r\n  }\r\n};\r\nvar encodeUTF8;\r\nvar decodeUTF8;\r\nvar encodeInvariant;\r\nif (typeof TextEncoder !== \"undefined\" && typeof TextDecoder !== \"undefined\") {\r\n  let encoder = new TextEncoder();\r\n  let decoder = new TextDecoder();\r\n  encodeUTF8 = (text) => encoder.encode(text);\r\n  decodeUTF8 = (bytes) => decoder.decode(bytes);\r\n  encodeInvariant = 'new TextEncoder().encode(\"\")';\r\n} else if (typeof Buffer !== \"undefined\") {\r\n  encodeUTF8 = (text) => Buffer.from(text);\r\n  decodeUTF8 = (bytes) => {\r\n    let { buffer, byteOffset, byteLength } = bytes;\r\n    return Buffer.from(buffer, byteOffset, byteLength).toString();\r\n  };\r\n  encodeInvariant = 'Buffer.from(\"\")';\r\n} else {\r\n  throw new Error(\"No UTF-8 codec found\");\r\n}\r\nif (!(encodeUTF8(\"\") instanceof Uint8Array))\r\n  throw new Error(`Invariant violation: \"${encodeInvariant} instanceof Uint8Array\" is incorrectly false\r\n\r\nThis indicates that your JavaScript environment is broken. You cannot use\r\nesbuild in this environment because esbuild relies on this invariant. This\r\nis not a problem with esbuild. You need to fix your environment instead.\r\n`);\r\nfunction readUInt32LE(buffer, offset) {\r\n  return buffer[offset++] | buffer[offset++] << 8 | buffer[offset++] << 16 | buffer[offset++] << 24;\r\n}\r\nfunction writeUInt32LE(buffer, value, offset) {\r\n  buffer[offset++] = value;\r\n  buffer[offset++] = value >> 8;\r\n  buffer[offset++] = value >> 16;\r\n  buffer[offset++] = value >> 24;\r\n}\r\n\r\n// lib/shared/common.ts\r\nvar quote = JSON.stringify;\r\nvar buildLogLevelDefault = \"warning\";\r\nvar transformLogLevelDefault = \"silent\";\r\nfunction validateTarget(target) {\r\n  validateStringValue(target, \"target\");\r\n  if (target.indexOf(\",\") >= 0) throw new Error(`Invalid target: ${target}`);\r\n  return target;\r\n}\r\nvar canBeAnything = () => null;\r\nvar mustBeBoolean = (value) => typeof value === \"boolean\" ? null : \"a boolean\";\r\nvar mustBeString = (value) => typeof value === \"string\" ? null : \"a string\";\r\nvar mustBeRegExp = (value) => value instanceof RegExp ? null : \"a RegExp object\";\r\nvar mustBeInteger = (value) => typeof value === \"number\" && value === (value | 0) ? null : \"an integer\";\r\nvar mustBeFunction = (value) => typeof value === \"function\" ? null : \"a function\";\r\nvar mustBeArray = (value) => Array.isArray(value) ? null : \"an array\";\r\nvar mustBeObject = (value) => typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"an object\";\r\nvar mustBeEntryPoints = (value) => typeof value === \"object\" && value !== null ? null : \"an array or an object\";\r\nvar mustBeWebAssemblyModule = (value) => value instanceof WebAssembly.Module ? null : \"a WebAssembly.Module\";\r\nvar mustBeObjectOrNull = (value) => typeof value === \"object\" && !Array.isArray(value) ? null : \"an object or null\";\r\nvar mustBeStringOrBoolean = (value) => typeof value === \"string\" || typeof value === \"boolean\" ? null : \"a string or a boolean\";\r\nvar mustBeStringOrObject = (value) => typeof value === \"string\" || typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"a string or an object\";\r\nvar mustBeStringOrArray = (value) => typeof value === \"string\" || Array.isArray(value) ? null : \"a string or an array\";\r\nvar mustBeStringOrUint8Array = (value) => typeof value === \"string\" || value instanceof Uint8Array ? null : \"a string or a Uint8Array\";\r\nvar mustBeStringOrURL = (value) => typeof value === \"string\" || value instanceof URL ? null : \"a string or a URL\";\r\nfunction getFlag(object, keys, key, mustBeFn) {\r\n  let value = object[key];\r\n  keys[key + \"\"] = true;\r\n  if (value === void 0) return void 0;\r\n  let mustBe = mustBeFn(value);\r\n  if (mustBe !== null) throw new Error(`${quote(key)} must be ${mustBe}`);\r\n  return value;\r\n}\r\nfunction checkForInvalidFlags(object, keys, where) {\r\n  for (let key in object) {\r\n    if (!(key in keys)) {\r\n      throw new Error(`Invalid option ${where}: ${quote(key)}`);\r\n    }\r\n  }\r\n}\r\nfunction validateInitializeOptions(options) {\r\n  let keys = /* @__PURE__ */ Object.create(null);\r\n  let wasmURL = getFlag(options, keys, \"wasmURL\", mustBeStringOrURL);\r\n  let wasmModule = getFlag(options, keys, \"wasmModule\", mustBeWebAssemblyModule);\r\n  let worker = getFlag(options, keys, \"worker\", mustBeBoolean);\r\n  checkForInvalidFlags(options, keys, \"in initialize() call\");\r\n  return {\r\n    wasmURL,\r\n    wasmModule,\r\n    worker\r\n  };\r\n}\r\nfunction validateMangleCache(mangleCache) {\r\n  let validated;\r\n  if (mangleCache !== void 0) {\r\n    validated = /* @__PURE__ */ Object.create(null);\r\n    for (let key in mangleCache) {\r\n      let value = mangleCache[key];\r\n      if (typeof value === \"string\" || value === false) {\r\n        validated[key] = value;\r\n      } else {\r\n        throw new Error(`Expected ${quote(key)} in mangle cache to map to either a string or false`);\r\n      }\r\n    }\r\n  }\r\n  return validated;\r\n}\r\nfunction pushLogFlags(flags, options, keys, isTTY2, logLevelDefault) {\r\n  let color = getFlag(options, keys, \"color\", mustBeBoolean);\r\n  let logLevel = getFlag(options, keys, \"logLevel\", mustBeString);\r\n  let logLimit = getFlag(options, keys, \"logLimit\", mustBeInteger);\r\n  if (color !== void 0) flags.push(`--color=${color}`);\r\n  else if (isTTY2) flags.push(`--color=true`);\r\n  flags.push(`--log-level=${logLevel || logLevelDefault}`);\r\n  flags.push(`--log-limit=${logLimit || 0}`);\r\n}\r\nfunction validateStringValue(value, what, key) {\r\n  if (typeof value !== \"string\") {\r\n    throw new Error(`Expected value for ${what}${key !== void 0 ? \" \" + quote(key) : \"\"} to be a string, got ${typeof value} instead`);\r\n  }\r\n  return value;\r\n}\r\nfunction pushCommonFlags(flags, options, keys) {\r\n  let legalComments = getFlag(options, keys, \"legalComments\", mustBeString);\r\n  let sourceRoot = getFlag(options, keys, \"sourceRoot\", mustBeString);\r\n  let sourcesContent = getFlag(options, keys, \"sourcesContent\", mustBeBoolean);\r\n  let target = getFlag(options, keys, \"target\", mustBeStringOrArray);\r\n  let format = getFlag(options, keys, \"format\", mustBeString);\r\n  let globalName = getFlag(options, keys, \"globalName\", mustBeString);\r\n  let mangleProps = getFlag(options, keys, \"mangleProps\", mustBeRegExp);\r\n  let reserveProps = getFlag(options, keys, \"reserveProps\", mustBeRegExp);\r\n  let mangleQuoted = getFlag(options, keys, \"mangleQuoted\", mustBeBoolean);\r\n  let minify = getFlag(options, keys, \"minify\", mustBeBoolean);\r\n  let minifySyntax = getFlag(options, keys, \"minifySyntax\", mustBeBoolean);\r\n  let minifyWhitespace = getFlag(options, keys, \"minifyWhitespace\", mustBeBoolean);\r\n  let minifyIdentifiers = getFlag(options, keys, \"minifyIdentifiers\", mustBeBoolean);\r\n  let lineLimit = getFlag(options, keys, \"lineLimit\", mustBeInteger);\r\n  let drop = getFlag(options, keys, \"drop\", mustBeArray);\r\n  let dropLabels = getFlag(options, keys, \"dropLabels\", mustBeArray);\r\n  let charset = getFlag(options, keys, \"charset\", mustBeString);\r\n  let treeShaking = getFlag(options, keys, \"treeShaking\", mustBeBoolean);\r\n  let ignoreAnnotations = getFlag(options, keys, \"ignoreAnnotations\", mustBeBoolean);\r\n  let jsx = getFlag(options, keys, \"jsx\", mustBeString);\r\n  let jsxFactory = getFlag(options, keys, \"jsxFactory\", mustBeString);\r\n  let jsxFragment = getFlag(options, keys, \"jsxFragment\", mustBeString);\r\n  let jsxImportSource = getFlag(options, keys, \"jsxImportSource\", mustBeString);\r\n  let jsxDev = getFlag(options, keys, \"jsxDev\", mustBeBoolean);\r\n  let jsxSideEffects = getFlag(options, keys, \"jsxSideEffects\", mustBeBoolean);\r\n  let define = getFlag(options, keys, \"define\", mustBeObject);\r\n  let logOverride = getFlag(options, keys, \"logOverride\", mustBeObject);\r\n  let supported = getFlag(options, keys, \"supported\", mustBeObject);\r\n  let pure = getFlag(options, keys, \"pure\", mustBeArray);\r\n  let keepNames = getFlag(options, keys, \"keepNames\", mustBeBoolean);\r\n  let platform = getFlag(options, keys, \"platform\", mustBeString);\r\n  let tsconfigRaw = getFlag(options, keys, \"tsconfigRaw\", mustBeStringOrObject);\r\n  if (legalComments) flags.push(`--legal-comments=${legalComments}`);\r\n  if (sourceRoot !== void 0) flags.push(`--source-root=${sourceRoot}`);\r\n  if (sourcesContent !== void 0) flags.push(`--sources-content=${sourcesContent}`);\r\n  if (target) {\r\n    if (Array.isArray(target)) flags.push(`--target=${Array.from(target).map(validateTarget).join(\",\")}`);\r\n    else flags.push(`--target=${validateTarget(target)}`);\r\n  }\r\n  if (format) flags.push(`--format=${format}`);\r\n  if (globalName) flags.push(`--global-name=${globalName}`);\r\n  if (platform) flags.push(`--platform=${platform}`);\r\n  if (tsconfigRaw) flags.push(`--tsconfig-raw=${typeof tsconfigRaw === \"string\" ? tsconfigRaw : JSON.stringify(tsconfigRaw)}`);\r\n  if (minify) flags.push(\"--minify\");\r\n  if (minifySyntax) flags.push(\"--minify-syntax\");\r\n  if (minifyWhitespace) flags.push(\"--minify-whitespace\");\r\n  if (minifyIdentifiers) flags.push(\"--minify-identifiers\");\r\n  if (lineLimit) flags.push(`--line-limit=${lineLimit}`);\r\n  if (charset) flags.push(`--charset=${charset}`);\r\n  if (treeShaking !== void 0) flags.push(`--tree-shaking=${treeShaking}`);\r\n  if (ignoreAnnotations) flags.push(`--ignore-annotations`);\r\n  if (drop) for (let what of drop) flags.push(`--drop:${validateStringValue(what, \"drop\")}`);\r\n  if (dropLabels) flags.push(`--drop-labels=${Array.from(dropLabels).map((what) => validateStringValue(what, \"dropLabels\")).join(\",\")}`);\r\n  if (mangleProps) flags.push(`--mangle-props=${mangleProps.source}`);\r\n  if (reserveProps) flags.push(`--reserve-props=${reserveProps.source}`);\r\n  if (mangleQuoted !== void 0) flags.push(`--mangle-quoted=${mangleQuoted}`);\r\n  if (jsx) flags.push(`--jsx=${jsx}`);\r\n  if (jsxFactory) flags.push(`--jsx-factory=${jsxFactory}`);\r\n  if (jsxFragment) flags.push(`--jsx-fragment=${jsxFragment}`);\r\n  if (jsxImportSource) flags.push(`--jsx-import-source=${jsxImportSource}`);\r\n  if (jsxDev) flags.push(`--jsx-dev`);\r\n  if (jsxSideEffects) flags.push(`--jsx-side-effects`);\r\n  if (define) {\r\n    for (let key in define) {\r\n      if (key.indexOf(\"=\") >= 0) throw new Error(`Invalid define: ${key}`);\r\n      flags.push(`--define:${key}=${validateStringValue(define[key], \"define\", key)}`);\r\n    }\r\n  }\r\n  if (logOverride) {\r\n    for (let key in logOverride) {\r\n      if (key.indexOf(\"=\") >= 0) throw new Error(`Invalid log override: ${key}`);\r\n      flags.push(`--log-override:${key}=${validateStringValue(logOverride[key], \"log override\", key)}`);\r\n    }\r\n  }\r\n  if (supported) {\r\n    for (let key in supported) {\r\n      if (key.indexOf(\"=\") >= 0) throw new Error(`Invalid supported: ${key}`);\r\n      const value = supported[key];\r\n      if (typeof value !== \"boolean\") throw new Error(`Expected value for supported ${quote(key)} to be a boolean, got ${typeof value} instead`);\r\n      flags.push(`--supported:${key}=${value}`);\r\n    }\r\n  }\r\n  if (pure) for (let fn of pure) flags.push(`--pure:${validateStringValue(fn, \"pure\")}`);\r\n  if (keepNames) flags.push(`--keep-names`);\r\n}\r\nfunction flagsForBuildOptions(callName, options, isTTY2, logLevelDefault, writeDefault) {\r\n  var _a2;\r\n  let flags = [];\r\n  let entries = [];\r\n  let keys = /* @__PURE__ */ Object.create(null);\r\n  let stdinContents = null;\r\n  let stdinResolveDir = null;\r\n  pushLogFlags(flags, options, keys, isTTY2, logLevelDefault);\r\n  pushCommonFlags(flags, options, keys);\r\n  let sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\r\n  let bundle = getFlag(options, keys, \"bundle\", mustBeBoolean);\r\n  let splitting = getFlag(options, keys, \"splitting\", mustBeBoolean);\r\n  let preserveSymlinks = getFlag(options, keys, \"preserveSymlinks\", mustBeBoolean);\r\n  let metafile = getFlag(options, keys, \"metafile\", mustBeBoolean);\r\n  let outfile = getFlag(options, keys, \"outfile\", mustBeString);\r\n  let outdir = getFlag(options, keys, \"outdir\", mustBeString);\r\n  let outbase = getFlag(options, keys, \"outbase\", mustBeString);\r\n  let tsconfig = getFlag(options, keys, \"tsconfig\", mustBeString);\r\n  let resolveExtensions = getFlag(options, keys, \"resolveExtensions\", mustBeArray);\r\n  let nodePathsInput = getFlag(options, keys, \"nodePaths\", mustBeArray);\r\n  let mainFields = getFlag(options, keys, \"mainFields\", mustBeArray);\r\n  let conditions = getFlag(options, keys, \"conditions\", mustBeArray);\r\n  let external = getFlag(options, keys, \"external\", mustBeArray);\r\n  let packages = getFlag(options, keys, \"packages\", mustBeString);\r\n  let alias = getFlag(options, keys, \"alias\", mustBeObject);\r\n  let loader = getFlag(options, keys, \"loader\", mustBeObject);\r\n  let outExtension = getFlag(options, keys, \"outExtension\", mustBeObject);\r\n  let publicPath = getFlag(options, keys, \"publicPath\", mustBeString);\r\n  let entryNames = getFlag(options, keys, \"entryNames\", mustBeString);\r\n  let chunkNames = getFlag(options, keys, \"chunkNames\", mustBeString);\r\n  let assetNames = getFlag(options, keys, \"assetNames\", mustBeString);\r\n  let inject = getFlag(options, keys, \"inject\", mustBeArray);\r\n  let banner = getFlag(options, keys, \"banner\", mustBeObject);\r\n  let footer = getFlag(options, keys, \"footer\", mustBeObject);\r\n  let entryPoints = getFlag(options, keys, \"entryPoints\", mustBeEntryPoints);\r\n  let absWorkingDir = getFlag(options, keys, \"absWorkingDir\", mustBeString);\r\n  let stdin = getFlag(options, keys, \"stdin\", mustBeObject);\r\n  let write = (_a2 = getFlag(options, keys, \"write\", mustBeBoolean)) != null ? _a2 : writeDefault;\r\n  let allowOverwrite = getFlag(options, keys, \"allowOverwrite\", mustBeBoolean);\r\n  let mangleCache = getFlag(options, keys, \"mangleCache\", mustBeObject);\r\n  keys.plugins = true;\r\n  checkForInvalidFlags(options, keys, `in ${callName}() call`);\r\n  if (sourcemap) flags.push(`--sourcemap${sourcemap === true ? \"\" : `=${sourcemap}`}`);\r\n  if (bundle) flags.push(\"--bundle\");\r\n  if (allowOverwrite) flags.push(\"--allow-overwrite\");\r\n  if (splitting) flags.push(\"--splitting\");\r\n  if (preserveSymlinks) flags.push(\"--preserve-symlinks\");\r\n  if (metafile) flags.push(`--metafile`);\r\n  if (outfile) flags.push(`--outfile=${outfile}`);\r\n  if (outdir) flags.push(`--outdir=${outdir}`);\r\n  if (outbase) flags.push(`--outbase=${outbase}`);\r\n  if (tsconfig) flags.push(`--tsconfig=${tsconfig}`);\r\n  if (packages) flags.push(`--packages=${packages}`);\r\n  if (resolveExtensions) {\r\n    let values = [];\r\n    for (let value of resolveExtensions) {\r\n      validateStringValue(value, \"resolve extension\");\r\n      if (value.indexOf(\",\") >= 0) throw new Error(`Invalid resolve extension: ${value}`);\r\n      values.push(value);\r\n    }\r\n    flags.push(`--resolve-extensions=${values.join(\",\")}`);\r\n  }\r\n  if (publicPath) flags.push(`--public-path=${publicPath}`);\r\n  if (entryNames) flags.push(`--entry-names=${entryNames}`);\r\n  if (chunkNames) flags.push(`--chunk-names=${chunkNames}`);\r\n  if (assetNames) flags.push(`--asset-names=${assetNames}`);\r\n  if (mainFields) {\r\n    let values = [];\r\n    for (let value of mainFields) {\r\n      validateStringValue(value, \"main field\");\r\n      if (value.indexOf(\",\") >= 0) throw new Error(`Invalid main field: ${value}`);\r\n      values.push(value);\r\n    }\r\n    flags.push(`--main-fields=${values.join(\",\")}`);\r\n  }\r\n  if (conditions) {\r\n    let values = [];\r\n    for (let value of conditions) {\r\n      validateStringValue(value, \"condition\");\r\n      if (value.indexOf(\",\") >= 0) throw new Error(`Invalid condition: ${value}`);\r\n      values.push(value);\r\n    }\r\n    flags.push(`--conditions=${values.join(\",\")}`);\r\n  }\r\n  if (external) for (let name of external) flags.push(`--external:${validateStringValue(name, \"external\")}`);\r\n  if (alias) {\r\n    for (let old in alias) {\r\n      if (old.indexOf(\"=\") >= 0) throw new Error(`Invalid package name in alias: ${old}`);\r\n      flags.push(`--alias:${old}=${validateStringValue(alias[old], \"alias\", old)}`);\r\n    }\r\n  }\r\n  if (banner) {\r\n    for (let type in banner) {\r\n      if (type.indexOf(\"=\") >= 0) throw new Error(`Invalid banner file type: ${type}`);\r\n      flags.push(`--banner:${type}=${validateStringValue(banner[type], \"banner\", type)}`);\r\n    }\r\n  }\r\n  if (footer) {\r\n    for (let type in footer) {\r\n      if (type.indexOf(\"=\") >= 0) throw new Error(`Invalid footer file type: ${type}`);\r\n      flags.push(`--footer:${type}=${validateStringValue(footer[type], \"footer\", type)}`);\r\n    }\r\n  }\r\n  if (inject) for (let path3 of inject) flags.push(`--inject:${validateStringValue(path3, \"inject\")}`);\r\n  if (loader) {\r\n    for (let ext in loader) {\r\n      if (ext.indexOf(\"=\") >= 0) throw new Error(`Invalid loader extension: ${ext}`);\r\n      flags.push(`--loader:${ext}=${validateStringValue(loader[ext], \"loader\", ext)}`);\r\n    }\r\n  }\r\n  if (outExtension) {\r\n    for (let ext in outExtension) {\r\n      if (ext.indexOf(\"=\") >= 0) throw new Error(`Invalid out extension: ${ext}`);\r\n      flags.push(`--out-extension:${ext}=${validateStringValue(outExtension[ext], \"out extension\", ext)}`);\r\n    }\r\n  }\r\n  if (entryPoints) {\r\n    if (Array.isArray(entryPoints)) {\r\n      for (let i = 0, n = entryPoints.length; i < n; i++) {\r\n        let entryPoint = entryPoints[i];\r\n        if (typeof entryPoint === \"object\" && entryPoint !== null) {\r\n          let entryPointKeys = /* @__PURE__ */ Object.create(null);\r\n          let input = getFlag(entryPoint, entryPointKeys, \"in\", mustBeString);\r\n          let output = getFlag(entryPoint, entryPointKeys, \"out\", mustBeString);\r\n          checkForInvalidFlags(entryPoint, entryPointKeys, \"in entry point at index \" + i);\r\n          if (input === void 0) throw new Error('Missing property \"in\" for entry point at index ' + i);\r\n          if (output === void 0) throw new Error('Missing property \"out\" for entry point at index ' + i);\r\n          entries.push([output, input]);\r\n        } else {\r\n          entries.push([\"\", validateStringValue(entryPoint, \"entry point at index \" + i)]);\r\n        }\r\n      }\r\n    } else {\r\n      for (let key in entryPoints) {\r\n        entries.push([key, validateStringValue(entryPoints[key], \"entry point\", key)]);\r\n      }\r\n    }\r\n  }\r\n  if (stdin) {\r\n    let stdinKeys = /* @__PURE__ */ Object.create(null);\r\n    let contents = getFlag(stdin, stdinKeys, \"contents\", mustBeStringOrUint8Array);\r\n    let resolveDir = getFlag(stdin, stdinKeys, \"resolveDir\", mustBeString);\r\n    let sourcefile = getFlag(stdin, stdinKeys, \"sourcefile\", mustBeString);\r\n    let loader2 = getFlag(stdin, stdinKeys, \"loader\", mustBeString);\r\n    checkForInvalidFlags(stdin, stdinKeys, 'in \"stdin\" object');\r\n    if (sourcefile) flags.push(`--sourcefile=${sourcefile}`);\r\n    if (loader2) flags.push(`--loader=${loader2}`);\r\n    if (resolveDir) stdinResolveDir = resolveDir;\r\n    if (typeof contents === \"string\") stdinContents = encodeUTF8(contents);\r\n    else if (contents instanceof Uint8Array) stdinContents = contents;\r\n  }\r\n  let nodePaths = [];\r\n  if (nodePathsInput) {\r\n    for (let value of nodePathsInput) {\r\n      value += \"\";\r\n      nodePaths.push(value);\r\n    }\r\n  }\r\n  return {\r\n    entries,\r\n    flags,\r\n    write,\r\n    stdinContents,\r\n    stdinResolveDir,\r\n    absWorkingDir,\r\n    nodePaths,\r\n    mangleCache: validateMangleCache(mangleCache)\r\n  };\r\n}\r\nfunction flagsForTransformOptions(callName, options, isTTY2, logLevelDefault) {\r\n  let flags = [];\r\n  let keys = /* @__PURE__ */ Object.create(null);\r\n  pushLogFlags(flags, options, keys, isTTY2, logLevelDefault);\r\n  pushCommonFlags(flags, options, keys);\r\n  let sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\r\n  let sourcefile = getFlag(options, keys, \"sourcefile\", mustBeString);\r\n  let loader = getFlag(options, keys, \"loader\", mustBeString);\r\n  let banner = getFlag(options, keys, \"banner\", mustBeString);\r\n  let footer = getFlag(options, keys, \"footer\", mustBeString);\r\n  let mangleCache = getFlag(options, keys, \"mangleCache\", mustBeObject);\r\n  checkForInvalidFlags(options, keys, `in ${callName}() call`);\r\n  if (sourcemap) flags.push(`--sourcemap=${sourcemap === true ? \"external\" : sourcemap}`);\r\n  if (sourcefile) flags.push(`--sourcefile=${sourcefile}`);\r\n  if (loader) flags.push(`--loader=${loader}`);\r\n  if (banner) flags.push(`--banner=${banner}`);\r\n  if (footer) flags.push(`--footer=${footer}`);\r\n  return {\r\n    flags,\r\n    mangleCache: validateMangleCache(mangleCache)\r\n  };\r\n}\r\nfunction createChannel(streamIn) {\r\n  const requestCallbacksByKey = {};\r\n  const closeData = { didClose: false, reason: \"\" };\r\n  let responseCallbacks = {};\r\n  let nextRequestID = 0;\r\n  let nextBuildKey = 0;\r\n  let stdout = new Uint8Array(16 * 1024);\r\n  let stdoutUsed = 0;\r\n  let readFromStdout = (chunk) => {\r\n    let limit = stdoutUsed + chunk.length;\r\n    if (limit > stdout.length) {\r\n      let swap = new Uint8Array(limit * 2);\r\n      swap.set(stdout);\r\n      stdout = swap;\r\n    }\r\n    stdout.set(chunk, stdoutUsed);\r\n    stdoutUsed += chunk.length;\r\n    let offset = 0;\r\n    while (offset + 4 <= stdoutUsed) {\r\n      let length = readUInt32LE(stdout, offset);\r\n      if (offset + 4 + length > stdoutUsed) {\r\n        break;\r\n      }\r\n      offset += 4;\r\n      handleIncomingPacket(stdout.subarray(offset, offset + length));\r\n      offset += length;\r\n    }\r\n    if (offset > 0) {\r\n      stdout.copyWithin(0, offset, stdoutUsed);\r\n      stdoutUsed -= offset;\r\n    }\r\n  };\r\n  let afterClose = (error) => {\r\n    closeData.didClose = true;\r\n    if (error) closeData.reason = \": \" + (error.message || error);\r\n    const text = \"The service was stopped\" + closeData.reason;\r\n    for (let id in responseCallbacks) {\r\n      responseCallbacks[id](text, null);\r\n    }\r\n    responseCallbacks = {};\r\n  };\r\n  let sendRequest = (refs, value, callback) => {\r\n    if (closeData.didClose) return callback(\"The service is no longer running\" + closeData.reason, null);\r\n    let id = nextRequestID++;\r\n    responseCallbacks[id] = (error, response) => {\r\n      try {\r\n        callback(error, response);\r\n      } finally {\r\n        if (refs) refs.unref();\r\n      }\r\n    };\r\n    if (refs) refs.ref();\r\n    streamIn.writeToStdin(encodePacket({ id, isRequest: true, value }));\r\n  };\r\n  let sendResponse = (id, value) => {\r\n    if (closeData.didClose) throw new Error(\"The service is no longer running\" + closeData.reason);\r\n    streamIn.writeToStdin(encodePacket({ id, isRequest: false, value }));\r\n  };\r\n  let handleRequest = async (id, request) => {\r\n    try {\r\n      if (request.command === \"ping\") {\r\n        sendResponse(id, {});\r\n        return;\r\n      }\r\n      if (typeof request.key === \"number\") {\r\n        const requestCallbacks = requestCallbacksByKey[request.key];\r\n        if (!requestCallbacks) {\r\n          return;\r\n        }\r\n        const callback = requestCallbacks[request.command];\r\n        if (callback) {\r\n          await callback(id, request);\r\n          return;\r\n        }\r\n      }\r\n      throw new Error(`Invalid command: ` + request.command);\r\n    } catch (e) {\r\n      const errors = [extractErrorMessageV8(e, streamIn, null, void 0, \"\")];\r\n      try {\r\n        sendResponse(id, { errors });\r\n      } catch {\r\n      }\r\n    }\r\n  };\r\n  let isFirstPacket = true;\r\n  let handleIncomingPacket = (bytes) => {\r\n    if (isFirstPacket) {\r\n      isFirstPacket = false;\r\n      let binaryVersion = String.fromCharCode(...bytes);\r\n      if (binaryVersion !== \"0.21.5\") {\r\n        throw new Error(`Cannot start service: Host version \"${\"0.21.5\"}\" does not match binary version ${quote(binaryVersion)}`);\r\n      }\r\n      return;\r\n    }\r\n    let packet = decodePacket(bytes);\r\n    if (packet.isRequest) {\r\n      handleRequest(packet.id, packet.value);\r\n    } else {\r\n      let callback = responseCallbacks[packet.id];\r\n      delete responseCallbacks[packet.id];\r\n      if (packet.value.error) callback(packet.value.error, {});\r\n      else callback(null, packet.value);\r\n    }\r\n  };\r\n  let buildOrContext = ({ callName, refs, options, isTTY: isTTY2, defaultWD: defaultWD2, callback }) => {\r\n    let refCount = 0;\r\n    const buildKey = nextBuildKey++;\r\n    const requestCallbacks = {};\r\n    const buildRefs = {\r\n      ref() {\r\n        if (++refCount === 1) {\r\n          if (refs) refs.ref();\r\n        }\r\n      },\r\n      unref() {\r\n        if (--refCount === 0) {\r\n          delete requestCallbacksByKey[buildKey];\r\n          if (refs) refs.unref();\r\n        }\r\n      }\r\n    };\r\n    requestCallbacksByKey[buildKey] = requestCallbacks;\r\n    buildRefs.ref();\r\n    buildOrContextImpl(\r\n      callName,\r\n      buildKey,\r\n      sendRequest,\r\n      sendResponse,\r\n      buildRefs,\r\n      streamIn,\r\n      requestCallbacks,\r\n      options,\r\n      isTTY2,\r\n      defaultWD2,\r\n      (err, res) => {\r\n        try {\r\n          callback(err, res);\r\n        } finally {\r\n          buildRefs.unref();\r\n        }\r\n      }\r\n    );\r\n  };\r\n  let transform2 = ({ callName, refs, input, options, isTTY: isTTY2, fs: fs3, callback }) => {\r\n    const details = createObjectStash();\r\n    let start = (inputPath) => {\r\n      try {\r\n        if (typeof input !== \"string\" && !(input instanceof Uint8Array))\r\n          throw new Error('The input to \"transform\" must be a string or a Uint8Array');\r\n        let {\r\n          flags,\r\n          mangleCache\r\n        } = flagsForTransformOptions(callName, options, isTTY2, transformLogLevelDefault);\r\n        let request = {\r\n          command: \"transform\",\r\n          flags,\r\n          inputFS: inputPath !== null,\r\n          input: inputPath !== null ? encodeUTF8(inputPath) : typeof input === \"string\" ? encodeUTF8(input) : input\r\n        };\r\n        if (mangleCache) request.mangleCache = mangleCache;\r\n        sendRequest(refs, request, (error, response) => {\r\n          if (error) return callback(new Error(error), null);\r\n          let errors = replaceDetailsInMessages(response.errors, details);\r\n          let warnings = replaceDetailsInMessages(response.warnings, details);\r\n          let outstanding = 1;\r\n          let next = () => {\r\n            if (--outstanding === 0) {\r\n              let result = {\r\n                warnings,\r\n                code: response.code,\r\n                map: response.map,\r\n                mangleCache: void 0,\r\n                legalComments: void 0\r\n              };\r\n              if (\"legalComments\" in response) result.legalComments = response == null ? void 0 : response.legalComments;\r\n              if (response.mangleCache) result.mangleCache = response == null ? void 0 : response.mangleCache;\r\n              callback(null, result);\r\n            }\r\n          };\r\n          if (errors.length > 0) return callback(failureErrorWithLog(\"Transform failed\", errors, warnings), null);\r\n          if (response.codeFS) {\r\n            outstanding++;\r\n            fs3.readFile(response.code, (err, contents) => {\r\n              if (err !== null) {\r\n                callback(err, null);\r\n              } else {\r\n                response.code = contents;\r\n                next();\r\n              }\r\n            });\r\n          }\r\n          if (response.mapFS) {\r\n            outstanding++;\r\n            fs3.readFile(response.map, (err, contents) => {\r\n              if (err !== null) {\r\n                callback(err, null);\r\n              } else {\r\n                response.map = contents;\r\n                next();\r\n              }\r\n            });\r\n          }\r\n          next();\r\n        });\r\n      } catch (e) {\r\n        let flags = [];\r\n        try {\r\n          pushLogFlags(flags, options, {}, isTTY2, transformLogLevelDefault);\r\n        } catch {\r\n        }\r\n        const error = extractErrorMessageV8(e, streamIn, details, void 0, \"\");\r\n        sendRequest(refs, { command: \"error\", flags, error }, () => {\r\n          error.detail = details.load(error.detail);\r\n          callback(failureErrorWithLog(\"Transform failed\", [error], []), null);\r\n        });\r\n      }\r\n    };\r\n    if ((typeof input === \"string\" || input instanceof Uint8Array) && input.length > 1024 * 1024) {\r\n      let next = start;\r\n      start = () => fs3.writeFile(input, next);\r\n    }\r\n    start(null);\r\n  };\r\n  let formatMessages2 = ({ callName, refs, messages, options, callback }) => {\r\n    if (!options) throw new Error(`Missing second argument in ${callName}() call`);\r\n    let keys = {};\r\n    let kind = getFlag(options, keys, \"kind\", mustBeString);\r\n    let color = getFlag(options, keys, \"color\", mustBeBoolean);\r\n    let terminalWidth = getFlag(options, keys, \"terminalWidth\", mustBeInteger);\r\n    checkForInvalidFlags(options, keys, `in ${callName}() call`);\r\n    if (kind === void 0) throw new Error(`Missing \"kind\" in ${callName}() call`);\r\n    if (kind !== \"error\" && kind !== \"warning\") throw new Error(`Expected \"kind\" to be \"error\" or \"warning\" in ${callName}() call`);\r\n    let request = {\r\n      command: \"format-msgs\",\r\n      messages: sanitizeMessages(messages, \"messages\", null, \"\", terminalWidth),\r\n      isWarning: kind === \"warning\"\r\n    };\r\n    if (color !== void 0) request.color = color;\r\n    if (terminalWidth !== void 0) request.terminalWidth = terminalWidth;\r\n    sendRequest(refs, request, (error, response) => {\r\n      if (error) return callback(new Error(error), null);\r\n      callback(null, response.messages);\r\n    });\r\n  };\r\n  let analyzeMetafile2 = ({ callName, refs, metafile, options, callback }) => {\r\n    if (options === void 0) options = {};\r\n    let keys = {};\r\n    let color = getFlag(options, keys, \"color\", mustBeBoolean);\r\n    let verbose = getFlag(options, keys, \"verbose\", mustBeBoolean);\r\n    checkForInvalidFlags(options, keys, `in ${callName}() call`);\r\n    let request = {\r\n      command: \"analyze-metafile\",\r\n      metafile\r\n    };\r\n    if (color !== void 0) request.color = color;\r\n    if (verbose !== void 0) request.verbose = verbose;\r\n    sendRequest(refs, request, (error, response) => {\r\n      if (error) return callback(new Error(error), null);\r\n      callback(null, response.result);\r\n    });\r\n  };\r\n  return {\r\n    readFromStdout,\r\n    afterClose,\r\n    service: {\r\n      buildOrContext,\r\n      transform: transform2,\r\n      formatMessages: formatMessages2,\r\n      analyzeMetafile: analyzeMetafile2\r\n    }\r\n  };\r\n}\r\nfunction buildOrContextImpl(callName, buildKey, sendRequest, sendResponse, refs, streamIn, requestCallbacks, options, isTTY2, defaultWD2, callback) {\r\n  const details = createObjectStash();\r\n  const isContext = callName === \"context\";\r\n  const handleError = (e, pluginName) => {\r\n    const flags = [];\r\n    try {\r\n      pushLogFlags(flags, options, {}, isTTY2, buildLogLevelDefault);\r\n    } catch {\r\n    }\r\n    const message = extractErrorMessageV8(e, streamIn, details, void 0, pluginName);\r\n    sendRequest(refs, { command: \"error\", flags, error: message }, () => {\r\n      message.detail = details.load(message.detail);\r\n      callback(failureErrorWithLog(isContext ? \"Context failed\" : \"Build failed\", [message], []), null);\r\n    });\r\n  };\r\n  let plugins;\r\n  if (typeof options === \"object\") {\r\n    const value = options.plugins;\r\n    if (value !== void 0) {\r\n      if (!Array.isArray(value)) return handleError(new Error(`\"plugins\" must be an array`), \"\");\r\n      plugins = value;\r\n    }\r\n  }\r\n  if (plugins && plugins.length > 0) {\r\n    if (streamIn.isSync) return handleError(new Error(\"Cannot use plugins in synchronous API calls\"), \"\");\r\n    handlePlugins(\r\n      buildKey,\r\n      sendRequest,\r\n      sendResponse,\r\n      refs,\r\n      streamIn,\r\n      requestCallbacks,\r\n      options,\r\n      plugins,\r\n      details\r\n    ).then(\r\n      (result) => {\r\n        if (!result.ok) return handleError(result.error, result.pluginName);\r\n        try {\r\n          buildOrContextContinue(result.requestPlugins, result.runOnEndCallbacks, result.scheduleOnDisposeCallbacks);\r\n        } catch (e) {\r\n          handleError(e, \"\");\r\n        }\r\n      },\r\n      (e) => handleError(e, \"\")\r\n    );\r\n    return;\r\n  }\r\n  try {\r\n    buildOrContextContinue(null, (result, done) => done([], []), () => {\r\n    });\r\n  } catch (e) {\r\n    handleError(e, \"\");\r\n  }\r\n  function buildOrContextContinue(requestPlugins, runOnEndCallbacks, scheduleOnDisposeCallbacks) {\r\n    const writeDefault = streamIn.hasFS;\r\n    const {\r\n      entries,\r\n      flags,\r\n      write,\r\n      stdinContents,\r\n      stdinResolveDir,\r\n      absWorkingDir,\r\n      nodePaths,\r\n      mangleCache\r\n    } = flagsForBuildOptions(callName, options, isTTY2, buildLogLevelDefault, writeDefault);\r\n    if (write && !streamIn.hasFS) throw new Error(`The \"write\" option is unavailable in this environment`);\r\n    const request = {\r\n      command: \"build\",\r\n      key: buildKey,\r\n      entries,\r\n      flags,\r\n      write,\r\n      stdinContents,\r\n      stdinResolveDir,\r\n      absWorkingDir: absWorkingDir || defaultWD2,\r\n      nodePaths,\r\n      context: isContext\r\n    };\r\n    if (requestPlugins) request.plugins = requestPlugins;\r\n    if (mangleCache) request.mangleCache = mangleCache;\r\n    const buildResponseToResult = (response, callback2) => {\r\n      const result = {\r\n        errors: replaceDetailsInMessages(response.errors, details),\r\n        warnings: replaceDetailsInMessages(response.warnings, details),\r\n        outputFiles: void 0,\r\n        metafile: void 0,\r\n        mangleCache: void 0\r\n      };\r\n      const originalErrors = result.errors.slice();\r\n      const originalWarnings = result.warnings.slice();\r\n      if (response.outputFiles) result.outputFiles = response.outputFiles.map(convertOutputFiles);\r\n      if (response.metafile) result.metafile = JSON.parse(response.metafile);\r\n      if (response.mangleCache) result.mangleCache = response.mangleCache;\r\n      if (response.writeToStdout !== void 0) console.log(decodeUTF8(response.writeToStdout).replace(/\\n$/, \"\"));\r\n      runOnEndCallbacks(result, (onEndErrors, onEndWarnings) => {\r\n        if (originalErrors.length > 0 || onEndErrors.length > 0) {\r\n          const error = failureErrorWithLog(\"Build failed\", originalErrors.concat(onEndErrors), originalWarnings.concat(onEndWarnings));\r\n          return callback2(error, null, onEndErrors, onEndWarnings);\r\n        }\r\n        callback2(null, result, onEndErrors, onEndWarnings);\r\n      });\r\n    };\r\n    let latestResultPromise;\r\n    let provideLatestResult;\r\n    if (isContext)\r\n      requestCallbacks[\"on-end\"] = (id, request2) => new Promise((resolve) => {\r\n        buildResponseToResult(request2, (err, result, onEndErrors, onEndWarnings) => {\r\n          const response = {\r\n            errors: onEndErrors,\r\n            warnings: onEndWarnings\r\n          };\r\n          if (provideLatestResult) provideLatestResult(err, result);\r\n          latestResultPromise = void 0;\r\n          provideLatestResult = void 0;\r\n          sendResponse(id, response);\r\n          resolve();\r\n        });\r\n      });\r\n    sendRequest(refs, request, (error, response) => {\r\n      if (error) return callback(new Error(error), null);\r\n      if (!isContext) {\r\n        return buildResponseToResult(response, (err, res) => {\r\n          scheduleOnDisposeCallbacks();\r\n          return callback(err, res);\r\n        });\r\n      }\r\n      if (response.errors.length > 0) {\r\n        return callback(failureErrorWithLog(\"Context failed\", response.errors, response.warnings), null);\r\n      }\r\n      let didDispose = false;\r\n      const result = {\r\n        rebuild: () => {\r\n          if (!latestResultPromise) latestResultPromise = new Promise((resolve, reject) => {\r\n            let settlePromise;\r\n            provideLatestResult = (err, result2) => {\r\n              if (!settlePromise) settlePromise = () => err ? reject(err) : resolve(result2);\r\n            };\r\n            const triggerAnotherBuild = () => {\r\n              const request2 = {\r\n                command: \"rebuild\",\r\n                key: buildKey\r\n              };\r\n              sendRequest(refs, request2, (error2, response2) => {\r\n                if (error2) {\r\n                  reject(new Error(error2));\r\n                } else if (settlePromise) {\r\n                  settlePromise();\r\n                } else {\r\n                  triggerAnotherBuild();\r\n                }\r\n              });\r\n            };\r\n            triggerAnotherBuild();\r\n          });\r\n          return latestResultPromise;\r\n        },\r\n        watch: (options2 = {}) => new Promise((resolve, reject) => {\r\n          if (!streamIn.hasFS) throw new Error(`Cannot use the \"watch\" API in this environment`);\r\n          const keys = {};\r\n          checkForInvalidFlags(options2, keys, `in watch() call`);\r\n          const request2 = {\r\n            command: \"watch\",\r\n            key: buildKey\r\n          };\r\n          sendRequest(refs, request2, (error2) => {\r\n            if (error2) reject(new Error(error2));\r\n            else resolve(void 0);\r\n          });\r\n        }),\r\n        serve: (options2 = {}) => new Promise((resolve, reject) => {\r\n          if (!streamIn.hasFS) throw new Error(`Cannot use the \"serve\" API in this environment`);\r\n          const keys = {};\r\n          const port = getFlag(options2, keys, \"port\", mustBeInteger);\r\n          const host = getFlag(options2, keys, \"host\", mustBeString);\r\n          const servedir = getFlag(options2, keys, \"servedir\", mustBeString);\r\n          const keyfile = getFlag(options2, keys, \"keyfile\", mustBeString);\r\n          const certfile = getFlag(options2, keys, \"certfile\", mustBeString);\r\n          const fallback = getFlag(options2, keys, \"fallback\", mustBeString);\r\n          const onRequest = getFlag(options2, keys, \"onRequest\", mustBeFunction);\r\n          checkForInvalidFlags(options2, keys, `in serve() call`);\r\n          const request2 = {\r\n            command: \"serve\",\r\n            key: buildKey,\r\n            onRequest: !!onRequest\r\n          };\r\n          if (port !== void 0) request2.port = port;\r\n          if (host !== void 0) request2.host = host;\r\n          if (servedir !== void 0) request2.servedir = servedir;\r\n          if (keyfile !== void 0) request2.keyfile = keyfile;\r\n          if (certfile !== void 0) request2.certfile = certfile;\r\n          if (fallback !== void 0) request2.fallback = fallback;\r\n          sendRequest(refs, request2, (error2, response2) => {\r\n            if (error2) return reject(new Error(error2));\r\n            if (onRequest) {\r\n              requestCallbacks[\"serve-request\"] = (id, request3) => {\r\n                onRequest(request3.args);\r\n                sendResponse(id, {});\r\n              };\r\n            }\r\n            resolve(response2);\r\n          });\r\n        }),\r\n        cancel: () => new Promise((resolve) => {\r\n          if (didDispose) return resolve();\r\n          const request2 = {\r\n            command: \"cancel\",\r\n            key: buildKey\r\n          };\r\n          sendRequest(refs, request2, () => {\r\n            resolve();\r\n          });\r\n        }),\r\n        dispose: () => new Promise((resolve) => {\r\n          if (didDispose) return resolve();\r\n          didDispose = true;\r\n          const request2 = {\r\n            command: \"dispose\",\r\n            key: buildKey\r\n          };\r\n          sendRequest(refs, request2, () => {\r\n            resolve();\r\n            scheduleOnDisposeCallbacks();\r\n            refs.unref();\r\n          });\r\n        })\r\n      };\r\n      refs.ref();\r\n      callback(null, result);\r\n    });\r\n  }\r\n}\r\nvar handlePlugins = async (buildKey, sendRequest, sendResponse, refs, streamIn, requestCallbacks, initialOptions, plugins, details) => {\r\n  let onStartCallbacks = [];\r\n  let onEndCallbacks = [];\r\n  let onResolveCallbacks = {};\r\n  let onLoadCallbacks = {};\r\n  let onDisposeCallbacks = [];\r\n  let nextCallbackID = 0;\r\n  let i = 0;\r\n  let requestPlugins = [];\r\n  let isSetupDone = false;\r\n  plugins = [...plugins];\r\n  for (let item of plugins) {\r\n    let keys = {};\r\n    if (typeof item !== \"object\") throw new Error(`Plugin at index ${i} must be an object`);\r\n    const name = getFlag(item, keys, \"name\", mustBeString);\r\n    if (typeof name !== \"string\" || name === \"\") throw new Error(`Plugin at index ${i} is missing a name`);\r\n    try {\r\n      let setup = getFlag(item, keys, \"setup\", mustBeFunction);\r\n      if (typeof setup !== \"function\") throw new Error(`Plugin is missing a setup function`);\r\n      checkForInvalidFlags(item, keys, `on plugin ${quote(name)}`);\r\n      let plugin = {\r\n        name,\r\n        onStart: false,\r\n        onEnd: false,\r\n        onResolve: [],\r\n        onLoad: []\r\n      };\r\n      i++;\r\n      let resolve = (path3, options = {}) => {\r\n        if (!isSetupDone) throw new Error('Cannot call \"resolve\" before plugin setup has completed');\r\n        if (typeof path3 !== \"string\") throw new Error(`The path to resolve must be a string`);\r\n        let keys2 = /* @__PURE__ */ Object.create(null);\r\n        let pluginName = getFlag(options, keys2, \"pluginName\", mustBeString);\r\n        let importer = getFlag(options, keys2, \"importer\", mustBeString);\r\n        let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\r\n        let resolveDir = getFlag(options, keys2, \"resolveDir\", mustBeString);\r\n        let kind = getFlag(options, keys2, \"kind\", mustBeString);\r\n        let pluginData = getFlag(options, keys2, \"pluginData\", canBeAnything);\r\n        let importAttributes = getFlag(options, keys2, \"with\", mustBeObject);\r\n        checkForInvalidFlags(options, keys2, \"in resolve() call\");\r\n        return new Promise((resolve2, reject) => {\r\n          const request = {\r\n            command: \"resolve\",\r\n            path: path3,\r\n            key: buildKey,\r\n            pluginName: name\r\n          };\r\n          if (pluginName != null) request.pluginName = pluginName;\r\n          if (importer != null) request.importer = importer;\r\n          if (namespace != null) request.namespace = namespace;\r\n          if (resolveDir != null) request.resolveDir = resolveDir;\r\n          if (kind != null) request.kind = kind;\r\n          else throw new Error(`Must specify \"kind\" when calling \"resolve\"`);\r\n          if (pluginData != null) request.pluginData = details.store(pluginData);\r\n          if (importAttributes != null) request.with = sanitizeStringMap(importAttributes, \"with\");\r\n          sendRequest(refs, request, (error, response) => {\r\n            if (error !== null) reject(new Error(error));\r\n            else resolve2({\r\n              errors: replaceDetailsInMessages(response.errors, details),\r\n              warnings: replaceDetailsInMessages(response.warnings, details),\r\n              path: response.path,\r\n              external: response.external,\r\n              sideEffects: response.sideEffects,\r\n              namespace: response.namespace,\r\n              suffix: response.suffix,\r\n              pluginData: details.load(response.pluginData)\r\n            });\r\n          });\r\n        });\r\n      };\r\n      let promise = setup({\r\n        initialOptions,\r\n        resolve,\r\n        onStart(callback) {\r\n          let registeredText = `This error came from the \"onStart\" callback registered here:`;\r\n          let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onStart\");\r\n          onStartCallbacks.push({ name, callback, note: registeredNote });\r\n          plugin.onStart = true;\r\n        },\r\n        onEnd(callback) {\r\n          let registeredText = `This error came from the \"onEnd\" callback registered here:`;\r\n          let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onEnd\");\r\n          onEndCallbacks.push({ name, callback, note: registeredNote });\r\n          plugin.onEnd = true;\r\n        },\r\n        onResolve(options, callback) {\r\n          let registeredText = `This error came from the \"onResolve\" callback registered here:`;\r\n          let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onResolve\");\r\n          let keys2 = {};\r\n          let filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\r\n          let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\r\n          checkForInvalidFlags(options, keys2, `in onResolve() call for plugin ${quote(name)}`);\r\n          if (filter == null) throw new Error(`onResolve() call is missing a filter`);\r\n          let id = nextCallbackID++;\r\n          onResolveCallbacks[id] = { name, callback, note: registeredNote };\r\n          plugin.onResolve.push({ id, filter: filter.source, namespace: namespace || \"\" });\r\n        },\r\n        onLoad(options, callback) {\r\n          let registeredText = `This error came from the \"onLoad\" callback registered here:`;\r\n          let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onLoad\");\r\n          let keys2 = {};\r\n          let filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\r\n          let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\r\n          checkForInvalidFlags(options, keys2, `in onLoad() call for plugin ${quote(name)}`);\r\n          if (filter == null) throw new Error(`onLoad() call is missing a filter`);\r\n          let id = nextCallbackID++;\r\n          onLoadCallbacks[id] = { name, callback, note: registeredNote };\r\n          plugin.onLoad.push({ id, filter: filter.source, namespace: namespace || \"\" });\r\n        },\r\n        onDispose(callback) {\r\n          onDisposeCallbacks.push(callback);\r\n        },\r\n        esbuild: streamIn.esbuild\r\n      });\r\n      if (promise) await promise;\r\n      requestPlugins.push(plugin);\r\n    } catch (e) {\r\n      return { ok: false, error: e, pluginName: name };\r\n    }\r\n  }\r\n  requestCallbacks[\"on-start\"] = async (id, request) => {\r\n    let response = { errors: [], warnings: [] };\r\n    await Promise.all(onStartCallbacks.map(async ({ name, callback, note }) => {\r\n      try {\r\n        let result = await callback();\r\n        if (result != null) {\r\n          if (typeof result !== \"object\") throw new Error(`Expected onStart() callback in plugin ${quote(name)} to return an object`);\r\n          let keys = {};\r\n          let errors = getFlag(result, keys, \"errors\", mustBeArray);\r\n          let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\r\n          checkForInvalidFlags(result, keys, `from onStart() callback in plugin ${quote(name)}`);\r\n          if (errors != null) response.errors.push(...sanitizeMessages(errors, \"errors\", details, name, void 0));\r\n          if (warnings != null) response.warnings.push(...sanitizeMessages(warnings, \"warnings\", details, name, void 0));\r\n        }\r\n      } catch (e) {\r\n        response.errors.push(extractErrorMessageV8(e, streamIn, details, note && note(), name));\r\n      }\r\n    }));\r\n    sendResponse(id, response);\r\n  };\r\n  requestCallbacks[\"on-resolve\"] = async (id, request) => {\r\n    let response = {}, name = \"\", callback, note;\r\n    for (let id2 of request.ids) {\r\n      try {\r\n        ({ name, callback, note } = onResolveCallbacks[id2]);\r\n        let result = await callback({\r\n          path: request.path,\r\n          importer: request.importer,\r\n          namespace: request.namespace,\r\n          resolveDir: request.resolveDir,\r\n          kind: request.kind,\r\n          pluginData: details.load(request.pluginData),\r\n          with: request.with\r\n        });\r\n        if (result != null) {\r\n          if (typeof result !== \"object\") throw new Error(`Expected onResolve() callback in plugin ${quote(name)} to return an object`);\r\n          let keys = {};\r\n          let pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\r\n          let path3 = getFlag(result, keys, \"path\", mustBeString);\r\n          let namespace = getFlag(result, keys, \"namespace\", mustBeString);\r\n          let suffix = getFlag(result, keys, \"suffix\", mustBeString);\r\n          let external = getFlag(result, keys, \"external\", mustBeBoolean);\r\n          let sideEffects = getFlag(result, keys, \"sideEffects\", mustBeBoolean);\r\n          let pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\r\n          let errors = getFlag(result, keys, \"errors\", mustBeArray);\r\n          let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\r\n          let watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\r\n          let watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\r\n          checkForInvalidFlags(result, keys, `from onResolve() callback in plugin ${quote(name)}`);\r\n          response.id = id2;\r\n          if (pluginName != null) response.pluginName = pluginName;\r\n          if (path3 != null) response.path = path3;\r\n          if (namespace != null) response.namespace = namespace;\r\n          if (suffix != null) response.suffix = suffix;\r\n          if (external != null) response.external = external;\r\n          if (sideEffects != null) response.sideEffects = sideEffects;\r\n          if (pluginData != null) response.pluginData = details.store(pluginData);\r\n          if (errors != null) response.errors = sanitizeMessages(errors, \"errors\", details, name, void 0);\r\n          if (warnings != null) response.warnings = sanitizeMessages(warnings, \"warnings\", details, name, void 0);\r\n          if (watchFiles != null) response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\r\n          if (watchDirs != null) response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\r\n          break;\r\n        }\r\n      } catch (e) {\r\n        response = { id: id2, errors: [extractErrorMessageV8(e, streamIn, details, note && note(), name)] };\r\n        break;\r\n      }\r\n    }\r\n    sendResponse(id, response);\r\n  };\r\n  requestCallbacks[\"on-load\"] = async (id, request) => {\r\n    let response = {}, name = \"\", callback, note;\r\n    for (let id2 of request.ids) {\r\n      try {\r\n        ({ name, callback, note } = onLoadCallbacks[id2]);\r\n        let result = await callback({\r\n          path: request.path,\r\n          namespace: request.namespace,\r\n          suffix: request.suffix,\r\n          pluginData: details.load(request.pluginData),\r\n          with: request.with\r\n        });\r\n        if (result != null) {\r\n          if (typeof result !== \"object\") throw new Error(`Expected onLoad() callback in plugin ${quote(name)} to return an object`);\r\n          let keys = {};\r\n          let pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\r\n          let contents = getFlag(result, keys, \"contents\", mustBeStringOrUint8Array);\r\n          let resolveDir = getFlag(result, keys, \"resolveDir\", mustBeString);\r\n          let pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\r\n          let loader = getFlag(result, keys, \"loader\", mustBeString);\r\n          let errors = getFlag(result, keys, \"errors\", mustBeArray);\r\n          let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\r\n          let watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\r\n          let watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\r\n          checkForInvalidFlags(result, keys, `from onLoad() callback in plugin ${quote(name)}`);\r\n          response.id = id2;\r\n          if (pluginName != null) response.pluginName = pluginName;\r\n          if (contents instanceof Uint8Array) response.contents = contents;\r\n          else if (contents != null) response.contents = encodeUTF8(contents);\r\n          if (resolveDir != null) response.resolveDir = resolveDir;\r\n          if (pluginData != null) response.pluginData = details.store(pluginData);\r\n          if (loader != null) response.loader = loader;\r\n          if (errors != null) response.errors = sanitizeMessages(errors, \"errors\", details, name, void 0);\r\n          if (warnings != null) response.warnings = sanitizeMessages(warnings, \"warnings\", details, name, void 0);\r\n          if (watchFiles != null) response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\r\n          if (watchDirs != null) response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\r\n          break;\r\n        }\r\n      } catch (e) {\r\n        response = { id: id2, errors: [extractErrorMessageV8(e, streamIn, details, note && note(), name)] };\r\n        break;\r\n      }\r\n    }\r\n    sendResponse(id, response);\r\n  };\r\n  let runOnEndCallbacks = (result, done) => done([], []);\r\n  if (onEndCallbacks.length > 0) {\r\n    runOnEndCallbacks = (result, done) => {\r\n      (async () => {\r\n        const onEndErrors = [];\r\n        const onEndWarnings = [];\r\n        for (const { name, callback, note } of onEndCallbacks) {\r\n          let newErrors;\r\n          let newWarnings;\r\n          try {\r\n            const value = await callback(result);\r\n            if (value != null) {\r\n              if (typeof value !== \"object\") throw new Error(`Expected onEnd() callback in plugin ${quote(name)} to return an object`);\r\n              let keys = {};\r\n              let errors = getFlag(value, keys, \"errors\", mustBeArray);\r\n              let warnings = getFlag(value, keys, \"warnings\", mustBeArray);\r\n              checkForInvalidFlags(value, keys, `from onEnd() callback in plugin ${quote(name)}`);\r\n              if (errors != null) newErrors = sanitizeMessages(errors, \"errors\", details, name, void 0);\r\n              if (warnings != null) newWarnings = sanitizeMessages(warnings, \"warnings\", details, name, void 0);\r\n            }\r\n          } catch (e) {\r\n            newErrors = [extractErrorMessageV8(e, streamIn, details, note && note(), name)];\r\n          }\r\n          if (newErrors) {\r\n            onEndErrors.push(...newErrors);\r\n            try {\r\n              result.errors.push(...newErrors);\r\n            } catch {\r\n            }\r\n          }\r\n          if (newWarnings) {\r\n            onEndWarnings.push(...newWarnings);\r\n            try {\r\n              result.warnings.push(...newWarnings);\r\n            } catch {\r\n            }\r\n          }\r\n        }\r\n        done(onEndErrors, onEndWarnings);\r\n      })();\r\n    };\r\n  }\r\n  let scheduleOnDisposeCallbacks = () => {\r\n    for (const cb of onDisposeCallbacks) {\r\n      setTimeout(() => cb(), 0);\r\n    }\r\n  };\r\n  isSetupDone = true;\r\n  return {\r\n    ok: true,\r\n    requestPlugins,\r\n    runOnEndCallbacks,\r\n    scheduleOnDisposeCallbacks\r\n  };\r\n};\r\nfunction createObjectStash() {\r\n  const map = /* @__PURE__ */ new Map();\r\n  let nextID = 0;\r\n  return {\r\n    load(id) {\r\n      return map.get(id);\r\n    },\r\n    store(value) {\r\n      if (value === void 0) return -1;\r\n      const id = nextID++;\r\n      map.set(id, value);\r\n      return id;\r\n    }\r\n  };\r\n}\r\nfunction extractCallerV8(e, streamIn, ident) {\r\n  let note;\r\n  let tried = false;\r\n  return () => {\r\n    if (tried) return note;\r\n    tried = true;\r\n    try {\r\n      let lines = (e.stack + \"\").split(\"\\n\");\r\n      lines.splice(1, 1);\r\n      let location = parseStackLinesV8(streamIn, lines, ident);\r\n      if (location) {\r\n        note = { text: e.message, location };\r\n        return note;\r\n      }\r\n    } catch {\r\n    }\r\n  };\r\n}\r\nfunction extractErrorMessageV8(e, streamIn, stash, note, pluginName) {\r\n  let text = \"Internal error\";\r\n  let location = null;\r\n  try {\r\n    text = (e && e.message || e) + \"\";\r\n  } catch {\r\n  }\r\n  try {\r\n    location = parseStackLinesV8(streamIn, (e.stack + \"\").split(\"\\n\"), \"\");\r\n  } catch {\r\n  }\r\n  return { id: \"\", pluginName, text, location, notes: note ? [note] : [], detail: stash ? stash.store(e) : -1 };\r\n}\r\nfunction parseStackLinesV8(streamIn, lines, ident) {\r\n  let at = \"    at \";\r\n  if (streamIn.readFileSync && !lines[0].startsWith(at) && lines[1].startsWith(at)) {\r\n    for (let i = 1; i < lines.length; i++) {\r\n      let line = lines[i];\r\n      if (!line.startsWith(at)) continue;\r\n      line = line.slice(at.length);\r\n      while (true) {\r\n        let match = /^(?:new |async )?\\S+ \\((.*)\\)$/.exec(line);\r\n        if (match) {\r\n          line = match[1];\r\n          continue;\r\n        }\r\n        match = /^eval at \\S+ \\((.*)\\)(?:, \\S+:\\d+:\\d+)?$/.exec(line);\r\n        if (match) {\r\n          line = match[1];\r\n          continue;\r\n        }\r\n        match = /^(\\S+):(\\d+):(\\d+)$/.exec(line);\r\n        if (match) {\r\n          let contents;\r\n          try {\r\n            contents = streamIn.readFileSync(match[1], \"utf8\");\r\n          } catch {\r\n            break;\r\n          }\r\n          let lineText = contents.split(/\\r\\n|\\r|\\n|\\u2028|\\u2029/)[+match[2] - 1] || \"\";\r\n          let column = +match[3] - 1;\r\n          let length = lineText.slice(column, column + ident.length) === ident ? ident.length : 0;\r\n          return {\r\n            file: match[1],\r\n            namespace: \"file\",\r\n            line: +match[2],\r\n            column: encodeUTF8(lineText.slice(0, column)).length,\r\n            length: encodeUTF8(lineText.slice(column, column + length)).length,\r\n            lineText: lineText + \"\\n\" + lines.slice(1).join(\"\\n\"),\r\n            suggestion: \"\"\r\n          };\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\nfunction failureErrorWithLog(text, errors, warnings) {\r\n  let limit = 5;\r\n  text += errors.length < 1 ? \"\" : ` with ${errors.length} error${errors.length < 2 ? \"\" : \"s\"}:` + errors.slice(0, limit + 1).map((e, i) => {\r\n    if (i === limit) return \"\\n...\";\r\n    if (!e.location) return `\r\nerror: ${e.text}`;\r\n    let { file, line, column } = e.location;\r\n    let pluginText = e.pluginName ? `[plugin: ${e.pluginName}] ` : \"\";\r\n    return `\r\n${file}:${line}:${column}: ERROR: ${pluginText}${e.text}`;\r\n  }).join(\"\");\r\n  let error = new Error(text);\r\n  for (const [key, value] of [[\"errors\", errors], [\"warnings\", warnings]]) {\r\n    Object.defineProperty(error, key, {\r\n      configurable: true,\r\n      enumerable: true,\r\n      get: () => value,\r\n      set: (value2) => Object.defineProperty(error, key, {\r\n        configurable: true,\r\n        enumerable: true,\r\n        value: value2\r\n      })\r\n    });\r\n  }\r\n  return error;\r\n}\r\nfunction replaceDetailsInMessages(messages, stash) {\r\n  for (const message of messages) {\r\n    message.detail = stash.load(message.detail);\r\n  }\r\n  return messages;\r\n}\r\nfunction sanitizeLocation(location, where, terminalWidth) {\r\n  if (location == null) return null;\r\n  let keys = {};\r\n  let file = getFlag(location, keys, \"file\", mustBeString);\r\n  let namespace = getFlag(location, keys, \"namespace\", mustBeString);\r\n  let line = getFlag(location, keys, \"line\", mustBeInteger);\r\n  let column = getFlag(location, keys, \"column\", mustBeInteger);\r\n  let length = getFlag(location, keys, \"length\", mustBeInteger);\r\n  let lineText = getFlag(location, keys, \"lineText\", mustBeString);\r\n  let suggestion = getFlag(location, keys, \"suggestion\", mustBeString);\r\n  checkForInvalidFlags(location, keys, where);\r\n  if (lineText) {\r\n    const relevantASCII = lineText.slice(\r\n      0,\r\n      (column && column > 0 ? column : 0) + (length && length > 0 ? length : 0) + (terminalWidth && terminalWidth > 0 ? terminalWidth : 80)\r\n    );\r\n    if (!/[\\x7F-\\uFFFF]/.test(relevantASCII) && !/\\n/.test(lineText)) {\r\n      lineText = relevantASCII;\r\n    }\r\n  }\r\n  return {\r\n    file: file || \"\",\r\n    namespace: namespace || \"\",\r\n    line: line || 0,\r\n    column: column || 0,\r\n    length: length || 0,\r\n    lineText: lineText || \"\",\r\n    suggestion: suggestion || \"\"\r\n  };\r\n}\r\nfunction sanitizeMessages(messages, property, stash, fallbackPluginName, terminalWidth) {\r\n  let messagesClone = [];\r\n  let index = 0;\r\n  for (const message of messages) {\r\n    let keys = {};\r\n    let id = getFlag(message, keys, \"id\", mustBeString);\r\n    let pluginName = getFlag(message, keys, \"pluginName\", mustBeString);\r\n    let text = getFlag(message, keys, \"text\", mustBeString);\r\n    let location = getFlag(message, keys, \"location\", mustBeObjectOrNull);\r\n    let notes = getFlag(message, keys, \"notes\", mustBeArray);\r\n    let detail = getFlag(message, keys, \"detail\", canBeAnything);\r\n    let where = `in element ${index} of \"${property}\"`;\r\n    checkForInvalidFlags(message, keys, where);\r\n    let notesClone = [];\r\n    if (notes) {\r\n      for (const note of notes) {\r\n        let noteKeys = {};\r\n        let noteText = getFlag(note, noteKeys, \"text\", mustBeString);\r\n        let noteLocation = getFlag(note, noteKeys, \"location\", mustBeObjectOrNull);\r\n        checkForInvalidFlags(note, noteKeys, where);\r\n        notesClone.push({\r\n          text: noteText || \"\",\r\n          location: sanitizeLocation(noteLocation, where, terminalWidth)\r\n        });\r\n      }\r\n    }\r\n    messagesClone.push({\r\n      id: id || \"\",\r\n      pluginName: pluginName || fallbackPluginName,\r\n      text: text || \"\",\r\n      location: sanitizeLocation(location, where, terminalWidth),\r\n      notes: notesClone,\r\n      detail: stash ? stash.store(detail) : -1\r\n    });\r\n    index++;\r\n  }\r\n  return messagesClone;\r\n}\r\nfunction sanitizeStringArray(values, property) {\r\n  const result = [];\r\n  for (const value of values) {\r\n    if (typeof value !== \"string\") throw new Error(`${quote(property)} must be an array of strings`);\r\n    result.push(value);\r\n  }\r\n  return result;\r\n}\r\nfunction sanitizeStringMap(map, property) {\r\n  const result = /* @__PURE__ */ Object.create(null);\r\n  for (const key in map) {\r\n    const value = map[key];\r\n    if (typeof value !== \"string\") throw new Error(`key ${quote(key)} in object ${quote(property)} must be a string`);\r\n    result[key] = value;\r\n  }\r\n  return result;\r\n}\r\nfunction convertOutputFiles({ path: path3, contents, hash }) {\r\n  let text = null;\r\n  return {\r\n    path: path3,\r\n    contents,\r\n    hash,\r\n    get text() {\r\n      const binary = this.contents;\r\n      if (text === null || binary !== contents) {\r\n        contents = binary;\r\n        text = decodeUTF8(binary);\r\n      }\r\n      return text;\r\n    }\r\n  };\r\n}\r\n\r\n// lib/npm/node-platform.ts\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar ESBUILD_BINARY_PATH = process.env.ESBUILD_BINARY_PATH || ESBUILD_BINARY_PATH;\r\nvar isValidBinaryPath = (x) => !!x && x !== \"/usr/bin/esbuild\";\r\nvar packageDarwin_arm64 = \"@esbuild/darwin-arm64\";\r\nvar packageDarwin_x64 = \"@esbuild/darwin-x64\";\r\nvar knownWindowsPackages = {\r\n  \"win32 arm64 LE\": \"@esbuild/win32-arm64\",\r\n  \"win32 ia32 LE\": \"@esbuild/win32-ia32\",\r\n  \"win32 x64 LE\": \"@esbuild/win32-x64\"\r\n};\r\nvar knownUnixlikePackages = {\r\n  \"aix ppc64 BE\": \"@esbuild/aix-ppc64\",\r\n  \"android arm64 LE\": \"@esbuild/android-arm64\",\r\n  \"darwin arm64 LE\": \"@esbuild/darwin-arm64\",\r\n  \"darwin x64 LE\": \"@esbuild/darwin-x64\",\r\n  \"freebsd arm64 LE\": \"@esbuild/freebsd-arm64\",\r\n  \"freebsd x64 LE\": \"@esbuild/freebsd-x64\",\r\n  \"linux arm LE\": \"@esbuild/linux-arm\",\r\n  \"linux arm64 LE\": \"@esbuild/linux-arm64\",\r\n  \"linux ia32 LE\": \"@esbuild/linux-ia32\",\r\n  \"linux mips64el LE\": \"@esbuild/linux-mips64el\",\r\n  \"linux ppc64 LE\": \"@esbuild/linux-ppc64\",\r\n  \"linux riscv64 LE\": \"@esbuild/linux-riscv64\",\r\n  \"linux s390x BE\": \"@esbuild/linux-s390x\",\r\n  \"linux x64 LE\": \"@esbuild/linux-x64\",\r\n  \"linux loong64 LE\": \"@esbuild/linux-loong64\",\r\n  \"netbsd x64 LE\": \"@esbuild/netbsd-x64\",\r\n  \"openbsd x64 LE\": \"@esbuild/openbsd-x64\",\r\n  \"sunos x64 LE\": \"@esbuild/sunos-x64\"\r\n};\r\nvar knownWebAssemblyFallbackPackages = {\r\n  \"android arm LE\": \"@esbuild/android-arm\",\r\n  \"android x64 LE\": \"@esbuild/android-x64\"\r\n};\r\nfunction pkgAndSubpathForCurrentPlatform() {\r\n  let pkg;\r\n  let subpath;\r\n  let isWASM = false;\r\n  let platformKey = `${process.platform} ${os.arch()} ${os.endianness()}`;\r\n  if (platformKey in knownWindowsPackages) {\r\n    pkg = knownWindowsPackages[platformKey];\r\n    subpath = \"esbuild.exe\";\r\n  } else if (platformKey in knownUnixlikePackages) {\r\n    pkg = knownUnixlikePackages[platformKey];\r\n    subpath = \"bin/esbuild\";\r\n  } else if (platformKey in knownWebAssemblyFallbackPackages) {\r\n    pkg = knownWebAssemblyFallbackPackages[platformKey];\r\n    subpath = \"bin/esbuild\";\r\n    isWASM = true;\r\n  } else {\r\n    throw new Error(`Unsupported platform: ${platformKey}`);\r\n  }\r\n  return { pkg, subpath, isWASM };\r\n}\r\nfunction pkgForSomeOtherPlatform() {\r\n  const libMainJS = require.resolve(\"esbuild\");\r\n  const nodeModulesDirectory = path.dirname(path.dirname(path.dirname(libMainJS)));\r\n  if (path.basename(nodeModulesDirectory) === \"node_modules\") {\r\n    for (const unixKey in knownUnixlikePackages) {\r\n      try {\r\n        const pkg = knownUnixlikePackages[unixKey];\r\n        if (fs.existsSync(path.join(nodeModulesDirectory, pkg))) return pkg;\r\n      } catch {\r\n      }\r\n    }\r\n    for (const windowsKey in knownWindowsPackages) {\r\n      try {\r\n        const pkg = knownWindowsPackages[windowsKey];\r\n        if (fs.existsSync(path.join(nodeModulesDirectory, pkg))) return pkg;\r\n      } catch {\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\nfunction downloadedBinPath(pkg, subpath) {\r\n  const esbuildLibDir = path.dirname(require.resolve(\"esbuild\"));\r\n  return path.join(esbuildLibDir, `downloaded-${pkg.replace(\"/\", \"-\")}-${path.basename(subpath)}`);\r\n}\r\nfunction generateBinPath() {\r\n  if (isValidBinaryPath(ESBUILD_BINARY_PATH)) {\r\n    if (!fs.existsSync(ESBUILD_BINARY_PATH)) {\r\n      console.warn(`[esbuild] Ignoring bad configuration: ESBUILD_BINARY_PATH=${ESBUILD_BINARY_PATH}`);\r\n    } else {\r\n      return { binPath: ESBUILD_BINARY_PATH, isWASM: false };\r\n    }\r\n  }\r\n  const { pkg, subpath, isWASM } = pkgAndSubpathForCurrentPlatform();\r\n  let binPath;\r\n  try {\r\n    binPath = require.resolve(`${pkg}/${subpath}`);\r\n  } catch (e) {\r\n    binPath = downloadedBinPath(pkg, subpath);\r\n    if (!fs.existsSync(binPath)) {\r\n      try {\r\n        require.resolve(pkg);\r\n      } catch {\r\n        const otherPkg = pkgForSomeOtherPlatform();\r\n        if (otherPkg) {\r\n          let suggestions = `\r\nSpecifically the \"${otherPkg}\" package is present but this platform\r\nneeds the \"${pkg}\" package instead. People often get into this\r\nsituation by installing esbuild on Windows or macOS and copying \"node_modules\"\r\ninto a Docker image that runs Linux, or by copying \"node_modules\" between\r\nWindows and WSL environments.\r\n\r\nIf you are installing with npm, you can try not copying the \"node_modules\"\r\ndirectory when you copy the files over, and running \"npm ci\" or \"npm install\"\r\non the destination platform after the copy. Or you could consider using yarn\r\ninstead of npm which has built-in support for installing a package on multiple\r\nplatforms simultaneously.\r\n\r\nIf you are installing with yarn, you can try listing both this platform and the\r\nother platform in your \".yarnrc.yml\" file using the \"supportedArchitectures\"\r\nfeature: https://yarnpkg.com/configuration/yarnrc/#supportedArchitectures\r\nKeep in mind that this means multiple copies of esbuild will be present.\r\n`;\r\n          if (pkg === packageDarwin_x64 && otherPkg === packageDarwin_arm64 || pkg === packageDarwin_arm64 && otherPkg === packageDarwin_x64) {\r\n            suggestions = `\r\nSpecifically the \"${otherPkg}\" package is present but this platform\r\nneeds the \"${pkg}\" package instead. People often get into this\r\nsituation by installing esbuild with npm running inside of Rosetta 2 and then\r\ntrying to use it with node running outside of Rosetta 2, or vice versa (Rosetta\r\n2 is Apple's on-the-fly x86_64-to-arm64 translation service).\r\n\r\nIf you are installing with npm, you can try ensuring that both npm and node are\r\nnot running under Rosetta 2 and then reinstalling esbuild. This likely involves\r\nchanging how you installed npm and/or node. For example, installing node with\r\nthe universal installer here should work: https://nodejs.org/en/download/. Or\r\nyou could consider using yarn instead of npm which has built-in support for\r\ninstalling a package on multiple platforms simultaneously.\r\n\r\nIf you are installing with yarn, you can try listing both \"arm64\" and \"x64\"\r\nin your \".yarnrc.yml\" file using the \"supportedArchitectures\" feature:\r\nhttps://yarnpkg.com/configuration/yarnrc/#supportedArchitectures\r\nKeep in mind that this means multiple copies of esbuild will be present.\r\n`;\r\n          }\r\n          throw new Error(`\r\nYou installed esbuild for another platform than the one you're currently using.\r\nThis won't work because esbuild is written with native code and needs to\r\ninstall a platform-specific binary executable.\r\n${suggestions}\r\nAnother alternative is to use the \"esbuild-wasm\" package instead, which works\r\nthe same way on all platforms. But it comes with a heavy performance cost and\r\ncan sometimes be 10x slower than the \"esbuild\" package, so you may also not\r\nwant to do that.\r\n`);\r\n        }\r\n        throw new Error(`The package \"${pkg}\" could not be found, and is needed by esbuild.\r\n\r\nIf you are installing esbuild with npm, make sure that you don't specify the\r\n\"--no-optional\" or \"--omit=optional\" flags. The \"optionalDependencies\" feature\r\nof \"package.json\" is used by esbuild to install the correct binary executable\r\nfor your current platform.`);\r\n      }\r\n      throw e;\r\n    }\r\n  }\r\n  if (/\\.zip\\//.test(binPath)) {\r\n    let pnpapi;\r\n    try {\r\n      pnpapi = require(\"pnpapi\");\r\n    } catch (e) {\r\n    }\r\n    if (pnpapi) {\r\n      const root = pnpapi.getPackageInformation(pnpapi.topLevel).packageLocation;\r\n      const binTargetPath = path.join(\r\n        root,\r\n        \"node_modules\",\r\n        \".cache\",\r\n        \"esbuild\",\r\n        `pnpapi-${pkg.replace(\"/\", \"-\")}-${\"0.21.5\"}-${path.basename(subpath)}`\r\n      );\r\n      if (!fs.existsSync(binTargetPath)) {\r\n        fs.mkdirSync(path.dirname(binTargetPath), { recursive: true });\r\n        fs.copyFileSync(binPath, binTargetPath);\r\n        fs.chmodSync(binTargetPath, 493);\r\n      }\r\n      return { binPath: binTargetPath, isWASM };\r\n    }\r\n  }\r\n  return { binPath, isWASM };\r\n}\r\n\r\n// lib/npm/node.ts\r\nvar child_process = require(\"child_process\");\r\nvar crypto = require(\"crypto\");\r\nvar path2 = require(\"path\");\r\nvar fs2 = require(\"fs\");\r\nvar os2 = require(\"os\");\r\nvar tty = require(\"tty\");\r\nvar worker_threads;\r\nif (process.env.ESBUILD_WORKER_THREADS !== \"0\") {\r\n  try {\r\n    worker_threads = require(\"worker_threads\");\r\n  } catch {\r\n  }\r\n  let [major, minor] = process.versions.node.split(\".\");\r\n  if (\r\n    // <v12.17.0 does not work\r\n    +major < 12 || +major === 12 && +minor < 17 || +major === 13 && +minor < 13\r\n  ) {\r\n    worker_threads = void 0;\r\n  }\r\n}\r\nvar _a;\r\nvar isInternalWorkerThread = ((_a = worker_threads == null ? void 0 : worker_threads.workerData) == null ? void 0 : _a.esbuildVersion) === \"0.21.5\";\r\nvar esbuildCommandAndArgs = () => {\r\n  if ((!ESBUILD_BINARY_PATH || false) && (path2.basename(__filename) !== \"main.js\" || path2.basename(__dirname) !== \"lib\")) {\r\n    throw new Error(\r\n      `The esbuild JavaScript API cannot be bundled. Please mark the \"esbuild\" package as external so it's not included in the bundle.\r\n\r\nMore information: The file containing the code for esbuild's JavaScript API (${__filename}) does not appear to be inside the esbuild package on the file system, which usually means that the esbuild package was bundled into another file. This is problematic because the API needs to run a binary executable inside the esbuild package which is located using a relative path from the API code to the executable. If the esbuild package is bundled, the relative path will be incorrect and the executable won't be found.`\r\n    );\r\n  }\r\n  if (false) {\r\n    return [\"node\", [path2.join(__dirname, \"..\", \"bin\", \"esbuild\")]];\r\n  } else {\r\n    const { binPath, isWASM } = generateBinPath();\r\n    if (isWASM) {\r\n      return [\"node\", [binPath]];\r\n    } else {\r\n      return [binPath, []];\r\n    }\r\n  }\r\n};\r\nvar isTTY = () => tty.isatty(2);\r\nvar fsSync = {\r\n  readFile(tempFile, callback) {\r\n    try {\r\n      let contents = fs2.readFileSync(tempFile, \"utf8\");\r\n      try {\r\n        fs2.unlinkSync(tempFile);\r\n      } catch {\r\n      }\r\n      callback(null, contents);\r\n    } catch (err) {\r\n      callback(err, null);\r\n    }\r\n  },\r\n  writeFile(contents, callback) {\r\n    try {\r\n      let tempFile = randomFileName();\r\n      fs2.writeFileSync(tempFile, contents);\r\n      callback(tempFile);\r\n    } catch {\r\n      callback(null);\r\n    }\r\n  }\r\n};\r\nvar fsAsync = {\r\n  readFile(tempFile, callback) {\r\n    try {\r\n      fs2.readFile(tempFile, \"utf8\", (err, contents) => {\r\n        try {\r\n          fs2.unlink(tempFile, () => callback(err, contents));\r\n        } catch {\r\n          callback(err, contents);\r\n        }\r\n      });\r\n    } catch (err) {\r\n      callback(err, null);\r\n    }\r\n  },\r\n  writeFile(contents, callback) {\r\n    try {\r\n      let tempFile = randomFileName();\r\n      fs2.writeFile(tempFile, contents, (err) => err !== null ? callback(null) : callback(tempFile));\r\n    } catch {\r\n      callback(null);\r\n    }\r\n  }\r\n};\r\nvar version = \"0.21.5\";\r\nvar build = (options) => ensureServiceIsRunning().build(options);\r\nvar context = (buildOptions) => ensureServiceIsRunning().context(buildOptions);\r\nvar transform = (input, options) => ensureServiceIsRunning().transform(input, options);\r\nvar formatMessages = (messages, options) => ensureServiceIsRunning().formatMessages(messages, options);\r\nvar analyzeMetafile = (messages, options) => ensureServiceIsRunning().analyzeMetafile(messages, options);\r\nvar buildSync = (options) => {\r\n  if (worker_threads && !isInternalWorkerThread) {\r\n    if (!workerThreadService) workerThreadService = startWorkerThreadService(worker_threads);\r\n    return workerThreadService.buildSync(options);\r\n  }\r\n  let result;\r\n  runServiceSync((service) => service.buildOrContext({\r\n    callName: \"buildSync\",\r\n    refs: null,\r\n    options,\r\n    isTTY: isTTY(),\r\n    defaultWD,\r\n    callback: (err, res) => {\r\n      if (err) throw err;\r\n      result = res;\r\n    }\r\n  }));\r\n  return result;\r\n};\r\nvar transformSync = (input, options) => {\r\n  if (worker_threads && !isInternalWorkerThread) {\r\n    if (!workerThreadService) workerThreadService = startWorkerThreadService(worker_threads);\r\n    return workerThreadService.transformSync(input, options);\r\n  }\r\n  let result;\r\n  runServiceSync((service) => service.transform({\r\n    callName: \"transformSync\",\r\n    refs: null,\r\n    input,\r\n    options: options || {},\r\n    isTTY: isTTY(),\r\n    fs: fsSync,\r\n    callback: (err, res) => {\r\n      if (err) throw err;\r\n      result = res;\r\n    }\r\n  }));\r\n  return result;\r\n};\r\nvar formatMessagesSync = (messages, options) => {\r\n  if (worker_threads && !isInternalWorkerThread) {\r\n    if (!workerThreadService) workerThreadService = startWorkerThreadService(worker_threads);\r\n    return workerThreadService.formatMessagesSync(messages, options);\r\n  }\r\n  let result;\r\n  runServiceSync((service) => service.formatMessages({\r\n    callName: \"formatMessagesSync\",\r\n    refs: null,\r\n    messages,\r\n    options,\r\n    callback: (err, res) => {\r\n      if (err) throw err;\r\n      result = res;\r\n    }\r\n  }));\r\n  return result;\r\n};\r\nvar analyzeMetafileSync = (metafile, options) => {\r\n  if (worker_threads && !isInternalWorkerThread) {\r\n    if (!workerThreadService) workerThreadService = startWorkerThreadService(worker_threads);\r\n    return workerThreadService.analyzeMetafileSync(metafile, options);\r\n  }\r\n  let result;\r\n  runServiceSync((service) => service.analyzeMetafile({\r\n    callName: \"analyzeMetafileSync\",\r\n    refs: null,\r\n    metafile: typeof metafile === \"string\" ? metafile : JSON.stringify(metafile),\r\n    options,\r\n    callback: (err, res) => {\r\n      if (err) throw err;\r\n      result = res;\r\n    }\r\n  }));\r\n  return result;\r\n};\r\nvar stop = () => {\r\n  if (stopService) stopService();\r\n  if (workerThreadService) workerThreadService.stop();\r\n  return Promise.resolve();\r\n};\r\nvar initializeWasCalled = false;\r\nvar initialize = (options) => {\r\n  options = validateInitializeOptions(options || {});\r\n  if (options.wasmURL) throw new Error(`The \"wasmURL\" option only works in the browser`);\r\n  if (options.wasmModule) throw new Error(`The \"wasmModule\" option only works in the browser`);\r\n  if (options.worker) throw new Error(`The \"worker\" option only works in the browser`);\r\n  if (initializeWasCalled) throw new Error('Cannot call \"initialize\" more than once');\r\n  ensureServiceIsRunning();\r\n  initializeWasCalled = true;\r\n  return Promise.resolve();\r\n};\r\nvar defaultWD = process.cwd();\r\nvar longLivedService;\r\nvar stopService;\r\nvar ensureServiceIsRunning = () => {\r\n  if (longLivedService) return longLivedService;\r\n  let [command, args] = esbuildCommandAndArgs();\r\n  let child = child_process.spawn(command, args.concat(`--service=${\"0.21.5\"}`, \"--ping\"), {\r\n    windowsHide: true,\r\n    stdio: [\"pipe\", \"pipe\", \"inherit\"],\r\n    cwd: defaultWD\r\n  });\r\n  let { readFromStdout, afterClose, service } = createChannel({\r\n    writeToStdin(bytes) {\r\n      child.stdin.write(bytes, (err) => {\r\n        if (err) afterClose(err);\r\n      });\r\n    },\r\n    readFileSync: fs2.readFileSync,\r\n    isSync: false,\r\n    hasFS: true,\r\n    esbuild: node_exports\r\n  });\r\n  child.stdin.on(\"error\", afterClose);\r\n  child.on(\"error\", afterClose);\r\n  const stdin = child.stdin;\r\n  const stdout = child.stdout;\r\n  stdout.on(\"data\", readFromStdout);\r\n  stdout.on(\"end\", afterClose);\r\n  stopService = () => {\r\n    stdin.destroy();\r\n    stdout.destroy();\r\n    child.kill();\r\n    initializeWasCalled = false;\r\n    longLivedService = void 0;\r\n    stopService = void 0;\r\n  };\r\n  let refCount = 0;\r\n  child.unref();\r\n  if (stdin.unref) {\r\n    stdin.unref();\r\n  }\r\n  if (stdout.unref) {\r\n    stdout.unref();\r\n  }\r\n  const refs = {\r\n    ref() {\r\n      if (++refCount === 1) child.ref();\r\n    },\r\n    unref() {\r\n      if (--refCount === 0) child.unref();\r\n    }\r\n  };\r\n  longLivedService = {\r\n    build: (options) => new Promise((resolve, reject) => {\r\n      service.buildOrContext({\r\n        callName: \"build\",\r\n        refs,\r\n        options,\r\n        isTTY: isTTY(),\r\n        defaultWD,\r\n        callback: (err, res) => err ? reject(err) : resolve(res)\r\n      });\r\n    }),\r\n    context: (options) => new Promise((resolve, reject) => service.buildOrContext({\r\n      callName: \"context\",\r\n      refs,\r\n      options,\r\n      isTTY: isTTY(),\r\n      defaultWD,\r\n      callback: (err, res) => err ? reject(err) : resolve(res)\r\n    })),\r\n    transform: (input, options) => new Promise((resolve, reject) => service.transform({\r\n      callName: \"transform\",\r\n      refs,\r\n      input,\r\n      options: options || {},\r\n      isTTY: isTTY(),\r\n      fs: fsAsync,\r\n      callback: (err, res) => err ? reject(err) : resolve(res)\r\n    })),\r\n    formatMessages: (messages, options) => new Promise((resolve, reject) => service.formatMessages({\r\n      callName: \"formatMessages\",\r\n      refs,\r\n      messages,\r\n      options,\r\n      callback: (err, res) => err ? reject(err) : resolve(res)\r\n    })),\r\n    analyzeMetafile: (metafile, options) => new Promise((resolve, reject) => service.analyzeMetafile({\r\n      callName: \"analyzeMetafile\",\r\n      refs,\r\n      metafile: typeof metafile === \"string\" ? metafile : JSON.stringify(metafile),\r\n      options,\r\n      callback: (err, res) => err ? reject(err) : resolve(res)\r\n    }))\r\n  };\r\n  return longLivedService;\r\n};\r\nvar runServiceSync = (callback) => {\r\n  let [command, args] = esbuildCommandAndArgs();\r\n  let stdin = new Uint8Array();\r\n  let { readFromStdout, afterClose, service } = createChannel({\r\n    writeToStdin(bytes) {\r\n      if (stdin.length !== 0) throw new Error(\"Must run at most one command\");\r\n      stdin = bytes;\r\n    },\r\n    isSync: true,\r\n    hasFS: true,\r\n    esbuild: node_exports\r\n  });\r\n  callback(service);\r\n  let stdout = child_process.execFileSync(command, args.concat(`--service=${\"0.21.5\"}`), {\r\n    cwd: defaultWD,\r\n    windowsHide: true,\r\n    input: stdin,\r\n    // We don't know how large the output could be. If it's too large, the\r\n    // command will fail with ENOBUFS. Reserve 16mb for now since that feels\r\n    // like it should be enough. Also allow overriding this with an environment\r\n    // variable.\r\n    maxBuffer: +process.env.ESBUILD_MAX_BUFFER || 16 * 1024 * 1024\r\n  });\r\n  readFromStdout(stdout);\r\n  afterClose(null);\r\n};\r\nvar randomFileName = () => {\r\n  return path2.join(os2.tmpdir(), `esbuild-${crypto.randomBytes(32).toString(\"hex\")}`);\r\n};\r\nvar workerThreadService = null;\r\nvar startWorkerThreadService = (worker_threads2) => {\r\n  let { port1: mainPort, port2: workerPort } = new worker_threads2.MessageChannel();\r\n  let worker = new worker_threads2.Worker(__filename, {\r\n    workerData: { workerPort, defaultWD, esbuildVersion: \"0.21.5\" },\r\n    transferList: [workerPort],\r\n    // From node's documentation: https://nodejs.org/api/worker_threads.html\r\n    //\r\n    //   Take care when launching worker threads from preload scripts (scripts loaded\r\n    //   and run using the `-r` command line flag). Unless the `execArgv` option is\r\n    //   explicitly set, new Worker threads automatically inherit the command line flags\r\n    //   from the running process and will preload the same preload scripts as the main\r\n    //   thread. If the preload script unconditionally launches a worker thread, every\r\n    //   thread spawned will spawn another until the application crashes.\r\n    //\r\n    execArgv: []\r\n  });\r\n  let nextID = 0;\r\n  let fakeBuildError = (text) => {\r\n    let error = new Error(`Build failed with 1 error:\r\nerror: ${text}`);\r\n    let errors = [{ id: \"\", pluginName: \"\", text, location: null, notes: [], detail: void 0 }];\r\n    error.errors = errors;\r\n    error.warnings = [];\r\n    return error;\r\n  };\r\n  let validateBuildSyncOptions = (options) => {\r\n    if (!options) return;\r\n    let plugins = options.plugins;\r\n    if (plugins && plugins.length > 0) throw fakeBuildError(`Cannot use plugins in synchronous API calls`);\r\n  };\r\n  let applyProperties = (object, properties) => {\r\n    for (let key in properties) {\r\n      object[key] = properties[key];\r\n    }\r\n  };\r\n  let runCallSync = (command, args) => {\r\n    let id = nextID++;\r\n    let sharedBuffer = new SharedArrayBuffer(8);\r\n    let sharedBufferView = new Int32Array(sharedBuffer);\r\n    let msg = { sharedBuffer, id, command, args };\r\n    worker.postMessage(msg);\r\n    let status = Atomics.wait(sharedBufferView, 0, 0);\r\n    if (status !== \"ok\" && status !== \"not-equal\") throw new Error(\"Internal error: Atomics.wait() failed: \" + status);\r\n    let { message: { id: id2, resolve, reject, properties } } = worker_threads2.receiveMessageOnPort(mainPort);\r\n    if (id !== id2) throw new Error(`Internal error: Expected id ${id} but got id ${id2}`);\r\n    if (reject) {\r\n      applyProperties(reject, properties);\r\n      throw reject;\r\n    }\r\n    return resolve;\r\n  };\r\n  worker.unref();\r\n  return {\r\n    buildSync(options) {\r\n      validateBuildSyncOptions(options);\r\n      return runCallSync(\"build\", [options]);\r\n    },\r\n    transformSync(input, options) {\r\n      return runCallSync(\"transform\", [input, options]);\r\n    },\r\n    formatMessagesSync(messages, options) {\r\n      return runCallSync(\"formatMessages\", [messages, options]);\r\n    },\r\n    analyzeMetafileSync(metafile, options) {\r\n      return runCallSync(\"analyzeMetafile\", [metafile, options]);\r\n    },\r\n    stop() {\r\n      worker.terminate();\r\n      workerThreadService = null;\r\n    }\r\n  };\r\n};\r\nvar startSyncServiceWorker = () => {\r\n  let workerPort = worker_threads.workerData.workerPort;\r\n  let parentPort = worker_threads.parentPort;\r\n  let extractProperties = (object) => {\r\n    let properties = {};\r\n    if (object && typeof object === \"object\") {\r\n      for (let key in object) {\r\n        properties[key] = object[key];\r\n      }\r\n    }\r\n    return properties;\r\n  };\r\n  try {\r\n    let service = ensureServiceIsRunning();\r\n    defaultWD = worker_threads.workerData.defaultWD;\r\n    parentPort.on(\"message\", (msg) => {\r\n      (async () => {\r\n        let { sharedBuffer, id, command, args } = msg;\r\n        let sharedBufferView = new Int32Array(sharedBuffer);\r\n        try {\r\n          switch (command) {\r\n            case \"build\":\r\n              workerPort.postMessage({ id, resolve: await service.build(args[0]) });\r\n              break;\r\n            case \"transform\":\r\n              workerPort.postMessage({ id, resolve: await service.transform(args[0], args[1]) });\r\n              break;\r\n            case \"formatMessages\":\r\n              workerPort.postMessage({ id, resolve: await service.formatMessages(args[0], args[1]) });\r\n              break;\r\n            case \"analyzeMetafile\":\r\n              workerPort.postMessage({ id, resolve: await service.analyzeMetafile(args[0], args[1]) });\r\n              break;\r\n            default:\r\n              throw new Error(`Invalid command: ${command}`);\r\n          }\r\n        } catch (reject) {\r\n          workerPort.postMessage({ id, reject, properties: extractProperties(reject) });\r\n        }\r\n        Atomics.add(sharedBufferView, 0, 1);\r\n        Atomics.notify(sharedBufferView, 0, Infinity);\r\n      })();\r\n    });\r\n  } catch (reject) {\r\n    parentPort.on(\"message\", (msg) => {\r\n      let { sharedBuffer, id } = msg;\r\n      let sharedBufferView = new Int32Array(sharedBuffer);\r\n      workerPort.postMessage({ id, reject, properties: extractProperties(reject) });\r\n      Atomics.add(sharedBufferView, 0, 1);\r\n      Atomics.notify(sharedBufferView, 0, Infinity);\r\n    });\r\n  }\r\n};\r\nif (isInternalWorkerThread) {\r\n  startSyncServiceWorker();\r\n}\r\nvar node_default = node_exports;\r\n// Annotate the CommonJS export names for ESM import in node:\r\n0 && (module.exports = {\r\n  analyzeMetafile,\r\n  analyzeMetafileSync,\r\n  build,\r\n  buildSync,\r\n  context,\r\n  formatMessages,\r\n  formatMessagesSync,\r\n  initialize,\r\n  stop,\r\n  transform,\r\n  transformSync,\r\n  version\r\n});\r\n", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:events\" has been externalized for browser compatibility. Cannot access \"node:events.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:stream\" has been externalized for browser compatibility. Cannot access \"node:stream.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:string_decoder\" has been externalized for browser compatibility. Cannot access \"node:string_decoder.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:child_process\" has been externalized for browser compatibility. Cannot access \"node:child_process.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"net\" has been externalized for browser compatibility. Cannot access \"net.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"http\" has been externalized for browser compatibility. Cannot access \"http.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:crypto\" has been externalized for browser compatibility. Cannot access \"node:crypto.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:dns\" has been externalized for browser compatibility. Cannot access \"node:dns.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"module\" has been externalized for browser compatibility. Cannot access \"module.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:assert\" has been externalized for browser compatibility. Cannot access \"node:assert.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:v8\" has been externalized for browser compatibility. Cannot access \"node:v8.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:worker_threads\" has been externalized for browser compatibility. Cannot access \"node:worker_threads.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:buffer\" has been externalized for browser compatibility. Cannot access \"node:buffer.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"querystring\" has been externalized for browser compatibility. Cannot access \"querystring.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:readline\" has been externalized for browser compatibility. Cannot access \"node:readline.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"zlib\" has been externalized for browser compatibility. Cannot access \"zlib.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"buffer\" has been externalized for browser compatibility. Cannot access \"buffer.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"https\" has been externalized for browser compatibility. Cannot access \"https.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"tls\" has been externalized for browser compatibility. Cannot access \"tls.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"assert\" has been externalized for browser compatibility. Cannot access \"assert.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"node:zlib\" has been externalized for browser compatibility. Cannot access \"node:zlib.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "/*\r\n  @license\r\n\tRollup.js v4.27.4\r\n\tSat, 23 Nov 2024 06:59:50 GMT - commit e805b546405a4e6cfccd3fe73e9f4df770023824\r\n\r\n\thttps://github.com/rollup/rollup\r\n\r\n\tReleased under the MIT License.\r\n*/\r\nimport '../native.js';\r\nexport { parseAst, parseAstAsync } from './shared/parseAst.js';\r\nimport 'node:path';\r\n", "import path, { resolve } from 'node:path';\r\nimport { fileURLToPath } from 'node:url';\r\nimport { readFileSync } from 'node:fs';\r\n\r\nconst { version } = JSON.parse(\r\n  readFileSync(new URL(\"../../package.json\", import.meta.url)).toString()\r\n);\r\nconst VERSION = version;\r\nconst DEFAULT_MAIN_FIELDS = [\r\n  \"browser\",\r\n  \"module\",\r\n  \"jsnext:main\",\r\n  // moment still uses this...\r\n  \"jsnext\"\r\n];\r\nconst ESBUILD_MODULES_TARGET = [\r\n  \"es2020\",\r\n  // support import.meta.url\r\n  \"edge88\",\r\n  \"firefox78\",\r\n  \"chrome87\",\r\n  \"safari14\"\r\n];\r\nconst DEFAULT_EXTENSIONS = [\r\n  \".mjs\",\r\n  \".js\",\r\n  \".mts\",\r\n  \".ts\",\r\n  \".jsx\",\r\n  \".tsx\",\r\n  \".json\"\r\n];\r\nconst DEFAULT_CONFIG_FILES = [\r\n  \"vite.config.js\",\r\n  \"vite.config.mjs\",\r\n  \"vite.config.ts\",\r\n  \"vite.config.cjs\",\r\n  \"vite.config.mts\",\r\n  \"vite.config.cts\"\r\n];\r\nconst JS_TYPES_RE = /\\.(?:j|t)sx?$|\\.mjs$/;\r\nconst CSS_LANGS_RE = /\\.(css|less|sass|scss|styl|stylus|pcss|postcss|sss)(?:$|\\?)/;\r\nconst OPTIMIZABLE_ENTRY_RE = /\\.[cm]?[jt]s$/;\r\nconst SPECIAL_QUERY_RE = /[?&](?:worker|sharedworker|raw|url)\\b/;\r\nconst FS_PREFIX = `/@fs/`;\r\nconst CLIENT_PUBLIC_PATH = `/@vite/client`;\r\nconst ENV_PUBLIC_PATH = `/@vite/env`;\r\nconst VITE_PACKAGE_DIR = resolve(\r\n  // import.meta.url is `dist/node/constants.js` after bundle\r\n  fileURLToPath(import.meta.url),\r\n  \"../../..\"\r\n);\r\nconst CLIENT_ENTRY = resolve(VITE_PACKAGE_DIR, \"dist/client/client.mjs\");\r\nconst ENV_ENTRY = resolve(VITE_PACKAGE_DIR, \"dist/client/env.mjs\");\r\nconst CLIENT_DIR = path.dirname(CLIENT_ENTRY);\r\nconst KNOWN_ASSET_TYPES = [\r\n  // images\r\n  \"apng\",\r\n  \"bmp\",\r\n  \"png\",\r\n  \"jpe?g\",\r\n  \"jfif\",\r\n  \"pjpeg\",\r\n  \"pjp\",\r\n  \"gif\",\r\n  \"svg\",\r\n  \"ico\",\r\n  \"webp\",\r\n  \"avif\",\r\n  // media\r\n  \"mp4\",\r\n  \"webm\",\r\n  \"ogg\",\r\n  \"mp3\",\r\n  \"wav\",\r\n  \"flac\",\r\n  \"aac\",\r\n  \"opus\",\r\n  \"mov\",\r\n  \"m4a\",\r\n  \"vtt\",\r\n  // fonts\r\n  \"woff2?\",\r\n  \"eot\",\r\n  \"ttf\",\r\n  \"otf\",\r\n  // other\r\n  \"webmanifest\",\r\n  \"pdf\",\r\n  \"txt\"\r\n];\r\nconst DEFAULT_ASSETS_RE = new RegExp(\r\n  `\\\\.(` + KNOWN_ASSET_TYPES.join(\"|\") + `)(\\\\?.*)?$`\r\n);\r\nconst DEP_VERSION_RE = /[?&](v=[\\w.-]+)\\b/;\r\nconst loopbackHosts = /* @__PURE__ */ new Set([\r\n  \"localhost\",\r\n  \"127.0.0.1\",\r\n  \"::1\",\r\n  \"0000:0000:0000:0000:0000:0000:0000:0001\"\r\n]);\r\nconst wildcardHosts = /* @__PURE__ */ new Set([\r\n  \"0.0.0.0\",\r\n  \"::\",\r\n  \"0000:0000:0000:0000:0000:0000:0000:0000\"\r\n]);\r\nconst DEFAULT_DEV_PORT = 5173;\r\nconst DEFAULT_PREVIEW_PORT = 4173;\r\nconst DEFAULT_ASSETS_INLINE_LIMIT = 4096;\r\nconst METADATA_FILENAME = \"_metadata.json\";\r\n\r\nexport { CLIENT_DIR, CLIENT_ENTRY, CLIENT_PUBLIC_PATH, CSS_LANGS_RE, DEFAULT_ASSETS_INLINE_LIMIT, DEFAULT_ASSETS_RE, DEFAULT_CONFIG_FILES, DEFAULT_DEV_PORT, DEFAULT_EXTENSIONS, DEFAULT_MAIN_FIELDS, DEFAULT_PREVIEW_PORT, DEP_VERSION_RE, ENV_ENTRY, ENV_PUBLIC_PATH, ESBUILD_MODULES_TARGET, FS_PREFIX, JS_TYPES_RE, KNOWN_ASSET_TYPES, METADATA_FILENAME, OPTIMIZABLE_ENTRY_RE, SPECIAL_QUERY_RE, VERSION, VITE_PACKAGE_DIR, loopbackHosts, wildcardHosts };\r\n", "import * as fs$j from 'node:fs';\r\nimport fs__default, { promises as promises$1 } from 'node:fs';\r\nimport fsp, { lstat as lstat$3, readdir as readdir$5, readlink, realpath as realpath$2 } from 'node:fs/promises';\r\nimport path$n, { win32 as win32$1, posix as posix$1, isAbsolute as isAbsolute$1, join as join$2, extname as extname$1, dirname as dirname$2, relative as relative$2, basename as basename$2 } from 'node:path';\r\nimport { fileURLToPath, URL as URL$3, parse as parse$h, pathToFileURL } from 'node:url';\r\nimport { promisify as promisify$4, format as format$2, inspect } from 'node:util';\r\nimport { performance as performance$1 } from 'node:perf_hooks';\r\nimport { createRequire as createRequire$1, builtinModules } from 'node:module';\r\nimport require$$0$3 from 'tty';\r\nimport require$$0$4, { win32, posix, isAbsolute, resolve as resolve$3, relative as relative$1, basename as basename$1, extname, dirname as dirname$1, join as join$1, sep as sep$1, normalize as normalize$1 } from 'path';\r\nimport esbuild, { transform as transform$1, formatMessages, build as build$3 } from 'esbuild';\r\nimport { CLIENT_ENTRY, OPTIMIZABLE_ENTRY_RE, wildcardHosts, loopbackHosts, FS_PREFIX, CLIENT_PUBLIC_PATH, ENV_PUBLIC_PATH, DEFAULT_ASSETS_INLINE_LIMIT, CSS_LANGS_RE, ESBUILD_MODULES_TARGET, SPECIAL_QUERY_RE, ENV_ENTRY, DEP_VERSION_RE, DEFAULT_MAIN_FIELDS, DEFAULT_EXTENSIONS, KNOWN_ASSET_TYPES, JS_TYPES_RE, METADATA_FILENAME, VITE_PACKAGE_DIR, DEFAULT_DEV_PORT, CLIENT_DIR, VERSION, DEFAULT_PREVIEW_PORT, DEFAULT_ASSETS_RE, DEFAULT_CONFIG_FILES } from '../constants.js';\r\nimport * as require$$0$2 from 'fs';\r\nimport require$$0__default, { lstatSync, readdir as readdir$4, readdirSync, readlinkSync, realpathSync as realpathSync$1, existsSync, readFileSync, statSync as statSync$1 } from 'fs';\r\nimport { EventEmitter as EventEmitter$4 } from 'node:events';\r\nimport Stream$1 from 'node:stream';\r\nimport { StringDecoder } from 'node:string_decoder';\r\nimport { exec, execSync } from 'node:child_process';\r\nimport { createServer as createServer$3, STATUS_CODES, get as get$2 } from 'node:http';\r\nimport { createServer as createServer$2, get as get$1 } from 'node:https';\r\nimport require$$0$5 from 'util';\r\nimport require$$4$1 from 'net';\r\nimport require$$0$7 from 'events';\r\nimport require$$0$9 from 'url';\r\nimport require$$1 from 'http';\r\nimport require$$0$6 from 'stream';\r\nimport require$$2 from 'os';\r\nimport require$$2$1 from 'child_process';\r\nimport os$5 from 'node:os';\r\nimport { createHash as createHash$2 } from 'node:crypto';\r\nimport { promises } from 'node:dns';\r\nimport require$$3$1 from 'crypto';\r\nimport require$$0$8, { createRequire as createRequire$2 } from 'module';\r\nimport assert$1 from 'node:assert';\r\nimport v8 from 'node:v8';\r\nimport { Worker as Worker$1 } from 'node:worker_threads';\r\nimport { Buffer as Buffer$1 } from 'node:buffer';\r\nimport { parseAstAsync, parseAst } from 'rollup/parseAst';\r\nimport * as qs from 'querystring';\r\nimport readline from 'node:readline';\r\nimport zlib$1 from 'zlib';\r\nimport require$$0$a from 'buffer';\r\nimport require$$1$1 from 'https';\r\nimport require$$4$2 from 'tls';\r\nimport require$$4$3 from 'assert';\r\nimport { gzip } from 'node:zlib';\r\n\r\nimport { fileURLToPath as __cjs_fileURLToPath } from 'node:url';\r\nimport { dirname as __cjs_dirname } from 'node:path';\r\nimport { createRequire as __cjs_createRequire } from 'node:module';\r\n\r\nconst __filename = __cjs_fileURLToPath(import.meta.url);\r\nconst __dirname = __cjs_dirname(__filename);\r\nconst require = __cjs_createRequire(import.meta.url);\r\nconst __require = require;\r\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\r\n\r\nfunction getDefaultExportFromCjs (x) {\r\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\r\n}\r\n\r\nfunction getAugmentedNamespace(n) {\r\n  if (n.__esModule) return n;\r\n  var f = n.default;\r\n\tif (typeof f == \"function\") {\r\n\t\tvar a = function a () {\r\n\t\t\tif (this instanceof a) {\r\n        return Reflect.construct(f, arguments, this.constructor);\r\n\t\t\t}\r\n\t\t\treturn f.apply(this, arguments);\r\n\t\t};\r\n\t\ta.prototype = f.prototype;\r\n  } else a = {};\r\n  Object.defineProperty(a, '__esModule', {value: true});\r\n\tObject.keys(n).forEach(function (k) {\r\n\t\tvar d = Object.getOwnPropertyDescriptor(n, k);\r\n\t\tObject.defineProperty(a, k, d.get ? d : {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function () {\r\n\t\t\t\treturn n[k];\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\treturn a;\r\n}\r\n\r\nfunction commonjsRequire(path) {\r\n\tthrow new Error('Could not dynamically require \"' + path + '\". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');\r\n}\r\n\r\nvar picocolors = {exports: {}};\r\n\r\nlet argv = process.argv || [],\r\n\tenv$1 = process.env;\r\nlet isColorSupported =\r\n\t!(\"NO_COLOR\" in env$1 || argv.includes(\"--no-color\")) &&\r\n\t(\"FORCE_COLOR\" in env$1 ||\r\n\t\targv.includes(\"--color\") ||\r\n\t\tprocess.platform === \"win32\" ||\r\n\t\t(commonjsRequire != null && require$$0$3.isatty(1) && env$1.TERM !== \"dumb\") ||\r\n\t\t\"CI\" in env$1);\r\n\r\nlet formatter =\r\n\t(open, close, replace = open) =>\r\n\tinput => {\r\n\t\tlet string = \"\" + input;\r\n\t\tlet index = string.indexOf(close, open.length);\r\n\t\treturn ~index\r\n\t\t\t? open + replaceClose(string, close, replace, index) + close\r\n\t\t\t: open + string + close\r\n\t};\r\n\r\nlet replaceClose = (string, close, replace, index) => {\r\n\tlet result = \"\";\r\n\tlet cursor = 0;\r\n\tdo {\r\n\t\tresult += string.substring(cursor, index) + replace;\r\n\t\tcursor = index + close.length;\r\n\t\tindex = string.indexOf(close, cursor);\r\n\t} while (~index)\r\n\treturn result + string.substring(cursor)\r\n};\r\n\r\nlet createColors = (enabled = isColorSupported) => {\r\n\tlet init = enabled ? formatter : () => String;\r\n\treturn {\r\n\t\tisColorSupported: enabled,\r\n\t\treset: init(\"\\x1b[0m\", \"\\x1b[0m\"),\r\n\t\tbold: init(\"\\x1b[1m\", \"\\x1b[22m\", \"\\x1b[22m\\x1b[1m\"),\r\n\t\tdim: init(\"\\x1b[2m\", \"\\x1b[22m\", \"\\x1b[22m\\x1b[2m\"),\r\n\t\titalic: init(\"\\x1b[3m\", \"\\x1b[23m\"),\r\n\t\tunderline: init(\"\\x1b[4m\", \"\\x1b[24m\"),\r\n\t\tinverse: init(\"\\x1b[7m\", \"\\x1b[27m\"),\r\n\t\thidden: init(\"\\x1b[8m\", \"\\x1b[28m\"),\r\n\t\tstrikethrough: init(\"\\x1b[9m\", \"\\x1b[29m\"),\r\n\t\tblack: init(\"\\x1b[30m\", \"\\x1b[39m\"),\r\n\t\tred: init(\"\\x1b[31m\", \"\\x1b[39m\"),\r\n\t\tgreen: init(\"\\x1b[32m\", \"\\x1b[39m\"),\r\n\t\tyellow: init(\"\\x1b[33m\", \"\\x1b[39m\"),\r\n\t\tblue: init(\"\\x1b[34m\", \"\\x1b[39m\"),\r\n\t\tmagenta: init(\"\\x1b[35m\", \"\\x1b[39m\"),\r\n\t\tcyan: init(\"\\x1b[36m\", \"\\x1b[39m\"),\r\n\t\twhite: init(\"\\x1b[37m\", \"\\x1b[39m\"),\r\n\t\tgray: init(\"\\x1b[90m\", \"\\x1b[39m\"),\r\n\t\tbgBlack: init(\"\\x1b[40m\", \"\\x1b[49m\"),\r\n\t\tbgRed: init(\"\\x1b[41m\", \"\\x1b[49m\"),\r\n\t\tbgGreen: init(\"\\x1b[42m\", \"\\x1b[49m\"),\r\n\t\tbgYellow: init(\"\\x1b[43m\", \"\\x1b[49m\"),\r\n\t\tbgBlue: init(\"\\x1b[44m\", \"\\x1b[49m\"),\r\n\t\tbgMagenta: init(\"\\x1b[45m\", \"\\x1b[49m\"),\r\n\t\tbgCyan: init(\"\\x1b[46m\", \"\\x1b[49m\"),\r\n\t\tbgWhite: init(\"\\x1b[47m\", \"\\x1b[49m\"),\r\n\t}\r\n};\r\n\r\npicocolors.exports = createColors();\r\npicocolors.exports.createColors = createColors;\r\n\r\nvar picocolorsExports = picocolors.exports;\r\nvar colors$1 = /*@__PURE__*/getDefaultExportFromCjs(picocolorsExports);\r\n\r\nfunction matches$1(pattern, importee) {\r\n    if (pattern instanceof RegExp) {\r\n        return pattern.test(importee);\r\n    }\r\n    if (importee.length < pattern.length) {\r\n        return false;\r\n    }\r\n    if (importee === pattern) {\r\n        return true;\r\n    }\r\n    // eslint-disable-next-line prefer-template\r\n    return importee.startsWith(pattern + '/');\r\n}\r\nfunction getEntries({ entries, customResolver }) {\r\n    if (!entries) {\r\n        return [];\r\n    }\r\n    const resolverFunctionFromOptions = resolveCustomResolver(customResolver);\r\n    if (Array.isArray(entries)) {\r\n        return entries.map((entry) => {\r\n            return {\r\n                find: entry.find,\r\n                replacement: entry.replacement,\r\n                resolverFunction: resolveCustomResolver(entry.customResolver) || resolverFunctionFromOptions\r\n            };\r\n        });\r\n    }\r\n    return Object.entries(entries).map(([key, value]) => {\r\n        return { find: key, replacement: value, resolverFunction: resolverFunctionFromOptions };\r\n    });\r\n}\r\nfunction getHookFunction(hook) {\r\n    if (typeof hook === 'function') {\r\n        return hook;\r\n    }\r\n    if (hook && 'handler' in hook && typeof hook.handler === 'function') {\r\n        return hook.handler;\r\n    }\r\n    return null;\r\n}\r\nfunction resolveCustomResolver(customResolver) {\r\n    if (typeof customResolver === 'function') {\r\n        return customResolver;\r\n    }\r\n    if (customResolver) {\r\n        return getHookFunction(customResolver.resolveId);\r\n    }\r\n    return null;\r\n}\r\nfunction alias$1(options = {}) {\r\n    const entries = getEntries(options);\r\n    if (entries.length === 0) {\r\n        return {\r\n            name: 'alias',\r\n            resolveId: () => null\r\n        };\r\n    }\r\n    return {\r\n        name: 'alias',\r\n        async buildStart(inputOptions) {\r\n            await Promise.all([...(Array.isArray(options.entries) ? options.entries : []), options].map(({ customResolver }) => { var _a; return customResolver && ((_a = getHookFunction(customResolver.buildStart)) === null || _a === void 0 ? void 0 : _a.call(this, inputOptions)); }));\r\n        },\r\n        resolveId(importee, importer, resolveOptions) {\r\n            // First match is supposed to be the correct one\r\n            const matchedEntry = entries.find((entry) => matches$1(entry.find, importee));\r\n            if (!matchedEntry) {\r\n                return null;\r\n            }\r\n            const updatedId = importee.replace(matchedEntry.find, matchedEntry.replacement);\r\n            if (matchedEntry.resolverFunction) {\r\n                return matchedEntry.resolverFunction.call(this, updatedId, importer, resolveOptions);\r\n            }\r\n            return this.resolve(updatedId, importer, Object.assign({ skipSelf: true }, resolveOptions)).then((resolved) => {\r\n                if (resolved)\r\n                    return resolved;\r\n                if (!require$$0$4.isAbsolute(updatedId)) {\r\n                    this.warn(`rewrote ${importee} to ${updatedId} but was not an abolute path and was not handled by other plugins. ` +\r\n                        `This will lead to duplicated modules for the same path. ` +\r\n                        `To avoid duplicating modules, you should resolve to an absolute path.`);\r\n                }\r\n                return { id: updatedId };\r\n            });\r\n        }\r\n    };\r\n}\r\n\r\nconst VALID_ID_PREFIX = `/@id/`;\r\nconst NULL_BYTE_PLACEHOLDER = `__x00__`;\r\nlet SOURCEMAPPING_URL = \"sourceMa\";\r\nSOURCEMAPPING_URL += \"ppingURL\";\r\nconst VITE_RUNTIME_SOURCEMAPPING_SOURCE = \"//# sourceMappingSource=vite-runtime\";\r\n\r\nconst isWindows$3 = typeof process !== \"undefined\" && process.platform === \"win32\";\r\nfunction wrapId$1(id) {\r\n  return id.startsWith(VALID_ID_PREFIX) ? id : VALID_ID_PREFIX + id.replace(\"\\0\", NULL_BYTE_PLACEHOLDER);\r\n}\r\nfunction unwrapId$1(id) {\r\n  return id.startsWith(VALID_ID_PREFIX) ? id.slice(VALID_ID_PREFIX.length).replace(NULL_BYTE_PLACEHOLDER, \"\\0\") : id;\r\n}\r\nconst windowsSlashRE = /\\\\/g;\r\nfunction slash$1(p) {\r\n  return p.replace(windowsSlashRE, \"/\");\r\n}\r\nconst postfixRE = /[?#].*$/;\r\nfunction cleanUrl(url) {\r\n  return url.replace(postfixRE, \"\");\r\n}\r\nfunction withTrailingSlash(path) {\r\n  if (path[path.length - 1] !== \"/\") {\r\n    return `${path}/`;\r\n  }\r\n  return path;\r\n}\r\nconst AsyncFunction = async function() {\r\n}.constructor;\r\nconst asyncFunctionDeclarationPaddingLineCount = /* @__PURE__ */ (() => {\r\n  const body = \"/*code*/\";\r\n  const source = new AsyncFunction(\"a\", \"b\", body).toString();\r\n  return source.slice(0, source.indexOf(body)).split(\"\\n\").length - 1;\r\n})();\r\n\r\n// @ts-check\r\n/** @typedef { import('estree').BaseNode} BaseNode */\r\n\r\n/** @typedef {{\r\n\tskip: () => void;\r\n\tremove: () => void;\r\n\treplace: (node: BaseNode) => void;\r\n}} WalkerContext */\r\n\r\nlet WalkerBase$1 = class WalkerBase {\r\n\tconstructor() {\r\n\t\t/** @type {boolean} */\r\n\t\tthis.should_skip = false;\r\n\r\n\t\t/** @type {boolean} */\r\n\t\tthis.should_remove = false;\r\n\r\n\t\t/** @type {BaseNode | null} */\r\n\t\tthis.replacement = null;\r\n\r\n\t\t/** @type {WalkerContext} */\r\n\t\tthis.context = {\r\n\t\t\tskip: () => (this.should_skip = true),\r\n\t\t\tremove: () => (this.should_remove = true),\r\n\t\t\treplace: (node) => (this.replacement = node)\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {any} parent\r\n\t * @param {string} prop\r\n\t * @param {number} index\r\n\t * @param {BaseNode} node\r\n\t */\r\n\treplace(parent, prop, index, node) {\r\n\t\tif (parent) {\r\n\t\t\tif (index !== null) {\r\n\t\t\t\tparent[prop][index] = node;\r\n\t\t\t} else {\r\n\t\t\t\tparent[prop] = node;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {any} parent\r\n\t * @param {string} prop\r\n\t * @param {number} index\r\n\t */\r\n\tremove(parent, prop, index) {\r\n\t\tif (parent) {\r\n\t\t\tif (index !== null) {\r\n\t\t\t\tparent[prop].splice(index, 1);\r\n\t\t\t} else {\r\n\t\t\t\tdelete parent[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// @ts-check\r\n\r\n/** @typedef { import('estree').BaseNode} BaseNode */\r\n/** @typedef { import('./walker.js').WalkerContext} WalkerContext */\r\n\r\n/** @typedef {(\r\n *    this: WalkerContext,\r\n *    node: BaseNode,\r\n *    parent: BaseNode,\r\n *    key: string,\r\n *    index: number\r\n * ) => void} SyncHandler */\r\n\r\nlet SyncWalker$1 = class SyncWalker extends WalkerBase$1 {\r\n\t/**\r\n\t *\r\n\t * @param {SyncHandler} enter\r\n\t * @param {SyncHandler} leave\r\n\t */\r\n\tconstructor(enter, leave) {\r\n\t\tsuper();\r\n\r\n\t\t/** @type {SyncHandler} */\r\n\t\tthis.enter = enter;\r\n\r\n\t\t/** @type {SyncHandler} */\r\n\t\tthis.leave = leave;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param {BaseNode} node\r\n\t * @param {BaseNode} parent\r\n\t * @param {string} [prop]\r\n\t * @param {number} [index]\r\n\t * @returns {BaseNode}\r\n\t */\r\n\tvisit(node, parent, prop, index) {\r\n\t\tif (node) {\r\n\t\t\tif (this.enter) {\r\n\t\t\t\tconst _should_skip = this.should_skip;\r\n\t\t\t\tconst _should_remove = this.should_remove;\r\n\t\t\t\tconst _replacement = this.replacement;\r\n\t\t\t\tthis.should_skip = false;\r\n\t\t\t\tthis.should_remove = false;\r\n\t\t\t\tthis.replacement = null;\r\n\r\n\t\t\t\tthis.enter.call(this.context, node, parent, prop, index);\r\n\r\n\t\t\t\tif (this.replacement) {\r\n\t\t\t\t\tnode = this.replacement;\r\n\t\t\t\t\tthis.replace(parent, prop, index, node);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.should_remove) {\r\n\t\t\t\t\tthis.remove(parent, prop, index);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst skipped = this.should_skip;\r\n\t\t\t\tconst removed = this.should_remove;\r\n\r\n\t\t\t\tthis.should_skip = _should_skip;\r\n\t\t\t\tthis.should_remove = _should_remove;\r\n\t\t\t\tthis.replacement = _replacement;\r\n\r\n\t\t\t\tif (skipped) return node;\r\n\t\t\t\tif (removed) return null;\r\n\t\t\t}\r\n\r\n\t\t\tfor (const key in node) {\r\n\t\t\t\tconst value = node[key];\r\n\r\n\t\t\t\tif (typeof value !== \"object\") {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else if (Array.isArray(value)) {\r\n\t\t\t\t\tfor (let i = 0; i < value.length; i += 1) {\r\n\t\t\t\t\t\tif (value[i] !== null && typeof value[i].type === 'string') {\r\n\t\t\t\t\t\t\tif (!this.visit(value[i], node, key, i)) {\r\n\t\t\t\t\t\t\t\t// removed\r\n\t\t\t\t\t\t\t\ti--;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (value !== null && typeof value.type === \"string\") {\r\n\t\t\t\t\tthis.visit(value, node, key, null);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.leave) {\r\n\t\t\t\tconst _replacement = this.replacement;\r\n\t\t\t\tconst _should_remove = this.should_remove;\r\n\t\t\t\tthis.replacement = null;\r\n\t\t\t\tthis.should_remove = false;\r\n\r\n\t\t\t\tthis.leave.call(this.context, node, parent, prop, index);\r\n\r\n\t\t\t\tif (this.replacement) {\r\n\t\t\t\t\tnode = this.replacement;\r\n\t\t\t\t\tthis.replace(parent, prop, index, node);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.should_remove) {\r\n\t\t\t\t\tthis.remove(parent, prop, index);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst removed = this.should_remove;\r\n\r\n\t\t\t\tthis.replacement = _replacement;\r\n\t\t\t\tthis.should_remove = _should_remove;\r\n\r\n\t\t\t\tif (removed) return null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn node;\r\n\t}\r\n};\r\n\r\n// @ts-check\r\n\r\n/** @typedef { import('estree').BaseNode} BaseNode */\r\n/** @typedef { import('./sync.js').SyncHandler} SyncHandler */\r\n/** @typedef { import('./async.js').AsyncHandler} AsyncHandler */\r\n\r\n/**\r\n *\r\n * @param {BaseNode} ast\r\n * @param {{\r\n *   enter?: SyncHandler\r\n *   leave?: SyncHandler\r\n * }} walker\r\n * @returns {BaseNode}\r\n */\r\nfunction walk$3(ast, { enter, leave }) {\r\n\tconst instance = new SyncWalker$1(enter, leave);\r\n\treturn instance.visit(ast, null);\r\n}\r\n\r\nvar utils$k = {};\r\n\r\nconst path$m = require$$0$4;\r\nconst WIN_SLASH = '\\\\\\\\/';\r\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\r\n\r\n/**\r\n * Posix glob regex\r\n */\r\n\r\nconst DOT_LITERAL = '\\\\.';\r\nconst PLUS_LITERAL = '\\\\+';\r\nconst QMARK_LITERAL = '\\\\?';\r\nconst SLASH_LITERAL = '\\\\/';\r\nconst ONE_CHAR = '(?=.)';\r\nconst QMARK = '[^/]';\r\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\r\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\r\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\r\nconst NO_DOT = `(?!${DOT_LITERAL})`;\r\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\r\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\r\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\r\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\r\nconst STAR$1 = `${QMARK}*?`;\r\n\r\nconst POSIX_CHARS = {\r\n  DOT_LITERAL,\r\n  PLUS_LITERAL,\r\n  QMARK_LITERAL,\r\n  SLASH_LITERAL,\r\n  ONE_CHAR,\r\n  QMARK,\r\n  END_ANCHOR,\r\n  DOTS_SLASH,\r\n  NO_DOT,\r\n  NO_DOTS,\r\n  NO_DOT_SLASH,\r\n  NO_DOTS_SLASH,\r\n  QMARK_NO_DOT,\r\n  STAR: STAR$1,\r\n  START_ANCHOR\r\n};\r\n\r\n/**\r\n * Windows glob regex\r\n */\r\n\r\nconst WINDOWS_CHARS = {\r\n  ...POSIX_CHARS,\r\n\r\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\r\n  QMARK: WIN_NO_SLASH,\r\n  STAR: `${WIN_NO_SLASH}*?`,\r\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\r\n  NO_DOT: `(?!${DOT_LITERAL})`,\r\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\r\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\r\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\r\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\r\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\r\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\r\n};\r\n\r\n/**\r\n * POSIX Bracket Regex\r\n */\r\n\r\nconst POSIX_REGEX_SOURCE$1 = {\r\n  alnum: 'a-zA-Z0-9',\r\n  alpha: 'a-zA-Z',\r\n  ascii: '\\\\x00-\\\\x7F',\r\n  blank: ' \\\\t',\r\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\r\n  digit: '0-9',\r\n  graph: '\\\\x21-\\\\x7E',\r\n  lower: 'a-z',\r\n  print: '\\\\x20-\\\\x7E ',\r\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\r\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\r\n  upper: 'A-Z',\r\n  word: 'A-Za-z0-9_',\r\n  xdigit: 'A-Fa-f0-9'\r\n};\r\n\r\nvar constants$6 = {\r\n  MAX_LENGTH: 1024 * 64,\r\n  POSIX_REGEX_SOURCE: POSIX_REGEX_SOURCE$1,\r\n\r\n  // regular expressions\r\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\r\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\r\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\r\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\r\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\r\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\r\n\r\n  // Replace globs with equivalent patterns to reduce parsing time.\r\n  REPLACEMENTS: {\r\n    '***': '*',\r\n    '**/**': '**',\r\n    '**/**/**': '**'\r\n  },\r\n\r\n  // Digits\r\n  CHAR_0: 48, /* 0 */\r\n  CHAR_9: 57, /* 9 */\r\n\r\n  // Alphabet chars.\r\n  CHAR_UPPERCASE_A: 65, /* A */\r\n  CHAR_LOWERCASE_A: 97, /* a */\r\n  CHAR_UPPERCASE_Z: 90, /* Z */\r\n  CHAR_LOWERCASE_Z: 122, /* z */\r\n\r\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\r\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\r\n\r\n  CHAR_ASTERISK: 42, /* * */\r\n\r\n  // Non-alphabetic chars.\r\n  CHAR_AMPERSAND: 38, /* & */\r\n  CHAR_AT: 64, /* @ */\r\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\r\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\r\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\r\n  CHAR_COLON: 58, /* : */\r\n  CHAR_COMMA: 44, /* , */\r\n  CHAR_DOT: 46, /* . */\r\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\r\n  CHAR_EQUAL: 61, /* = */\r\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\r\n  CHAR_FORM_FEED: 12, /* \\f */\r\n  CHAR_FORWARD_SLASH: 47, /* / */\r\n  CHAR_GRAVE_ACCENT: 96, /* ` */\r\n  CHAR_HASH: 35, /* # */\r\n  CHAR_HYPHEN_MINUS: 45, /* - */\r\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\r\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\r\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\r\n  CHAR_LINE_FEED: 10, /* \\n */\r\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\r\n  CHAR_PERCENT: 37, /* % */\r\n  CHAR_PLUS: 43, /* + */\r\n  CHAR_QUESTION_MARK: 63, /* ? */\r\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\r\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\r\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\r\n  CHAR_SEMICOLON: 59, /* ; */\r\n  CHAR_SINGLE_QUOTE: 39, /* ' */\r\n  CHAR_SPACE: 32, /*   */\r\n  CHAR_TAB: 9, /* \\t */\r\n  CHAR_UNDERSCORE: 95, /* _ */\r\n  CHAR_VERTICAL_LINE: 124, /* | */\r\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\r\n\r\n  SEP: path$m.sep,\r\n\r\n  /**\r\n   * Create EXTGLOB_CHARS\r\n   */\r\n\r\n  extglobChars(chars) {\r\n    return {\r\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\r\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\r\n      '+': { type: 'plus', open: '(?:', close: ')+' },\r\n      '*': { type: 'star', open: '(?:', close: ')*' },\r\n      '@': { type: 'at', open: '(?:', close: ')' }\r\n    };\r\n  },\r\n\r\n  /**\r\n   * Create GLOB_CHARS\r\n   */\r\n\r\n  globChars(win32) {\r\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\r\n  }\r\n};\r\n\r\n(function (exports) {\r\n\r\n\tconst path = require$$0$4;\r\n\tconst win32 = process.platform === 'win32';\r\n\tconst {\r\n\t  REGEX_BACKSLASH,\r\n\t  REGEX_REMOVE_BACKSLASH,\r\n\t  REGEX_SPECIAL_CHARS,\r\n\t  REGEX_SPECIAL_CHARS_GLOBAL\r\n\t} = constants$6;\r\n\r\n\texports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\r\n\texports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\r\n\texports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\r\n\texports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\r\n\texports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\r\n\r\n\texports.removeBackslashes = str => {\r\n\t  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\r\n\t    return match === '\\\\' ? '' : match;\r\n\t  });\r\n\t};\r\n\r\n\texports.supportsLookbehinds = () => {\r\n\t  const segs = process.version.slice(1).split('.').map(Number);\r\n\t  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\r\n\t    return true;\r\n\t  }\r\n\t  return false;\r\n\t};\r\n\r\n\texports.isWindows = options => {\r\n\t  if (options && typeof options.windows === 'boolean') {\r\n\t    return options.windows;\r\n\t  }\r\n\t  return win32 === true || path.sep === '\\\\';\r\n\t};\r\n\r\n\texports.escapeLast = (input, char, lastIdx) => {\r\n\t  const idx = input.lastIndexOf(char, lastIdx);\r\n\t  if (idx === -1) return input;\r\n\t  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\r\n\t  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\r\n\t};\r\n\r\n\texports.removePrefix = (input, state = {}) => {\r\n\t  let output = input;\r\n\t  if (output.startsWith('./')) {\r\n\t    output = output.slice(2);\r\n\t    state.prefix = './';\r\n\t  }\r\n\t  return output;\r\n\t};\r\n\r\n\texports.wrapOutput = (input, state = {}, options = {}) => {\r\n\t  const prepend = options.contains ? '' : '^';\r\n\t  const append = options.contains ? '' : '$';\r\n\r\n\t  let output = `${prepend}(?:${input})${append}`;\r\n\t  if (state.negated === true) {\r\n\t    output = `(?:^(?!${output}).*$)`;\r\n\t  }\r\n\t  return output;\r\n\t}; \r\n} (utils$k));\r\n\r\nconst utils$j = utils$k;\r\nconst {\r\n  CHAR_ASTERISK,             /* * */\r\n  CHAR_AT,                   /* @ */\r\n  CHAR_BACKWARD_SLASH,       /* \\ */\r\n  CHAR_COMMA: CHAR_COMMA$1,                /* , */\r\n  CHAR_DOT: CHAR_DOT$1,                  /* . */\r\n  CHAR_EXCLAMATION_MARK,     /* ! */\r\n  CHAR_FORWARD_SLASH,        /* / */\r\n  CHAR_LEFT_CURLY_BRACE: CHAR_LEFT_CURLY_BRACE$1,     /* { */\r\n  CHAR_LEFT_PARENTHESES: CHAR_LEFT_PARENTHESES$1,     /* ( */\r\n  CHAR_LEFT_SQUARE_BRACKET: CHAR_LEFT_SQUARE_BRACKET$1,  /* [ */\r\n  CHAR_PLUS,                 /* + */\r\n  CHAR_QUESTION_MARK,        /* ? */\r\n  CHAR_RIGHT_CURLY_BRACE: CHAR_RIGHT_CURLY_BRACE$1,    /* } */\r\n  CHAR_RIGHT_PARENTHESES: CHAR_RIGHT_PARENTHESES$1,    /* ) */\r\n  CHAR_RIGHT_SQUARE_BRACKET: CHAR_RIGHT_SQUARE_BRACKET$1  /* ] */\r\n} = constants$6;\r\n\r\nconst isPathSeparator = code => {\r\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\r\n};\r\n\r\nconst depth = token => {\r\n  if (token.isPrefix !== true) {\r\n    token.depth = token.isGlobstar ? Infinity : 1;\r\n  }\r\n};\r\n\r\n/**\r\n * Quickly scans a glob pattern and returns an object with a handful of\r\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\r\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\r\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\r\n *\r\n * ```js\r\n * const pm = require('picomatch');\r\n * console.log(pm.scan('foo/bar/*.js'));\r\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\r\n * ```\r\n * @param {String} `str`\r\n * @param {Object} `options`\r\n * @return {Object} Returns an object with tokens and regex source string.\r\n * @api public\r\n */\r\n\r\nconst scan$2 = (input, options) => {\r\n  const opts = options || {};\r\n\r\n  const length = input.length - 1;\r\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\r\n  const slashes = [];\r\n  const tokens = [];\r\n  const parts = [];\r\n\r\n  let str = input;\r\n  let index = -1;\r\n  let start = 0;\r\n  let lastIndex = 0;\r\n  let isBrace = false;\r\n  let isBracket = false;\r\n  let isGlob = false;\r\n  let isExtglob = false;\r\n  let isGlobstar = false;\r\n  let braceEscaped = false;\r\n  let backslashes = false;\r\n  let negated = false;\r\n  let negatedExtglob = false;\r\n  let finished = false;\r\n  let braces = 0;\r\n  let prev;\r\n  let code;\r\n  let token = { value: '', depth: 0, isGlob: false };\r\n\r\n  const eos = () => index >= length;\r\n  const peek = () => str.charCodeAt(index + 1);\r\n  const advance = () => {\r\n    prev = code;\r\n    return str.charCodeAt(++index);\r\n  };\r\n\r\n  while (index < length) {\r\n    code = advance();\r\n    let next;\r\n\r\n    if (code === CHAR_BACKWARD_SLASH) {\r\n      backslashes = token.backslashes = true;\r\n      code = advance();\r\n\r\n      if (code === CHAR_LEFT_CURLY_BRACE$1) {\r\n        braceEscaped = true;\r\n      }\r\n      continue;\r\n    }\r\n\r\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE$1) {\r\n      braces++;\r\n\r\n      while (eos() !== true && (code = advance())) {\r\n        if (code === CHAR_BACKWARD_SLASH) {\r\n          backslashes = token.backslashes = true;\r\n          advance();\r\n          continue;\r\n        }\r\n\r\n        if (code === CHAR_LEFT_CURLY_BRACE$1) {\r\n          braces++;\r\n          continue;\r\n        }\r\n\r\n        if (braceEscaped !== true && code === CHAR_DOT$1 && (code = advance()) === CHAR_DOT$1) {\r\n          isBrace = token.isBrace = true;\r\n          isGlob = token.isGlob = true;\r\n          finished = true;\r\n\r\n          if (scanToEnd === true) {\r\n            continue;\r\n          }\r\n\r\n          break;\r\n        }\r\n\r\n        if (braceEscaped !== true && code === CHAR_COMMA$1) {\r\n          isBrace = token.isBrace = true;\r\n          isGlob = token.isGlob = true;\r\n          finished = true;\r\n\r\n          if (scanToEnd === true) {\r\n            continue;\r\n          }\r\n\r\n          break;\r\n        }\r\n\r\n        if (code === CHAR_RIGHT_CURLY_BRACE$1) {\r\n          braces--;\r\n\r\n          if (braces === 0) {\r\n            braceEscaped = false;\r\n            isBrace = token.isBrace = true;\r\n            finished = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (scanToEnd === true) {\r\n        continue;\r\n      }\r\n\r\n      break;\r\n    }\r\n\r\n    if (code === CHAR_FORWARD_SLASH) {\r\n      slashes.push(index);\r\n      tokens.push(token);\r\n      token = { value: '', depth: 0, isGlob: false };\r\n\r\n      if (finished === true) continue;\r\n      if (prev === CHAR_DOT$1 && index === (start + 1)) {\r\n        start += 2;\r\n        continue;\r\n      }\r\n\r\n      lastIndex = index + 1;\r\n      continue;\r\n    }\r\n\r\n    if (opts.noext !== true) {\r\n      const isExtglobChar = code === CHAR_PLUS\r\n        || code === CHAR_AT\r\n        || code === CHAR_ASTERISK\r\n        || code === CHAR_QUESTION_MARK\r\n        || code === CHAR_EXCLAMATION_MARK;\r\n\r\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES$1) {\r\n        isGlob = token.isGlob = true;\r\n        isExtglob = token.isExtglob = true;\r\n        finished = true;\r\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\r\n          negatedExtglob = true;\r\n        }\r\n\r\n        if (scanToEnd === true) {\r\n          while (eos() !== true && (code = advance())) {\r\n            if (code === CHAR_BACKWARD_SLASH) {\r\n              backslashes = token.backslashes = true;\r\n              code = advance();\r\n              continue;\r\n            }\r\n\r\n            if (code === CHAR_RIGHT_PARENTHESES$1) {\r\n              isGlob = token.isGlob = true;\r\n              finished = true;\r\n              break;\r\n            }\r\n          }\r\n          continue;\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (code === CHAR_ASTERISK) {\r\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\r\n      isGlob = token.isGlob = true;\r\n      finished = true;\r\n\r\n      if (scanToEnd === true) {\r\n        continue;\r\n      }\r\n      break;\r\n    }\r\n\r\n    if (code === CHAR_QUESTION_MARK) {\r\n      isGlob = token.isGlob = true;\r\n      finished = true;\r\n\r\n      if (scanToEnd === true) {\r\n        continue;\r\n      }\r\n      break;\r\n    }\r\n\r\n    if (code === CHAR_LEFT_SQUARE_BRACKET$1) {\r\n      while (eos() !== true && (next = advance())) {\r\n        if (next === CHAR_BACKWARD_SLASH) {\r\n          backslashes = token.backslashes = true;\r\n          advance();\r\n          continue;\r\n        }\r\n\r\n        if (next === CHAR_RIGHT_SQUARE_BRACKET$1) {\r\n          isBracket = token.isBracket = true;\r\n          isGlob = token.isGlob = true;\r\n          finished = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (scanToEnd === true) {\r\n        continue;\r\n      }\r\n\r\n      break;\r\n    }\r\n\r\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\r\n      negated = token.negated = true;\r\n      start++;\r\n      continue;\r\n    }\r\n\r\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES$1) {\r\n      isGlob = token.isGlob = true;\r\n\r\n      if (scanToEnd === true) {\r\n        while (eos() !== true && (code = advance())) {\r\n          if (code === CHAR_LEFT_PARENTHESES$1) {\r\n            backslashes = token.backslashes = true;\r\n            code = advance();\r\n            continue;\r\n          }\r\n\r\n          if (code === CHAR_RIGHT_PARENTHESES$1) {\r\n            finished = true;\r\n            break;\r\n          }\r\n        }\r\n        continue;\r\n      }\r\n      break;\r\n    }\r\n\r\n    if (isGlob === true) {\r\n      finished = true;\r\n\r\n      if (scanToEnd === true) {\r\n        continue;\r\n      }\r\n\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (opts.noext === true) {\r\n    isExtglob = false;\r\n    isGlob = false;\r\n  }\r\n\r\n  let base = str;\r\n  let prefix = '';\r\n  let glob = '';\r\n\r\n  if (start > 0) {\r\n    prefix = str.slice(0, start);\r\n    str = str.slice(start);\r\n    lastIndex -= start;\r\n  }\r\n\r\n  if (base && isGlob === true && lastIndex > 0) {\r\n    base = str.slice(0, lastIndex);\r\n    glob = str.slice(lastIndex);\r\n  } else if (isGlob === true) {\r\n    base = '';\r\n    glob = str;\r\n  } else {\r\n    base = str;\r\n  }\r\n\r\n  if (base && base !== '' && base !== '/' && base !== str) {\r\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\r\n      base = base.slice(0, -1);\r\n    }\r\n  }\r\n\r\n  if (opts.unescape === true) {\r\n    if (glob) glob = utils$j.removeBackslashes(glob);\r\n\r\n    if (base && backslashes === true) {\r\n      base = utils$j.removeBackslashes(base);\r\n    }\r\n  }\r\n\r\n  const state = {\r\n    prefix,\r\n    input,\r\n    start,\r\n    base,\r\n    glob,\r\n    isBrace,\r\n    isBracket,\r\n    isGlob,\r\n    isExtglob,\r\n    isGlobstar,\r\n    negated,\r\n    negatedExtglob\r\n  };\r\n\r\n  if (opts.tokens === true) {\r\n    state.maxDepth = 0;\r\n    if (!isPathSeparator(code)) {\r\n      tokens.push(token);\r\n    }\r\n    state.tokens = tokens;\r\n  }\r\n\r\n  if (opts.parts === true || opts.tokens === true) {\r\n    let prevIndex;\r\n\r\n    for (let idx = 0; idx < slashes.length; idx++) {\r\n      const n = prevIndex ? prevIndex + 1 : start;\r\n      const i = slashes[idx];\r\n      const value = input.slice(n, i);\r\n      if (opts.tokens) {\r\n        if (idx === 0 && start !== 0) {\r\n          tokens[idx].isPrefix = true;\r\n          tokens[idx].value = prefix;\r\n        } else {\r\n          tokens[idx].value = value;\r\n        }\r\n        depth(tokens[idx]);\r\n        state.maxDepth += tokens[idx].depth;\r\n      }\r\n      if (idx !== 0 || value !== '') {\r\n        parts.push(value);\r\n      }\r\n      prevIndex = i;\r\n    }\r\n\r\n    if (prevIndex && prevIndex + 1 < input.length) {\r\n      const value = input.slice(prevIndex + 1);\r\n      parts.push(value);\r\n\r\n      if (opts.tokens) {\r\n        tokens[tokens.length - 1].value = value;\r\n        depth(tokens[tokens.length - 1]);\r\n        state.maxDepth += tokens[tokens.length - 1].depth;\r\n      }\r\n    }\r\n\r\n    state.slashes = slashes;\r\n    state.parts = parts;\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nvar scan_1 = scan$2;\r\n\r\nconst constants$5 = constants$6;\r\nconst utils$i = utils$k;\r\n\r\n/**\r\n * Constants\r\n */\r\n\r\nconst {\r\n  MAX_LENGTH: MAX_LENGTH$1,\r\n  POSIX_REGEX_SOURCE,\r\n  REGEX_NON_SPECIAL_CHARS,\r\n  REGEX_SPECIAL_CHARS_BACKREF,\r\n  REPLACEMENTS\r\n} = constants$5;\r\n\r\n/**\r\n * Helpers\r\n */\r\n\r\nconst expandRange = (args, options) => {\r\n  if (typeof options.expandRange === 'function') {\r\n    return options.expandRange(...args, options);\r\n  }\r\n\r\n  args.sort();\r\n  const value = `[${args.join('-')}]`;\r\n\r\n  return value;\r\n};\r\n\r\n/**\r\n * Create the message for a syntax error\r\n */\r\n\r\nconst syntaxError = (type, char) => {\r\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\r\n};\r\n\r\n/**\r\n * Parse the given input string.\r\n * @param {String} input\r\n * @param {Object} options\r\n * @return {Object}\r\n */\r\n\r\nconst parse$g = (input, options) => {\r\n  if (typeof input !== 'string') {\r\n    throw new TypeError('Expected a string');\r\n  }\r\n\r\n  input = REPLACEMENTS[input] || input;\r\n\r\n  const opts = { ...options };\r\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH$1, opts.maxLength) : MAX_LENGTH$1;\r\n\r\n  let len = input.length;\r\n  if (len > max) {\r\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\r\n  }\r\n\r\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\r\n  const tokens = [bos];\r\n\r\n  const capture = opts.capture ? '' : '?:';\r\n  const win32 = utils$i.isWindows(options);\r\n\r\n  // create constants based on platform, for windows or posix\r\n  const PLATFORM_CHARS = constants$5.globChars(win32);\r\n  const EXTGLOB_CHARS = constants$5.extglobChars(PLATFORM_CHARS);\r\n\r\n  const {\r\n    DOT_LITERAL,\r\n    PLUS_LITERAL,\r\n    SLASH_LITERAL,\r\n    ONE_CHAR,\r\n    DOTS_SLASH,\r\n    NO_DOT,\r\n    NO_DOT_SLASH,\r\n    NO_DOTS_SLASH,\r\n    QMARK,\r\n    QMARK_NO_DOT,\r\n    STAR,\r\n    START_ANCHOR\r\n  } = PLATFORM_CHARS;\r\n\r\n  const globstar = opts => {\r\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\r\n  };\r\n\r\n  const nodot = opts.dot ? '' : NO_DOT;\r\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\r\n  let star = opts.bash === true ? globstar(opts) : STAR;\r\n\r\n  if (opts.capture) {\r\n    star = `(${star})`;\r\n  }\r\n\r\n  // minimatch options support\r\n  if (typeof opts.noext === 'boolean') {\r\n    opts.noextglob = opts.noext;\r\n  }\r\n\r\n  const state = {\r\n    input,\r\n    index: -1,\r\n    start: 0,\r\n    dot: opts.dot === true,\r\n    consumed: '',\r\n    output: '',\r\n    prefix: '',\r\n    backtrack: false,\r\n    negated: false,\r\n    brackets: 0,\r\n    braces: 0,\r\n    parens: 0,\r\n    quotes: 0,\r\n    globstar: false,\r\n    tokens\r\n  };\r\n\r\n  input = utils$i.removePrefix(input, state);\r\n  len = input.length;\r\n\r\n  const extglobs = [];\r\n  const braces = [];\r\n  const stack = [];\r\n  let prev = bos;\r\n  let value;\r\n\r\n  /**\r\n   * Tokenizing helpers\r\n   */\r\n\r\n  const eos = () => state.index === len - 1;\r\n  const peek = state.peek = (n = 1) => input[state.index + n];\r\n  const advance = state.advance = () => input[++state.index] || '';\r\n  const remaining = () => input.slice(state.index + 1);\r\n  const consume = (value = '', num = 0) => {\r\n    state.consumed += value;\r\n    state.index += num;\r\n  };\r\n\r\n  const append = token => {\r\n    state.output += token.output != null ? token.output : token.value;\r\n    consume(token.value);\r\n  };\r\n\r\n  const negate = () => {\r\n    let count = 1;\r\n\r\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\r\n      advance();\r\n      state.start++;\r\n      count++;\r\n    }\r\n\r\n    if (count % 2 === 0) {\r\n      return false;\r\n    }\r\n\r\n    state.negated = true;\r\n    state.start++;\r\n    return true;\r\n  };\r\n\r\n  const increment = type => {\r\n    state[type]++;\r\n    stack.push(type);\r\n  };\r\n\r\n  const decrement = type => {\r\n    state[type]--;\r\n    stack.pop();\r\n  };\r\n\r\n  /**\r\n   * Push tokens onto the tokens array. This helper speeds up\r\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\r\n   * and 2) helping us avoid creating extra tokens when consecutive\r\n   * characters are plain text. This improves performance and simplifies\r\n   * lookbehinds.\r\n   */\r\n\r\n  const push = tok => {\r\n    if (prev.type === 'globstar') {\r\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\r\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\r\n\r\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\r\n        state.output = state.output.slice(0, -prev.output.length);\r\n        prev.type = 'star';\r\n        prev.value = '*';\r\n        prev.output = star;\r\n        state.output += prev.output;\r\n      }\r\n    }\r\n\r\n    if (extglobs.length && tok.type !== 'paren') {\r\n      extglobs[extglobs.length - 1].inner += tok.value;\r\n    }\r\n\r\n    if (tok.value || tok.output) append(tok);\r\n    if (prev && prev.type === 'text' && tok.type === 'text') {\r\n      prev.value += tok.value;\r\n      prev.output = (prev.output || '') + tok.value;\r\n      return;\r\n    }\r\n\r\n    tok.prev = prev;\r\n    tokens.push(tok);\r\n    prev = tok;\r\n  };\r\n\r\n  const extglobOpen = (type, value) => {\r\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\r\n\r\n    token.prev = prev;\r\n    token.parens = state.parens;\r\n    token.output = state.output;\r\n    const output = (opts.capture ? '(' : '') + token.open;\r\n\r\n    increment('parens');\r\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\r\n    push({ type: 'paren', extglob: true, value: advance(), output });\r\n    extglobs.push(token);\r\n  };\r\n\r\n  const extglobClose = token => {\r\n    let output = token.close + (opts.capture ? ')' : '');\r\n    let rest;\r\n\r\n    if (token.type === 'negate') {\r\n      let extglobStar = star;\r\n\r\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\r\n        extglobStar = globstar(opts);\r\n      }\r\n\r\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\r\n        output = token.close = `)$))${extglobStar}`;\r\n      }\r\n\r\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\r\n        // Any non-magical string (`.ts`) or even nested expression (`.{ts,tsx}`) can follow after the closing parenthesis.\r\n        // In this case, we need to parse the string and use it in the output of the original pattern.\r\n        // Suitable patterns: `/!(*.d).ts`, `/!(*.d).{ts,tsx}`, `**/!(*-dbg).@(js)`.\r\n        //\r\n        // Disabling the `fastpaths` option due to a problem with parsing strings as `.ts` in the pattern like `**/!(*.d).ts`.\r\n        const expression = parse$g(rest, { ...options, fastpaths: false }).output;\r\n\r\n        output = token.close = `)${expression})${extglobStar})`;\r\n      }\r\n\r\n      if (token.prev.type === 'bos') {\r\n        state.negatedExtglob = true;\r\n      }\r\n    }\r\n\r\n    push({ type: 'paren', extglob: true, value, output });\r\n    decrement('parens');\r\n  };\r\n\r\n  /**\r\n   * Fast paths\r\n   */\r\n\r\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\r\n    let backslashes = false;\r\n\r\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\r\n      if (first === '\\\\') {\r\n        backslashes = true;\r\n        return m;\r\n      }\r\n\r\n      if (first === '?') {\r\n        if (esc) {\r\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\r\n        }\r\n        if (index === 0) {\r\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\r\n        }\r\n        return QMARK.repeat(chars.length);\r\n      }\r\n\r\n      if (first === '.') {\r\n        return DOT_LITERAL.repeat(chars.length);\r\n      }\r\n\r\n      if (first === '*') {\r\n        if (esc) {\r\n          return esc + first + (rest ? star : '');\r\n        }\r\n        return star;\r\n      }\r\n      return esc ? m : `\\\\${m}`;\r\n    });\r\n\r\n    if (backslashes === true) {\r\n      if (opts.unescape === true) {\r\n        output = output.replace(/\\\\/g, '');\r\n      } else {\r\n        output = output.replace(/\\\\+/g, m => {\r\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\r\n        });\r\n      }\r\n    }\r\n\r\n    if (output === input && opts.contains === true) {\r\n      state.output = input;\r\n      return state;\r\n    }\r\n\r\n    state.output = utils$i.wrapOutput(output, state, options);\r\n    return state;\r\n  }\r\n\r\n  /**\r\n   * Tokenize input until we reach end-of-string\r\n   */\r\n\r\n  while (!eos()) {\r\n    value = advance();\r\n\r\n    if (value === '\\u0000') {\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Escaped characters\r\n     */\r\n\r\n    if (value === '\\\\') {\r\n      const next = peek();\r\n\r\n      if (next === '/' && opts.bash !== true) {\r\n        continue;\r\n      }\r\n\r\n      if (next === '.' || next === ';') {\r\n        continue;\r\n      }\r\n\r\n      if (!next) {\r\n        value += '\\\\';\r\n        push({ type: 'text', value });\r\n        continue;\r\n      }\r\n\r\n      // collapse slashes to reduce potential for exploits\r\n      const match = /^\\\\+/.exec(remaining());\r\n      let slashes = 0;\r\n\r\n      if (match && match[0].length > 2) {\r\n        slashes = match[0].length;\r\n        state.index += slashes;\r\n        if (slashes % 2 !== 0) {\r\n          value += '\\\\';\r\n        }\r\n      }\r\n\r\n      if (opts.unescape === true) {\r\n        value = advance();\r\n      } else {\r\n        value += advance();\r\n      }\r\n\r\n      if (state.brackets === 0) {\r\n        push({ type: 'text', value });\r\n        continue;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * If we're inside a regex character class, continue\r\n     * until we reach the closing bracket.\r\n     */\r\n\r\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\r\n      if (opts.posix !== false && value === ':') {\r\n        const inner = prev.value.slice(1);\r\n        if (inner.includes('[')) {\r\n          prev.posix = true;\r\n\r\n          if (inner.includes(':')) {\r\n            const idx = prev.value.lastIndexOf('[');\r\n            const pre = prev.value.slice(0, idx);\r\n            const rest = prev.value.slice(idx + 2);\r\n            const posix = POSIX_REGEX_SOURCE[rest];\r\n            if (posix) {\r\n              prev.value = pre + posix;\r\n              state.backtrack = true;\r\n              advance();\r\n\r\n              if (!bos.output && tokens.indexOf(prev) === 1) {\r\n                bos.output = ONE_CHAR;\r\n              }\r\n              continue;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\r\n        value = `\\\\${value}`;\r\n      }\r\n\r\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\r\n        value = `\\\\${value}`;\r\n      }\r\n\r\n      if (opts.posix === true && value === '!' && prev.value === '[') {\r\n        value = '^';\r\n      }\r\n\r\n      prev.value += value;\r\n      append({ value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * If we're inside a quoted string, continue\r\n     * until we reach the closing double quote.\r\n     */\r\n\r\n    if (state.quotes === 1 && value !== '\"') {\r\n      value = utils$i.escapeRegex(value);\r\n      prev.value += value;\r\n      append({ value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Double quotes\r\n     */\r\n\r\n    if (value === '\"') {\r\n      state.quotes = state.quotes === 1 ? 0 : 1;\r\n      if (opts.keepQuotes === true) {\r\n        push({ type: 'text', value });\r\n      }\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Parentheses\r\n     */\r\n\r\n    if (value === '(') {\r\n      increment('parens');\r\n      push({ type: 'paren', value });\r\n      continue;\r\n    }\r\n\r\n    if (value === ')') {\r\n      if (state.parens === 0 && opts.strictBrackets === true) {\r\n        throw new SyntaxError(syntaxError('opening', '('));\r\n      }\r\n\r\n      const extglob = extglobs[extglobs.length - 1];\r\n      if (extglob && state.parens === extglob.parens + 1) {\r\n        extglobClose(extglobs.pop());\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\r\n      decrement('parens');\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Square brackets\r\n     */\r\n\r\n    if (value === '[') {\r\n      if (opts.nobracket === true || !remaining().includes(']')) {\r\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\r\n          throw new SyntaxError(syntaxError('closing', ']'));\r\n        }\r\n\r\n        value = `\\\\${value}`;\r\n      } else {\r\n        increment('brackets');\r\n      }\r\n\r\n      push({ type: 'bracket', value });\r\n      continue;\r\n    }\r\n\r\n    if (value === ']') {\r\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\r\n        push({ type: 'text', value, output: `\\\\${value}` });\r\n        continue;\r\n      }\r\n\r\n      if (state.brackets === 0) {\r\n        if (opts.strictBrackets === true) {\r\n          throw new SyntaxError(syntaxError('opening', '['));\r\n        }\r\n\r\n        push({ type: 'text', value, output: `\\\\${value}` });\r\n        continue;\r\n      }\r\n\r\n      decrement('brackets');\r\n\r\n      const prevValue = prev.value.slice(1);\r\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\r\n        value = `/${value}`;\r\n      }\r\n\r\n      prev.value += value;\r\n      append({ value });\r\n\r\n      // when literal brackets are explicitly disabled\r\n      // assume we should match with a regex character class\r\n      if (opts.literalBrackets === false || utils$i.hasRegexChars(prevValue)) {\r\n        continue;\r\n      }\r\n\r\n      const escaped = utils$i.escapeRegex(prev.value);\r\n      state.output = state.output.slice(0, -prev.value.length);\r\n\r\n      // when literal brackets are explicitly enabled\r\n      // assume we should escape the brackets to match literal characters\r\n      if (opts.literalBrackets === true) {\r\n        state.output += escaped;\r\n        prev.value = escaped;\r\n        continue;\r\n      }\r\n\r\n      // when the user specifies nothing, try to match both\r\n      prev.value = `(${capture}${escaped}|${prev.value})`;\r\n      state.output += prev.value;\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Braces\r\n     */\r\n\r\n    if (value === '{' && opts.nobrace !== true) {\r\n      increment('braces');\r\n\r\n      const open = {\r\n        type: 'brace',\r\n        value,\r\n        output: '(',\r\n        outputIndex: state.output.length,\r\n        tokensIndex: state.tokens.length\r\n      };\r\n\r\n      braces.push(open);\r\n      push(open);\r\n      continue;\r\n    }\r\n\r\n    if (value === '}') {\r\n      const brace = braces[braces.length - 1];\r\n\r\n      if (opts.nobrace === true || !brace) {\r\n        push({ type: 'text', value, output: value });\r\n        continue;\r\n      }\r\n\r\n      let output = ')';\r\n\r\n      if (brace.dots === true) {\r\n        const arr = tokens.slice();\r\n        const range = [];\r\n\r\n        for (let i = arr.length - 1; i >= 0; i--) {\r\n          tokens.pop();\r\n          if (arr[i].type === 'brace') {\r\n            break;\r\n          }\r\n          if (arr[i].type !== 'dots') {\r\n            range.unshift(arr[i].value);\r\n          }\r\n        }\r\n\r\n        output = expandRange(range, opts);\r\n        state.backtrack = true;\r\n      }\r\n\r\n      if (brace.comma !== true && brace.dots !== true) {\r\n        const out = state.output.slice(0, brace.outputIndex);\r\n        const toks = state.tokens.slice(brace.tokensIndex);\r\n        brace.value = brace.output = '\\\\{';\r\n        value = output = '\\\\}';\r\n        state.output = out;\r\n        for (const t of toks) {\r\n          state.output += (t.output || t.value);\r\n        }\r\n      }\r\n\r\n      push({ type: 'brace', value, output });\r\n      decrement('braces');\r\n      braces.pop();\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Pipes\r\n     */\r\n\r\n    if (value === '|') {\r\n      if (extglobs.length > 0) {\r\n        extglobs[extglobs.length - 1].conditions++;\r\n      }\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Commas\r\n     */\r\n\r\n    if (value === ',') {\r\n      let output = value;\r\n\r\n      const brace = braces[braces.length - 1];\r\n      if (brace && stack[stack.length - 1] === 'braces') {\r\n        brace.comma = true;\r\n        output = '|';\r\n      }\r\n\r\n      push({ type: 'comma', value, output });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Slashes\r\n     */\r\n\r\n    if (value === '/') {\r\n      // if the beginning of the glob is \"./\", advance the start\r\n      // to the current index, and don't add the \"./\" characters\r\n      // to the state. This greatly simplifies lookbehinds when\r\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\r\n      if (prev.type === 'dot' && state.index === state.start + 1) {\r\n        state.start = state.index + 1;\r\n        state.consumed = '';\r\n        state.output = '';\r\n        tokens.pop();\r\n        prev = bos; // reset \"prev\" to the first token\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'slash', value, output: SLASH_LITERAL });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Dots\r\n     */\r\n\r\n    if (value === '.') {\r\n      if (state.braces > 0 && prev.type === 'dot') {\r\n        if (prev.value === '.') prev.output = DOT_LITERAL;\r\n        const brace = braces[braces.length - 1];\r\n        prev.type = 'dots';\r\n        prev.output += value;\r\n        prev.value += value;\r\n        brace.dots = true;\r\n        continue;\r\n      }\r\n\r\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\r\n        push({ type: 'text', value, output: DOT_LITERAL });\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'dot', value, output: DOT_LITERAL });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Question marks\r\n     */\r\n\r\n    if (value === '?') {\r\n      const isGroup = prev && prev.value === '(';\r\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\r\n        extglobOpen('qmark', value);\r\n        continue;\r\n      }\r\n\r\n      if (prev && prev.type === 'paren') {\r\n        const next = peek();\r\n        let output = value;\r\n\r\n        if (next === '<' && !utils$i.supportsLookbehinds()) {\r\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\r\n        }\r\n\r\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\r\n          output = `\\\\${value}`;\r\n        }\r\n\r\n        push({ type: 'text', value, output });\r\n        continue;\r\n      }\r\n\r\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\r\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'qmark', value, output: QMARK });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Exclamation\r\n     */\r\n\r\n    if (value === '!') {\r\n      if (opts.noextglob !== true && peek() === '(') {\r\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\r\n          extglobOpen('negate', value);\r\n          continue;\r\n        }\r\n      }\r\n\r\n      if (opts.nonegate !== true && state.index === 0) {\r\n        negate();\r\n        continue;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Plus\r\n     */\r\n\r\n    if (value === '+') {\r\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\r\n        extglobOpen('plus', value);\r\n        continue;\r\n      }\r\n\r\n      if ((prev && prev.value === '(') || opts.regex === false) {\r\n        push({ type: 'plus', value, output: PLUS_LITERAL });\r\n        continue;\r\n      }\r\n\r\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\r\n        push({ type: 'plus', value });\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'plus', value: PLUS_LITERAL });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Plain text\r\n     */\r\n\r\n    if (value === '@') {\r\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\r\n        push({ type: 'at', extglob: true, value, output: '' });\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Plain text\r\n     */\r\n\r\n    if (value !== '*') {\r\n      if (value === '$' || value === '^') {\r\n        value = `\\\\${value}`;\r\n      }\r\n\r\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\r\n      if (match) {\r\n        value += match[0];\r\n        state.index += match[0].length;\r\n      }\r\n\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Stars\r\n     */\r\n\r\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\r\n      prev.type = 'star';\r\n      prev.star = true;\r\n      prev.value += value;\r\n      prev.output = star;\r\n      state.backtrack = true;\r\n      state.globstar = true;\r\n      consume(value);\r\n      continue;\r\n    }\r\n\r\n    let rest = remaining();\r\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\r\n      extglobOpen('star', value);\r\n      continue;\r\n    }\r\n\r\n    if (prev.type === 'star') {\r\n      if (opts.noglobstar === true) {\r\n        consume(value);\r\n        continue;\r\n      }\r\n\r\n      const prior = prev.prev;\r\n      const before = prior.prev;\r\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\r\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\r\n\r\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\r\n        push({ type: 'star', value, output: '' });\r\n        continue;\r\n      }\r\n\r\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\r\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\r\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\r\n        push({ type: 'star', value, output: '' });\r\n        continue;\r\n      }\r\n\r\n      // strip consecutive `/**/`\r\n      while (rest.slice(0, 3) === '/**') {\r\n        const after = input[state.index + 4];\r\n        if (after && after !== '/') {\r\n          break;\r\n        }\r\n        rest = rest.slice(3);\r\n        consume('/**', 3);\r\n      }\r\n\r\n      if (prior.type === 'bos' && eos()) {\r\n        prev.type = 'globstar';\r\n        prev.value += value;\r\n        prev.output = globstar(opts);\r\n        state.output = prev.output;\r\n        state.globstar = true;\r\n        consume(value);\r\n        continue;\r\n      }\r\n\r\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\r\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\r\n        prior.output = `(?:${prior.output}`;\r\n\r\n        prev.type = 'globstar';\r\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\r\n        prev.value += value;\r\n        state.globstar = true;\r\n        state.output += prior.output + prev.output;\r\n        consume(value);\r\n        continue;\r\n      }\r\n\r\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\r\n        const end = rest[1] !== void 0 ? '|$' : '';\r\n\r\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\r\n        prior.output = `(?:${prior.output}`;\r\n\r\n        prev.type = 'globstar';\r\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\r\n        prev.value += value;\r\n\r\n        state.output += prior.output + prev.output;\r\n        state.globstar = true;\r\n\r\n        consume(value + advance());\r\n\r\n        push({ type: 'slash', value: '/', output: '' });\r\n        continue;\r\n      }\r\n\r\n      if (prior.type === 'bos' && rest[0] === '/') {\r\n        prev.type = 'globstar';\r\n        prev.value += value;\r\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\r\n        state.output = prev.output;\r\n        state.globstar = true;\r\n        consume(value + advance());\r\n        push({ type: 'slash', value: '/', output: '' });\r\n        continue;\r\n      }\r\n\r\n      // remove single star from output\r\n      state.output = state.output.slice(0, -prev.output.length);\r\n\r\n      // reset previous token to globstar\r\n      prev.type = 'globstar';\r\n      prev.output = globstar(opts);\r\n      prev.value += value;\r\n\r\n      // reset output with globstar\r\n      state.output += prev.output;\r\n      state.globstar = true;\r\n      consume(value);\r\n      continue;\r\n    }\r\n\r\n    const token = { type: 'star', value, output: star };\r\n\r\n    if (opts.bash === true) {\r\n      token.output = '.*?';\r\n      if (prev.type === 'bos' || prev.type === 'slash') {\r\n        token.output = nodot + token.output;\r\n      }\r\n      push(token);\r\n      continue;\r\n    }\r\n\r\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\r\n      token.output = value;\r\n      push(token);\r\n      continue;\r\n    }\r\n\r\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\r\n      if (prev.type === 'dot') {\r\n        state.output += NO_DOT_SLASH;\r\n        prev.output += NO_DOT_SLASH;\r\n\r\n      } else if (opts.dot === true) {\r\n        state.output += NO_DOTS_SLASH;\r\n        prev.output += NO_DOTS_SLASH;\r\n\r\n      } else {\r\n        state.output += nodot;\r\n        prev.output += nodot;\r\n      }\r\n\r\n      if (peek() !== '*') {\r\n        state.output += ONE_CHAR;\r\n        prev.output += ONE_CHAR;\r\n      }\r\n    }\r\n\r\n    push(token);\r\n  }\r\n\r\n  while (state.brackets > 0) {\r\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\r\n    state.output = utils$i.escapeLast(state.output, '[');\r\n    decrement('brackets');\r\n  }\r\n\r\n  while (state.parens > 0) {\r\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\r\n    state.output = utils$i.escapeLast(state.output, '(');\r\n    decrement('parens');\r\n  }\r\n\r\n  while (state.braces > 0) {\r\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\r\n    state.output = utils$i.escapeLast(state.output, '{');\r\n    decrement('braces');\r\n  }\r\n\r\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\r\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\r\n  }\r\n\r\n  // rebuild the output if we had to backtrack at any point\r\n  if (state.backtrack === true) {\r\n    state.output = '';\r\n\r\n    for (const token of state.tokens) {\r\n      state.output += token.output != null ? token.output : token.value;\r\n\r\n      if (token.suffix) {\r\n        state.output += token.suffix;\r\n      }\r\n    }\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\n/**\r\n * Fast paths for creating regular expressions for common glob patterns.\r\n * This can significantly speed up processing and has very little downside\r\n * impact when none of the fast paths match.\r\n */\r\n\r\nparse$g.fastpaths = (input, options) => {\r\n  const opts = { ...options };\r\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH$1, opts.maxLength) : MAX_LENGTH$1;\r\n  const len = input.length;\r\n  if (len > max) {\r\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\r\n  }\r\n\r\n  input = REPLACEMENTS[input] || input;\r\n  const win32 = utils$i.isWindows(options);\r\n\r\n  // create constants based on platform, for windows or posix\r\n  const {\r\n    DOT_LITERAL,\r\n    SLASH_LITERAL,\r\n    ONE_CHAR,\r\n    DOTS_SLASH,\r\n    NO_DOT,\r\n    NO_DOTS,\r\n    NO_DOTS_SLASH,\r\n    STAR,\r\n    START_ANCHOR\r\n  } = constants$5.globChars(win32);\r\n\r\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\r\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\r\n  const capture = opts.capture ? '' : '?:';\r\n  const state = { negated: false, prefix: '' };\r\n  let star = opts.bash === true ? '.*?' : STAR;\r\n\r\n  if (opts.capture) {\r\n    star = `(${star})`;\r\n  }\r\n\r\n  const globstar = opts => {\r\n    if (opts.noglobstar === true) return star;\r\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\r\n  };\r\n\r\n  const create = str => {\r\n    switch (str) {\r\n      case '*':\r\n        return `${nodot}${ONE_CHAR}${star}`;\r\n\r\n      case '.*':\r\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\r\n\r\n      case '*.*':\r\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\r\n\r\n      case '*/*':\r\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\r\n\r\n      case '**':\r\n        return nodot + globstar(opts);\r\n\r\n      case '**/*':\r\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\r\n\r\n      case '**/*.*':\r\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\r\n\r\n      case '**/.*':\r\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\r\n\r\n      default: {\r\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\r\n        if (!match) return;\r\n\r\n        const source = create(match[1]);\r\n        if (!source) return;\r\n\r\n        return source + DOT_LITERAL + match[2];\r\n      }\r\n    }\r\n  };\r\n\r\n  const output = utils$i.removePrefix(input, state);\r\n  let source = create(output);\r\n\r\n  if (source && opts.strictSlashes !== true) {\r\n    source += `${SLASH_LITERAL}?`;\r\n  }\r\n\r\n  return source;\r\n};\r\n\r\nvar parse_1$3 = parse$g;\r\n\r\nconst path$l = require$$0$4;\r\nconst scan$1 = scan_1;\r\nconst parse$f = parse_1$3;\r\nconst utils$h = utils$k;\r\nconst constants$4 = constants$6;\r\nconst isObject$3 = val => val && typeof val === 'object' && !Array.isArray(val);\r\n\r\n/**\r\n * Creates a matcher function from one or more glob patterns. The\r\n * returned function takes a string to match as its first argument,\r\n * and returns true if the string is a match. The returned matcher\r\n * function also takes a boolean as the second argument that, when true,\r\n * returns an object with additional information.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch(glob[, options]);\r\n *\r\n * const isMatch = picomatch('*.!(*a)');\r\n * console.log(isMatch('a.a')); //=> false\r\n * console.log(isMatch('a.b')); //=> true\r\n * ```\r\n * @name picomatch\r\n * @param {String|Array} `globs` One or more glob patterns.\r\n * @param {Object=} `options`\r\n * @return {Function=} Returns a matcher function.\r\n * @api public\r\n */\r\n\r\nconst picomatch$5 = (glob, options, returnState = false) => {\r\n  if (Array.isArray(glob)) {\r\n    const fns = glob.map(input => picomatch$5(input, options, returnState));\r\n    const arrayMatcher = str => {\r\n      for (const isMatch of fns) {\r\n        const state = isMatch(str);\r\n        if (state) return state;\r\n      }\r\n      return false;\r\n    };\r\n    return arrayMatcher;\r\n  }\r\n\r\n  const isState = isObject$3(glob) && glob.tokens && glob.input;\r\n\r\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\r\n    throw new TypeError('Expected pattern to be a non-empty string');\r\n  }\r\n\r\n  const opts = options || {};\r\n  const posix = utils$h.isWindows(options);\r\n  const regex = isState\r\n    ? picomatch$5.compileRe(glob, options)\r\n    : picomatch$5.makeRe(glob, options, false, true);\r\n\r\n  const state = regex.state;\r\n  delete regex.state;\r\n\r\n  let isIgnored = () => false;\r\n  if (opts.ignore) {\r\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\r\n    isIgnored = picomatch$5(opts.ignore, ignoreOpts, returnState);\r\n  }\r\n\r\n  const matcher = (input, returnObject = false) => {\r\n    const { isMatch, match, output } = picomatch$5.test(input, regex, options, { glob, posix });\r\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\r\n\r\n    if (typeof opts.onResult === 'function') {\r\n      opts.onResult(result);\r\n    }\r\n\r\n    if (isMatch === false) {\r\n      result.isMatch = false;\r\n      return returnObject ? result : false;\r\n    }\r\n\r\n    if (isIgnored(input)) {\r\n      if (typeof opts.onIgnore === 'function') {\r\n        opts.onIgnore(result);\r\n      }\r\n      result.isMatch = false;\r\n      return returnObject ? result : false;\r\n    }\r\n\r\n    if (typeof opts.onMatch === 'function') {\r\n      opts.onMatch(result);\r\n    }\r\n    return returnObject ? result : true;\r\n  };\r\n\r\n  if (returnState) {\r\n    matcher.state = state;\r\n  }\r\n\r\n  return matcher;\r\n};\r\n\r\n/**\r\n * Test `input` with the given `regex`. This is used by the main\r\n * `picomatch()` function to test the input string.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch.test(input, regex[, options]);\r\n *\r\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\r\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\r\n * ```\r\n * @param {String} `input` String to test.\r\n * @param {RegExp} `regex`\r\n * @return {Object} Returns an object with matching info.\r\n * @api public\r\n */\r\n\r\npicomatch$5.test = (input, regex, options, { glob, posix } = {}) => {\r\n  if (typeof input !== 'string') {\r\n    throw new TypeError('Expected input to be a string');\r\n  }\r\n\r\n  if (input === '') {\r\n    return { isMatch: false, output: '' };\r\n  }\r\n\r\n  const opts = options || {};\r\n  const format = opts.format || (posix ? utils$h.toPosixSlashes : null);\r\n  let match = input === glob;\r\n  let output = (match && format) ? format(input) : input;\r\n\r\n  if (match === false) {\r\n    output = format ? format(input) : input;\r\n    match = output === glob;\r\n  }\r\n\r\n  if (match === false || opts.capture === true) {\r\n    if (opts.matchBase === true || opts.basename === true) {\r\n      match = picomatch$5.matchBase(input, regex, options, posix);\r\n    } else {\r\n      match = regex.exec(output);\r\n    }\r\n  }\r\n\r\n  return { isMatch: Boolean(match), match, output };\r\n};\r\n\r\n/**\r\n * Match the basename of a filepath.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch.matchBase(input, glob[, options]);\r\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\r\n * ```\r\n * @param {String} `input` String to test.\r\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\npicomatch$5.matchBase = (input, glob, options, posix = utils$h.isWindows(options)) => {\r\n  const regex = glob instanceof RegExp ? glob : picomatch$5.makeRe(glob, options);\r\n  return regex.test(path$l.basename(input));\r\n};\r\n\r\n/**\r\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch.isMatch(string, patterns[, options]);\r\n *\r\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\r\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\r\n * ```\r\n * @param {String|Array} str The string to test.\r\n * @param {String|Array} patterns One or more glob patterns to use for matching.\r\n * @param {Object} [options] See available [options](#options).\r\n * @return {Boolean} Returns true if any patterns match `str`\r\n * @api public\r\n */\r\n\r\npicomatch$5.isMatch = (str, patterns, options) => picomatch$5(patterns, options)(str);\r\n\r\n/**\r\n * Parse a glob pattern to create the source string for a regular\r\n * expression.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * const result = picomatch.parse(pattern[, options]);\r\n * ```\r\n * @param {String} `pattern`\r\n * @param {Object} `options`\r\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\r\n * @api public\r\n */\r\n\r\npicomatch$5.parse = (pattern, options) => {\r\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch$5.parse(p, options));\r\n  return parse$f(pattern, { ...options, fastpaths: false });\r\n};\r\n\r\n/**\r\n * Scan a glob pattern to separate the pattern into segments.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch.scan(input[, options]);\r\n *\r\n * const result = picomatch.scan('!./foo/*.js');\r\n * console.log(result);\r\n * { prefix: '!./',\r\n *   input: '!./foo/*.js',\r\n *   start: 3,\r\n *   base: 'foo',\r\n *   glob: '*.js',\r\n *   isBrace: false,\r\n *   isBracket: false,\r\n *   isGlob: true,\r\n *   isExtglob: false,\r\n *   isGlobstar: false,\r\n *   negated: true }\r\n * ```\r\n * @param {String} `input` Glob pattern to scan.\r\n * @param {Object} `options`\r\n * @return {Object} Returns an object with\r\n * @api public\r\n */\r\n\r\npicomatch$5.scan = (input, options) => scan$1(input, options);\r\n\r\n/**\r\n * Compile a regular expression from the `state` object returned by the\r\n * [parse()](#parse) method.\r\n *\r\n * @param {Object} `state`\r\n * @param {Object} `options`\r\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\r\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\r\n * @return {RegExp}\r\n * @api public\r\n */\r\n\r\npicomatch$5.compileRe = (state, options, returnOutput = false, returnState = false) => {\r\n  if (returnOutput === true) {\r\n    return state.output;\r\n  }\r\n\r\n  const opts = options || {};\r\n  const prepend = opts.contains ? '' : '^';\r\n  const append = opts.contains ? '' : '$';\r\n\r\n  let source = `${prepend}(?:${state.output})${append}`;\r\n  if (state && state.negated === true) {\r\n    source = `^(?!${source}).*$`;\r\n  }\r\n\r\n  const regex = picomatch$5.toRegex(source, options);\r\n  if (returnState === true) {\r\n    regex.state = state;\r\n  }\r\n\r\n  return regex;\r\n};\r\n\r\n/**\r\n * Create a regular expression from a parsed glob pattern.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * const state = picomatch.parse('*.js');\r\n * // picomatch.compileRe(state[, options]);\r\n *\r\n * console.log(picomatch.compileRe(state));\r\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\r\n * ```\r\n * @param {String} `state` The object returned from the `.parse` method.\r\n * @param {Object} `options`\r\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\r\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\r\n * @return {RegExp} Returns a regex created from the given pattern.\r\n * @api public\r\n */\r\n\r\npicomatch$5.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\r\n  if (!input || typeof input !== 'string') {\r\n    throw new TypeError('Expected a non-empty string');\r\n  }\r\n\r\n  let parsed = { negated: false, fastpaths: true };\r\n\r\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\r\n    parsed.output = parse$f.fastpaths(input, options);\r\n  }\r\n\r\n  if (!parsed.output) {\r\n    parsed = parse$f(input, options);\r\n  }\r\n\r\n  return picomatch$5.compileRe(parsed, options, returnOutput, returnState);\r\n};\r\n\r\n/**\r\n * Create a regular expression from the given regex source string.\r\n *\r\n * ```js\r\n * const picomatch = require('picomatch');\r\n * // picomatch.toRegex(source[, options]);\r\n *\r\n * const { output } = picomatch.parse('*.js');\r\n * console.log(picomatch.toRegex(output));\r\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\r\n * ```\r\n * @param {String} `source` Regular expression source string.\r\n * @param {Object} `options`\r\n * @return {RegExp}\r\n * @api public\r\n */\r\n\r\npicomatch$5.toRegex = (source, options) => {\r\n  try {\r\n    const opts = options || {};\r\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\r\n  } catch (err) {\r\n    if (options && options.debug === true) throw err;\r\n    return /$^/;\r\n  }\r\n};\r\n\r\n/**\r\n * Picomatch constants.\r\n * @return {Object}\r\n */\r\n\r\npicomatch$5.constants = constants$4;\r\n\r\n/**\r\n * Expose \"picomatch\"\r\n */\r\n\r\nvar picomatch_1 = picomatch$5;\r\n\r\nvar picomatch$3 = picomatch_1;\r\n\r\nvar picomatch$4 = /*@__PURE__*/getDefaultExportFromCjs(picomatch$3);\r\n\r\nconst extractors = {\r\n    ArrayPattern(names, param) {\r\n        for (const element of param.elements) {\r\n            if (element)\r\n                extractors[element.type](names, element);\r\n        }\r\n    },\r\n    AssignmentPattern(names, param) {\r\n        extractors[param.left.type](names, param.left);\r\n    },\r\n    Identifier(names, param) {\r\n        names.push(param.name);\r\n    },\r\n    MemberExpression() { },\r\n    ObjectPattern(names, param) {\r\n        for (const prop of param.properties) {\r\n            // @ts-ignore Typescript reports that this is not a valid type\r\n            if (prop.type === 'RestElement') {\r\n                extractors.RestElement(names, prop);\r\n            }\r\n            else {\r\n                extractors[prop.value.type](names, prop.value);\r\n            }\r\n        }\r\n    },\r\n    RestElement(names, param) {\r\n        extractors[param.argument.type](names, param.argument);\r\n    }\r\n};\r\nconst extractAssignedNames = function extractAssignedNames(param) {\r\n    const names = [];\r\n    extractors[param.type](names, param);\r\n    return names;\r\n};\r\n\r\nconst blockDeclarations = {\r\n    const: true,\r\n    let: true\r\n};\r\nclass Scope {\r\n    constructor(options = {}) {\r\n        this.parent = options.parent;\r\n        this.isBlockScope = !!options.block;\r\n        this.declarations = Object.create(null);\r\n        if (options.params) {\r\n            options.params.forEach((param) => {\r\n                extractAssignedNames(param).forEach((name) => {\r\n                    this.declarations[name] = true;\r\n                });\r\n            });\r\n        }\r\n    }\r\n    addDeclaration(node, isBlockDeclaration, isVar) {\r\n        if (!isBlockDeclaration && this.isBlockScope) {\r\n            // it's a `var` or function node, and this\r\n            // is a block scope, so we need to go up\r\n            this.parent.addDeclaration(node, isBlockDeclaration, isVar);\r\n        }\r\n        else if (node.id) {\r\n            extractAssignedNames(node.id).forEach((name) => {\r\n                this.declarations[name] = true;\r\n            });\r\n        }\r\n    }\r\n    contains(name) {\r\n        return this.declarations[name] || (this.parent ? this.parent.contains(name) : false);\r\n    }\r\n}\r\nconst attachScopes = function attachScopes(ast, propertyName = 'scope') {\r\n    let scope = new Scope();\r\n    walk$3(ast, {\r\n        enter(n, parent) {\r\n            const node = n;\r\n            // function foo () {...}\r\n            // class Foo {...}\r\n            if (/(Function|Class)Declaration/.test(node.type)) {\r\n                scope.addDeclaration(node, false, false);\r\n            }\r\n            // var foo = 1\r\n            if (node.type === 'VariableDeclaration') {\r\n                const { kind } = node;\r\n                const isBlockDeclaration = blockDeclarations[kind];\r\n                node.declarations.forEach((declaration) => {\r\n                    scope.addDeclaration(declaration, isBlockDeclaration, true);\r\n                });\r\n            }\r\n            let newScope;\r\n            // create new function scope\r\n            if (/Function/.test(node.type)) {\r\n                const func = node;\r\n                newScope = new Scope({\r\n                    parent: scope,\r\n                    block: false,\r\n                    params: func.params\r\n                });\r\n                // named function expressions - the name is considered\r\n                // part of the function's scope\r\n                if (func.type === 'FunctionExpression' && func.id) {\r\n                    newScope.addDeclaration(func, false, false);\r\n                }\r\n            }\r\n            // create new for scope\r\n            if (/For(In|Of)?Statement/.test(node.type)) {\r\n                newScope = new Scope({\r\n                    parent: scope,\r\n                    block: true\r\n                });\r\n            }\r\n            // create new block scope\r\n            if (node.type === 'BlockStatement' && !/Function/.test(parent.type)) {\r\n                newScope = new Scope({\r\n                    parent: scope,\r\n                    block: true\r\n                });\r\n            }\r\n            // catch clause has its own block scope\r\n            if (node.type === 'CatchClause') {\r\n                newScope = new Scope({\r\n                    parent: scope,\r\n                    params: node.param ? [node.param] : [],\r\n                    block: true\r\n                });\r\n            }\r\n            if (newScope) {\r\n                Object.defineProperty(node, propertyName, {\r\n                    value: newScope,\r\n                    configurable: true\r\n                });\r\n                scope = newScope;\r\n            }\r\n        },\r\n        leave(n) {\r\n            const node = n;\r\n            if (node[propertyName])\r\n                scope = scope.parent;\r\n        }\r\n    });\r\n    return scope;\r\n};\r\n\r\n// Helper since Typescript can't detect readonly arrays with Array.isArray\r\nfunction isArray(arg) {\r\n    return Array.isArray(arg);\r\n}\r\nfunction ensureArray(thing) {\r\n    if (isArray(thing))\r\n        return thing;\r\n    if (thing == null)\r\n        return [];\r\n    return [thing];\r\n}\r\n\r\nconst normalizePath$5 = function normalizePath(filename) {\r\n    return filename.split(win32.sep).join(posix.sep);\r\n};\r\n\r\nfunction getMatcherString(id, resolutionBase) {\r\n    if (resolutionBase === false || isAbsolute(id) || id.startsWith('**')) {\r\n        return normalizePath$5(id);\r\n    }\r\n    // resolve('') is valid and will default to process.cwd()\r\n    const basePath = normalizePath$5(resolve$3(resolutionBase || ''))\r\n        // escape all possible (posix + win) path characters that might interfere with regex\r\n        .replace(/[-^$*+?.()|[\\]{}]/g, '\\\\$&');\r\n    // Note that we use posix.join because:\r\n    // 1. the basePath has been normalized to use /\r\n    // 2. the incoming glob (id) matcher, also uses /\r\n    // otherwise Node will force backslash (\\) on windows\r\n    return posix.join(basePath, normalizePath$5(id));\r\n}\r\nconst createFilter$1 = function createFilter(include, exclude, options) {\r\n    const resolutionBase = options && options.resolve;\r\n    const getMatcher = (id) => id instanceof RegExp\r\n        ? id\r\n        : {\r\n            test: (what) => {\r\n                // this refactor is a tad overly verbose but makes for easy debugging\r\n                const pattern = getMatcherString(id, resolutionBase);\r\n                const fn = picomatch$4(pattern, { dot: true });\r\n                const result = fn(what);\r\n                return result;\r\n            }\r\n        };\r\n    const includeMatchers = ensureArray(include).map(getMatcher);\r\n    const excludeMatchers = ensureArray(exclude).map(getMatcher);\r\n    return function result(id) {\r\n        if (typeof id !== 'string')\r\n            return false;\r\n        if (/\\0/.test(id))\r\n            return false;\r\n        const pathId = normalizePath$5(id);\r\n        for (let i = 0; i < excludeMatchers.length; ++i) {\r\n            const matcher = excludeMatchers[i];\r\n            if (matcher.test(pathId))\r\n                return false;\r\n        }\r\n        for (let i = 0; i < includeMatchers.length; ++i) {\r\n            const matcher = includeMatchers[i];\r\n            if (matcher.test(pathId))\r\n                return true;\r\n        }\r\n        return !includeMatchers.length;\r\n    };\r\n};\r\n\r\nconst reservedWords = 'break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public';\r\nconst builtins = 'arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl';\r\nconst forbiddenIdentifiers = new Set(`${reservedWords} ${builtins}`.split(' '));\r\nforbiddenIdentifiers.add('');\r\nconst makeLegalIdentifier = function makeLegalIdentifier(str) {\r\n    let identifier = str\r\n        .replace(/-(\\w)/g, (_, letter) => letter.toUpperCase())\r\n        .replace(/[^$_a-zA-Z0-9]/g, '_');\r\n    if (/\\d/.test(identifier[0]) || forbiddenIdentifiers.has(identifier)) {\r\n        identifier = `_${identifier}`;\r\n    }\r\n    return identifier || '_';\r\n};\r\n\r\nfunction stringify$8(obj) {\r\n    return (JSON.stringify(obj) || 'undefined').replace(/[\\u2028\\u2029]/g, (char) => `\\\\u${`000${char.charCodeAt(0).toString(16)}`.slice(-4)}`);\r\n}\r\nfunction serializeArray(arr, indent, baseIndent) {\r\n    let output = '[';\r\n    const separator = indent ? `\\n${baseIndent}${indent}` : '';\r\n    for (let i = 0; i < arr.length; i++) {\r\n        const key = arr[i];\r\n        output += `${i > 0 ? ',' : ''}${separator}${serialize(key, indent, baseIndent + indent)}`;\r\n    }\r\n    return `${output}${indent ? `\\n${baseIndent}` : ''}]`;\r\n}\r\nfunction serializeObject(obj, indent, baseIndent) {\r\n    let output = '{';\r\n    const separator = indent ? `\\n${baseIndent}${indent}` : '';\r\n    const entries = Object.entries(obj);\r\n    for (let i = 0; i < entries.length; i++) {\r\n        const [key, value] = entries[i];\r\n        const stringKey = makeLegalIdentifier(key) === key ? key : stringify$8(key);\r\n        output += `${i > 0 ? ',' : ''}${separator}${stringKey}:${indent ? ' ' : ''}${serialize(value, indent, baseIndent + indent)}`;\r\n    }\r\n    return `${output}${indent ? `\\n${baseIndent}` : ''}}`;\r\n}\r\nfunction serialize(obj, indent, baseIndent) {\r\n    if (typeof obj === 'object' && obj !== null) {\r\n        if (Array.isArray(obj))\r\n            return serializeArray(obj, indent, baseIndent);\r\n        if (obj instanceof Date)\r\n            return `new Date(${obj.getTime()})`;\r\n        if (obj instanceof RegExp)\r\n            return obj.toString();\r\n        return serializeObject(obj, indent, baseIndent);\r\n    }\r\n    if (typeof obj === 'number') {\r\n        if (obj === Infinity)\r\n            return 'Infinity';\r\n        if (obj === -Infinity)\r\n            return '-Infinity';\r\n        if (obj === 0)\r\n            return 1 / obj === Infinity ? '0' : '-0';\r\n        if (obj !== obj)\r\n            return 'NaN'; // eslint-disable-line no-self-compare\r\n    }\r\n    if (typeof obj === 'symbol') {\r\n        const key = Symbol.keyFor(obj);\r\n        // eslint-disable-next-line no-undefined\r\n        if (key !== undefined)\r\n            return `Symbol.for(${stringify$8(key)})`;\r\n    }\r\n    if (typeof obj === 'bigint')\r\n        return `${obj}n`;\r\n    return stringify$8(obj);\r\n}\r\n// isWellFormed exists from Node.js 20\r\nconst hasStringIsWellFormed = 'isWellFormed' in String.prototype;\r\nfunction isWellFormedString(input) {\r\n    // @ts-expect-error String::isWellFormed exists from ES2024. tsconfig lib is set to ES6\r\n    if (hasStringIsWellFormed)\r\n        return input.isWellFormed();\r\n    // https://github.com/tc39/proposal-is-usv-string/blob/main/README.md#algorithm\r\n    return !/\\p{Surrogate}/u.test(input);\r\n}\r\nconst dataToEsm = function dataToEsm(data, options = {}) {\r\n    var _a, _b;\r\n    const t = options.compact ? '' : 'indent' in options ? options.indent : '\\t';\r\n    const _ = options.compact ? '' : ' ';\r\n    const n = options.compact ? '' : '\\n';\r\n    const declarationType = options.preferConst ? 'const' : 'var';\r\n    if (options.namedExports === false ||\r\n        typeof data !== 'object' ||\r\n        Array.isArray(data) ||\r\n        data instanceof Date ||\r\n        data instanceof RegExp ||\r\n        data === null) {\r\n        const code = serialize(data, options.compact ? null : t, '');\r\n        const magic = _ || (/^[{[\\-\\/]/.test(code) ? '' : ' '); // eslint-disable-line no-useless-escape\r\n        return `export default${magic}${code};`;\r\n    }\r\n    let maxUnderbarPrefixLength = 0;\r\n    for (const key of Object.keys(data)) {\r\n        const underbarPrefixLength = (_b = (_a = key.match(/^(_+)/)) === null || _a === void 0 ? void 0 : _a[0].length) !== null && _b !== void 0 ? _b : 0;\r\n        if (underbarPrefixLength > maxUnderbarPrefixLength) {\r\n            maxUnderbarPrefixLength = underbarPrefixLength;\r\n        }\r\n    }\r\n    const arbitraryNamePrefix = `${'_'.repeat(maxUnderbarPrefixLength + 1)}arbitrary`;\r\n    let namedExportCode = '';\r\n    const defaultExportRows = [];\r\n    const arbitraryNameExportRows = [];\r\n    for (const [key, value] of Object.entries(data)) {\r\n        if (key === makeLegalIdentifier(key)) {\r\n            if (options.objectShorthand)\r\n                defaultExportRows.push(key);\r\n            else\r\n                defaultExportRows.push(`${key}:${_}${key}`);\r\n            namedExportCode += `export ${declarationType} ${key}${_}=${_}${serialize(value, options.compact ? null : t, '')};${n}`;\r\n        }\r\n        else {\r\n            defaultExportRows.push(`${stringify$8(key)}:${_}${serialize(value, options.compact ? null : t, '')}`);\r\n            if (options.includeArbitraryNames && isWellFormedString(key)) {\r\n                const variableName = `${arbitraryNamePrefix}${arbitraryNameExportRows.length}`;\r\n                namedExportCode += `${declarationType} ${variableName}${_}=${_}${serialize(value, options.compact ? null : t, '')};${n}`;\r\n                arbitraryNameExportRows.push(`${variableName} as ${JSON.stringify(key)}`);\r\n            }\r\n        }\r\n    }\r\n    const arbitraryExportCode = arbitraryNameExportRows.length > 0\r\n        ? `export${_}{${n}${t}${arbitraryNameExportRows.join(`,${n}${t}`)}${n}};${n}`\r\n        : '';\r\n    const defaultExportCode = `export default${_}{${n}${t}${defaultExportRows.join(`,${n}${t}`)}${n}};${n}`;\r\n    return `${namedExportCode}${arbitraryExportCode}${defaultExportCode}`;\r\n};\r\n\r\nvar path$k = require$$0$4;\r\n\r\nvar commondir = function (basedir, relfiles) {\r\n    if (relfiles) {\r\n        var files = relfiles.map(function (r) {\r\n            return path$k.resolve(basedir, r);\r\n        });\r\n    }\r\n    else {\r\n        var files = basedir;\r\n    }\r\n    \r\n    var res = files.slice(1).reduce(function (ps, file) {\r\n        if (!file.match(/^([A-Za-z]:)?\\/|\\\\/)) {\r\n            throw new Error('relative path without a basedir');\r\n        }\r\n        \r\n        var xs = file.split(/\\/+|\\\\+/);\r\n        for (\r\n            var i = 0;\r\n            ps[i] === xs[i] && i < Math.min(ps.length, xs.length);\r\n            i++\r\n        );\r\n        return ps.slice(0, i);\r\n    }, files[0].split(/\\/+|\\\\+/));\r\n    \r\n    // Windows correctly handles paths with forward-slashes\r\n    return res.length > 1 ? res.join('/') : '/'\r\n};\r\n\r\nvar getCommonDir = /*@__PURE__*/getDefaultExportFromCjs(commondir);\r\n\r\nvar balancedMatch = balanced$1;\r\nfunction balanced$1(a, b, str) {\r\n  if (a instanceof RegExp) a = maybeMatch(a, str);\r\n  if (b instanceof RegExp) b = maybeMatch(b, str);\r\n\r\n  var r = range$1(a, b, str);\r\n\r\n  return r && {\r\n    start: r[0],\r\n    end: r[1],\r\n    pre: str.slice(0, r[0]),\r\n    body: str.slice(r[0] + a.length, r[1]),\r\n    post: str.slice(r[1] + b.length)\r\n  };\r\n}\r\n\r\nfunction maybeMatch(reg, str) {\r\n  var m = str.match(reg);\r\n  return m ? m[0] : null;\r\n}\r\n\r\nbalanced$1.range = range$1;\r\nfunction range$1(a, b, str) {\r\n  var begs, beg, left, right, result;\r\n  var ai = str.indexOf(a);\r\n  var bi = str.indexOf(b, ai + 1);\r\n  var i = ai;\r\n\r\n  if (ai >= 0 && bi > 0) {\r\n    if(a===b) {\r\n      return [ai, bi];\r\n    }\r\n    begs = [];\r\n    left = str.length;\r\n\r\n    while (i >= 0 && !result) {\r\n      if (i == ai) {\r\n        begs.push(i);\r\n        ai = str.indexOf(a, i + 1);\r\n      } else if (begs.length == 1) {\r\n        result = [ begs.pop(), bi ];\r\n      } else {\r\n        beg = begs.pop();\r\n        if (beg < left) {\r\n          left = beg;\r\n          right = bi;\r\n        }\r\n\r\n        bi = str.indexOf(b, i + 1);\r\n      }\r\n\r\n      i = ai < bi && ai >= 0 ? ai : bi;\r\n    }\r\n\r\n    if (begs.length) {\r\n      result = [ left, right ];\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nvar balanced = balancedMatch;\r\n\r\nvar braceExpansion = expandTop;\r\n\r\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\r\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\r\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\r\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\r\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\r\n\r\nfunction numeric(str) {\r\n  return parseInt(str, 10) == str\r\n    ? parseInt(str, 10)\r\n    : str.charCodeAt(0);\r\n}\r\n\r\nfunction escapeBraces(str) {\r\n  return str.split('\\\\\\\\').join(escSlash)\r\n            .split('\\\\{').join(escOpen)\r\n            .split('\\\\}').join(escClose)\r\n            .split('\\\\,').join(escComma)\r\n            .split('\\\\.').join(escPeriod);\r\n}\r\n\r\nfunction unescapeBraces(str) {\r\n  return str.split(escSlash).join('\\\\')\r\n            .split(escOpen).join('{')\r\n            .split(escClose).join('}')\r\n            .split(escComma).join(',')\r\n            .split(escPeriod).join('.');\r\n}\r\n\r\n\r\n// Basically just str.split(\",\"), but handling cases\r\n// where we have nested braced sections, which should be\r\n// treated as individual members, like {a,{b,c},d}\r\nfunction parseCommaParts(str) {\r\n  if (!str)\r\n    return [''];\r\n\r\n  var parts = [];\r\n  var m = balanced('{', '}', str);\r\n\r\n  if (!m)\r\n    return str.split(',');\r\n\r\n  var pre = m.pre;\r\n  var body = m.body;\r\n  var post = m.post;\r\n  var p = pre.split(',');\r\n\r\n  p[p.length-1] += '{' + body + '}';\r\n  var postParts = parseCommaParts(post);\r\n  if (post.length) {\r\n    p[p.length-1] += postParts.shift();\r\n    p.push.apply(p, postParts);\r\n  }\r\n\r\n  parts.push.apply(parts, p);\r\n\r\n  return parts;\r\n}\r\n\r\nfunction expandTop(str) {\r\n  if (!str)\r\n    return [];\r\n\r\n  // I don't know why Bash 4.3 does this, but it does.\r\n  // Anything starting with {} will have the first two bytes preserved\r\n  // but *only* at the top level, so {},a}b will not expand to anything,\r\n  // but a{},b}c will be expanded to [a}c,abc].\r\n  // One could argue that this is a bug in Bash, but since the goal of\r\n  // this module is to match Bash's rules, we escape a leading {}\r\n  if (str.substr(0, 2) === '{}') {\r\n    str = '\\\\{\\\\}' + str.substr(2);\r\n  }\r\n\r\n  return expand$3(escapeBraces(str), true).map(unescapeBraces);\r\n}\r\n\r\nfunction embrace(str) {\r\n  return '{' + str + '}';\r\n}\r\nfunction isPadded(el) {\r\n  return /^-?0\\d/.test(el);\r\n}\r\n\r\nfunction lte(i, y) {\r\n  return i <= y;\r\n}\r\nfunction gte(i, y) {\r\n  return i >= y;\r\n}\r\n\r\nfunction expand$3(str, isTop) {\r\n  var expansions = [];\r\n\r\n  var m = balanced('{', '}', str);\r\n  if (!m) return [str];\r\n\r\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\r\n  var pre = m.pre;\r\n  var post = m.post.length\r\n    ? expand$3(m.post, false)\r\n    : [''];\r\n\r\n  if (/\\$$/.test(m.pre)) {    \r\n    for (var k = 0; k < post.length; k++) {\r\n      var expansion = pre+ '{' + m.body + '}' + post[k];\r\n      expansions.push(expansion);\r\n    }\r\n  } else {\r\n    var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\r\n    var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\r\n    var isSequence = isNumericSequence || isAlphaSequence;\r\n    var isOptions = m.body.indexOf(',') >= 0;\r\n    if (!isSequence && !isOptions) {\r\n      // {a},b}\r\n      if (m.post.match(/,.*\\}/)) {\r\n        str = m.pre + '{' + m.body + escClose + m.post;\r\n        return expand$3(str);\r\n      }\r\n      return [str];\r\n    }\r\n\r\n    var n;\r\n    if (isSequence) {\r\n      n = m.body.split(/\\.\\./);\r\n    } else {\r\n      n = parseCommaParts(m.body);\r\n      if (n.length === 1) {\r\n        // x{{a,b}}y ==> x{a}y x{b}y\r\n        n = expand$3(n[0], false).map(embrace);\r\n        if (n.length === 1) {\r\n          return post.map(function(p) {\r\n            return m.pre + n[0] + p;\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    // at this point, n is the parts, and we know it's not a comma set\r\n    // with a single entry.\r\n    var N;\r\n\r\n    if (isSequence) {\r\n      var x = numeric(n[0]);\r\n      var y = numeric(n[1]);\r\n      var width = Math.max(n[0].length, n[1].length);\r\n      var incr = n.length == 3\r\n        ? Math.abs(numeric(n[2]))\r\n        : 1;\r\n      var test = lte;\r\n      var reverse = y < x;\r\n      if (reverse) {\r\n        incr *= -1;\r\n        test = gte;\r\n      }\r\n      var pad = n.some(isPadded);\r\n\r\n      N = [];\r\n\r\n      for (var i = x; test(i, y); i += incr) {\r\n        var c;\r\n        if (isAlphaSequence) {\r\n          c = String.fromCharCode(i);\r\n          if (c === '\\\\')\r\n            c = '';\r\n        } else {\r\n          c = String(i);\r\n          if (pad) {\r\n            var need = width - c.length;\r\n            if (need > 0) {\r\n              var z = new Array(need + 1).join('0');\r\n              if (i < 0)\r\n                c = '-' + z + c.slice(1);\r\n              else\r\n                c = z + c;\r\n            }\r\n          }\r\n        }\r\n        N.push(c);\r\n      }\r\n    } else {\r\n      N = [];\r\n\r\n      for (var j = 0; j < n.length; j++) {\r\n        N.push.apply(N, expand$3(n[j], false));\r\n      }\r\n    }\r\n\r\n    for (var j = 0; j < N.length; j++) {\r\n      for (var k = 0; k < post.length; k++) {\r\n        var expansion = pre + N[j] + post[k];\r\n        if (!isTop || isSequence || expansion)\r\n          expansions.push(expansion);\r\n      }\r\n    }\r\n  }\r\n\r\n  return expansions;\r\n}\r\n\r\nvar expand$4 = /*@__PURE__*/getDefaultExportFromCjs(braceExpansion);\r\n\r\nconst MAX_PATTERN_LENGTH = 1024 * 64;\r\nconst assertValidPattern = (pattern) => {\r\n    if (typeof pattern !== 'string') {\r\n        throw new TypeError('invalid pattern');\r\n    }\r\n    if (pattern.length > MAX_PATTERN_LENGTH) {\r\n        throw new TypeError('pattern is too long');\r\n    }\r\n};\r\n\r\n// translate the various posix character classes into unicode properties\r\n// this works across all unicode locales\r\n// { <posix class>: [<translation>, /u flag required, negated]\r\nconst posixClasses = {\r\n    '[:alnum:]': ['\\\\p{L}\\\\p{Nl}\\\\p{Nd}', true],\r\n    '[:alpha:]': ['\\\\p{L}\\\\p{Nl}', true],\r\n    '[:ascii:]': ['\\\\x' + '00-\\\\x' + '7f', false],\r\n    '[:blank:]': ['\\\\p{Zs}\\\\t', true],\r\n    '[:cntrl:]': ['\\\\p{Cc}', true],\r\n    '[:digit:]': ['\\\\p{Nd}', true],\r\n    '[:graph:]': ['\\\\p{Z}\\\\p{C}', true, true],\r\n    '[:lower:]': ['\\\\p{Ll}', true],\r\n    '[:print:]': ['\\\\p{C}', true],\r\n    '[:punct:]': ['\\\\p{P}', true],\r\n    '[:space:]': ['\\\\p{Z}\\\\t\\\\r\\\\n\\\\v\\\\f', true],\r\n    '[:upper:]': ['\\\\p{Lu}', true],\r\n    '[:word:]': ['\\\\p{L}\\\\p{Nl}\\\\p{Nd}\\\\p{Pc}', true],\r\n    '[:xdigit:]': ['A-Fa-f0-9', false],\r\n};\r\n// only need to escape a few things inside of brace expressions\r\n// escapes: [ \\ ] -\r\nconst braceEscape = (s) => s.replace(/[[\\]\\\\-]/g, '\\\\$&');\r\n// escape all regexp magic characters\r\nconst regexpEscape = (s) => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n// everything has already been escaped, we just have to join\r\nconst rangesToString = (ranges) => ranges.join('');\r\n// takes a glob string at a posix brace expression, and returns\r\n// an equivalent regular expression source, and boolean indicating\r\n// whether the /u flag needs to be applied, and the number of chars\r\n// consumed to parse the character class.\r\n// This also removes out of order ranges, and returns ($.) if the\r\n// entire class just no good.\r\nconst parseClass = (glob, position) => {\r\n    const pos = position;\r\n    /* c8 ignore start */\r\n    if (glob.charAt(pos) !== '[') {\r\n        throw new Error('not in a brace expression');\r\n    }\r\n    /* c8 ignore stop */\r\n    const ranges = [];\r\n    const negs = [];\r\n    let i = pos + 1;\r\n    let sawStart = false;\r\n    let uflag = false;\r\n    let escaping = false;\r\n    let negate = false;\r\n    let endPos = pos;\r\n    let rangeStart = '';\r\n    WHILE: while (i < glob.length) {\r\n        const c = glob.charAt(i);\r\n        if ((c === '!' || c === '^') && i === pos + 1) {\r\n            negate = true;\r\n            i++;\r\n            continue;\r\n        }\r\n        if (c === ']' && sawStart && !escaping) {\r\n            endPos = i + 1;\r\n            break;\r\n        }\r\n        sawStart = true;\r\n        if (c === '\\\\') {\r\n            if (!escaping) {\r\n                escaping = true;\r\n                i++;\r\n                continue;\r\n            }\r\n            // escaped \\ char, fall through and treat like normal char\r\n        }\r\n        if (c === '[' && !escaping) {\r\n            // either a posix class, a collation equivalent, or just a [\r\n            for (const [cls, [unip, u, neg]] of Object.entries(posixClasses)) {\r\n                if (glob.startsWith(cls, i)) {\r\n                    // invalid, [a-[] is fine, but not [a-[:alpha]]\r\n                    if (rangeStart) {\r\n                        return ['$.', false, glob.length - pos, true];\r\n                    }\r\n                    i += cls.length;\r\n                    if (neg)\r\n                        negs.push(unip);\r\n                    else\r\n                        ranges.push(unip);\r\n                    uflag = uflag || u;\r\n                    continue WHILE;\r\n                }\r\n            }\r\n        }\r\n        // now it's just a normal character, effectively\r\n        escaping = false;\r\n        if (rangeStart) {\r\n            // throw this range away if it's not valid, but others\r\n            // can still match.\r\n            if (c > rangeStart) {\r\n                ranges.push(braceEscape(rangeStart) + '-' + braceEscape(c));\r\n            }\r\n            else if (c === rangeStart) {\r\n                ranges.push(braceEscape(c));\r\n            }\r\n            rangeStart = '';\r\n            i++;\r\n            continue;\r\n        }\r\n        // now might be the start of a range.\r\n        // can be either c-d or c-] or c<more...>] or c] at this point\r\n        if (glob.startsWith('-]', i + 1)) {\r\n            ranges.push(braceEscape(c + '-'));\r\n            i += 2;\r\n            continue;\r\n        }\r\n        if (glob.startsWith('-', i + 1)) {\r\n            rangeStart = c;\r\n            i += 2;\r\n            continue;\r\n        }\r\n        // not the start of a range, just a single character\r\n        ranges.push(braceEscape(c));\r\n        i++;\r\n    }\r\n    if (endPos < i) {\r\n        // didn't see the end of the class, not a valid class,\r\n        // but might still be valid as a literal match.\r\n        return ['', false, 0, false];\r\n    }\r\n    // if we got no ranges and no negates, then we have a range that\r\n    // cannot possibly match anything, and that poisons the whole glob\r\n    if (!ranges.length && !negs.length) {\r\n        return ['$.', false, glob.length - pos, true];\r\n    }\r\n    // if we got one positive range, and it's a single character, then that's\r\n    // not actually a magic pattern, it's just that one literal character.\r\n    // we should not treat that as \"magic\", we should just return the literal\r\n    // character. [_] is a perfectly valid way to escape glob magic chars.\r\n    if (negs.length === 0 &&\r\n        ranges.length === 1 &&\r\n        /^\\\\?.$/.test(ranges[0]) &&\r\n        !negate) {\r\n        const r = ranges[0].length === 2 ? ranges[0].slice(-1) : ranges[0];\r\n        return [regexpEscape(r), false, endPos - pos, false];\r\n    }\r\n    const sranges = '[' + (negate ? '^' : '') + rangesToString(ranges) + ']';\r\n    const snegs = '[' + (negate ? '' : '^') + rangesToString(negs) + ']';\r\n    const comb = ranges.length && negs.length\r\n        ? '(' + sranges + '|' + snegs + ')'\r\n        : ranges.length\r\n            ? sranges\r\n            : snegs;\r\n    return [comb, uflag, endPos - pos, true];\r\n};\r\n\r\n/**\r\n * Un-escape a string that has been escaped with {@link escape}.\r\n *\r\n * If the {@link windowsPathsNoEscape} option is used, then square-brace\r\n * escapes are removed, but not backslash escapes.  For example, it will turn\r\n * the string `'[*]'` into `*`, but it will not turn `'\\\\*'` into `'*'`,\r\n * becuase `\\` is a path separator in `windowsPathsNoEscape` mode.\r\n *\r\n * When `windowsPathsNoEscape` is not set, then both brace escapes and\r\n * backslash escapes are removed.\r\n *\r\n * Slashes (and backslashes in `windowsPathsNoEscape` mode) cannot be escaped\r\n * or unescaped.\r\n */\r\nconst unescape$1 = (s, { windowsPathsNoEscape = false, } = {}) => {\r\n    return windowsPathsNoEscape\r\n        ? s.replace(/\\[([^\\/\\\\])\\]/g, '$1')\r\n        : s.replace(/((?!\\\\).|^)\\[([^\\/\\\\])\\]/g, '$1$2').replace(/\\\\([^\\/])/g, '$1');\r\n};\r\n\r\n// parse a single path portion\r\nconst types$1 = new Set(['!', '?', '+', '*', '@']);\r\nconst isExtglobType = (c) => types$1.has(c);\r\n// Patterns that get prepended to bind to the start of either the\r\n// entire string, or just a single path portion, to prevent dots\r\n// and/or traversal patterns, when needed.\r\n// Exts don't need the ^ or / bit, because the root binds that already.\r\nconst startNoTraversal = '(?!(?:^|/)\\\\.\\\\.?(?:$|/))';\r\nconst startNoDot = '(?!\\\\.)';\r\n// characters that indicate a start of pattern needs the \"no dots\" bit,\r\n// because a dot *might* be matched. ( is not in the list, because in\r\n// the case of a child extglob, it will handle the prevention itself.\r\nconst addPatternStart = new Set(['[', '.']);\r\n// cases where traversal is A-OK, no dot prevention needed\r\nconst justDots = new Set(['..', '.']);\r\nconst reSpecials = new Set('().*{}+?[]^$\\\\!');\r\nconst regExpEscape$1 = (s) => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n// any single thing other than /\r\nconst qmark$1 = '[^/]';\r\n// * => any number of characters\r\nconst star$1 = qmark$1 + '*?';\r\n// use + when we need to ensure that *something* matches, because the * is\r\n// the only thing in the path portion.\r\nconst starNoEmpty = qmark$1 + '+?';\r\n// remove the \\ chars that we added if we end up doing a nonmagic compare\r\n// const deslash = (s: string) => s.replace(/\\\\(.)/g, '$1')\r\nclass AST {\r\n    type;\r\n    #root;\r\n    #hasMagic;\r\n    #uflag = false;\r\n    #parts = [];\r\n    #parent;\r\n    #parentIndex;\r\n    #negs;\r\n    #filledNegs = false;\r\n    #options;\r\n    #toString;\r\n    // set to true if it's an extglob with no children\r\n    // (which really means one child of '')\r\n    #emptyExt = false;\r\n    constructor(type, parent, options = {}) {\r\n        this.type = type;\r\n        // extglobs are inherently magical\r\n        if (type)\r\n            this.#hasMagic = true;\r\n        this.#parent = parent;\r\n        this.#root = this.#parent ? this.#parent.#root : this;\r\n        this.#options = this.#root === this ? options : this.#root.#options;\r\n        this.#negs = this.#root === this ? [] : this.#root.#negs;\r\n        if (type === '!' && !this.#root.#filledNegs)\r\n            this.#negs.push(this);\r\n        this.#parentIndex = this.#parent ? this.#parent.#parts.length : 0;\r\n    }\r\n    get hasMagic() {\r\n        /* c8 ignore start */\r\n        if (this.#hasMagic !== undefined)\r\n            return this.#hasMagic;\r\n        /* c8 ignore stop */\r\n        for (const p of this.#parts) {\r\n            if (typeof p === 'string')\r\n                continue;\r\n            if (p.type || p.hasMagic)\r\n                return (this.#hasMagic = true);\r\n        }\r\n        // note: will be undefined until we generate the regexp src and find out\r\n        return this.#hasMagic;\r\n    }\r\n    // reconstructs the pattern\r\n    toString() {\r\n        if (this.#toString !== undefined)\r\n            return this.#toString;\r\n        if (!this.type) {\r\n            return (this.#toString = this.#parts.map(p => String(p)).join(''));\r\n        }\r\n        else {\r\n            return (this.#toString =\r\n                this.type + '(' + this.#parts.map(p => String(p)).join('|') + ')');\r\n        }\r\n    }\r\n    #fillNegs() {\r\n        /* c8 ignore start */\r\n        if (this !== this.#root)\r\n            throw new Error('should only call on root');\r\n        if (this.#filledNegs)\r\n            return this;\r\n        /* c8 ignore stop */\r\n        // call toString() once to fill this out\r\n        this.toString();\r\n        this.#filledNegs = true;\r\n        let n;\r\n        while ((n = this.#negs.pop())) {\r\n            if (n.type !== '!')\r\n                continue;\r\n            // walk up the tree, appending everthing that comes AFTER parentIndex\r\n            let p = n;\r\n            let pp = p.#parent;\r\n            while (pp) {\r\n                for (let i = p.#parentIndex + 1; !pp.type && i < pp.#parts.length; i++) {\r\n                    for (const part of n.#parts) {\r\n                        /* c8 ignore start */\r\n                        if (typeof part === 'string') {\r\n                            throw new Error('string part in extglob AST??');\r\n                        }\r\n                        /* c8 ignore stop */\r\n                        part.copyIn(pp.#parts[i]);\r\n                    }\r\n                }\r\n                p = pp;\r\n                pp = p.#parent;\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    push(...parts) {\r\n        for (const p of parts) {\r\n            if (p === '')\r\n                continue;\r\n            /* c8 ignore start */\r\n            if (typeof p !== 'string' && !(p instanceof AST && p.#parent === this)) {\r\n                throw new Error('invalid part: ' + p);\r\n            }\r\n            /* c8 ignore stop */\r\n            this.#parts.push(p);\r\n        }\r\n    }\r\n    toJSON() {\r\n        const ret = this.type === null\r\n            ? this.#parts.slice().map(p => (typeof p === 'string' ? p : p.toJSON()))\r\n            : [this.type, ...this.#parts.map(p => p.toJSON())];\r\n        if (this.isStart() && !this.type)\r\n            ret.unshift([]);\r\n        if (this.isEnd() &&\r\n            (this === this.#root ||\r\n                (this.#root.#filledNegs && this.#parent?.type === '!'))) {\r\n            ret.push({});\r\n        }\r\n        return ret;\r\n    }\r\n    isStart() {\r\n        if (this.#root === this)\r\n            return true;\r\n        // if (this.type) return !!this.#parent?.isStart()\r\n        if (!this.#parent?.isStart())\r\n            return false;\r\n        if (this.#parentIndex === 0)\r\n            return true;\r\n        // if everything AHEAD of this is a negation, then it's still the \"start\"\r\n        const p = this.#parent;\r\n        for (let i = 0; i < this.#parentIndex; i++) {\r\n            const pp = p.#parts[i];\r\n            if (!(pp instanceof AST && pp.type === '!')) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    isEnd() {\r\n        if (this.#root === this)\r\n            return true;\r\n        if (this.#parent?.type === '!')\r\n            return true;\r\n        if (!this.#parent?.isEnd())\r\n            return false;\r\n        if (!this.type)\r\n            return this.#parent?.isEnd();\r\n        // if not root, it'll always have a parent\r\n        /* c8 ignore start */\r\n        const pl = this.#parent ? this.#parent.#parts.length : 0;\r\n        /* c8 ignore stop */\r\n        return this.#parentIndex === pl - 1;\r\n    }\r\n    copyIn(part) {\r\n        if (typeof part === 'string')\r\n            this.push(part);\r\n        else\r\n            this.push(part.clone(this));\r\n    }\r\n    clone(parent) {\r\n        const c = new AST(this.type, parent);\r\n        for (const p of this.#parts) {\r\n            c.copyIn(p);\r\n        }\r\n        return c;\r\n    }\r\n    static #parseAST(str, ast, pos, opt) {\r\n        let escaping = false;\r\n        let inBrace = false;\r\n        let braceStart = -1;\r\n        let braceNeg = false;\r\n        if (ast.type === null) {\r\n            // outside of a extglob, append until we find a start\r\n            let i = pos;\r\n            let acc = '';\r\n            while (i < str.length) {\r\n                const c = str.charAt(i++);\r\n                // still accumulate escapes at this point, but we do ignore\r\n                // starts that are escaped\r\n                if (escaping || c === '\\\\') {\r\n                    escaping = !escaping;\r\n                    acc += c;\r\n                    continue;\r\n                }\r\n                if (inBrace) {\r\n                    if (i === braceStart + 1) {\r\n                        if (c === '^' || c === '!') {\r\n                            braceNeg = true;\r\n                        }\r\n                    }\r\n                    else if (c === ']' && !(i === braceStart + 2 && braceNeg)) {\r\n                        inBrace = false;\r\n                    }\r\n                    acc += c;\r\n                    continue;\r\n                }\r\n                else if (c === '[') {\r\n                    inBrace = true;\r\n                    braceStart = i;\r\n                    braceNeg = false;\r\n                    acc += c;\r\n                    continue;\r\n                }\r\n                if (!opt.noext && isExtglobType(c) && str.charAt(i) === '(') {\r\n                    ast.push(acc);\r\n                    acc = '';\r\n                    const ext = new AST(c, ast);\r\n                    i = AST.#parseAST(str, ext, i, opt);\r\n                    ast.push(ext);\r\n                    continue;\r\n                }\r\n                acc += c;\r\n            }\r\n            ast.push(acc);\r\n            return i;\r\n        }\r\n        // some kind of extglob, pos is at the (\r\n        // find the next | or )\r\n        let i = pos + 1;\r\n        let part = new AST(null, ast);\r\n        const parts = [];\r\n        let acc = '';\r\n        while (i < str.length) {\r\n            const c = str.charAt(i++);\r\n            // still accumulate escapes at this point, but we do ignore\r\n            // starts that are escaped\r\n            if (escaping || c === '\\\\') {\r\n                escaping = !escaping;\r\n                acc += c;\r\n                continue;\r\n            }\r\n            if (inBrace) {\r\n                if (i === braceStart + 1) {\r\n                    if (c === '^' || c === '!') {\r\n                        braceNeg = true;\r\n                    }\r\n                }\r\n                else if (c === ']' && !(i === braceStart + 2 && braceNeg)) {\r\n                    inBrace = false;\r\n                }\r\n                acc += c;\r\n                continue;\r\n            }\r\n            else if (c === '[') {\r\n                inBrace = true;\r\n                braceStart = i;\r\n                braceNeg = false;\r\n                acc += c;\r\n                continue;\r\n            }\r\n            if (isExtglobType(c) && str.charAt(i) === '(') {\r\n                part.push(acc);\r\n                acc = '';\r\n                const ext = new AST(c, part);\r\n                part.push(ext);\r\n                i = AST.#parseAST(str, ext, i, opt);\r\n                continue;\r\n            }\r\n            if (c === '|') {\r\n                part.push(acc);\r\n                acc = '';\r\n                parts.push(part);\r\n                part = new AST(null, ast);\r\n                continue;\r\n            }\r\n            if (c === ')') {\r\n                if (acc === '' && ast.#parts.length === 0) {\r\n                    ast.#emptyExt = true;\r\n                }\r\n                part.push(acc);\r\n                acc = '';\r\n                ast.push(...parts, part);\r\n                return i;\r\n            }\r\n            acc += c;\r\n        }\r\n        // unfinished extglob\r\n        // if we got here, it was a malformed extglob! not an extglob, but\r\n        // maybe something else in there.\r\n        ast.type = null;\r\n        ast.#hasMagic = undefined;\r\n        ast.#parts = [str.substring(pos - 1)];\r\n        return i;\r\n    }\r\n    static fromGlob(pattern, options = {}) {\r\n        const ast = new AST(null, undefined, options);\r\n        AST.#parseAST(pattern, ast, 0, options);\r\n        return ast;\r\n    }\r\n    // returns the regular expression if there's magic, or the unescaped\r\n    // string if not.\r\n    toMMPattern() {\r\n        // should only be called on root\r\n        /* c8 ignore start */\r\n        if (this !== this.#root)\r\n            return this.#root.toMMPattern();\r\n        /* c8 ignore stop */\r\n        const glob = this.toString();\r\n        const [re, body, hasMagic, uflag] = this.toRegExpSource();\r\n        // if we're in nocase mode, and not nocaseMagicOnly, then we do\r\n        // still need a regular expression if we have to case-insensitively\r\n        // match capital/lowercase characters.\r\n        const anyMagic = hasMagic ||\r\n            this.#hasMagic ||\r\n            (this.#options.nocase &&\r\n                !this.#options.nocaseMagicOnly &&\r\n                glob.toUpperCase() !== glob.toLowerCase());\r\n        if (!anyMagic) {\r\n            return body;\r\n        }\r\n        const flags = (this.#options.nocase ? 'i' : '') + (uflag ? 'u' : '');\r\n        return Object.assign(new RegExp(`^${re}$`, flags), {\r\n            _src: re,\r\n            _glob: glob,\r\n        });\r\n    }\r\n    get options() {\r\n        return this.#options;\r\n    }\r\n    // returns the string match, the regexp source, whether there's magic\r\n    // in the regexp (so a regular expression is required) and whether or\r\n    // not the uflag is needed for the regular expression (for posix classes)\r\n    // TODO: instead of injecting the start/end at this point, just return\r\n    // the BODY of the regexp, along with the start/end portions suitable\r\n    // for binding the start/end in either a joined full-path makeRe context\r\n    // (where we bind to (^|/), or a standalone matchPart context (where\r\n    // we bind to ^, and not /).  Otherwise slashes get duped!\r\n    //\r\n    // In part-matching mode, the start is:\r\n    // - if not isStart: nothing\r\n    // - if traversal possible, but not allowed: ^(?!\\.\\.?$)\r\n    // - if dots allowed or not possible: ^\r\n    // - if dots possible and not allowed: ^(?!\\.)\r\n    // end is:\r\n    // - if not isEnd(): nothing\r\n    // - else: $\r\n    //\r\n    // In full-path matching mode, we put the slash at the START of the\r\n    // pattern, so start is:\r\n    // - if first pattern: same as part-matching mode\r\n    // - if not isStart(): nothing\r\n    // - if traversal possible, but not allowed: /(?!\\.\\.?(?:$|/))\r\n    // - if dots allowed or not possible: /\r\n    // - if dots possible and not allowed: /(?!\\.)\r\n    // end is:\r\n    // - if last pattern, same as part-matching mode\r\n    // - else nothing\r\n    //\r\n    // Always put the (?:$|/) on negated tails, though, because that has to be\r\n    // there to bind the end of the negated pattern portion, and it's easier to\r\n    // just stick it in now rather than try to inject it later in the middle of\r\n    // the pattern.\r\n    //\r\n    // We can just always return the same end, and leave it up to the caller\r\n    // to know whether it's going to be used joined or in parts.\r\n    // And, if the start is adjusted slightly, can do the same there:\r\n    // - if not isStart: nothing\r\n    // - if traversal possible, but not allowed: (?:/|^)(?!\\.\\.?$)\r\n    // - if dots allowed or not possible: (?:/|^)\r\n    // - if dots possible and not allowed: (?:/|^)(?!\\.)\r\n    //\r\n    // But it's better to have a simpler binding without a conditional, for\r\n    // performance, so probably better to return both start options.\r\n    //\r\n    // Then the caller just ignores the end if it's not the first pattern,\r\n    // and the start always gets applied.\r\n    //\r\n    // But that's always going to be $ if it's the ending pattern, or nothing,\r\n    // so the caller can just attach $ at the end of the pattern when building.\r\n    //\r\n    // So the todo is:\r\n    // - better detect what kind of start is needed\r\n    // - return both flavors of starting pattern\r\n    // - attach $ at the end of the pattern when creating the actual RegExp\r\n    //\r\n    // Ah, but wait, no, that all only applies to the root when the first pattern\r\n    // is not an extglob. If the first pattern IS an extglob, then we need all\r\n    // that dot prevention biz to live in the extglob portions, because eg\r\n    // +(*|.x*) can match .xy but not .yx.\r\n    //\r\n    // So, return the two flavors if it's #root and the first child is not an\r\n    // AST, otherwise leave it to the child AST to handle it, and there,\r\n    // use the (?:^|/) style of start binding.\r\n    //\r\n    // Even simplified further:\r\n    // - Since the start for a join is eg /(?!\\.) and the start for a part\r\n    // is ^(?!\\.), we can just prepend (?!\\.) to the pattern (either root\r\n    // or start or whatever) and prepend ^ or / at the Regexp construction.\r\n    toRegExpSource(allowDot) {\r\n        const dot = allowDot ?? !!this.#options.dot;\r\n        if (this.#root === this)\r\n            this.#fillNegs();\r\n        if (!this.type) {\r\n            const noEmpty = this.isStart() && this.isEnd();\r\n            const src = this.#parts\r\n                .map(p => {\r\n                const [re, _, hasMagic, uflag] = typeof p === 'string'\r\n                    ? AST.#parseGlob(p, this.#hasMagic, noEmpty)\r\n                    : p.toRegExpSource(allowDot);\r\n                this.#hasMagic = this.#hasMagic || hasMagic;\r\n                this.#uflag = this.#uflag || uflag;\r\n                return re;\r\n            })\r\n                .join('');\r\n            let start = '';\r\n            if (this.isStart()) {\r\n                if (typeof this.#parts[0] === 'string') {\r\n                    // this is the string that will match the start of the pattern,\r\n                    // so we need to protect against dots and such.\r\n                    // '.' and '..' cannot match unless the pattern is that exactly,\r\n                    // even if it starts with . or dot:true is set.\r\n                    const dotTravAllowed = this.#parts.length === 1 && justDots.has(this.#parts[0]);\r\n                    if (!dotTravAllowed) {\r\n                        const aps = addPatternStart;\r\n                        // check if we have a possibility of matching . or ..,\r\n                        // and prevent that.\r\n                        const needNoTrav = \r\n                        // dots are allowed, and the pattern starts with [ or .\r\n                        (dot && aps.has(src.charAt(0))) ||\r\n                            // the pattern starts with \\., and then [ or .\r\n                            (src.startsWith('\\\\.') && aps.has(src.charAt(2))) ||\r\n                            // the pattern starts with \\.\\., and then [ or .\r\n                            (src.startsWith('\\\\.\\\\.') && aps.has(src.charAt(4)));\r\n                        // no need to prevent dots if it can't match a dot, or if a\r\n                        // sub-pattern will be preventing it anyway.\r\n                        const needNoDot = !dot && !allowDot && aps.has(src.charAt(0));\r\n                        start = needNoTrav ? startNoTraversal : needNoDot ? startNoDot : '';\r\n                    }\r\n                }\r\n            }\r\n            // append the \"end of path portion\" pattern to negation tails\r\n            let end = '';\r\n            if (this.isEnd() &&\r\n                this.#root.#filledNegs &&\r\n                this.#parent?.type === '!') {\r\n                end = '(?:$|\\\\/)';\r\n            }\r\n            const final = start + src + end;\r\n            return [\r\n                final,\r\n                unescape$1(src),\r\n                (this.#hasMagic = !!this.#hasMagic),\r\n                this.#uflag,\r\n            ];\r\n        }\r\n        // We need to calculate the body *twice* if it's a repeat pattern\r\n        // at the start, once in nodot mode, then again in dot mode, so a\r\n        // pattern like *(?) can match 'x.y'\r\n        const repeated = this.type === '*' || this.type === '+';\r\n        // some kind of extglob\r\n        const start = this.type === '!' ? '(?:(?!(?:' : '(?:';\r\n        let body = this.#partsToRegExp(dot);\r\n        if (this.isStart() && this.isEnd() && !body && this.type !== '!') {\r\n            // invalid extglob, has to at least be *something* present, if it's\r\n            // the entire path portion.\r\n            const s = this.toString();\r\n            this.#parts = [s];\r\n            this.type = null;\r\n            this.#hasMagic = undefined;\r\n            return [s, unescape$1(this.toString()), false, false];\r\n        }\r\n        // XXX abstract out this map method\r\n        let bodyDotAllowed = !repeated || allowDot || dot || !startNoDot\r\n            ? ''\r\n            : this.#partsToRegExp(true);\r\n        if (bodyDotAllowed === body) {\r\n            bodyDotAllowed = '';\r\n        }\r\n        if (bodyDotAllowed) {\r\n            body = `(?:${body})(?:${bodyDotAllowed})*?`;\r\n        }\r\n        // an empty !() is exactly equivalent to a starNoEmpty\r\n        let final = '';\r\n        if (this.type === '!' && this.#emptyExt) {\r\n            final = (this.isStart() && !dot ? startNoDot : '') + starNoEmpty;\r\n        }\r\n        else {\r\n            const close = this.type === '!'\r\n                ? // !() must match something,but !(x) can match ''\r\n                    '))' +\r\n                        (this.isStart() && !dot && !allowDot ? startNoDot : '') +\r\n                        star$1 +\r\n                        ')'\r\n                : this.type === '@'\r\n                    ? ')'\r\n                    : this.type === '?'\r\n                        ? ')?'\r\n                        : this.type === '+' && bodyDotAllowed\r\n                            ? ')'\r\n                            : this.type === '*' && bodyDotAllowed\r\n                                ? `)?`\r\n                                : `)${this.type}`;\r\n            final = start + body + close;\r\n        }\r\n        return [\r\n            final,\r\n            unescape$1(body),\r\n            (this.#hasMagic = !!this.#hasMagic),\r\n            this.#uflag,\r\n        ];\r\n    }\r\n    #partsToRegExp(dot) {\r\n        return this.#parts\r\n            .map(p => {\r\n            // extglob ASTs should only contain parent ASTs\r\n            /* c8 ignore start */\r\n            if (typeof p === 'string') {\r\n                throw new Error('string type in extglob ast??');\r\n            }\r\n            /* c8 ignore stop */\r\n            // can ignore hasMagic, because extglobs are already always magic\r\n            const [re, _, _hasMagic, uflag] = p.toRegExpSource(dot);\r\n            this.#uflag = this.#uflag || uflag;\r\n            return re;\r\n        })\r\n            .filter(p => !(this.isStart() && this.isEnd()) || !!p)\r\n            .join('|');\r\n    }\r\n    static #parseGlob(glob, hasMagic, noEmpty = false) {\r\n        let escaping = false;\r\n        let re = '';\r\n        let uflag = false;\r\n        for (let i = 0; i < glob.length; i++) {\r\n            const c = glob.charAt(i);\r\n            if (escaping) {\r\n                escaping = false;\r\n                re += (reSpecials.has(c) ? '\\\\' : '') + c;\r\n                continue;\r\n            }\r\n            if (c === '\\\\') {\r\n                if (i === glob.length - 1) {\r\n                    re += '\\\\\\\\';\r\n                }\r\n                else {\r\n                    escaping = true;\r\n                }\r\n                continue;\r\n            }\r\n            if (c === '[') {\r\n                const [src, needUflag, consumed, magic] = parseClass(glob, i);\r\n                if (consumed) {\r\n                    re += src;\r\n                    uflag = uflag || needUflag;\r\n                    i += consumed - 1;\r\n                    hasMagic = hasMagic || magic;\r\n                    continue;\r\n                }\r\n            }\r\n            if (c === '*') {\r\n                if (noEmpty && glob === '*')\r\n                    re += starNoEmpty;\r\n                else\r\n                    re += star$1;\r\n                hasMagic = true;\r\n                continue;\r\n            }\r\n            if (c === '?') {\r\n                re += qmark$1;\r\n                hasMagic = true;\r\n                continue;\r\n            }\r\n            re += regExpEscape$1(c);\r\n        }\r\n        return [re, unescape$1(glob), !!hasMagic, uflag];\r\n    }\r\n}\r\n\r\n/**\r\n * Escape all magic characters in a glob pattern.\r\n *\r\n * If the {@link windowsPathsNoEscape | GlobOptions.windowsPathsNoEscape}\r\n * option is used, then characters are escaped by wrapping in `[]`, because\r\n * a magic character wrapped in a character class can only be satisfied by\r\n * that exact character.  In this mode, `\\` is _not_ escaped, because it is\r\n * not interpreted as a magic character, but instead as a path separator.\r\n */\r\nconst escape$2 = (s, { windowsPathsNoEscape = false, } = {}) => {\r\n    // don't need to escape +@! because we escape the parens\r\n    // that make those magic, and escaping ! as [!] isn't valid,\r\n    // because [!]] is a valid glob class meaning not ']'.\r\n    return windowsPathsNoEscape\r\n        ? s.replace(/[?*()[\\]]/g, '[$&]')\r\n        : s.replace(/[?*()[\\]\\\\]/g, '\\\\$&');\r\n};\r\n\r\nconst minimatch = (p, pattern, options = {}) => {\r\n    assertValidPattern(pattern);\r\n    // shortcut: comments match nothing.\r\n    if (!options.nocomment && pattern.charAt(0) === '#') {\r\n        return false;\r\n    }\r\n    return new Minimatch(pattern, options).match(p);\r\n};\r\n// Optimized checking for the most common glob patterns.\r\nconst starDotExtRE = /^\\*+([^+@!?\\*\\[\\(]*)$/;\r\nconst starDotExtTest = (ext) => (f) => !f.startsWith('.') && f.endsWith(ext);\r\nconst starDotExtTestDot = (ext) => (f) => f.endsWith(ext);\r\nconst starDotExtTestNocase = (ext) => {\r\n    ext = ext.toLowerCase();\r\n    return (f) => !f.startsWith('.') && f.toLowerCase().endsWith(ext);\r\n};\r\nconst starDotExtTestNocaseDot = (ext) => {\r\n    ext = ext.toLowerCase();\r\n    return (f) => f.toLowerCase().endsWith(ext);\r\n};\r\nconst starDotStarRE = /^\\*+\\.\\*+$/;\r\nconst starDotStarTest = (f) => !f.startsWith('.') && f.includes('.');\r\nconst starDotStarTestDot = (f) => f !== '.' && f !== '..' && f.includes('.');\r\nconst dotStarRE = /^\\.\\*+$/;\r\nconst dotStarTest = (f) => f !== '.' && f !== '..' && f.startsWith('.');\r\nconst starRE = /^\\*+$/;\r\nconst starTest = (f) => f.length !== 0 && !f.startsWith('.');\r\nconst starTestDot = (f) => f.length !== 0 && f !== '.' && f !== '..';\r\nconst qmarksRE = /^\\?+([^+@!?\\*\\[\\(]*)?$/;\r\nconst qmarksTestNocase = ([$0, ext = '']) => {\r\n    const noext = qmarksTestNoExt([$0]);\r\n    if (!ext)\r\n        return noext;\r\n    ext = ext.toLowerCase();\r\n    return (f) => noext(f) && f.toLowerCase().endsWith(ext);\r\n};\r\nconst qmarksTestNocaseDot = ([$0, ext = '']) => {\r\n    const noext = qmarksTestNoExtDot([$0]);\r\n    if (!ext)\r\n        return noext;\r\n    ext = ext.toLowerCase();\r\n    return (f) => noext(f) && f.toLowerCase().endsWith(ext);\r\n};\r\nconst qmarksTestDot = ([$0, ext = '']) => {\r\n    const noext = qmarksTestNoExtDot([$0]);\r\n    return !ext ? noext : (f) => noext(f) && f.endsWith(ext);\r\n};\r\nconst qmarksTest = ([$0, ext = '']) => {\r\n    const noext = qmarksTestNoExt([$0]);\r\n    return !ext ? noext : (f) => noext(f) && f.endsWith(ext);\r\n};\r\nconst qmarksTestNoExt = ([$0]) => {\r\n    const len = $0.length;\r\n    return (f) => f.length === len && !f.startsWith('.');\r\n};\r\nconst qmarksTestNoExtDot = ([$0]) => {\r\n    const len = $0.length;\r\n    return (f) => f.length === len && f !== '.' && f !== '..';\r\n};\r\n/* c8 ignore start */\r\nconst defaultPlatform$2 = (typeof process === 'object' && process\r\n    ? (typeof process.env === 'object' &&\r\n        process.env &&\r\n        process.env.__MINIMATCH_TESTING_PLATFORM__) ||\r\n        process.platform\r\n    : 'posix');\r\nconst path$j = {\r\n    win32: { sep: '\\\\' },\r\n    posix: { sep: '/' },\r\n};\r\n/* c8 ignore stop */\r\nconst sep = defaultPlatform$2 === 'win32' ? path$j.win32.sep : path$j.posix.sep;\r\nminimatch.sep = sep;\r\nconst GLOBSTAR$2 = Symbol('globstar **');\r\nminimatch.GLOBSTAR = GLOBSTAR$2;\r\n// any single thing other than /\r\n// don't need to escape / when using new RegExp()\r\nconst qmark = '[^/]';\r\n// * => any number of characters\r\nconst star = qmark + '*?';\r\n// ** when dots are allowed.  Anything goes, except .. and .\r\n// not (^ or / followed by one or two dots followed by $ or /),\r\n// followed by anything, any number of times.\r\nconst twoStarDot = '(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?';\r\n// not a ^ or / followed by a dot,\r\n// followed by anything, any number of times.\r\nconst twoStarNoDot = '(?:(?!(?:\\\\/|^)\\\\.).)*?';\r\nconst filter$1 = (pattern, options = {}) => (p) => minimatch(p, pattern, options);\r\nminimatch.filter = filter$1;\r\nconst ext = (a, b = {}) => Object.assign({}, a, b);\r\nconst defaults = (def) => {\r\n    if (!def || typeof def !== 'object' || !Object.keys(def).length) {\r\n        return minimatch;\r\n    }\r\n    const orig = minimatch;\r\n    const m = (p, pattern, options = {}) => orig(p, pattern, ext(def, options));\r\n    return Object.assign(m, {\r\n        Minimatch: class Minimatch extends orig.Minimatch {\r\n            constructor(pattern, options = {}) {\r\n                super(pattern, ext(def, options));\r\n            }\r\n            static defaults(options) {\r\n                return orig.defaults(ext(def, options)).Minimatch;\r\n            }\r\n        },\r\n        AST: class AST extends orig.AST {\r\n            /* c8 ignore start */\r\n            constructor(type, parent, options = {}) {\r\n                super(type, parent, ext(def, options));\r\n            }\r\n            /* c8 ignore stop */\r\n            static fromGlob(pattern, options = {}) {\r\n                return orig.AST.fromGlob(pattern, ext(def, options));\r\n            }\r\n        },\r\n        unescape: (s, options = {}) => orig.unescape(s, ext(def, options)),\r\n        escape: (s, options = {}) => orig.escape(s, ext(def, options)),\r\n        filter: (pattern, options = {}) => orig.filter(pattern, ext(def, options)),\r\n        defaults: (options) => orig.defaults(ext(def, options)),\r\n        makeRe: (pattern, options = {}) => orig.makeRe(pattern, ext(def, options)),\r\n        braceExpand: (pattern, options = {}) => orig.braceExpand(pattern, ext(def, options)),\r\n        match: (list, pattern, options = {}) => orig.match(list, pattern, ext(def, options)),\r\n        sep: orig.sep,\r\n        GLOBSTAR: GLOBSTAR$2,\r\n    });\r\n};\r\nminimatch.defaults = defaults;\r\n// Brace expansion:\r\n// a{b,c}d -> abd acd\r\n// a{b,}c -> abc ac\r\n// a{0..3}d -> a0d a1d a2d a3d\r\n// a{b,c{d,e}f}g -> abg acdfg acefg\r\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\r\n//\r\n// Invalid sets are not expanded.\r\n// a{2..}b -> a{2..}b\r\n// a{b}c -> a{b}c\r\nconst braceExpand = (pattern, options = {}) => {\r\n    assertValidPattern(pattern);\r\n    // Thanks to Yeting Li <https://github.com/yetingli> for\r\n    // improving this regexp to avoid a ReDOS vulnerability.\r\n    if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\r\n        // shortcut. no need to expand.\r\n        return [pattern];\r\n    }\r\n    return expand$4(pattern);\r\n};\r\nminimatch.braceExpand = braceExpand;\r\n// parse a component of the expanded set.\r\n// At this point, no pattern may contain \"/\" in it\r\n// so we're going to return a 2d array, where each entry is the full\r\n// pattern, split on '/', and then turned into a regular expression.\r\n// A regexp is made at the end which joins each array with an\r\n// escaped /, and another full one which joins each regexp with |.\r\n//\r\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\r\n// when it is the *only* thing in a path portion.  Otherwise, any series\r\n// of * is equivalent to a single *.  Globstar behavior is enabled by\r\n// default, and can be disabled by setting options.noglobstar.\r\nconst makeRe$1 = (pattern, options = {}) => new Minimatch(pattern, options).makeRe();\r\nminimatch.makeRe = makeRe$1;\r\nconst match = (list, pattern, options = {}) => {\r\n    const mm = new Minimatch(pattern, options);\r\n    list = list.filter(f => mm.match(f));\r\n    if (mm.options.nonull && !list.length) {\r\n        list.push(pattern);\r\n    }\r\n    return list;\r\n};\r\nminimatch.match = match;\r\n// replace stuff like \\* with *\r\nconst globMagic = /[?*]|[+@!]\\(.*?\\)|\\[|\\]/;\r\nconst regExpEscape = (s) => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\nclass Minimatch {\r\n    options;\r\n    set;\r\n    pattern;\r\n    windowsPathsNoEscape;\r\n    nonegate;\r\n    negate;\r\n    comment;\r\n    empty;\r\n    preserveMultipleSlashes;\r\n    partial;\r\n    globSet;\r\n    globParts;\r\n    nocase;\r\n    isWindows;\r\n    platform;\r\n    windowsNoMagicRoot;\r\n    regexp;\r\n    constructor(pattern, options = {}) {\r\n        assertValidPattern(pattern);\r\n        options = options || {};\r\n        this.options = options;\r\n        this.pattern = pattern;\r\n        this.platform = options.platform || defaultPlatform$2;\r\n        this.isWindows = this.platform === 'win32';\r\n        this.windowsPathsNoEscape =\r\n            !!options.windowsPathsNoEscape || options.allowWindowsEscape === false;\r\n        if (this.windowsPathsNoEscape) {\r\n            this.pattern = this.pattern.replace(/\\\\/g, '/');\r\n        }\r\n        this.preserveMultipleSlashes = !!options.preserveMultipleSlashes;\r\n        this.regexp = null;\r\n        this.negate = false;\r\n        this.nonegate = !!options.nonegate;\r\n        this.comment = false;\r\n        this.empty = false;\r\n        this.partial = !!options.partial;\r\n        this.nocase = !!this.options.nocase;\r\n        this.windowsNoMagicRoot =\r\n            options.windowsNoMagicRoot !== undefined\r\n                ? options.windowsNoMagicRoot\r\n                : !!(this.isWindows && this.nocase);\r\n        this.globSet = [];\r\n        this.globParts = [];\r\n        this.set = [];\r\n        // make the set of regexps etc.\r\n        this.make();\r\n    }\r\n    hasMagic() {\r\n        if (this.options.magicalBraces && this.set.length > 1) {\r\n            return true;\r\n        }\r\n        for (const pattern of this.set) {\r\n            for (const part of pattern) {\r\n                if (typeof part !== 'string')\r\n                    return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    debug(..._) { }\r\n    make() {\r\n        const pattern = this.pattern;\r\n        const options = this.options;\r\n        // empty patterns and comments match nothing.\r\n        if (!options.nocomment && pattern.charAt(0) === '#') {\r\n            this.comment = true;\r\n            return;\r\n        }\r\n        if (!pattern) {\r\n            this.empty = true;\r\n            return;\r\n        }\r\n        // step 1: figure out negation, etc.\r\n        this.parseNegate();\r\n        // step 2: expand braces\r\n        this.globSet = [...new Set(this.braceExpand())];\r\n        if (options.debug) {\r\n            this.debug = (...args) => console.error(...args);\r\n        }\r\n        this.debug(this.pattern, this.globSet);\r\n        // step 3: now we have a set, so turn each one into a series of\r\n        // path-portion matching patterns.\r\n        // These will be regexps, except in the case of \"**\", which is\r\n        // set to the GLOBSTAR object for globstar behavior,\r\n        // and will not contain any / characters\r\n        //\r\n        // First, we preprocess to make the glob pattern sets a bit simpler\r\n        // and deduped.  There are some perf-killing patterns that can cause\r\n        // problems with a glob walk, but we can simplify them down a bit.\r\n        const rawGlobParts = this.globSet.map(s => this.slashSplit(s));\r\n        this.globParts = this.preprocess(rawGlobParts);\r\n        this.debug(this.pattern, this.globParts);\r\n        // glob --> regexps\r\n        let set = this.globParts.map((s, _, __) => {\r\n            if (this.isWindows && this.windowsNoMagicRoot) {\r\n                // check if it's a drive or unc path.\r\n                const isUNC = s[0] === '' &&\r\n                    s[1] === '' &&\r\n                    (s[2] === '?' || !globMagic.test(s[2])) &&\r\n                    !globMagic.test(s[3]);\r\n                const isDrive = /^[a-z]:/i.test(s[0]);\r\n                if (isUNC) {\r\n                    return [...s.slice(0, 4), ...s.slice(4).map(ss => this.parse(ss))];\r\n                }\r\n                else if (isDrive) {\r\n                    return [s[0], ...s.slice(1).map(ss => this.parse(ss))];\r\n                }\r\n            }\r\n            return s.map(ss => this.parse(ss));\r\n        });\r\n        this.debug(this.pattern, set);\r\n        // filter out everything that didn't compile properly.\r\n        this.set = set.filter(s => s.indexOf(false) === -1);\r\n        // do not treat the ? in UNC paths as magic\r\n        if (this.isWindows) {\r\n            for (let i = 0; i < this.set.length; i++) {\r\n                const p = this.set[i];\r\n                if (p[0] === '' &&\r\n                    p[1] === '' &&\r\n                    this.globParts[i][2] === '?' &&\r\n                    typeof p[3] === 'string' &&\r\n                    /^[a-z]:$/i.test(p[3])) {\r\n                    p[2] = '?';\r\n                }\r\n            }\r\n        }\r\n        this.debug(this.pattern, this.set);\r\n    }\r\n    // various transforms to equivalent pattern sets that are\r\n    // faster to process in a filesystem walk.  The goal is to\r\n    // eliminate what we can, and push all ** patterns as far\r\n    // to the right as possible, even if it increases the number\r\n    // of patterns that we have to process.\r\n    preprocess(globParts) {\r\n        // if we're not in globstar mode, then turn all ** into *\r\n        if (this.options.noglobstar) {\r\n            for (let i = 0; i < globParts.length; i++) {\r\n                for (let j = 0; j < globParts[i].length; j++) {\r\n                    if (globParts[i][j] === '**') {\r\n                        globParts[i][j] = '*';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        const { optimizationLevel = 1 } = this.options;\r\n        if (optimizationLevel >= 2) {\r\n            // aggressive optimization for the purpose of fs walking\r\n            globParts = this.firstPhasePreProcess(globParts);\r\n            globParts = this.secondPhasePreProcess(globParts);\r\n        }\r\n        else if (optimizationLevel >= 1) {\r\n            // just basic optimizations to remove some .. parts\r\n            globParts = this.levelOneOptimize(globParts);\r\n        }\r\n        else {\r\n            // just collapse multiple ** portions into one\r\n            globParts = this.adjascentGlobstarOptimize(globParts);\r\n        }\r\n        return globParts;\r\n    }\r\n    // just get rid of adjascent ** portions\r\n    adjascentGlobstarOptimize(globParts) {\r\n        return globParts.map(parts => {\r\n            let gs = -1;\r\n            while (-1 !== (gs = parts.indexOf('**', gs + 1))) {\r\n                let i = gs;\r\n                while (parts[i + 1] === '**') {\r\n                    i++;\r\n                }\r\n                if (i !== gs) {\r\n                    parts.splice(gs, i - gs);\r\n                }\r\n            }\r\n            return parts;\r\n        });\r\n    }\r\n    // get rid of adjascent ** and resolve .. portions\r\n    levelOneOptimize(globParts) {\r\n        return globParts.map(parts => {\r\n            parts = parts.reduce((set, part) => {\r\n                const prev = set[set.length - 1];\r\n                if (part === '**' && prev === '**') {\r\n                    return set;\r\n                }\r\n                if (part === '..') {\r\n                    if (prev && prev !== '..' && prev !== '.' && prev !== '**') {\r\n                        set.pop();\r\n                        return set;\r\n                    }\r\n                }\r\n                set.push(part);\r\n                return set;\r\n            }, []);\r\n            return parts.length === 0 ? [''] : parts;\r\n        });\r\n    }\r\n    levelTwoFileOptimize(parts) {\r\n        if (!Array.isArray(parts)) {\r\n            parts = this.slashSplit(parts);\r\n        }\r\n        let didSomething = false;\r\n        do {\r\n            didSomething = false;\r\n            // <pre>/<e>/<rest> -> <pre>/<rest>\r\n            if (!this.preserveMultipleSlashes) {\r\n                for (let i = 1; i < parts.length - 1; i++) {\r\n                    const p = parts[i];\r\n                    // don't squeeze out UNC patterns\r\n                    if (i === 1 && p === '' && parts[0] === '')\r\n                        continue;\r\n                    if (p === '.' || p === '') {\r\n                        didSomething = true;\r\n                        parts.splice(i, 1);\r\n                        i--;\r\n                    }\r\n                }\r\n                if (parts[0] === '.' &&\r\n                    parts.length === 2 &&\r\n                    (parts[1] === '.' || parts[1] === '')) {\r\n                    didSomething = true;\r\n                    parts.pop();\r\n                }\r\n            }\r\n            // <pre>/<p>/../<rest> -> <pre>/<rest>\r\n            let dd = 0;\r\n            while (-1 !== (dd = parts.indexOf('..', dd + 1))) {\r\n                const p = parts[dd - 1];\r\n                if (p && p !== '.' && p !== '..' && p !== '**') {\r\n                    didSomething = true;\r\n                    parts.splice(dd - 1, 2);\r\n                    dd -= 2;\r\n                }\r\n            }\r\n        } while (didSomething);\r\n        return parts.length === 0 ? [''] : parts;\r\n    }\r\n    // First phase: single-pattern processing\r\n    // <pre> is 1 or more portions\r\n    // <rest> is 1 or more portions\r\n    // <p> is any portion other than ., .., '', or **\r\n    // <e> is . or ''\r\n    //\r\n    // **/.. is *brutal* for filesystem walking performance, because\r\n    // it effectively resets the recursive walk each time it occurs,\r\n    // and ** cannot be reduced out by a .. pattern part like a regexp\r\n    // or most strings (other than .., ., and '') can be.\r\n    //\r\n    // <pre>/**/../<p>/<p>/<rest> -> {<pre>/../<p>/<p>/<rest>,<pre>/**/<p>/<p>/<rest>}\r\n    // <pre>/<e>/<rest> -> <pre>/<rest>\r\n    // <pre>/<p>/../<rest> -> <pre>/<rest>\r\n    // **/**/<rest> -> **/<rest>\r\n    //\r\n    // **/*/<rest> -> */**/<rest> <== not valid because ** doesn't follow\r\n    // this WOULD be allowed if ** did follow symlinks, or * didn't\r\n    firstPhasePreProcess(globParts) {\r\n        let didSomething = false;\r\n        do {\r\n            didSomething = false;\r\n            // <pre>/**/../<p>/<p>/<rest> -> {<pre>/../<p>/<p>/<rest>,<pre>/**/<p>/<p>/<rest>}\r\n            for (let parts of globParts) {\r\n                let gs = -1;\r\n                while (-1 !== (gs = parts.indexOf('**', gs + 1))) {\r\n                    let gss = gs;\r\n                    while (parts[gss + 1] === '**') {\r\n                        // <pre>/**/**/<rest> -> <pre>/**/<rest>\r\n                        gss++;\r\n                    }\r\n                    // eg, if gs is 2 and gss is 4, that means we have 3 **\r\n                    // parts, and can remove 2 of them.\r\n                    if (gss > gs) {\r\n                        parts.splice(gs + 1, gss - gs);\r\n                    }\r\n                    let next = parts[gs + 1];\r\n                    const p = parts[gs + 2];\r\n                    const p2 = parts[gs + 3];\r\n                    if (next !== '..')\r\n                        continue;\r\n                    if (!p ||\r\n                        p === '.' ||\r\n                        p === '..' ||\r\n                        !p2 ||\r\n                        p2 === '.' ||\r\n                        p2 === '..') {\r\n                        continue;\r\n                    }\r\n                    didSomething = true;\r\n                    // edit parts in place, and push the new one\r\n                    parts.splice(gs, 1);\r\n                    const other = parts.slice(0);\r\n                    other[gs] = '**';\r\n                    globParts.push(other);\r\n                    gs--;\r\n                }\r\n                // <pre>/<e>/<rest> -> <pre>/<rest>\r\n                if (!this.preserveMultipleSlashes) {\r\n                    for (let i = 1; i < parts.length - 1; i++) {\r\n                        const p = parts[i];\r\n                        // don't squeeze out UNC patterns\r\n                        if (i === 1 && p === '' && parts[0] === '')\r\n                            continue;\r\n                        if (p === '.' || p === '') {\r\n                            didSomething = true;\r\n                            parts.splice(i, 1);\r\n                            i--;\r\n                        }\r\n                    }\r\n                    if (parts[0] === '.' &&\r\n                        parts.length === 2 &&\r\n                        (parts[1] === '.' || parts[1] === '')) {\r\n                        didSomething = true;\r\n                        parts.pop();\r\n                    }\r\n                }\r\n                // <pre>/<p>/../<rest> -> <pre>/<rest>\r\n                let dd = 0;\r\n                while (-1 !== (dd = parts.indexOf('..', dd + 1))) {\r\n                    const p = parts[dd - 1];\r\n                    if (p && p !== '.' && p !== '..' && p !== '**') {\r\n                        didSomething = true;\r\n                        const needDot = dd === 1 && parts[dd + 1] === '**';\r\n                        const splin = needDot ? ['.'] : [];\r\n                        parts.splice(dd - 1, 2, ...splin);\r\n                        if (parts.length === 0)\r\n                            parts.push('');\r\n                        dd -= 2;\r\n                    }\r\n                }\r\n            }\r\n        } while (didSomething);\r\n        return globParts;\r\n    }\r\n    // second phase: multi-pattern dedupes\r\n    // {<pre>/*/<rest>,<pre>/<p>/<rest>} -> <pre>/*/<rest>\r\n    // {<pre>/<rest>,<pre>/<rest>} -> <pre>/<rest>\r\n    // {<pre>/**/<rest>,<pre>/<rest>} -> <pre>/**/<rest>\r\n    //\r\n    // {<pre>/**/<rest>,<pre>/**/<p>/<rest>} -> <pre>/**/<rest>\r\n    // ^-- not valid because ** doens't follow symlinks\r\n    secondPhasePreProcess(globParts) {\r\n        for (let i = 0; i < globParts.length - 1; i++) {\r\n            for (let j = i + 1; j < globParts.length; j++) {\r\n                const matched = this.partsMatch(globParts[i], globParts[j], !this.preserveMultipleSlashes);\r\n                if (matched) {\r\n                    globParts[i] = [];\r\n                    globParts[j] = matched;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return globParts.filter(gs => gs.length);\r\n    }\r\n    partsMatch(a, b, emptyGSMatch = false) {\r\n        let ai = 0;\r\n        let bi = 0;\r\n        let result = [];\r\n        let which = '';\r\n        while (ai < a.length && bi < b.length) {\r\n            if (a[ai] === b[bi]) {\r\n                result.push(which === 'b' ? b[bi] : a[ai]);\r\n                ai++;\r\n                bi++;\r\n            }\r\n            else if (emptyGSMatch && a[ai] === '**' && b[bi] === a[ai + 1]) {\r\n                result.push(a[ai]);\r\n                ai++;\r\n            }\r\n            else if (emptyGSMatch && b[bi] === '**' && a[ai] === b[bi + 1]) {\r\n                result.push(b[bi]);\r\n                bi++;\r\n            }\r\n            else if (a[ai] === '*' &&\r\n                b[bi] &&\r\n                (this.options.dot || !b[bi].startsWith('.')) &&\r\n                b[bi] !== '**') {\r\n                if (which === 'b')\r\n                    return false;\r\n                which = 'a';\r\n                result.push(a[ai]);\r\n                ai++;\r\n                bi++;\r\n            }\r\n            else if (b[bi] === '*' &&\r\n                a[ai] &&\r\n                (this.options.dot || !a[ai].startsWith('.')) &&\r\n                a[ai] !== '**') {\r\n                if (which === 'a')\r\n                    return false;\r\n                which = 'b';\r\n                result.push(b[bi]);\r\n                ai++;\r\n                bi++;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        // if we fall out of the loop, it means they two are identical\r\n        // as long as their lengths match\r\n        return a.length === b.length && result;\r\n    }\r\n    parseNegate() {\r\n        if (this.nonegate)\r\n            return;\r\n        const pattern = this.pattern;\r\n        let negate = false;\r\n        let negateOffset = 0;\r\n        for (let i = 0; i < pattern.length && pattern.charAt(i) === '!'; i++) {\r\n            negate = !negate;\r\n            negateOffset++;\r\n        }\r\n        if (negateOffset)\r\n            this.pattern = pattern.slice(negateOffset);\r\n        this.negate = negate;\r\n    }\r\n    // set partial to true to test if, for example,\r\n    // \"/a/b\" matches the start of \"/*/b/*/d\"\r\n    // Partial means, if you run out of file before you run\r\n    // out of pattern, then that's fine, as long as all\r\n    // the parts match.\r\n    matchOne(file, pattern, partial = false) {\r\n        const options = this.options;\r\n        // UNC paths like //?/X:/... can match X:/... and vice versa\r\n        // Drive letters in absolute drive or unc paths are always compared\r\n        // case-insensitively.\r\n        if (this.isWindows) {\r\n            const fileDrive = typeof file[0] === 'string' && /^[a-z]:$/i.test(file[0]);\r\n            const fileUNC = !fileDrive &&\r\n                file[0] === '' &&\r\n                file[1] === '' &&\r\n                file[2] === '?' &&\r\n                /^[a-z]:$/i.test(file[3]);\r\n            const patternDrive = typeof pattern[0] === 'string' && /^[a-z]:$/i.test(pattern[0]);\r\n            const patternUNC = !patternDrive &&\r\n                pattern[0] === '' &&\r\n                pattern[1] === '' &&\r\n                pattern[2] === '?' &&\r\n                typeof pattern[3] === 'string' &&\r\n                /^[a-z]:$/i.test(pattern[3]);\r\n            const fdi = fileUNC ? 3 : fileDrive ? 0 : undefined;\r\n            const pdi = patternUNC ? 3 : patternDrive ? 0 : undefined;\r\n            if (typeof fdi === 'number' && typeof pdi === 'number') {\r\n                const [fd, pd] = [file[fdi], pattern[pdi]];\r\n                if (fd.toLowerCase() === pd.toLowerCase()) {\r\n                    pattern[pdi] = fd;\r\n                    if (pdi > fdi) {\r\n                        pattern = pattern.slice(pdi);\r\n                    }\r\n                    else if (fdi > pdi) {\r\n                        file = file.slice(fdi);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // resolve and reduce . and .. portions in the file as well.\r\n        // dont' need to do the second phase, because it's only one string[]\r\n        const { optimizationLevel = 1 } = this.options;\r\n        if (optimizationLevel >= 2) {\r\n            file = this.levelTwoFileOptimize(file);\r\n        }\r\n        this.debug('matchOne', this, { file, pattern });\r\n        this.debug('matchOne', file.length, pattern.length);\r\n        for (var fi = 0, pi = 0, fl = file.length, pl = pattern.length; fi < fl && pi < pl; fi++, pi++) {\r\n            this.debug('matchOne loop');\r\n            var p = pattern[pi];\r\n            var f = file[fi];\r\n            this.debug(pattern, p, f);\r\n            // should be impossible.\r\n            // some invalid regexp stuff in the set.\r\n            /* c8 ignore start */\r\n            if (p === false) {\r\n                return false;\r\n            }\r\n            /* c8 ignore stop */\r\n            if (p === GLOBSTAR$2) {\r\n                this.debug('GLOBSTAR', [pattern, p, f]);\r\n                // \"**\"\r\n                // a/**/b/**/c would match the following:\r\n                // a/b/x/y/z/c\r\n                // a/x/y/z/b/c\r\n                // a/b/x/b/x/c\r\n                // a/b/c\r\n                // To do this, take the rest of the pattern after\r\n                // the **, and see if it would match the file remainder.\r\n                // If so, return success.\r\n                // If not, the ** \"swallows\" a segment, and try again.\r\n                // This is recursively awful.\r\n                //\r\n                // a/**/b/**/c matching a/b/x/y/z/c\r\n                // - a matches a\r\n                // - doublestar\r\n                //   - matchOne(b/x/y/z/c, b/**/c)\r\n                //     - b matches b\r\n                //     - doublestar\r\n                //       - matchOne(x/y/z/c, c) -> no\r\n                //       - matchOne(y/z/c, c) -> no\r\n                //       - matchOne(z/c, c) -> no\r\n                //       - matchOne(c, c) yes, hit\r\n                var fr = fi;\r\n                var pr = pi + 1;\r\n                if (pr === pl) {\r\n                    this.debug('** at the end');\r\n                    // a ** at the end will just swallow the rest.\r\n                    // We have found a match.\r\n                    // however, it will not swallow /.x, unless\r\n                    // options.dot is set.\r\n                    // . and .. are *never* matched by **, for explosively\r\n                    // exponential reasons.\r\n                    for (; fi < fl; fi++) {\r\n                        if (file[fi] === '.' ||\r\n                            file[fi] === '..' ||\r\n                            (!options.dot && file[fi].charAt(0) === '.'))\r\n                            return false;\r\n                    }\r\n                    return true;\r\n                }\r\n                // ok, let's see if we can swallow whatever we can.\r\n                while (fr < fl) {\r\n                    var swallowee = file[fr];\r\n                    this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee);\r\n                    // XXX remove this slice.  Just pass the start index.\r\n                    if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\r\n                        this.debug('globstar found match!', fr, fl, swallowee);\r\n                        // found a match.\r\n                        return true;\r\n                    }\r\n                    else {\r\n                        // can't swallow \".\" or \"..\" ever.\r\n                        // can only swallow \".foo\" when explicitly asked.\r\n                        if (swallowee === '.' ||\r\n                            swallowee === '..' ||\r\n                            (!options.dot && swallowee.charAt(0) === '.')) {\r\n                            this.debug('dot detected!', file, fr, pattern, pr);\r\n                            break;\r\n                        }\r\n                        // ** swallows a segment, and continue.\r\n                        this.debug('globstar swallow a segment, and continue');\r\n                        fr++;\r\n                    }\r\n                }\r\n                // no match was found.\r\n                // However, in partial mode, we can't say this is necessarily over.\r\n                /* c8 ignore start */\r\n                if (partial) {\r\n                    // ran out of file\r\n                    this.debug('\\n>>> no match, partial?', file, fr, pattern, pr);\r\n                    if (fr === fl) {\r\n                        return true;\r\n                    }\r\n                }\r\n                /* c8 ignore stop */\r\n                return false;\r\n            }\r\n            // something other than **\r\n            // non-magic patterns just have to match exactly\r\n            // patterns with magic have been turned into regexps.\r\n            let hit;\r\n            if (typeof p === 'string') {\r\n                hit = f === p;\r\n                this.debug('string match', p, f, hit);\r\n            }\r\n            else {\r\n                hit = p.test(f);\r\n                this.debug('pattern match', p, f, hit);\r\n            }\r\n            if (!hit)\r\n                return false;\r\n        }\r\n        // Note: ending in / means that we'll get a final \"\"\r\n        // at the end of the pattern.  This can only match a\r\n        // corresponding \"\" at the end of the file.\r\n        // If the file ends in /, then it can only match a\r\n        // a pattern that ends in /, unless the pattern just\r\n        // doesn't have any more for it. But, a/b/ should *not*\r\n        // match \"a/b/*\", even though \"\" matches against the\r\n        // [^/]*? pattern, except in partial mode, where it might\r\n        // simply not be reached yet.\r\n        // However, a/b/ should still satisfy a/*\r\n        // now either we fell off the end of the pattern, or we're done.\r\n        if (fi === fl && pi === pl) {\r\n            // ran out of pattern and filename at the same time.\r\n            // an exact hit!\r\n            return true;\r\n        }\r\n        else if (fi === fl) {\r\n            // ran out of file, but still had pattern left.\r\n            // this is ok if we're doing the match as part of\r\n            // a glob fs traversal.\r\n            return partial;\r\n        }\r\n        else if (pi === pl) {\r\n            // ran out of pattern, still have file left.\r\n            // this is only acceptable if we're on the very last\r\n            // empty segment of a file with a trailing slash.\r\n            // a/* should match a/b/\r\n            return fi === fl - 1 && file[fi] === '';\r\n            /* c8 ignore start */\r\n        }\r\n        else {\r\n            // should be unreachable.\r\n            throw new Error('wtf?');\r\n        }\r\n        /* c8 ignore stop */\r\n    }\r\n    braceExpand() {\r\n        return braceExpand(this.pattern, this.options);\r\n    }\r\n    parse(pattern) {\r\n        assertValidPattern(pattern);\r\n        const options = this.options;\r\n        // shortcuts\r\n        if (pattern === '**')\r\n            return GLOBSTAR$2;\r\n        if (pattern === '')\r\n            return '';\r\n        // far and away, the most common glob pattern parts are\r\n        // *, *.*, and *.<ext>  Add a fast check method for those.\r\n        let m;\r\n        let fastTest = null;\r\n        if ((m = pattern.match(starRE))) {\r\n            fastTest = options.dot ? starTestDot : starTest;\r\n        }\r\n        else if ((m = pattern.match(starDotExtRE))) {\r\n            fastTest = (options.nocase\r\n                ? options.dot\r\n                    ? starDotExtTestNocaseDot\r\n                    : starDotExtTestNocase\r\n                : options.dot\r\n                    ? starDotExtTestDot\r\n                    : starDotExtTest)(m[1]);\r\n        }\r\n        else if ((m = pattern.match(qmarksRE))) {\r\n            fastTest = (options.nocase\r\n                ? options.dot\r\n                    ? qmarksTestNocaseDot\r\n                    : qmarksTestNocase\r\n                : options.dot\r\n                    ? qmarksTestDot\r\n                    : qmarksTest)(m);\r\n        }\r\n        else if ((m = pattern.match(starDotStarRE))) {\r\n            fastTest = options.dot ? starDotStarTestDot : starDotStarTest;\r\n        }\r\n        else if ((m = pattern.match(dotStarRE))) {\r\n            fastTest = dotStarTest;\r\n        }\r\n        const re = AST.fromGlob(pattern, this.options).toMMPattern();\r\n        if (fastTest && typeof re === 'object') {\r\n            // Avoids overriding in frozen environments\r\n            Reflect.defineProperty(re, 'test', { value: fastTest });\r\n        }\r\n        return re;\r\n    }\r\n    makeRe() {\r\n        if (this.regexp || this.regexp === false)\r\n            return this.regexp;\r\n        // at this point, this.set is a 2d array of partial\r\n        // pattern strings, or \"**\".\r\n        //\r\n        // It's better to use .match().  This function shouldn't\r\n        // be used, really, but it's pretty convenient sometimes,\r\n        // when you just want to work with a regex.\r\n        const set = this.set;\r\n        if (!set.length) {\r\n            this.regexp = false;\r\n            return this.regexp;\r\n        }\r\n        const options = this.options;\r\n        const twoStar = options.noglobstar\r\n            ? star\r\n            : options.dot\r\n                ? twoStarDot\r\n                : twoStarNoDot;\r\n        const flags = new Set(options.nocase ? ['i'] : []);\r\n        // regexpify non-globstar patterns\r\n        // if ** is only item, then we just do one twoStar\r\n        // if ** is first, and there are more, prepend (\\/|twoStar\\/)? to next\r\n        // if ** is last, append (\\/twoStar|) to previous\r\n        // if ** is in the middle, append (\\/|\\/twoStar\\/) to previous\r\n        // then filter out GLOBSTAR symbols\r\n        let re = set\r\n            .map(pattern => {\r\n            const pp = pattern.map(p => {\r\n                if (p instanceof RegExp) {\r\n                    for (const f of p.flags.split(''))\r\n                        flags.add(f);\r\n                }\r\n                return typeof p === 'string'\r\n                    ? regExpEscape(p)\r\n                    : p === GLOBSTAR$2\r\n                        ? GLOBSTAR$2\r\n                        : p._src;\r\n            });\r\n            pp.forEach((p, i) => {\r\n                const next = pp[i + 1];\r\n                const prev = pp[i - 1];\r\n                if (p !== GLOBSTAR$2 || prev === GLOBSTAR$2) {\r\n                    return;\r\n                }\r\n                if (prev === undefined) {\r\n                    if (next !== undefined && next !== GLOBSTAR$2) {\r\n                        pp[i + 1] = '(?:\\\\/|' + twoStar + '\\\\/)?' + next;\r\n                    }\r\n                    else {\r\n                        pp[i] = twoStar;\r\n                    }\r\n                }\r\n                else if (next === undefined) {\r\n                    pp[i - 1] = prev + '(?:\\\\/|' + twoStar + ')?';\r\n                }\r\n                else if (next !== GLOBSTAR$2) {\r\n                    pp[i - 1] = prev + '(?:\\\\/|\\\\/' + twoStar + '\\\\/)' + next;\r\n                    pp[i + 1] = GLOBSTAR$2;\r\n                }\r\n            });\r\n            return pp.filter(p => p !== GLOBSTAR$2).join('/');\r\n        })\r\n            .join('|');\r\n        // need to wrap in parens if we had more than one thing with |,\r\n        // otherwise only the first will be anchored to ^ and the last to $\r\n        const [open, close] = set.length > 1 ? ['(?:', ')'] : ['', ''];\r\n        // must match entire pattern\r\n        // ending in a * or ** will make it less strict.\r\n        re = '^' + open + re + close + '$';\r\n        // can match anything, as long as it's not this.\r\n        if (this.negate)\r\n            re = '^(?!' + re + ').+$';\r\n        try {\r\n            this.regexp = new RegExp(re, [...flags].join(''));\r\n            /* c8 ignore start */\r\n        }\r\n        catch (ex) {\r\n            // should be impossible\r\n            this.regexp = false;\r\n        }\r\n        /* c8 ignore stop */\r\n        return this.regexp;\r\n    }\r\n    slashSplit(p) {\r\n        // if p starts with // on windows, we preserve that\r\n        // so that UNC paths aren't broken.  Otherwise, any number of\r\n        // / characters are coalesced into one, unless\r\n        // preserveMultipleSlashes is set to true.\r\n        if (this.preserveMultipleSlashes) {\r\n            return p.split('/');\r\n        }\r\n        else if (this.isWindows && /^\\/\\/[^\\/]+/.test(p)) {\r\n            // add an extra '' for the one we lose\r\n            return ['', ...p.split(/\\/+/)];\r\n        }\r\n        else {\r\n            return p.split(/\\/+/);\r\n        }\r\n    }\r\n    match(f, partial = this.partial) {\r\n        this.debug('match', f, this.pattern);\r\n        // short-circuit in the case of busted things.\r\n        // comments, etc.\r\n        if (this.comment) {\r\n            return false;\r\n        }\r\n        if (this.empty) {\r\n            return f === '';\r\n        }\r\n        if (f === '/' && partial) {\r\n            return true;\r\n        }\r\n        const options = this.options;\r\n        // windows: need to use /, not \\\r\n        if (this.isWindows) {\r\n            f = f.split('\\\\').join('/');\r\n        }\r\n        // treat the test path as a set of pathparts.\r\n        const ff = this.slashSplit(f);\r\n        this.debug(this.pattern, 'split', ff);\r\n        // just ONE of the pattern sets in this.set needs to match\r\n        // in order for it to be valid.  If negating, then just one\r\n        // match means that we have failed.\r\n        // Either way, return on the first hit.\r\n        const set = this.set;\r\n        this.debug(this.pattern, 'set', set);\r\n        // Find the basename of the path by looking for the last non-empty segment\r\n        let filename = ff[ff.length - 1];\r\n        if (!filename) {\r\n            for (let i = ff.length - 2; !filename && i >= 0; i--) {\r\n                filename = ff[i];\r\n            }\r\n        }\r\n        for (let i = 0; i < set.length; i++) {\r\n            const pattern = set[i];\r\n            let file = ff;\r\n            if (options.matchBase && pattern.length === 1) {\r\n                file = [filename];\r\n            }\r\n            const hit = this.matchOne(file, pattern, partial);\r\n            if (hit) {\r\n                if (options.flipNegate) {\r\n                    return true;\r\n                }\r\n                return !this.negate;\r\n            }\r\n        }\r\n        // didn't get any hits.  this is success if it's a negative\r\n        // pattern, failure otherwise.\r\n        if (options.flipNegate) {\r\n            return false;\r\n        }\r\n        return this.negate;\r\n    }\r\n    static defaults(def) {\r\n        return minimatch.defaults(def).Minimatch;\r\n    }\r\n}\r\n/* c8 ignore stop */\r\nminimatch.AST = AST;\r\nminimatch.Minimatch = Minimatch;\r\nminimatch.escape = escape$2;\r\nminimatch.unescape = unescape$1;\r\n\r\n/**\r\n * @module LRUCache\r\n */\r\nconst perf = typeof performance === 'object' &&\r\n    performance &&\r\n    typeof performance.now === 'function'\r\n    ? performance\r\n    : Date;\r\nconst warned$1 = new Set();\r\n/* c8 ignore start */\r\nconst PROCESS = (typeof process === 'object' && !!process ? process : {});\r\n/* c8 ignore start */\r\nconst emitWarning = (msg, type, code, fn) => {\r\n    typeof PROCESS.emitWarning === 'function'\r\n        ? PROCESS.emitWarning(msg, type, code, fn)\r\n        : console.error(`[${code}] ${type}: ${msg}`);\r\n};\r\nlet AC = globalThis.AbortController;\r\nlet AS = globalThis.AbortSignal;\r\n/* c8 ignore start */\r\nif (typeof AC === 'undefined') {\r\n    //@ts-ignore\r\n    AS = class AbortSignal {\r\n        onabort;\r\n        _onabort = [];\r\n        reason;\r\n        aborted = false;\r\n        addEventListener(_, fn) {\r\n            this._onabort.push(fn);\r\n        }\r\n    };\r\n    //@ts-ignore\r\n    AC = class AbortController {\r\n        constructor() {\r\n            warnACPolyfill();\r\n        }\r\n        signal = new AS();\r\n        abort(reason) {\r\n            if (this.signal.aborted)\r\n                return;\r\n            //@ts-ignore\r\n            this.signal.reason = reason;\r\n            //@ts-ignore\r\n            this.signal.aborted = true;\r\n            //@ts-ignore\r\n            for (const fn of this.signal._onabort) {\r\n                fn(reason);\r\n            }\r\n            this.signal.onabort?.(reason);\r\n        }\r\n    };\r\n    let printACPolyfillWarning = PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING !== '1';\r\n    const warnACPolyfill = () => {\r\n        if (!printACPolyfillWarning)\r\n            return;\r\n        printACPolyfillWarning = false;\r\n        emitWarning('AbortController is not defined. If using lru-cache in ' +\r\n            'node 14, load an AbortController polyfill from the ' +\r\n            '`node-abort-controller` package. A minimal polyfill is ' +\r\n            'provided for use by LRUCache.fetch(), but it should not be ' +\r\n            'relied upon in other contexts (eg, passing it to other APIs that ' +\r\n            'use AbortController/AbortSignal might have undesirable effects). ' +\r\n            'You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.', 'NO_ABORT_CONTROLLER', 'ENOTSUP', warnACPolyfill);\r\n    };\r\n}\r\n/* c8 ignore stop */\r\nconst shouldWarn = (code) => !warned$1.has(code);\r\nconst isPosInt = (n) => n && n === Math.floor(n) && n > 0 && isFinite(n);\r\n/* c8 ignore start */\r\n// This is a little bit ridiculous, tbh.\r\n// The maximum array length is 2^32-1 or thereabouts on most JS impls.\r\n// And well before that point, you're caching the entire world, I mean,\r\n// that's ~32GB of just integers for the next/prev links, plus whatever\r\n// else to hold that many keys and values.  Just filling the memory with\r\n// zeroes at init time is brutal when you get that big.\r\n// But why not be complete?\r\n// Maybe in the future, these limits will have expanded.\r\nconst getUintArray = (max) => !isPosInt(max)\r\n    ? null\r\n    : max <= Math.pow(2, 8)\r\n        ? Uint8Array\r\n        : max <= Math.pow(2, 16)\r\n            ? Uint16Array\r\n            : max <= Math.pow(2, 32)\r\n                ? Uint32Array\r\n                : max <= Number.MAX_SAFE_INTEGER\r\n                    ? ZeroArray\r\n                    : null;\r\n/* c8 ignore stop */\r\nclass ZeroArray extends Array {\r\n    constructor(size) {\r\n        super(size);\r\n        this.fill(0);\r\n    }\r\n}\r\nclass Stack {\r\n    heap;\r\n    length;\r\n    // private constructor\r\n    static #constructing = false;\r\n    static create(max) {\r\n        const HeapCls = getUintArray(max);\r\n        if (!HeapCls)\r\n            return [];\r\n        Stack.#constructing = true;\r\n        const s = new Stack(max, HeapCls);\r\n        Stack.#constructing = false;\r\n        return s;\r\n    }\r\n    constructor(max, HeapCls) {\r\n        /* c8 ignore start */\r\n        if (!Stack.#constructing) {\r\n            throw new TypeError('instantiate Stack using Stack.create(n)');\r\n        }\r\n        /* c8 ignore stop */\r\n        this.heap = new HeapCls(max);\r\n        this.length = 0;\r\n    }\r\n    push(n) {\r\n        this.heap[this.length++] = n;\r\n    }\r\n    pop() {\r\n        return this.heap[--this.length];\r\n    }\r\n}\r\n/**\r\n * Default export, the thing you're using this module to get.\r\n *\r\n * The `K` and `V` types define the key and value types, respectively. The\r\n * optional `FC` type defines the type of the `context` object passed to\r\n * `cache.fetch()` and `cache.memo()`.\r\n *\r\n * Keys and values **must not** be `null` or `undefined`.\r\n *\r\n * All properties from the options object (with the exception of `max`,\r\n * `maxSize`, `fetchMethod`, `memoMethod`, `dispose` and `disposeAfter`) are\r\n * added as normal public members. (The listed options are read-only getters.)\r\n *\r\n * Changing any of these will alter the defaults for subsequent method calls.\r\n */\r\nclass LRUCache {\r\n    // options that cannot be changed without disaster\r\n    #max;\r\n    #maxSize;\r\n    #dispose;\r\n    #disposeAfter;\r\n    #fetchMethod;\r\n    #memoMethod;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.ttl}\r\n     */\r\n    ttl;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.ttlResolution}\r\n     */\r\n    ttlResolution;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.ttlAutopurge}\r\n     */\r\n    ttlAutopurge;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.updateAgeOnGet}\r\n     */\r\n    updateAgeOnGet;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.updateAgeOnHas}\r\n     */\r\n    updateAgeOnHas;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.allowStale}\r\n     */\r\n    allowStale;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.noDisposeOnSet}\r\n     */\r\n    noDisposeOnSet;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.noUpdateTTL}\r\n     */\r\n    noUpdateTTL;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.maxEntrySize}\r\n     */\r\n    maxEntrySize;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.sizeCalculation}\r\n     */\r\n    sizeCalculation;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.noDeleteOnFetchRejection}\r\n     */\r\n    noDeleteOnFetchRejection;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.noDeleteOnStaleGet}\r\n     */\r\n    noDeleteOnStaleGet;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort}\r\n     */\r\n    allowStaleOnFetchAbort;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchRejection}\r\n     */\r\n    allowStaleOnFetchRejection;\r\n    /**\r\n     * {@link LRUCache.OptionsBase.ignoreFetchAbort}\r\n     */\r\n    ignoreFetchAbort;\r\n    // computed properties\r\n    #size;\r\n    #calculatedSize;\r\n    #keyMap;\r\n    #keyList;\r\n    #valList;\r\n    #next;\r\n    #prev;\r\n    #head;\r\n    #tail;\r\n    #free;\r\n    #disposed;\r\n    #sizes;\r\n    #starts;\r\n    #ttls;\r\n    #hasDispose;\r\n    #hasFetchMethod;\r\n    #hasDisposeAfter;\r\n    /**\r\n     * Do not call this method unless you need to inspect the\r\n     * inner workings of the cache.  If anything returned by this\r\n     * object is modified in any way, strange breakage may occur.\r\n     *\r\n     * These fields are private for a reason!\r\n     *\r\n     * @internal\r\n     */\r\n    static unsafeExposeInternals(c) {\r\n        return {\r\n            // properties\r\n            starts: c.#starts,\r\n            ttls: c.#ttls,\r\n            sizes: c.#sizes,\r\n            keyMap: c.#keyMap,\r\n            keyList: c.#keyList,\r\n            valList: c.#valList,\r\n            next: c.#next,\r\n            prev: c.#prev,\r\n            get head() {\r\n                return c.#head;\r\n            },\r\n            get tail() {\r\n                return c.#tail;\r\n            },\r\n            free: c.#free,\r\n            // methods\r\n            isBackgroundFetch: (p) => c.#isBackgroundFetch(p),\r\n            backgroundFetch: (k, index, options, context) => c.#backgroundFetch(k, index, options, context),\r\n            moveToTail: (index) => c.#moveToTail(index),\r\n            indexes: (options) => c.#indexes(options),\r\n            rindexes: (options) => c.#rindexes(options),\r\n            isStale: (index) => c.#isStale(index),\r\n        };\r\n    }\r\n    // Protected read-only members\r\n    /**\r\n     * {@link LRUCache.OptionsBase.max} (read-only)\r\n     */\r\n    get max() {\r\n        return this.#max;\r\n    }\r\n    /**\r\n     * {@link LRUCache.OptionsBase.maxSize} (read-only)\r\n     */\r\n    get maxSize() {\r\n        return this.#maxSize;\r\n    }\r\n    /**\r\n     * The total computed size of items in the cache (read-only)\r\n     */\r\n    get calculatedSize() {\r\n        return this.#calculatedSize;\r\n    }\r\n    /**\r\n     * The number of items stored in the cache (read-only)\r\n     */\r\n    get size() {\r\n        return this.#size;\r\n    }\r\n    /**\r\n     * {@link LRUCache.OptionsBase.fetchMethod} (read-only)\r\n     */\r\n    get fetchMethod() {\r\n        return this.#fetchMethod;\r\n    }\r\n    get memoMethod() {\r\n        return this.#memoMethod;\r\n    }\r\n    /**\r\n     * {@link LRUCache.OptionsBase.dispose} (read-only)\r\n     */\r\n    get dispose() {\r\n        return this.#dispose;\r\n    }\r\n    /**\r\n     * {@link LRUCache.OptionsBase.disposeAfter} (read-only)\r\n     */\r\n    get disposeAfter() {\r\n        return this.#disposeAfter;\r\n    }\r\n    constructor(options) {\r\n        const { max = 0, ttl, ttlResolution = 1, ttlAutopurge, updateAgeOnGet, updateAgeOnHas, allowStale, dispose, disposeAfter, noDisposeOnSet, noUpdateTTL, maxSize = 0, maxEntrySize = 0, sizeCalculation, fetchMethod, memoMethod, noDeleteOnFetchRejection, noDeleteOnStaleGet, allowStaleOnFetchRejection, allowStaleOnFetchAbort, ignoreFetchAbort, } = options;\r\n        if (max !== 0 && !isPosInt(max)) {\r\n            throw new TypeError('max option must be a nonnegative integer');\r\n        }\r\n        const UintArray = max ? getUintArray(max) : Array;\r\n        if (!UintArray) {\r\n            throw new Error('invalid max value: ' + max);\r\n        }\r\n        this.#max = max;\r\n        this.#maxSize = maxSize;\r\n        this.maxEntrySize = maxEntrySize || this.#maxSize;\r\n        this.sizeCalculation = sizeCalculation;\r\n        if (this.sizeCalculation) {\r\n            if (!this.#maxSize && !this.maxEntrySize) {\r\n                throw new TypeError('cannot set sizeCalculation without setting maxSize or maxEntrySize');\r\n            }\r\n            if (typeof this.sizeCalculation !== 'function') {\r\n                throw new TypeError('sizeCalculation set to non-function');\r\n            }\r\n        }\r\n        if (memoMethod !== undefined &&\r\n            typeof memoMethod !== 'function') {\r\n            throw new TypeError('memoMethod must be a function if defined');\r\n        }\r\n        this.#memoMethod = memoMethod;\r\n        if (fetchMethod !== undefined &&\r\n            typeof fetchMethod !== 'function') {\r\n            throw new TypeError('fetchMethod must be a function if specified');\r\n        }\r\n        this.#fetchMethod = fetchMethod;\r\n        this.#hasFetchMethod = !!fetchMethod;\r\n        this.#keyMap = new Map();\r\n        this.#keyList = new Array(max).fill(undefined);\r\n        this.#valList = new Array(max).fill(undefined);\r\n        this.#next = new UintArray(max);\r\n        this.#prev = new UintArray(max);\r\n        this.#head = 0;\r\n        this.#tail = 0;\r\n        this.#free = Stack.create(max);\r\n        this.#size = 0;\r\n        this.#calculatedSize = 0;\r\n        if (typeof dispose === 'function') {\r\n            this.#dispose = dispose;\r\n        }\r\n        if (typeof disposeAfter === 'function') {\r\n            this.#disposeAfter = disposeAfter;\r\n            this.#disposed = [];\r\n        }\r\n        else {\r\n            this.#disposeAfter = undefined;\r\n            this.#disposed = undefined;\r\n        }\r\n        this.#hasDispose = !!this.#dispose;\r\n        this.#hasDisposeAfter = !!this.#disposeAfter;\r\n        this.noDisposeOnSet = !!noDisposeOnSet;\r\n        this.noUpdateTTL = !!noUpdateTTL;\r\n        this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection;\r\n        this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection;\r\n        this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort;\r\n        this.ignoreFetchAbort = !!ignoreFetchAbort;\r\n        // NB: maxEntrySize is set to maxSize if it's set\r\n        if (this.maxEntrySize !== 0) {\r\n            if (this.#maxSize !== 0) {\r\n                if (!isPosInt(this.#maxSize)) {\r\n                    throw new TypeError('maxSize must be a positive integer if specified');\r\n                }\r\n            }\r\n            if (!isPosInt(this.maxEntrySize)) {\r\n                throw new TypeError('maxEntrySize must be a positive integer if specified');\r\n            }\r\n            this.#initializeSizeTracking();\r\n        }\r\n        this.allowStale = !!allowStale;\r\n        this.noDeleteOnStaleGet = !!noDeleteOnStaleGet;\r\n        this.updateAgeOnGet = !!updateAgeOnGet;\r\n        this.updateAgeOnHas = !!updateAgeOnHas;\r\n        this.ttlResolution =\r\n            isPosInt(ttlResolution) || ttlResolution === 0\r\n                ? ttlResolution\r\n                : 1;\r\n        this.ttlAutopurge = !!ttlAutopurge;\r\n        this.ttl = ttl || 0;\r\n        if (this.ttl) {\r\n            if (!isPosInt(this.ttl)) {\r\n                throw new TypeError('ttl must be a positive integer if specified');\r\n            }\r\n            this.#initializeTTLTracking();\r\n        }\r\n        // do not allow completely unbounded caches\r\n        if (this.#max === 0 && this.ttl === 0 && this.#maxSize === 0) {\r\n            throw new TypeError('At least one of max, maxSize, or ttl is required');\r\n        }\r\n        if (!this.ttlAutopurge && !this.#max && !this.#maxSize) {\r\n            const code = 'LRU_CACHE_UNBOUNDED';\r\n            if (shouldWarn(code)) {\r\n                warned$1.add(code);\r\n                const msg = 'TTL caching without ttlAutopurge, max, or maxSize can ' +\r\n                    'result in unbounded memory consumption.';\r\n                emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Return the number of ms left in the item's TTL. If item is not in cache,\r\n     * returns `0`. Returns `Infinity` if item is in cache without a defined TTL.\r\n     */\r\n    getRemainingTTL(key) {\r\n        return this.#keyMap.has(key) ? Infinity : 0;\r\n    }\r\n    #initializeTTLTracking() {\r\n        const ttls = new ZeroArray(this.#max);\r\n        const starts = new ZeroArray(this.#max);\r\n        this.#ttls = ttls;\r\n        this.#starts = starts;\r\n        this.#setItemTTL = (index, ttl, start = perf.now()) => {\r\n            starts[index] = ttl !== 0 ? start : 0;\r\n            ttls[index] = ttl;\r\n            if (ttl !== 0 && this.ttlAutopurge) {\r\n                const t = setTimeout(() => {\r\n                    if (this.#isStale(index)) {\r\n                        this.#delete(this.#keyList[index], 'expire');\r\n                    }\r\n                }, ttl + 1);\r\n                // unref() not supported on all platforms\r\n                /* c8 ignore start */\r\n                if (t.unref) {\r\n                    t.unref();\r\n                }\r\n                /* c8 ignore stop */\r\n            }\r\n        };\r\n        this.#updateItemAge = index => {\r\n            starts[index] = ttls[index] !== 0 ? perf.now() : 0;\r\n        };\r\n        this.#statusTTL = (status, index) => {\r\n            if (ttls[index]) {\r\n                const ttl = ttls[index];\r\n                const start = starts[index];\r\n                /* c8 ignore next */\r\n                if (!ttl || !start)\r\n                    return;\r\n                status.ttl = ttl;\r\n                status.start = start;\r\n                status.now = cachedNow || getNow();\r\n                const age = status.now - start;\r\n                status.remainingTTL = ttl - age;\r\n            }\r\n        };\r\n        // debounce calls to perf.now() to 1s so we're not hitting\r\n        // that costly call repeatedly.\r\n        let cachedNow = 0;\r\n        const getNow = () => {\r\n            const n = perf.now();\r\n            if (this.ttlResolution > 0) {\r\n                cachedNow = n;\r\n                const t = setTimeout(() => (cachedNow = 0), this.ttlResolution);\r\n                // not available on all platforms\r\n                /* c8 ignore start */\r\n                if (t.unref) {\r\n                    t.unref();\r\n                }\r\n                /* c8 ignore stop */\r\n            }\r\n            return n;\r\n        };\r\n        this.getRemainingTTL = key => {\r\n            const index = this.#keyMap.get(key);\r\n            if (index === undefined) {\r\n                return 0;\r\n            }\r\n            const ttl = ttls[index];\r\n            const start = starts[index];\r\n            if (!ttl || !start) {\r\n                return Infinity;\r\n            }\r\n            const age = (cachedNow || getNow()) - start;\r\n            return ttl - age;\r\n        };\r\n        this.#isStale = index => {\r\n            const s = starts[index];\r\n            const t = ttls[index];\r\n            return !!t && !!s && (cachedNow || getNow()) - s > t;\r\n        };\r\n    }\r\n    // conditionally set private methods related to TTL\r\n    #updateItemAge = () => { };\r\n    #statusTTL = () => { };\r\n    #setItemTTL = () => { };\r\n    /* c8 ignore stop */\r\n    #isStale = () => false;\r\n    #initializeSizeTracking() {\r\n        const sizes = new ZeroArray(this.#max);\r\n        this.#calculatedSize = 0;\r\n        this.#sizes = sizes;\r\n        this.#removeItemSize = index => {\r\n            this.#calculatedSize -= sizes[index];\r\n            sizes[index] = 0;\r\n        };\r\n        this.#requireSize = (k, v, size, sizeCalculation) => {\r\n            // provisionally accept background fetches.\r\n            // actual value size will be checked when they return.\r\n            if (this.#isBackgroundFetch(v)) {\r\n                return 0;\r\n            }\r\n            if (!isPosInt(size)) {\r\n                if (sizeCalculation) {\r\n                    if (typeof sizeCalculation !== 'function') {\r\n                        throw new TypeError('sizeCalculation must be a function');\r\n                    }\r\n                    size = sizeCalculation(v, k);\r\n                    if (!isPosInt(size)) {\r\n                        throw new TypeError('sizeCalculation return invalid (expect positive integer)');\r\n                    }\r\n                }\r\n                else {\r\n                    throw new TypeError('invalid size value (must be positive integer). ' +\r\n                        'When maxSize or maxEntrySize is used, sizeCalculation ' +\r\n                        'or size must be set.');\r\n                }\r\n            }\r\n            return size;\r\n        };\r\n        this.#addItemSize = (index, size, status) => {\r\n            sizes[index] = size;\r\n            if (this.#maxSize) {\r\n                const maxSize = this.#maxSize - sizes[index];\r\n                while (this.#calculatedSize > maxSize) {\r\n                    this.#evict(true);\r\n                }\r\n            }\r\n            this.#calculatedSize += sizes[index];\r\n            if (status) {\r\n                status.entrySize = size;\r\n                status.totalCalculatedSize = this.#calculatedSize;\r\n            }\r\n        };\r\n    }\r\n    #removeItemSize = _i => { };\r\n    #addItemSize = (_i, _s, _st) => { };\r\n    #requireSize = (_k, _v, size, sizeCalculation) => {\r\n        if (size || sizeCalculation) {\r\n            throw new TypeError('cannot set size without setting maxSize or maxEntrySize on cache');\r\n        }\r\n        return 0;\r\n    };\r\n    *#indexes({ allowStale = this.allowStale } = {}) {\r\n        if (this.#size) {\r\n            for (let i = this.#tail; true;) {\r\n                if (!this.#isValidIndex(i)) {\r\n                    break;\r\n                }\r\n                if (allowStale || !this.#isStale(i)) {\r\n                    yield i;\r\n                }\r\n                if (i === this.#head) {\r\n                    break;\r\n                }\r\n                else {\r\n                    i = this.#prev[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    *#rindexes({ allowStale = this.allowStale } = {}) {\r\n        if (this.#size) {\r\n            for (let i = this.#head; true;) {\r\n                if (!this.#isValidIndex(i)) {\r\n                    break;\r\n                }\r\n                if (allowStale || !this.#isStale(i)) {\r\n                    yield i;\r\n                }\r\n                if (i === this.#tail) {\r\n                    break;\r\n                }\r\n                else {\r\n                    i = this.#next[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #isValidIndex(index) {\r\n        return (index !== undefined &&\r\n            this.#keyMap.get(this.#keyList[index]) === index);\r\n    }\r\n    /**\r\n     * Return a generator yielding `[key, value]` pairs,\r\n     * in order from most recently used to least recently used.\r\n     */\r\n    *entries() {\r\n        for (const i of this.#indexes()) {\r\n            if (this.#valList[i] !== undefined &&\r\n                this.#keyList[i] !== undefined &&\r\n                !this.#isBackgroundFetch(this.#valList[i])) {\r\n                yield [this.#keyList[i], this.#valList[i]];\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Inverse order version of {@link LRUCache.entries}\r\n     *\r\n     * Return a generator yielding `[key, value]` pairs,\r\n     * in order from least recently used to most recently used.\r\n     */\r\n    *rentries() {\r\n        for (const i of this.#rindexes()) {\r\n            if (this.#valList[i] !== undefined &&\r\n                this.#keyList[i] !== undefined &&\r\n                !this.#isBackgroundFetch(this.#valList[i])) {\r\n                yield [this.#keyList[i], this.#valList[i]];\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Return a generator yielding the keys in the cache,\r\n     * in order from most recently used to least recently used.\r\n     */\r\n    *keys() {\r\n        for (const i of this.#indexes()) {\r\n            const k = this.#keyList[i];\r\n            if (k !== undefined &&\r\n                !this.#isBackgroundFetch(this.#valList[i])) {\r\n                yield k;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Inverse order version of {@link LRUCache.keys}\r\n     *\r\n     * Return a generator yielding the keys in the cache,\r\n     * in order from least recently used to most recently used.\r\n     */\r\n    *rkeys() {\r\n        for (const i of this.#rindexes()) {\r\n            const k = this.#keyList[i];\r\n            if (k !== undefined &&\r\n                !this.#isBackgroundFetch(this.#valList[i])) {\r\n                yield k;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Return a generator yielding the values in the cache,\r\n     * in order from most recently used to least recently used.\r\n     */\r\n    *values() {\r\n        for (const i of this.#indexes()) {\r\n            const v = this.#valList[i];\r\n            if (v !== undefined &&\r\n                !this.#isBackgroundFetch(this.#valList[i])) {\r\n                yield this.#valList[i];\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Inverse order version of {@link LRUCache.values}\r\n     *\r\n     * Return a generator yielding the values in the cache,\r\n     * in order from least recently used to most recently used.\r\n     */\r\n    *rvalues() {\r\n        for (const i of this.#rindexes()) {\r\n            const v = this.#valList[i];\r\n            if (v !== undefined &&\r\n                !this.#isBackgroundFetch(this.#valList[i])) {\r\n                yield this.#valList[i];\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Iterating over the cache itself yields the same results as\r\n     * {@link LRUCache.entries}\r\n     */\r\n    [Symbol.iterator]() {\r\n        return this.entries();\r\n    }\r\n    /**\r\n     * A String value that is used in the creation of the default string\r\n     * description of an object. Called by the built-in method\r\n     * `Object.prototype.toString`.\r\n     */\r\n    [Symbol.toStringTag] = 'LRUCache';\r\n    /**\r\n     * Find a value for which the supplied fn method returns a truthy value,\r\n     * similar to `Array.find()`. fn is called as `fn(value, key, cache)`.\r\n     */\r\n    find(fn, getOptions = {}) {\r\n        for (const i of this.#indexes()) {\r\n            const v = this.#valList[i];\r\n            const value = this.#isBackgroundFetch(v)\r\n                ? v.__staleWhileFetching\r\n                : v;\r\n            if (value === undefined)\r\n                continue;\r\n            if (fn(value, this.#keyList[i], this)) {\r\n                return this.get(this.#keyList[i], getOptions);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Call the supplied function on each item in the cache, in order from most\r\n     * recently used to least recently used.\r\n     *\r\n     * `fn` is called as `fn(value, key, cache)`.\r\n     *\r\n     * If `thisp` is provided, function will be called in the `this`-context of\r\n     * the provided object, or the cache if no `thisp` object is provided.\r\n     *\r\n     * Does not update age or recenty of use, or iterate over stale values.\r\n     */\r\n    forEach(fn, thisp = this) {\r\n        for (const i of this.#indexes()) {\r\n            const v = this.#valList[i];\r\n            const value = this.#isBackgroundFetch(v)\r\n                ? v.__staleWhileFetching\r\n                : v;\r\n            if (value === undefined)\r\n                continue;\r\n            fn.call(thisp, value, this.#keyList[i], this);\r\n        }\r\n    }\r\n    /**\r\n     * The same as {@link LRUCache.forEach} but items are iterated over in\r\n     * reverse order.  (ie, less recently used items are iterated over first.)\r\n     */\r\n    rforEach(fn, thisp = this) {\r\n        for (const i of this.#rindexes()) {\r\n            const v = this.#valList[i];\r\n            const value = this.#isBackgroundFetch(v)\r\n                ? v.__staleWhileFetching\r\n                : v;\r\n            if (value === undefined)\r\n                continue;\r\n            fn.call(thisp, value, this.#keyList[i], this);\r\n        }\r\n    }\r\n    /**\r\n     * Delete any stale entries. Returns true if anything was removed,\r\n     * false otherwise.\r\n     */\r\n    purgeStale() {\r\n        let deleted = false;\r\n        for (const i of this.#rindexes({ allowStale: true })) {\r\n            if (this.#isStale(i)) {\r\n                this.#delete(this.#keyList[i], 'expire');\r\n                deleted = true;\r\n            }\r\n        }\r\n        return deleted;\r\n    }\r\n    /**\r\n     * Get the extended info about a given entry, to get its value, size, and\r\n     * TTL info simultaneously. Returns `undefined` if the key is not present.\r\n     *\r\n     * Unlike {@link LRUCache#dump}, which is designed to be portable and survive\r\n     * serialization, the `start` value is always the current timestamp, and the\r\n     * `ttl` is a calculated remaining time to live (negative if expired).\r\n     *\r\n     * Always returns stale values, if their info is found in the cache, so be\r\n     * sure to check for expirations (ie, a negative {@link LRUCache.Entry#ttl})\r\n     * if relevant.\r\n     */\r\n    info(key) {\r\n        const i = this.#keyMap.get(key);\r\n        if (i === undefined)\r\n            return undefined;\r\n        const v = this.#valList[i];\r\n        const value = this.#isBackgroundFetch(v)\r\n            ? v.__staleWhileFetching\r\n            : v;\r\n        if (value === undefined)\r\n            return undefined;\r\n        const entry = { value };\r\n        if (this.#ttls && this.#starts) {\r\n            const ttl = this.#ttls[i];\r\n            const start = this.#starts[i];\r\n            if (ttl && start) {\r\n                const remain = ttl - (perf.now() - start);\r\n                entry.ttl = remain;\r\n                entry.start = Date.now();\r\n            }\r\n        }\r\n        if (this.#sizes) {\r\n            entry.size = this.#sizes[i];\r\n        }\r\n        return entry;\r\n    }\r\n    /**\r\n     * Return an array of [key, {@link LRUCache.Entry}] tuples which can be\r\n     * passed to {@link LRLUCache#load}.\r\n     *\r\n     * The `start` fields are calculated relative to a portable `Date.now()`\r\n     * timestamp, even if `performance.now()` is available.\r\n     *\r\n     * Stale entries are always included in the `dump`, even if\r\n     * {@link LRUCache.OptionsBase.allowStale} is false.\r\n     *\r\n     * Note: this returns an actual array, not a generator, so it can be more\r\n     * easily passed around.\r\n     */\r\n    dump() {\r\n        const arr = [];\r\n        for (const i of this.#indexes({ allowStale: true })) {\r\n            const key = this.#keyList[i];\r\n            const v = this.#valList[i];\r\n            const value = this.#isBackgroundFetch(v)\r\n                ? v.__staleWhileFetching\r\n                : v;\r\n            if (value === undefined || key === undefined)\r\n                continue;\r\n            const entry = { value };\r\n            if (this.#ttls && this.#starts) {\r\n                entry.ttl = this.#ttls[i];\r\n                // always dump the start relative to a portable timestamp\r\n                // it's ok for this to be a bit slow, it's a rare operation.\r\n                const age = perf.now() - this.#starts[i];\r\n                entry.start = Math.floor(Date.now() - age);\r\n            }\r\n            if (this.#sizes) {\r\n                entry.size = this.#sizes[i];\r\n            }\r\n            arr.unshift([key, entry]);\r\n        }\r\n        return arr;\r\n    }\r\n    /**\r\n     * Reset the cache and load in the items in entries in the order listed.\r\n     *\r\n     * The shape of the resulting cache may be different if the same options are\r\n     * not used in both caches.\r\n     *\r\n     * The `start` fields are assumed to be calculated relative to a portable\r\n     * `Date.now()` timestamp, even if `performance.now()` is available.\r\n     */\r\n    load(arr) {\r\n        this.clear();\r\n        for (const [key, entry] of arr) {\r\n            if (entry.start) {\r\n                // entry.start is a portable timestamp, but we may be using\r\n                // node's performance.now(), so calculate the offset, so that\r\n                // we get the intended remaining TTL, no matter how long it's\r\n                // been on ice.\r\n                //\r\n                // it's ok for this to be a bit slow, it's a rare operation.\r\n                const age = Date.now() - entry.start;\r\n                entry.start = perf.now() - age;\r\n            }\r\n            this.set(key, entry.value, entry);\r\n        }\r\n    }\r\n    /**\r\n     * Add a value to the cache.\r\n     *\r\n     * Note: if `undefined` is specified as a value, this is an alias for\r\n     * {@link LRUCache#delete}\r\n     *\r\n     * Fields on the {@link LRUCache.SetOptions} options param will override\r\n     * their corresponding values in the constructor options for the scope\r\n     * of this single `set()` operation.\r\n     *\r\n     * If `start` is provided, then that will set the effective start\r\n     * time for the TTL calculation. Note that this must be a previous\r\n     * value of `performance.now()` if supported, or a previous value of\r\n     * `Date.now()` if not.\r\n     *\r\n     * Options object may also include `size`, which will prevent\r\n     * calling the `sizeCalculation` function and just use the specified\r\n     * number if it is a positive integer, and `noDisposeOnSet` which\r\n     * will prevent calling a `dispose` function in the case of\r\n     * overwrites.\r\n     *\r\n     * If the `size` (or return value of `sizeCalculation`) for a given\r\n     * entry is greater than `maxEntrySize`, then the item will not be\r\n     * added to the cache.\r\n     *\r\n     * Will update the recency of the entry.\r\n     *\r\n     * If the value is `undefined`, then this is an alias for\r\n     * `cache.delete(key)`. `undefined` is never stored in the cache.\r\n     */\r\n    set(k, v, setOptions = {}) {\r\n        if (v === undefined) {\r\n            this.delete(k);\r\n            return this;\r\n        }\r\n        const { ttl = this.ttl, start, noDisposeOnSet = this.noDisposeOnSet, sizeCalculation = this.sizeCalculation, status, } = setOptions;\r\n        let { noUpdateTTL = this.noUpdateTTL } = setOptions;\r\n        const size = this.#requireSize(k, v, setOptions.size || 0, sizeCalculation);\r\n        // if the item doesn't fit, don't do anything\r\n        // NB: maxEntrySize set to maxSize by default\r\n        if (this.maxEntrySize && size > this.maxEntrySize) {\r\n            if (status) {\r\n                status.set = 'miss';\r\n                status.maxEntrySizeExceeded = true;\r\n            }\r\n            // have to delete, in case something is there already.\r\n            this.#delete(k, 'set');\r\n            return this;\r\n        }\r\n        let index = this.#size === 0 ? undefined : this.#keyMap.get(k);\r\n        if (index === undefined) {\r\n            // addition\r\n            index = (this.#size === 0\r\n                ? this.#tail\r\n                : this.#free.length !== 0\r\n                    ? this.#free.pop()\r\n                    : this.#size === this.#max\r\n                        ? this.#evict(false)\r\n                        : this.#size);\r\n            this.#keyList[index] = k;\r\n            this.#valList[index] = v;\r\n            this.#keyMap.set(k, index);\r\n            this.#next[this.#tail] = index;\r\n            this.#prev[index] = this.#tail;\r\n            this.#tail = index;\r\n            this.#size++;\r\n            this.#addItemSize(index, size, status);\r\n            if (status)\r\n                status.set = 'add';\r\n            noUpdateTTL = false;\r\n        }\r\n        else {\r\n            // update\r\n            this.#moveToTail(index);\r\n            const oldVal = this.#valList[index];\r\n            if (v !== oldVal) {\r\n                if (this.#hasFetchMethod && this.#isBackgroundFetch(oldVal)) {\r\n                    oldVal.__abortController.abort(new Error('replaced'));\r\n                    const { __staleWhileFetching: s } = oldVal;\r\n                    if (s !== undefined && !noDisposeOnSet) {\r\n                        if (this.#hasDispose) {\r\n                            this.#dispose?.(s, k, 'set');\r\n                        }\r\n                        if (this.#hasDisposeAfter) {\r\n                            this.#disposed?.push([s, k, 'set']);\r\n                        }\r\n                    }\r\n                }\r\n                else if (!noDisposeOnSet) {\r\n                    if (this.#hasDispose) {\r\n                        this.#dispose?.(oldVal, k, 'set');\r\n                    }\r\n                    if (this.#hasDisposeAfter) {\r\n                        this.#disposed?.push([oldVal, k, 'set']);\r\n                    }\r\n                }\r\n                this.#removeItemSize(index);\r\n                this.#addItemSize(index, size, status);\r\n                this.#valList[index] = v;\r\n                if (status) {\r\n                    status.set = 'replace';\r\n                    const oldValue = oldVal && this.#isBackgroundFetch(oldVal)\r\n                        ? oldVal.__staleWhileFetching\r\n                        : oldVal;\r\n                    if (oldValue !== undefined)\r\n                        status.oldValue = oldValue;\r\n                }\r\n            }\r\n            else if (status) {\r\n                status.set = 'update';\r\n            }\r\n        }\r\n        if (ttl !== 0 && !this.#ttls) {\r\n            this.#initializeTTLTracking();\r\n        }\r\n        if (this.#ttls) {\r\n            if (!noUpdateTTL) {\r\n                this.#setItemTTL(index, ttl, start);\r\n            }\r\n            if (status)\r\n                this.#statusTTL(status, index);\r\n        }\r\n        if (!noDisposeOnSet && this.#hasDisposeAfter && this.#disposed) {\r\n            const dt = this.#disposed;\r\n            let task;\r\n            while ((task = dt?.shift())) {\r\n                this.#disposeAfter?.(...task);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Evict the least recently used item, returning its value or\r\n     * `undefined` if cache is empty.\r\n     */\r\n    pop() {\r\n        try {\r\n            while (this.#size) {\r\n                const val = this.#valList[this.#head];\r\n                this.#evict(true);\r\n                if (this.#isBackgroundFetch(val)) {\r\n                    if (val.__staleWhileFetching) {\r\n                        return val.__staleWhileFetching;\r\n                    }\r\n                }\r\n                else if (val !== undefined) {\r\n                    return val;\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            if (this.#hasDisposeAfter && this.#disposed) {\r\n                const dt = this.#disposed;\r\n                let task;\r\n                while ((task = dt?.shift())) {\r\n                    this.#disposeAfter?.(...task);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    #evict(free) {\r\n        const head = this.#head;\r\n        const k = this.#keyList[head];\r\n        const v = this.#valList[head];\r\n        if (this.#hasFetchMethod && this.#isBackgroundFetch(v)) {\r\n            v.__abortController.abort(new Error('evicted'));\r\n        }\r\n        else if (this.#hasDispose || this.#hasDisposeAfter) {\r\n            if (this.#hasDispose) {\r\n                this.#dispose?.(v, k, 'evict');\r\n            }\r\n            if (this.#hasDisposeAfter) {\r\n                this.#disposed?.push([v, k, 'evict']);\r\n            }\r\n        }\r\n        this.#removeItemSize(head);\r\n        // if we aren't about to use the index, then null these out\r\n        if (free) {\r\n            this.#keyList[head] = undefined;\r\n            this.#valList[head] = undefined;\r\n            this.#free.push(head);\r\n        }\r\n        if (this.#size === 1) {\r\n            this.#head = this.#tail = 0;\r\n            this.#free.length = 0;\r\n        }\r\n        else {\r\n            this.#head = this.#next[head];\r\n        }\r\n        this.#keyMap.delete(k);\r\n        this.#size--;\r\n        return head;\r\n    }\r\n    /**\r\n     * Check if a key is in the cache, without updating the recency of use.\r\n     * Will return false if the item is stale, even though it is technically\r\n     * in the cache.\r\n     *\r\n     * Check if a key is in the cache, without updating the recency of\r\n     * use. Age is updated if {@link LRUCache.OptionsBase.updateAgeOnHas} is set\r\n     * to `true` in either the options or the constructor.\r\n     *\r\n     * Will return `false` if the item is stale, even though it is technically in\r\n     * the cache. The difference can be determined (if it matters) by using a\r\n     * `status` argument, and inspecting the `has` field.\r\n     *\r\n     * Will not update item age unless\r\n     * {@link LRUCache.OptionsBase.updateAgeOnHas} is set.\r\n     */\r\n    has(k, hasOptions = {}) {\r\n        const { updateAgeOnHas = this.updateAgeOnHas, status } = hasOptions;\r\n        const index = this.#keyMap.get(k);\r\n        if (index !== undefined) {\r\n            const v = this.#valList[index];\r\n            if (this.#isBackgroundFetch(v) &&\r\n                v.__staleWhileFetching === undefined) {\r\n                return false;\r\n            }\r\n            if (!this.#isStale(index)) {\r\n                if (updateAgeOnHas) {\r\n                    this.#updateItemAge(index);\r\n                }\r\n                if (status) {\r\n                    status.has = 'hit';\r\n                    this.#statusTTL(status, index);\r\n                }\r\n                return true;\r\n            }\r\n            else if (status) {\r\n                status.has = 'stale';\r\n                this.#statusTTL(status, index);\r\n            }\r\n        }\r\n        else if (status) {\r\n            status.has = 'miss';\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Like {@link LRUCache#get} but doesn't update recency or delete stale\r\n     * items.\r\n     *\r\n     * Returns `undefined` if the item is stale, unless\r\n     * {@link LRUCache.OptionsBase.allowStale} is set.\r\n     */\r\n    peek(k, peekOptions = {}) {\r\n        const { allowStale = this.allowStale } = peekOptions;\r\n        const index = this.#keyMap.get(k);\r\n        if (index === undefined ||\r\n            (!allowStale && this.#isStale(index))) {\r\n            return;\r\n        }\r\n        const v = this.#valList[index];\r\n        // either stale and allowed, or forcing a refresh of non-stale value\r\n        return this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\r\n    }\r\n    #backgroundFetch(k, index, options, context) {\r\n        const v = index === undefined ? undefined : this.#valList[index];\r\n        if (this.#isBackgroundFetch(v)) {\r\n            return v;\r\n        }\r\n        const ac = new AC();\r\n        const { signal } = options;\r\n        // when/if our AC signals, then stop listening to theirs.\r\n        signal?.addEventListener('abort', () => ac.abort(signal.reason), {\r\n            signal: ac.signal,\r\n        });\r\n        const fetchOpts = {\r\n            signal: ac.signal,\r\n            options,\r\n            context,\r\n        };\r\n        const cb = (v, updateCache = false) => {\r\n            const { aborted } = ac.signal;\r\n            const ignoreAbort = options.ignoreFetchAbort && v !== undefined;\r\n            if (options.status) {\r\n                if (aborted && !updateCache) {\r\n                    options.status.fetchAborted = true;\r\n                    options.status.fetchError = ac.signal.reason;\r\n                    if (ignoreAbort)\r\n                        options.status.fetchAbortIgnored = true;\r\n                }\r\n                else {\r\n                    options.status.fetchResolved = true;\r\n                }\r\n            }\r\n            if (aborted && !ignoreAbort && !updateCache) {\r\n                return fetchFail(ac.signal.reason);\r\n            }\r\n            // either we didn't abort, and are still here, or we did, and ignored\r\n            const bf = p;\r\n            if (this.#valList[index] === p) {\r\n                if (v === undefined) {\r\n                    if (bf.__staleWhileFetching) {\r\n                        this.#valList[index] = bf.__staleWhileFetching;\r\n                    }\r\n                    else {\r\n                        this.#delete(k, 'fetch');\r\n                    }\r\n                }\r\n                else {\r\n                    if (options.status)\r\n                        options.status.fetchUpdated = true;\r\n                    this.set(k, v, fetchOpts.options);\r\n                }\r\n            }\r\n            return v;\r\n        };\r\n        const eb = (er) => {\r\n            if (options.status) {\r\n                options.status.fetchRejected = true;\r\n                options.status.fetchError = er;\r\n            }\r\n            return fetchFail(er);\r\n        };\r\n        const fetchFail = (er) => {\r\n            const { aborted } = ac.signal;\r\n            const allowStaleAborted = aborted && options.allowStaleOnFetchAbort;\r\n            const allowStale = allowStaleAborted || options.allowStaleOnFetchRejection;\r\n            const noDelete = allowStale || options.noDeleteOnFetchRejection;\r\n            const bf = p;\r\n            if (this.#valList[index] === p) {\r\n                // if we allow stale on fetch rejections, then we need to ensure that\r\n                // the stale value is not removed from the cache when the fetch fails.\r\n                const del = !noDelete || bf.__staleWhileFetching === undefined;\r\n                if (del) {\r\n                    this.#delete(k, 'fetch');\r\n                }\r\n                else if (!allowStaleAborted) {\r\n                    // still replace the *promise* with the stale value,\r\n                    // since we are done with the promise at this point.\r\n                    // leave it untouched if we're still waiting for an\r\n                    // aborted background fetch that hasn't yet returned.\r\n                    this.#valList[index] = bf.__staleWhileFetching;\r\n                }\r\n            }\r\n            if (allowStale) {\r\n                if (options.status && bf.__staleWhileFetching !== undefined) {\r\n                    options.status.returnedStale = true;\r\n                }\r\n                return bf.__staleWhileFetching;\r\n            }\r\n            else if (bf.__returned === bf) {\r\n                throw er;\r\n            }\r\n        };\r\n        const pcall = (res, rej) => {\r\n            const fmp = this.#fetchMethod?.(k, v, fetchOpts);\r\n            if (fmp && fmp instanceof Promise) {\r\n                fmp.then(v => res(v === undefined ? undefined : v), rej);\r\n            }\r\n            // ignored, we go until we finish, regardless.\r\n            // defer check until we are actually aborting,\r\n            // so fetchMethod can override.\r\n            ac.signal.addEventListener('abort', () => {\r\n                if (!options.ignoreFetchAbort ||\r\n                    options.allowStaleOnFetchAbort) {\r\n                    res(undefined);\r\n                    // when it eventually resolves, update the cache.\r\n                    if (options.allowStaleOnFetchAbort) {\r\n                        res = v => cb(v, true);\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        if (options.status)\r\n            options.status.fetchDispatched = true;\r\n        const p = new Promise(pcall).then(cb, eb);\r\n        const bf = Object.assign(p, {\r\n            __abortController: ac,\r\n            __staleWhileFetching: v,\r\n            __returned: undefined,\r\n        });\r\n        if (index === undefined) {\r\n            // internal, don't expose status.\r\n            this.set(k, bf, { ...fetchOpts.options, status: undefined });\r\n            index = this.#keyMap.get(k);\r\n        }\r\n        else {\r\n            this.#valList[index] = bf;\r\n        }\r\n        return bf;\r\n    }\r\n    #isBackgroundFetch(p) {\r\n        if (!this.#hasFetchMethod)\r\n            return false;\r\n        const b = p;\r\n        return (!!b &&\r\n            b instanceof Promise &&\r\n            b.hasOwnProperty('__staleWhileFetching') &&\r\n            b.__abortController instanceof AC);\r\n    }\r\n    async fetch(k, fetchOptions = {}) {\r\n        const { \r\n        // get options\r\n        allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, \r\n        // set options\r\n        ttl = this.ttl, noDisposeOnSet = this.noDisposeOnSet, size = 0, sizeCalculation = this.sizeCalculation, noUpdateTTL = this.noUpdateTTL, \r\n        // fetch exclusive options\r\n        noDeleteOnFetchRejection = this.noDeleteOnFetchRejection, allowStaleOnFetchRejection = this.allowStaleOnFetchRejection, ignoreFetchAbort = this.ignoreFetchAbort, allowStaleOnFetchAbort = this.allowStaleOnFetchAbort, context, forceRefresh = false, status, signal, } = fetchOptions;\r\n        if (!this.#hasFetchMethod) {\r\n            if (status)\r\n                status.fetch = 'get';\r\n            return this.get(k, {\r\n                allowStale,\r\n                updateAgeOnGet,\r\n                noDeleteOnStaleGet,\r\n                status,\r\n            });\r\n        }\r\n        const options = {\r\n            allowStale,\r\n            updateAgeOnGet,\r\n            noDeleteOnStaleGet,\r\n            ttl,\r\n            noDisposeOnSet,\r\n            size,\r\n            sizeCalculation,\r\n            noUpdateTTL,\r\n            noDeleteOnFetchRejection,\r\n            allowStaleOnFetchRejection,\r\n            allowStaleOnFetchAbort,\r\n            ignoreFetchAbort,\r\n            status,\r\n            signal,\r\n        };\r\n        let index = this.#keyMap.get(k);\r\n        if (index === undefined) {\r\n            if (status)\r\n                status.fetch = 'miss';\r\n            const p = this.#backgroundFetch(k, index, options, context);\r\n            return (p.__returned = p);\r\n        }\r\n        else {\r\n            // in cache, maybe already fetching\r\n            const v = this.#valList[index];\r\n            if (this.#isBackgroundFetch(v)) {\r\n                const stale = allowStale && v.__staleWhileFetching !== undefined;\r\n                if (status) {\r\n                    status.fetch = 'inflight';\r\n                    if (stale)\r\n                        status.returnedStale = true;\r\n                }\r\n                return stale ? v.__staleWhileFetching : (v.__returned = v);\r\n            }\r\n            // if we force a refresh, that means do NOT serve the cached value,\r\n            // unless we are already in the process of refreshing the cache.\r\n            const isStale = this.#isStale(index);\r\n            if (!forceRefresh && !isStale) {\r\n                if (status)\r\n                    status.fetch = 'hit';\r\n                this.#moveToTail(index);\r\n                if (updateAgeOnGet) {\r\n                    this.#updateItemAge(index);\r\n                }\r\n                if (status)\r\n                    this.#statusTTL(status, index);\r\n                return v;\r\n            }\r\n            // ok, it is stale or a forced refresh, and not already fetching.\r\n            // refresh the cache.\r\n            const p = this.#backgroundFetch(k, index, options, context);\r\n            const hasStale = p.__staleWhileFetching !== undefined;\r\n            const staleVal = hasStale && allowStale;\r\n            if (status) {\r\n                status.fetch = isStale ? 'stale' : 'refresh';\r\n                if (staleVal && isStale)\r\n                    status.returnedStale = true;\r\n            }\r\n            return staleVal ? p.__staleWhileFetching : (p.__returned = p);\r\n        }\r\n    }\r\n    async forceFetch(k, fetchOptions = {}) {\r\n        const v = await this.fetch(k, fetchOptions);\r\n        if (v === undefined)\r\n            throw new Error('fetch() returned undefined');\r\n        return v;\r\n    }\r\n    memo(k, memoOptions = {}) {\r\n        const memoMethod = this.#memoMethod;\r\n        if (!memoMethod) {\r\n            throw new Error('no memoMethod provided to constructor');\r\n        }\r\n        const { context, forceRefresh, ...options } = memoOptions;\r\n        const v = this.get(k, options);\r\n        if (!forceRefresh && v !== undefined)\r\n            return v;\r\n        const vv = memoMethod(k, v, {\r\n            options,\r\n            context,\r\n        });\r\n        this.set(k, vv, options);\r\n        return vv;\r\n    }\r\n    /**\r\n     * Return a value from the cache. Will update the recency of the cache\r\n     * entry found.\r\n     *\r\n     * If the key is not found, get() will return `undefined`.\r\n     */\r\n    get(k, getOptions = {}) {\r\n        const { allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, status, } = getOptions;\r\n        const index = this.#keyMap.get(k);\r\n        if (index !== undefined) {\r\n            const value = this.#valList[index];\r\n            const fetching = this.#isBackgroundFetch(value);\r\n            if (status)\r\n                this.#statusTTL(status, index);\r\n            if (this.#isStale(index)) {\r\n                if (status)\r\n                    status.get = 'stale';\r\n                // delete only if not an in-flight background fetch\r\n                if (!fetching) {\r\n                    if (!noDeleteOnStaleGet) {\r\n                        this.#delete(k, 'expire');\r\n                    }\r\n                    if (status && allowStale)\r\n                        status.returnedStale = true;\r\n                    return allowStale ? value : undefined;\r\n                }\r\n                else {\r\n                    if (status &&\r\n                        allowStale &&\r\n                        value.__staleWhileFetching !== undefined) {\r\n                        status.returnedStale = true;\r\n                    }\r\n                    return allowStale ? value.__staleWhileFetching : undefined;\r\n                }\r\n            }\r\n            else {\r\n                if (status)\r\n                    status.get = 'hit';\r\n                // if we're currently fetching it, we don't actually have it yet\r\n                // it's not stale, which means this isn't a staleWhileRefetching.\r\n                // If it's not stale, and fetching, AND has a __staleWhileFetching\r\n                // value, then that means the user fetched with {forceRefresh:true},\r\n                // so it's safe to return that value.\r\n                if (fetching) {\r\n                    return value.__staleWhileFetching;\r\n                }\r\n                this.#moveToTail(index);\r\n                if (updateAgeOnGet) {\r\n                    this.#updateItemAge(index);\r\n                }\r\n                return value;\r\n            }\r\n        }\r\n        else if (status) {\r\n            status.get = 'miss';\r\n        }\r\n    }\r\n    #connect(p, n) {\r\n        this.#prev[n] = p;\r\n        this.#next[p] = n;\r\n    }\r\n    #moveToTail(index) {\r\n        // if tail already, nothing to do\r\n        // if head, move head to next[index]\r\n        // else\r\n        //   move next[prev[index]] to next[index] (head has no prev)\r\n        //   move prev[next[index]] to prev[index]\r\n        // prev[index] = tail\r\n        // next[tail] = index\r\n        // tail = index\r\n        if (index !== this.#tail) {\r\n            if (index === this.#head) {\r\n                this.#head = this.#next[index];\r\n            }\r\n            else {\r\n                this.#connect(this.#prev[index], this.#next[index]);\r\n            }\r\n            this.#connect(this.#tail, index);\r\n            this.#tail = index;\r\n        }\r\n    }\r\n    /**\r\n     * Deletes a key out of the cache.\r\n     *\r\n     * Returns true if the key was deleted, false otherwise.\r\n     */\r\n    delete(k) {\r\n        return this.#delete(k, 'delete');\r\n    }\r\n    #delete(k, reason) {\r\n        let deleted = false;\r\n        if (this.#size !== 0) {\r\n            const index = this.#keyMap.get(k);\r\n            if (index !== undefined) {\r\n                deleted = true;\r\n                if (this.#size === 1) {\r\n                    this.#clear(reason);\r\n                }\r\n                else {\r\n                    this.#removeItemSize(index);\r\n                    const v = this.#valList[index];\r\n                    if (this.#isBackgroundFetch(v)) {\r\n                        v.__abortController.abort(new Error('deleted'));\r\n                    }\r\n                    else if (this.#hasDispose || this.#hasDisposeAfter) {\r\n                        if (this.#hasDispose) {\r\n                            this.#dispose?.(v, k, reason);\r\n                        }\r\n                        if (this.#hasDisposeAfter) {\r\n                            this.#disposed?.push([v, k, reason]);\r\n                        }\r\n                    }\r\n                    this.#keyMap.delete(k);\r\n                    this.#keyList[index] = undefined;\r\n                    this.#valList[index] = undefined;\r\n                    if (index === this.#tail) {\r\n                        this.#tail = this.#prev[index];\r\n                    }\r\n                    else if (index === this.#head) {\r\n                        this.#head = this.#next[index];\r\n                    }\r\n                    else {\r\n                        const pi = this.#prev[index];\r\n                        this.#next[pi] = this.#next[index];\r\n                        const ni = this.#next[index];\r\n                        this.#prev[ni] = this.#prev[index];\r\n                    }\r\n                    this.#size--;\r\n                    this.#free.push(index);\r\n                }\r\n            }\r\n        }\r\n        if (this.#hasDisposeAfter && this.#disposed?.length) {\r\n            const dt = this.#disposed;\r\n            let task;\r\n            while ((task = dt?.shift())) {\r\n                this.#disposeAfter?.(...task);\r\n            }\r\n        }\r\n        return deleted;\r\n    }\r\n    /**\r\n     * Clear the cache entirely, throwing away all values.\r\n     */\r\n    clear() {\r\n        return this.#clear('delete');\r\n    }\r\n    #clear(reason) {\r\n        for (const index of this.#rindexes({ allowStale: true })) {\r\n            const v = this.#valList[index];\r\n            if (this.#isBackgroundFetch(v)) {\r\n                v.__abortController.abort(new Error('deleted'));\r\n            }\r\n            else {\r\n                const k = this.#keyList[index];\r\n                if (this.#hasDispose) {\r\n                    this.#dispose?.(v, k, reason);\r\n                }\r\n                if (this.#hasDisposeAfter) {\r\n                    this.#disposed?.push([v, k, reason]);\r\n                }\r\n            }\r\n        }\r\n        this.#keyMap.clear();\r\n        this.#valList.fill(undefined);\r\n        this.#keyList.fill(undefined);\r\n        if (this.#ttls && this.#starts) {\r\n            this.#ttls.fill(0);\r\n            this.#starts.fill(0);\r\n        }\r\n        if (this.#sizes) {\r\n            this.#sizes.fill(0);\r\n        }\r\n        this.#head = 0;\r\n        this.#tail = 0;\r\n        this.#free.length = 0;\r\n        this.#calculatedSize = 0;\r\n        this.#size = 0;\r\n        if (this.#hasDisposeAfter && this.#disposed) {\r\n            const dt = this.#disposed;\r\n            let task;\r\n            while ((task = dt?.shift())) {\r\n                this.#disposeAfter?.(...task);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst proc = typeof process === 'object' && process\r\n    ? process\r\n    : {\r\n        stdout: null,\r\n        stderr: null,\r\n    };\r\n/**\r\n * Return true if the argument is a Minipass stream, Node stream, or something\r\n * else that Minipass can interact with.\r\n */\r\nconst isStream = (s) => !!s &&\r\n    typeof s === 'object' &&\r\n    (s instanceof Minipass ||\r\n        s instanceof Stream$1 ||\r\n        isReadable(s) ||\r\n        isWritable(s));\r\n/**\r\n * Return true if the argument is a valid {@link Minipass.Readable}\r\n */\r\nconst isReadable = (s) => !!s &&\r\n    typeof s === 'object' &&\r\n    s instanceof EventEmitter$4 &&\r\n    typeof s.pipe === 'function' &&\r\n    // node core Writable streams have a pipe() method, but it throws\r\n    s.pipe !== Stream$1.Writable.prototype.pipe;\r\n/**\r\n * Return true if the argument is a valid {@link Minipass.Writable}\r\n */\r\nconst isWritable = (s) => !!s &&\r\n    typeof s === 'object' &&\r\n    s instanceof EventEmitter$4 &&\r\n    typeof s.write === 'function' &&\r\n    typeof s.end === 'function';\r\nconst EOF = Symbol('EOF');\r\nconst MAYBE_EMIT_END = Symbol('maybeEmitEnd');\r\nconst EMITTED_END = Symbol('emittedEnd');\r\nconst EMITTING_END = Symbol('emittingEnd');\r\nconst EMITTED_ERROR = Symbol('emittedError');\r\nconst CLOSED$1 = Symbol('closed');\r\nconst READ = Symbol('read');\r\nconst FLUSH = Symbol('flush');\r\nconst FLUSHCHUNK = Symbol('flushChunk');\r\nconst ENCODING$1 = Symbol('encoding');\r\nconst DECODER = Symbol('decoder');\r\nconst FLOWING = Symbol('flowing');\r\nconst PAUSED = Symbol('paused');\r\nconst RESUME = Symbol('resume');\r\nconst BUFFER = Symbol('buffer');\r\nconst PIPES = Symbol('pipes');\r\nconst BUFFERLENGTH = Symbol('bufferLength');\r\nconst BUFFERPUSH = Symbol('bufferPush');\r\nconst BUFFERSHIFT = Symbol('bufferShift');\r\nconst OBJECTMODE = Symbol('objectMode');\r\n// internal event when stream is destroyed\r\nconst DESTROYED = Symbol('destroyed');\r\n// internal event when stream has an error\r\nconst ERROR = Symbol('error');\r\nconst EMITDATA = Symbol('emitData');\r\nconst EMITEND = Symbol('emitEnd');\r\nconst EMITEND2 = Symbol('emitEnd2');\r\nconst ASYNC = Symbol('async');\r\nconst ABORT = Symbol('abort');\r\nconst ABORTED = Symbol('aborted');\r\nconst SIGNAL = Symbol('signal');\r\nconst DATALISTENERS = Symbol('dataListeners');\r\nconst DISCARDED = Symbol('discarded');\r\nconst defer$3 = (fn) => Promise.resolve().then(fn);\r\nconst nodefer = (fn) => fn();\r\nconst isEndish = (ev) => ev === 'end' || ev === 'finish' || ev === 'prefinish';\r\nconst isArrayBufferLike = (b) => b instanceof ArrayBuffer ||\r\n    (!!b &&\r\n        typeof b === 'object' &&\r\n        b.constructor &&\r\n        b.constructor.name === 'ArrayBuffer' &&\r\n        b.byteLength >= 0);\r\nconst isArrayBufferView = (b) => !Buffer.isBuffer(b) && ArrayBuffer.isView(b);\r\n/**\r\n * Internal class representing a pipe to a destination stream.\r\n *\r\n * @internal\r\n */\r\nclass Pipe {\r\n    src;\r\n    dest;\r\n    opts;\r\n    ondrain;\r\n    constructor(src, dest, opts) {\r\n        this.src = src;\r\n        this.dest = dest;\r\n        this.opts = opts;\r\n        this.ondrain = () => src[RESUME]();\r\n        this.dest.on('drain', this.ondrain);\r\n    }\r\n    unpipe() {\r\n        this.dest.removeListener('drain', this.ondrain);\r\n    }\r\n    // only here for the prototype\r\n    /* c8 ignore start */\r\n    proxyErrors(_er) { }\r\n    /* c8 ignore stop */\r\n    end() {\r\n        this.unpipe();\r\n        if (this.opts.end)\r\n            this.dest.end();\r\n    }\r\n}\r\n/**\r\n * Internal class representing a pipe to a destination stream where\r\n * errors are proxied.\r\n *\r\n * @internal\r\n */\r\nclass PipeProxyErrors extends Pipe {\r\n    unpipe() {\r\n        this.src.removeListener('error', this.proxyErrors);\r\n        super.unpipe();\r\n    }\r\n    constructor(src, dest, opts) {\r\n        super(src, dest, opts);\r\n        this.proxyErrors = er => dest.emit('error', er);\r\n        src.on('error', this.proxyErrors);\r\n    }\r\n}\r\nconst isObjectModeOptions = (o) => !!o.objectMode;\r\nconst isEncodingOptions = (o) => !o.objectMode && !!o.encoding && o.encoding !== 'buffer';\r\n/**\r\n * Main export, the Minipass class\r\n *\r\n * `RType` is the type of data emitted, defaults to Buffer\r\n *\r\n * `WType` is the type of data to be written, if RType is buffer or string,\r\n * then any {@link Minipass.ContiguousData} is allowed.\r\n *\r\n * `Events` is the set of event handler signatures that this object\r\n * will emit, see {@link Minipass.Events}\r\n */\r\nclass Minipass extends EventEmitter$4 {\r\n    [FLOWING] = false;\r\n    [PAUSED] = false;\r\n    [PIPES] = [];\r\n    [BUFFER] = [];\r\n    [OBJECTMODE];\r\n    [ENCODING$1];\r\n    [ASYNC];\r\n    [DECODER];\r\n    [EOF] = false;\r\n    [EMITTED_END] = false;\r\n    [EMITTING_END] = false;\r\n    [CLOSED$1] = false;\r\n    [EMITTED_ERROR] = null;\r\n    [BUFFERLENGTH] = 0;\r\n    [DESTROYED] = false;\r\n    [SIGNAL];\r\n    [ABORTED] = false;\r\n    [DATALISTENERS] = 0;\r\n    [DISCARDED] = false;\r\n    /**\r\n     * true if the stream can be written\r\n     */\r\n    writable = true;\r\n    /**\r\n     * true if the stream can be read\r\n     */\r\n    readable = true;\r\n    /**\r\n     * If `RType` is Buffer, then options do not need to be provided.\r\n     * Otherwise, an options object must be provided to specify either\r\n     * {@link Minipass.SharedOptions.objectMode} or\r\n     * {@link Minipass.SharedOptions.encoding}, as appropriate.\r\n     */\r\n    constructor(...args) {\r\n        const options = (args[0] ||\r\n            {});\r\n        super();\r\n        if (options.objectMode && typeof options.encoding === 'string') {\r\n            throw new TypeError('Encoding and objectMode may not be used together');\r\n        }\r\n        if (isObjectModeOptions(options)) {\r\n            this[OBJECTMODE] = true;\r\n            this[ENCODING$1] = null;\r\n        }\r\n        else if (isEncodingOptions(options)) {\r\n            this[ENCODING$1] = options.encoding;\r\n            this[OBJECTMODE] = false;\r\n        }\r\n        else {\r\n            this[OBJECTMODE] = false;\r\n            this[ENCODING$1] = null;\r\n        }\r\n        this[ASYNC] = !!options.async;\r\n        this[DECODER] = this[ENCODING$1]\r\n            ? new StringDecoder(this[ENCODING$1])\r\n            : null;\r\n        //@ts-ignore - private option for debugging and testing\r\n        if (options && options.debugExposeBuffer === true) {\r\n            Object.defineProperty(this, 'buffer', { get: () => this[BUFFER] });\r\n        }\r\n        //@ts-ignore - private option for debugging and testing\r\n        if (options && options.debugExposePipes === true) {\r\n            Object.defineProperty(this, 'pipes', { get: () => this[PIPES] });\r\n        }\r\n        const { signal } = options;\r\n        if (signal) {\r\n            this[SIGNAL] = signal;\r\n            if (signal.aborted) {\r\n                this[ABORT]();\r\n            }\r\n            else {\r\n                signal.addEventListener('abort', () => this[ABORT]());\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * The amount of data stored in the buffer waiting to be read.\r\n     *\r\n     * For Buffer strings, this will be the total byte length.\r\n     * For string encoding streams, this will be the string character length,\r\n     * according to JavaScript's `string.length` logic.\r\n     * For objectMode streams, this is a count of the items waiting to be\r\n     * emitted.\r\n     */\r\n    get bufferLength() {\r\n        return this[BUFFERLENGTH];\r\n    }\r\n    /**\r\n     * The `BufferEncoding` currently in use, or `null`\r\n     */\r\n    get encoding() {\r\n        return this[ENCODING$1];\r\n    }\r\n    /**\r\n     * @deprecated - This is a read only property\r\n     */\r\n    set encoding(_enc) {\r\n        throw new Error('Encoding must be set at instantiation time');\r\n    }\r\n    /**\r\n     * @deprecated - Encoding may only be set at instantiation time\r\n     */\r\n    setEncoding(_enc) {\r\n        throw new Error('Encoding must be set at instantiation time');\r\n    }\r\n    /**\r\n     * True if this is an objectMode stream\r\n     */\r\n    get objectMode() {\r\n        return this[OBJECTMODE];\r\n    }\r\n    /**\r\n     * @deprecated - This is a read-only property\r\n     */\r\n    set objectMode(_om) {\r\n        throw new Error('objectMode must be set at instantiation time');\r\n    }\r\n    /**\r\n     * true if this is an async stream\r\n     */\r\n    get ['async']() {\r\n        return this[ASYNC];\r\n    }\r\n    /**\r\n     * Set to true to make this stream async.\r\n     *\r\n     * Once set, it cannot be unset, as this would potentially cause incorrect\r\n     * behavior.  Ie, a sync stream can be made async, but an async stream\r\n     * cannot be safely made sync.\r\n     */\r\n    set ['async'](a) {\r\n        this[ASYNC] = this[ASYNC] || !!a;\r\n    }\r\n    // drop everything and get out of the flow completely\r\n    [ABORT]() {\r\n        this[ABORTED] = true;\r\n        this.emit('abort', this[SIGNAL]?.reason);\r\n        this.destroy(this[SIGNAL]?.reason);\r\n    }\r\n    /**\r\n     * True if the stream has been aborted.\r\n     */\r\n    get aborted() {\r\n        return this[ABORTED];\r\n    }\r\n    /**\r\n     * No-op setter. Stream aborted status is set via the AbortSignal provided\r\n     * in the constructor options.\r\n     */\r\n    set aborted(_) { }\r\n    write(chunk, encoding, cb) {\r\n        if (this[ABORTED])\r\n            return false;\r\n        if (this[EOF])\r\n            throw new Error('write after end');\r\n        if (this[DESTROYED]) {\r\n            this.emit('error', Object.assign(new Error('Cannot call write after a stream was destroyed'), { code: 'ERR_STREAM_DESTROYED' }));\r\n            return true;\r\n        }\r\n        if (typeof encoding === 'function') {\r\n            cb = encoding;\r\n            encoding = 'utf8';\r\n        }\r\n        if (!encoding)\r\n            encoding = 'utf8';\r\n        const fn = this[ASYNC] ? defer$3 : nodefer;\r\n        // convert array buffers and typed array views into buffers\r\n        // at some point in the future, we may want to do the opposite!\r\n        // leave strings and buffers as-is\r\n        // anything is only allowed if in object mode, so throw\r\n        if (!this[OBJECTMODE] && !Buffer.isBuffer(chunk)) {\r\n            if (isArrayBufferView(chunk)) {\r\n                //@ts-ignore - sinful unsafe type changing\r\n                chunk = Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength);\r\n            }\r\n            else if (isArrayBufferLike(chunk)) {\r\n                //@ts-ignore - sinful unsafe type changing\r\n                chunk = Buffer.from(chunk);\r\n            }\r\n            else if (typeof chunk !== 'string') {\r\n                throw new Error('Non-contiguous data written to non-objectMode stream');\r\n            }\r\n        }\r\n        // handle object mode up front, since it's simpler\r\n        // this yields better performance, fewer checks later.\r\n        if (this[OBJECTMODE]) {\r\n            // maybe impossible?\r\n            /* c8 ignore start */\r\n            if (this[FLOWING] && this[BUFFERLENGTH] !== 0)\r\n                this[FLUSH](true);\r\n            /* c8 ignore stop */\r\n            if (this[FLOWING])\r\n                this.emit('data', chunk);\r\n            else\r\n                this[BUFFERPUSH](chunk);\r\n            if (this[BUFFERLENGTH] !== 0)\r\n                this.emit('readable');\r\n            if (cb)\r\n                fn(cb);\r\n            return this[FLOWING];\r\n        }\r\n        // at this point the chunk is a buffer or string\r\n        // don't buffer it up or send it to the decoder\r\n        if (!chunk.length) {\r\n            if (this[BUFFERLENGTH] !== 0)\r\n                this.emit('readable');\r\n            if (cb)\r\n                fn(cb);\r\n            return this[FLOWING];\r\n        }\r\n        // fast-path writing strings of same encoding to a stream with\r\n        // an empty buffer, skipping the buffer/decoder dance\r\n        if (typeof chunk === 'string' &&\r\n            // unless it is a string already ready for us to use\r\n            !(encoding === this[ENCODING$1] && !this[DECODER]?.lastNeed)) {\r\n            //@ts-ignore - sinful unsafe type change\r\n            chunk = Buffer.from(chunk, encoding);\r\n        }\r\n        if (Buffer.isBuffer(chunk) && this[ENCODING$1]) {\r\n            //@ts-ignore - sinful unsafe type change\r\n            chunk = this[DECODER].write(chunk);\r\n        }\r\n        // Note: flushing CAN potentially switch us into not-flowing mode\r\n        if (this[FLOWING] && this[BUFFERLENGTH] !== 0)\r\n            this[FLUSH](true);\r\n        if (this[FLOWING])\r\n            this.emit('data', chunk);\r\n        else\r\n            this[BUFFERPUSH](chunk);\r\n        if (this[BUFFERLENGTH] !== 0)\r\n            this.emit('readable');\r\n        if (cb)\r\n            fn(cb);\r\n        return this[FLOWING];\r\n    }\r\n    /**\r\n     * Low-level explicit read method.\r\n     *\r\n     * In objectMode, the argument is ignored, and one item is returned if\r\n     * available.\r\n     *\r\n     * `n` is the number of bytes (or in the case of encoding streams,\r\n     * characters) to consume. If `n` is not provided, then the entire buffer\r\n     * is returned, or `null` is returned if no data is available.\r\n     *\r\n     * If `n` is greater that the amount of data in the internal buffer,\r\n     * then `null` is returned.\r\n     */\r\n    read(n) {\r\n        if (this[DESTROYED])\r\n            return null;\r\n        this[DISCARDED] = false;\r\n        if (this[BUFFERLENGTH] === 0 ||\r\n            n === 0 ||\r\n            (n && n > this[BUFFERLENGTH])) {\r\n            this[MAYBE_EMIT_END]();\r\n            return null;\r\n        }\r\n        if (this[OBJECTMODE])\r\n            n = null;\r\n        if (this[BUFFER].length > 1 && !this[OBJECTMODE]) {\r\n            // not object mode, so if we have an encoding, then RType is string\r\n            // otherwise, must be Buffer\r\n            this[BUFFER] = [\r\n                (this[ENCODING$1]\r\n                    ? this[BUFFER].join('')\r\n                    : Buffer.concat(this[BUFFER], this[BUFFERLENGTH])),\r\n            ];\r\n        }\r\n        const ret = this[READ](n || null, this[BUFFER][0]);\r\n        this[MAYBE_EMIT_END]();\r\n        return ret;\r\n    }\r\n    [READ](n, chunk) {\r\n        if (this[OBJECTMODE])\r\n            this[BUFFERSHIFT]();\r\n        else {\r\n            const c = chunk;\r\n            if (n === c.length || n === null)\r\n                this[BUFFERSHIFT]();\r\n            else if (typeof c === 'string') {\r\n                this[BUFFER][0] = c.slice(n);\r\n                chunk = c.slice(0, n);\r\n                this[BUFFERLENGTH] -= n;\r\n            }\r\n            else {\r\n                this[BUFFER][0] = c.subarray(n);\r\n                chunk = c.subarray(0, n);\r\n                this[BUFFERLENGTH] -= n;\r\n            }\r\n        }\r\n        this.emit('data', chunk);\r\n        if (!this[BUFFER].length && !this[EOF])\r\n            this.emit('drain');\r\n        return chunk;\r\n    }\r\n    end(chunk, encoding, cb) {\r\n        if (typeof chunk === 'function') {\r\n            cb = chunk;\r\n            chunk = undefined;\r\n        }\r\n        if (typeof encoding === 'function') {\r\n            cb = encoding;\r\n            encoding = 'utf8';\r\n        }\r\n        if (chunk !== undefined)\r\n            this.write(chunk, encoding);\r\n        if (cb)\r\n            this.once('end', cb);\r\n        this[EOF] = true;\r\n        this.writable = false;\r\n        // if we haven't written anything, then go ahead and emit,\r\n        // even if we're not reading.\r\n        // we'll re-emit if a new 'end' listener is added anyway.\r\n        // This makes MP more suitable to write-only use cases.\r\n        if (this[FLOWING] || !this[PAUSED])\r\n            this[MAYBE_EMIT_END]();\r\n        return this;\r\n    }\r\n    // don't let the internal resume be overwritten\r\n    [RESUME]() {\r\n        if (this[DESTROYED])\r\n            return;\r\n        if (!this[DATALISTENERS] && !this[PIPES].length) {\r\n            this[DISCARDED] = true;\r\n        }\r\n        this[PAUSED] = false;\r\n        this[FLOWING] = true;\r\n        this.emit('resume');\r\n        if (this[BUFFER].length)\r\n            this[FLUSH]();\r\n        else if (this[EOF])\r\n            this[MAYBE_EMIT_END]();\r\n        else\r\n            this.emit('drain');\r\n    }\r\n    /**\r\n     * Resume the stream if it is currently in a paused state\r\n     *\r\n     * If called when there are no pipe destinations or `data` event listeners,\r\n     * this will place the stream in a \"discarded\" state, where all data will\r\n     * be thrown away. The discarded state is removed if a pipe destination or\r\n     * data handler is added, if pause() is called, or if any synchronous or\r\n     * asynchronous iteration is started.\r\n     */\r\n    resume() {\r\n        return this[RESUME]();\r\n    }\r\n    /**\r\n     * Pause the stream\r\n     */\r\n    pause() {\r\n        this[FLOWING] = false;\r\n        this[PAUSED] = true;\r\n        this[DISCARDED] = false;\r\n    }\r\n    /**\r\n     * true if the stream has been forcibly destroyed\r\n     */\r\n    get destroyed() {\r\n        return this[DESTROYED];\r\n    }\r\n    /**\r\n     * true if the stream is currently in a flowing state, meaning that\r\n     * any writes will be immediately emitted.\r\n     */\r\n    get flowing() {\r\n        return this[FLOWING];\r\n    }\r\n    /**\r\n     * true if the stream is currently in a paused state\r\n     */\r\n    get paused() {\r\n        return this[PAUSED];\r\n    }\r\n    [BUFFERPUSH](chunk) {\r\n        if (this[OBJECTMODE])\r\n            this[BUFFERLENGTH] += 1;\r\n        else\r\n            this[BUFFERLENGTH] += chunk.length;\r\n        this[BUFFER].push(chunk);\r\n    }\r\n    [BUFFERSHIFT]() {\r\n        if (this[OBJECTMODE])\r\n            this[BUFFERLENGTH] -= 1;\r\n        else\r\n            this[BUFFERLENGTH] -= this[BUFFER][0].length;\r\n        return this[BUFFER].shift();\r\n    }\r\n    [FLUSH](noDrain = false) {\r\n        do { } while (this[FLUSHCHUNK](this[BUFFERSHIFT]()) &&\r\n            this[BUFFER].length);\r\n        if (!noDrain && !this[BUFFER].length && !this[EOF])\r\n            this.emit('drain');\r\n    }\r\n    [FLUSHCHUNK](chunk) {\r\n        this.emit('data', chunk);\r\n        return this[FLOWING];\r\n    }\r\n    /**\r\n     * Pipe all data emitted by this stream into the destination provided.\r\n     *\r\n     * Triggers the flow of data.\r\n     */\r\n    pipe(dest, opts) {\r\n        if (this[DESTROYED])\r\n            return dest;\r\n        this[DISCARDED] = false;\r\n        const ended = this[EMITTED_END];\r\n        opts = opts || {};\r\n        if (dest === proc.stdout || dest === proc.stderr)\r\n            opts.end = false;\r\n        else\r\n            opts.end = opts.end !== false;\r\n        opts.proxyErrors = !!opts.proxyErrors;\r\n        // piping an ended stream ends immediately\r\n        if (ended) {\r\n            if (opts.end)\r\n                dest.end();\r\n        }\r\n        else {\r\n            // \"as\" here just ignores the WType, which pipes don't care about,\r\n            // since they're only consuming from us, and writing to the dest\r\n            this[PIPES].push(!opts.proxyErrors\r\n                ? new Pipe(this, dest, opts)\r\n                : new PipeProxyErrors(this, dest, opts));\r\n            if (this[ASYNC])\r\n                defer$3(() => this[RESUME]());\r\n            else\r\n                this[RESUME]();\r\n        }\r\n        return dest;\r\n    }\r\n    /**\r\n     * Fully unhook a piped destination stream.\r\n     *\r\n     * If the destination stream was the only consumer of this stream (ie,\r\n     * there are no other piped destinations or `'data'` event listeners)\r\n     * then the flow of data will stop until there is another consumer or\r\n     * {@link Minipass#resume} is explicitly called.\r\n     */\r\n    unpipe(dest) {\r\n        const p = this[PIPES].find(p => p.dest === dest);\r\n        if (p) {\r\n            if (this[PIPES].length === 1) {\r\n                if (this[FLOWING] && this[DATALISTENERS] === 0) {\r\n                    this[FLOWING] = false;\r\n                }\r\n                this[PIPES] = [];\r\n            }\r\n            else\r\n                this[PIPES].splice(this[PIPES].indexOf(p), 1);\r\n            p.unpipe();\r\n        }\r\n    }\r\n    /**\r\n     * Alias for {@link Minipass#on}\r\n     */\r\n    addListener(ev, handler) {\r\n        return this.on(ev, handler);\r\n    }\r\n    /**\r\n     * Mostly identical to `EventEmitter.on`, with the following\r\n     * behavior differences to prevent data loss and unnecessary hangs:\r\n     *\r\n     * - Adding a 'data' event handler will trigger the flow of data\r\n     *\r\n     * - Adding a 'readable' event handler when there is data waiting to be read\r\n     *   will cause 'readable' to be emitted immediately.\r\n     *\r\n     * - Adding an 'endish' event handler ('end', 'finish', etc.) which has\r\n     *   already passed will cause the event to be emitted immediately and all\r\n     *   handlers removed.\r\n     *\r\n     * - Adding an 'error' event handler after an error has been emitted will\r\n     *   cause the event to be re-emitted immediately with the error previously\r\n     *   raised.\r\n     */\r\n    on(ev, handler) {\r\n        const ret = super.on(ev, handler);\r\n        if (ev === 'data') {\r\n            this[DISCARDED] = false;\r\n            this[DATALISTENERS]++;\r\n            if (!this[PIPES].length && !this[FLOWING]) {\r\n                this[RESUME]();\r\n            }\r\n        }\r\n        else if (ev === 'readable' && this[BUFFERLENGTH] !== 0) {\r\n            super.emit('readable');\r\n        }\r\n        else if (isEndish(ev) && this[EMITTED_END]) {\r\n            super.emit(ev);\r\n            this.removeAllListeners(ev);\r\n        }\r\n        else if (ev === 'error' && this[EMITTED_ERROR]) {\r\n            const h = handler;\r\n            if (this[ASYNC])\r\n                defer$3(() => h.call(this, this[EMITTED_ERROR]));\r\n            else\r\n                h.call(this, this[EMITTED_ERROR]);\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * Alias for {@link Minipass#off}\r\n     */\r\n    removeListener(ev, handler) {\r\n        return this.off(ev, handler);\r\n    }\r\n    /**\r\n     * Mostly identical to `EventEmitter.off`\r\n     *\r\n     * If a 'data' event handler is removed, and it was the last consumer\r\n     * (ie, there are no pipe destinations or other 'data' event listeners),\r\n     * then the flow of data will stop until there is another consumer or\r\n     * {@link Minipass#resume} is explicitly called.\r\n     */\r\n    off(ev, handler) {\r\n        const ret = super.off(ev, handler);\r\n        // if we previously had listeners, and now we don't, and we don't\r\n        // have any pipes, then stop the flow, unless it's been explicitly\r\n        // put in a discarded flowing state via stream.resume().\r\n        if (ev === 'data') {\r\n            this[DATALISTENERS] = this.listeners('data').length;\r\n            if (this[DATALISTENERS] === 0 &&\r\n                !this[DISCARDED] &&\r\n                !this[PIPES].length) {\r\n                this[FLOWING] = false;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * Mostly identical to `EventEmitter.removeAllListeners`\r\n     *\r\n     * If all 'data' event handlers are removed, and they were the last consumer\r\n     * (ie, there are no pipe destinations), then the flow of data will stop\r\n     * until there is another consumer or {@link Minipass#resume} is explicitly\r\n     * called.\r\n     */\r\n    removeAllListeners(ev) {\r\n        const ret = super.removeAllListeners(ev);\r\n        if (ev === 'data' || ev === undefined) {\r\n            this[DATALISTENERS] = 0;\r\n            if (!this[DISCARDED] && !this[PIPES].length) {\r\n                this[FLOWING] = false;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * true if the 'end' event has been emitted\r\n     */\r\n    get emittedEnd() {\r\n        return this[EMITTED_END];\r\n    }\r\n    [MAYBE_EMIT_END]() {\r\n        if (!this[EMITTING_END] &&\r\n            !this[EMITTED_END] &&\r\n            !this[DESTROYED] &&\r\n            this[BUFFER].length === 0 &&\r\n            this[EOF]) {\r\n            this[EMITTING_END] = true;\r\n            this.emit('end');\r\n            this.emit('prefinish');\r\n            this.emit('finish');\r\n            if (this[CLOSED$1])\r\n                this.emit('close');\r\n            this[EMITTING_END] = false;\r\n        }\r\n    }\r\n    /**\r\n     * Mostly identical to `EventEmitter.emit`, with the following\r\n     * behavior differences to prevent data loss and unnecessary hangs:\r\n     *\r\n     * If the stream has been destroyed, and the event is something other\r\n     * than 'close' or 'error', then `false` is returned and no handlers\r\n     * are called.\r\n     *\r\n     * If the event is 'end', and has already been emitted, then the event\r\n     * is ignored. If the stream is in a paused or non-flowing state, then\r\n     * the event will be deferred until data flow resumes. If the stream is\r\n     * async, then handlers will be called on the next tick rather than\r\n     * immediately.\r\n     *\r\n     * If the event is 'close', and 'end' has not yet been emitted, then\r\n     * the event will be deferred until after 'end' is emitted.\r\n     *\r\n     * If the event is 'error', and an AbortSignal was provided for the stream,\r\n     * and there are no listeners, then the event is ignored, matching the\r\n     * behavior of node core streams in the presense of an AbortSignal.\r\n     *\r\n     * If the event is 'finish' or 'prefinish', then all listeners will be\r\n     * removed after emitting the event, to prevent double-firing.\r\n     */\r\n    emit(ev, ...args) {\r\n        const data = args[0];\r\n        // error and close are only events allowed after calling destroy()\r\n        if (ev !== 'error' &&\r\n            ev !== 'close' &&\r\n            ev !== DESTROYED &&\r\n            this[DESTROYED]) {\r\n            return false;\r\n        }\r\n        else if (ev === 'data') {\r\n            return !this[OBJECTMODE] && !data\r\n                ? false\r\n                : this[ASYNC]\r\n                    ? (defer$3(() => this[EMITDATA](data)), true)\r\n                    : this[EMITDATA](data);\r\n        }\r\n        else if (ev === 'end') {\r\n            return this[EMITEND]();\r\n        }\r\n        else if (ev === 'close') {\r\n            this[CLOSED$1] = true;\r\n            // don't emit close before 'end' and 'finish'\r\n            if (!this[EMITTED_END] && !this[DESTROYED])\r\n                return false;\r\n            const ret = super.emit('close');\r\n            this.removeAllListeners('close');\r\n            return ret;\r\n        }\r\n        else if (ev === 'error') {\r\n            this[EMITTED_ERROR] = data;\r\n            super.emit(ERROR, data);\r\n            const ret = !this[SIGNAL] || this.listeners('error').length\r\n                ? super.emit('error', data)\r\n                : false;\r\n            this[MAYBE_EMIT_END]();\r\n            return ret;\r\n        }\r\n        else if (ev === 'resume') {\r\n            const ret = super.emit('resume');\r\n            this[MAYBE_EMIT_END]();\r\n            return ret;\r\n        }\r\n        else if (ev === 'finish' || ev === 'prefinish') {\r\n            const ret = super.emit(ev);\r\n            this.removeAllListeners(ev);\r\n            return ret;\r\n        }\r\n        // Some other unknown event\r\n        const ret = super.emit(ev, ...args);\r\n        this[MAYBE_EMIT_END]();\r\n        return ret;\r\n    }\r\n    [EMITDATA](data) {\r\n        for (const p of this[PIPES]) {\r\n            if (p.dest.write(data) === false)\r\n                this.pause();\r\n        }\r\n        const ret = this[DISCARDED] ? false : super.emit('data', data);\r\n        this[MAYBE_EMIT_END]();\r\n        return ret;\r\n    }\r\n    [EMITEND]() {\r\n        if (this[EMITTED_END])\r\n            return false;\r\n        this[EMITTED_END] = true;\r\n        this.readable = false;\r\n        return this[ASYNC]\r\n            ? (defer$3(() => this[EMITEND2]()), true)\r\n            : this[EMITEND2]();\r\n    }\r\n    [EMITEND2]() {\r\n        if (this[DECODER]) {\r\n            const data = this[DECODER].end();\r\n            if (data) {\r\n                for (const p of this[PIPES]) {\r\n                    p.dest.write(data);\r\n                }\r\n                if (!this[DISCARDED])\r\n                    super.emit('data', data);\r\n            }\r\n        }\r\n        for (const p of this[PIPES]) {\r\n            p.end();\r\n        }\r\n        const ret = super.emit('end');\r\n        this.removeAllListeners('end');\r\n        return ret;\r\n    }\r\n    /**\r\n     * Return a Promise that resolves to an array of all emitted data once\r\n     * the stream ends.\r\n     */\r\n    async collect() {\r\n        const buf = Object.assign([], {\r\n            dataLength: 0,\r\n        });\r\n        if (!this[OBJECTMODE])\r\n            buf.dataLength = 0;\r\n        // set the promise first, in case an error is raised\r\n        // by triggering the flow here.\r\n        const p = this.promise();\r\n        this.on('data', c => {\r\n            buf.push(c);\r\n            if (!this[OBJECTMODE])\r\n                buf.dataLength += c.length;\r\n        });\r\n        await p;\r\n        return buf;\r\n    }\r\n    /**\r\n     * Return a Promise that resolves to the concatenation of all emitted data\r\n     * once the stream ends.\r\n     *\r\n     * Not allowed on objectMode streams.\r\n     */\r\n    async concat() {\r\n        if (this[OBJECTMODE]) {\r\n            throw new Error('cannot concat in objectMode');\r\n        }\r\n        const buf = await this.collect();\r\n        return (this[ENCODING$1]\r\n            ? buf.join('')\r\n            : Buffer.concat(buf, buf.dataLength));\r\n    }\r\n    /**\r\n     * Return a void Promise that resolves once the stream ends.\r\n     */\r\n    async promise() {\r\n        return new Promise((resolve, reject) => {\r\n            this.on(DESTROYED, () => reject(new Error('stream destroyed')));\r\n            this.on('error', er => reject(er));\r\n            this.on('end', () => resolve());\r\n        });\r\n    }\r\n    /**\r\n     * Asynchronous `for await of` iteration.\r\n     *\r\n     * This will continue emitting all chunks until the stream terminates.\r\n     */\r\n    [Symbol.asyncIterator]() {\r\n        // set this up front, in case the consumer doesn't call next()\r\n        // right away.\r\n        this[DISCARDED] = false;\r\n        let stopped = false;\r\n        const stop = async () => {\r\n            this.pause();\r\n            stopped = true;\r\n            return { value: undefined, done: true };\r\n        };\r\n        const next = () => {\r\n            if (stopped)\r\n                return stop();\r\n            const res = this.read();\r\n            if (res !== null)\r\n                return Promise.resolve({ done: false, value: res });\r\n            if (this[EOF])\r\n                return stop();\r\n            let resolve;\r\n            let reject;\r\n            const onerr = (er) => {\r\n                this.off('data', ondata);\r\n                this.off('end', onend);\r\n                this.off(DESTROYED, ondestroy);\r\n                stop();\r\n                reject(er);\r\n            };\r\n            const ondata = (value) => {\r\n                this.off('error', onerr);\r\n                this.off('end', onend);\r\n                this.off(DESTROYED, ondestroy);\r\n                this.pause();\r\n                resolve({ value, done: !!this[EOF] });\r\n            };\r\n            const onend = () => {\r\n                this.off('error', onerr);\r\n                this.off('data', ondata);\r\n                this.off(DESTROYED, ondestroy);\r\n                stop();\r\n                resolve({ done: true, value: undefined });\r\n            };\r\n            const ondestroy = () => onerr(new Error('stream destroyed'));\r\n            return new Promise((res, rej) => {\r\n                reject = rej;\r\n                resolve = res;\r\n                this.once(DESTROYED, ondestroy);\r\n                this.once('error', onerr);\r\n                this.once('end', onend);\r\n                this.once('data', ondata);\r\n            });\r\n        };\r\n        return {\r\n            next,\r\n            throw: stop,\r\n            return: stop,\r\n            [Symbol.asyncIterator]() {\r\n                return this;\r\n            },\r\n        };\r\n    }\r\n    /**\r\n     * Synchronous `for of` iteration.\r\n     *\r\n     * The iteration will terminate when the internal buffer runs out, even\r\n     * if the stream has not yet terminated.\r\n     */\r\n    [Symbol.iterator]() {\r\n        // set this up front, in case the consumer doesn't call next()\r\n        // right away.\r\n        this[DISCARDED] = false;\r\n        let stopped = false;\r\n        const stop = () => {\r\n            this.pause();\r\n            this.off(ERROR, stop);\r\n            this.off(DESTROYED, stop);\r\n            this.off('end', stop);\r\n            stopped = true;\r\n            return { done: true, value: undefined };\r\n        };\r\n        const next = () => {\r\n            if (stopped)\r\n                return stop();\r\n            const value = this.read();\r\n            return value === null ? stop() : { done: false, value };\r\n        };\r\n        this.once('end', stop);\r\n        this.once(ERROR, stop);\r\n        this.once(DESTROYED, stop);\r\n        return {\r\n            next,\r\n            throw: stop,\r\n            return: stop,\r\n            [Symbol.iterator]() {\r\n                return this;\r\n            },\r\n        };\r\n    }\r\n    /**\r\n     * Destroy a stream, preventing it from being used for any further purpose.\r\n     *\r\n     * If the stream has a `close()` method, then it will be called on\r\n     * destruction.\r\n     *\r\n     * After destruction, any attempt to write data, read data, or emit most\r\n     * events will be ignored.\r\n     *\r\n     * If an error argument is provided, then it will be emitted in an\r\n     * 'error' event.\r\n     */\r\n    destroy(er) {\r\n        if (this[DESTROYED]) {\r\n            if (er)\r\n                this.emit('error', er);\r\n            else\r\n                this.emit(DESTROYED);\r\n            return this;\r\n        }\r\n        this[DESTROYED] = true;\r\n        this[DISCARDED] = true;\r\n        // throw away all buffered data, it's never coming out\r\n        this[BUFFER].length = 0;\r\n        this[BUFFERLENGTH] = 0;\r\n        const wc = this;\r\n        if (typeof wc.close === 'function' && !this[CLOSED$1])\r\n            wc.close();\r\n        if (er)\r\n            this.emit('error', er);\r\n        // if no error to emit, still reject pending promises\r\n        else\r\n            this.emit(DESTROYED);\r\n        return this;\r\n    }\r\n    /**\r\n     * Alias for {@link isStream}\r\n     *\r\n     * Former export location, maintained for backwards compatibility.\r\n     *\r\n     * @deprecated\r\n     */\r\n    static get isStream() {\r\n        return isStream;\r\n    }\r\n}\r\n\r\nconst realpathSync = realpathSync$1.native;\r\nconst defaultFS = {\r\n    lstatSync,\r\n    readdir: readdir$4,\r\n    readdirSync,\r\n    readlinkSync,\r\n    realpathSync,\r\n    promises: {\r\n        lstat: lstat$3,\r\n        readdir: readdir$5,\r\n        readlink,\r\n        realpath: realpath$2,\r\n    },\r\n};\r\n// if they just gave us require('fs') then use our default\r\nconst fsFromOption = (fsOption) => !fsOption || fsOption === defaultFS || fsOption === fs$j ?\r\n    defaultFS\r\n    : {\r\n        ...defaultFS,\r\n        ...fsOption,\r\n        promises: {\r\n            ...defaultFS.promises,\r\n            ...(fsOption.promises || {}),\r\n        },\r\n    };\r\n// turn something like //?/c:/ into c:\\\r\nconst uncDriveRegexp = /^\\\\\\\\\\?\\\\([a-z]:)\\\\?$/i;\r\nconst uncToDrive = (rootPath) => rootPath.replace(/\\//g, '\\\\').replace(uncDriveRegexp, '$1\\\\');\r\n// windows paths are separated by either / or \\\r\nconst eitherSep = /[\\\\\\/]/;\r\nconst UNKNOWN = 0; // may not even exist, for all we know\r\nconst IFIFO = 0b0001;\r\nconst IFCHR = 0b0010;\r\nconst IFDIR = 0b0100;\r\nconst IFBLK = 0b0110;\r\nconst IFREG = 0b1000;\r\nconst IFLNK = 0b1010;\r\nconst IFSOCK = 0b1100;\r\nconst IFMT = 0b1111;\r\n// mask to unset low 4 bits\r\nconst IFMT_UNKNOWN = ~IFMT;\r\n// set after successfully calling readdir() and getting entries.\r\nconst READDIR_CALLED = 0b0000_0001_0000;\r\n// set after a successful lstat()\r\nconst LSTAT_CALLED = 0b0000_0010_0000;\r\n// set if an entry (or one of its parents) is definitely not a dir\r\nconst ENOTDIR = 0b0000_0100_0000;\r\n// set if an entry (or one of its parents) does not exist\r\n// (can also be set on lstat errors like EACCES or ENAMETOOLONG)\r\nconst ENOENT = 0b0000_1000_0000;\r\n// cannot have child entries -- also verify &IFMT is either IFDIR or IFLNK\r\n// set if we fail to readlink\r\nconst ENOREADLINK = 0b0001_0000_0000;\r\n// set if we know realpath() will fail\r\nconst ENOREALPATH = 0b0010_0000_0000;\r\nconst ENOCHILD = ENOTDIR | ENOENT | ENOREALPATH;\r\nconst TYPEMASK = 0b0011_1111_1111;\r\nconst entToType = (s) => s.isFile() ? IFREG\r\n    : s.isDirectory() ? IFDIR\r\n        : s.isSymbolicLink() ? IFLNK\r\n            : s.isCharacterDevice() ? IFCHR\r\n                : s.isBlockDevice() ? IFBLK\r\n                    : s.isSocket() ? IFSOCK\r\n                        : s.isFIFO() ? IFIFO\r\n                            : UNKNOWN;\r\n// normalize unicode path names\r\nconst normalizeCache = new Map();\r\nconst normalize = (s) => {\r\n    const c = normalizeCache.get(s);\r\n    if (c)\r\n        return c;\r\n    const n = s.normalize('NFKD');\r\n    normalizeCache.set(s, n);\r\n    return n;\r\n};\r\nconst normalizeNocaseCache = new Map();\r\nconst normalizeNocase = (s) => {\r\n    const c = normalizeNocaseCache.get(s);\r\n    if (c)\r\n        return c;\r\n    const n = normalize(s.toLowerCase());\r\n    normalizeNocaseCache.set(s, n);\r\n    return n;\r\n};\r\n/**\r\n * An LRUCache for storing resolved path strings or Path objects.\r\n * @internal\r\n */\r\nclass ResolveCache extends LRUCache {\r\n    constructor() {\r\n        super({ max: 256 });\r\n    }\r\n}\r\n// In order to prevent blowing out the js heap by allocating hundreds of\r\n// thousands of Path entries when walking extremely large trees, the \"children\"\r\n// in this tree are represented by storing an array of Path entries in an\r\n// LRUCache, indexed by the parent.  At any time, Path.children() may return an\r\n// empty array, indicating that it doesn't know about any of its children, and\r\n// thus has to rebuild that cache.  This is fine, it just means that we don't\r\n// benefit as much from having the cached entries, but huge directory walks\r\n// don't blow out the stack, and smaller ones are still as fast as possible.\r\n//\r\n//It does impose some complexity when building up the readdir data, because we\r\n//need to pass a reference to the children array that we started with.\r\n/**\r\n * an LRUCache for storing child entries.\r\n * @internal\r\n */\r\nclass ChildrenCache extends LRUCache {\r\n    constructor(maxSize = 16 * 1024) {\r\n        super({\r\n            maxSize,\r\n            // parent + children\r\n            sizeCalculation: a => a.length + 1,\r\n        });\r\n    }\r\n}\r\nconst setAsCwd = Symbol('PathScurry setAsCwd');\r\n/**\r\n * Path objects are sort of like a super-powered\r\n * {@link https://nodejs.org/docs/latest/api/fs.html#class-fsdirent fs.Dirent}\r\n *\r\n * Each one represents a single filesystem entry on disk, which may or may not\r\n * exist. It includes methods for reading various types of information via\r\n * lstat, readlink, and readdir, and caches all information to the greatest\r\n * degree possible.\r\n *\r\n * Note that fs operations that would normally throw will instead return an\r\n * \"empty\" value. This is in order to prevent excessive overhead from error\r\n * stack traces.\r\n */\r\nclass PathBase {\r\n    /**\r\n     * the basename of this path\r\n     *\r\n     * **Important**: *always* test the path name against any test string\r\n     * usingthe {@link isNamed} method, and not by directly comparing this\r\n     * string. Otherwise, unicode path strings that the system sees as identical\r\n     * will not be properly treated as the same path, leading to incorrect\r\n     * behavior and possible security issues.\r\n     */\r\n    name;\r\n    /**\r\n     * the Path entry corresponding to the path root.\r\n     *\r\n     * @internal\r\n     */\r\n    root;\r\n    /**\r\n     * All roots found within the current PathScurry family\r\n     *\r\n     * @internal\r\n     */\r\n    roots;\r\n    /**\r\n     * a reference to the parent path, or undefined in the case of root entries\r\n     *\r\n     * @internal\r\n     */\r\n    parent;\r\n    /**\r\n     * boolean indicating whether paths are compared case-insensitively\r\n     * @internal\r\n     */\r\n    nocase;\r\n    /**\r\n     * boolean indicating that this path is the current working directory\r\n     * of the PathScurry collection that contains it.\r\n     */\r\n    isCWD = false;\r\n    // potential default fs override\r\n    #fs;\r\n    // Stats fields\r\n    #dev;\r\n    get dev() {\r\n        return this.#dev;\r\n    }\r\n    #mode;\r\n    get mode() {\r\n        return this.#mode;\r\n    }\r\n    #nlink;\r\n    get nlink() {\r\n        return this.#nlink;\r\n    }\r\n    #uid;\r\n    get uid() {\r\n        return this.#uid;\r\n    }\r\n    #gid;\r\n    get gid() {\r\n        return this.#gid;\r\n    }\r\n    #rdev;\r\n    get rdev() {\r\n        return this.#rdev;\r\n    }\r\n    #blksize;\r\n    get blksize() {\r\n        return this.#blksize;\r\n    }\r\n    #ino;\r\n    get ino() {\r\n        return this.#ino;\r\n    }\r\n    #size;\r\n    get size() {\r\n        return this.#size;\r\n    }\r\n    #blocks;\r\n    get blocks() {\r\n        return this.#blocks;\r\n    }\r\n    #atimeMs;\r\n    get atimeMs() {\r\n        return this.#atimeMs;\r\n    }\r\n    #mtimeMs;\r\n    get mtimeMs() {\r\n        return this.#mtimeMs;\r\n    }\r\n    #ctimeMs;\r\n    get ctimeMs() {\r\n        return this.#ctimeMs;\r\n    }\r\n    #birthtimeMs;\r\n    get birthtimeMs() {\r\n        return this.#birthtimeMs;\r\n    }\r\n    #atime;\r\n    get atime() {\r\n        return this.#atime;\r\n    }\r\n    #mtime;\r\n    get mtime() {\r\n        return this.#mtime;\r\n    }\r\n    #ctime;\r\n    get ctime() {\r\n        return this.#ctime;\r\n    }\r\n    #birthtime;\r\n    get birthtime() {\r\n        return this.#birthtime;\r\n    }\r\n    #matchName;\r\n    #depth;\r\n    #fullpath;\r\n    #fullpathPosix;\r\n    #relative;\r\n    #relativePosix;\r\n    #type;\r\n    #children;\r\n    #linkTarget;\r\n    #realpath;\r\n    /**\r\n     * This property is for compatibility with the Dirent class as of\r\n     * Node v20, where Dirent['parentPath'] refers to the path of the\r\n     * directory that was passed to readdir. For root entries, it's the path\r\n     * to the entry itself.\r\n     */\r\n    get parentPath() {\r\n        return (this.parent || this).fullpath();\r\n    }\r\n    /**\r\n     * Deprecated alias for Dirent['parentPath'] Somewhat counterintuitively,\r\n     * this property refers to the *parent* path, not the path object itself.\r\n     */\r\n    get path() {\r\n        return this.parentPath;\r\n    }\r\n    /**\r\n     * Do not create new Path objects directly.  They should always be accessed\r\n     * via the PathScurry class or other methods on the Path class.\r\n     *\r\n     * @internal\r\n     */\r\n    constructor(name, type = UNKNOWN, root, roots, nocase, children, opts) {\r\n        this.name = name;\r\n        this.#matchName = nocase ? normalizeNocase(name) : normalize(name);\r\n        this.#type = type & TYPEMASK;\r\n        this.nocase = nocase;\r\n        this.roots = roots;\r\n        this.root = root || this;\r\n        this.#children = children;\r\n        this.#fullpath = opts.fullpath;\r\n        this.#relative = opts.relative;\r\n        this.#relativePosix = opts.relativePosix;\r\n        this.parent = opts.parent;\r\n        if (this.parent) {\r\n            this.#fs = this.parent.#fs;\r\n        }\r\n        else {\r\n            this.#fs = fsFromOption(opts.fs);\r\n        }\r\n    }\r\n    /**\r\n     * Returns the depth of the Path object from its root.\r\n     *\r\n     * For example, a path at `/foo/bar` would have a depth of 2.\r\n     */\r\n    depth() {\r\n        if (this.#depth !== undefined)\r\n            return this.#depth;\r\n        if (!this.parent)\r\n            return (this.#depth = 0);\r\n        return (this.#depth = this.parent.depth() + 1);\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    childrenCache() {\r\n        return this.#children;\r\n    }\r\n    /**\r\n     * Get the Path object referenced by the string path, resolved from this Path\r\n     */\r\n    resolve(path) {\r\n        if (!path) {\r\n            return this;\r\n        }\r\n        const rootPath = this.getRootString(path);\r\n        const dir = path.substring(rootPath.length);\r\n        const dirParts = dir.split(this.splitSep);\r\n        const result = rootPath ?\r\n            this.getRoot(rootPath).#resolveParts(dirParts)\r\n            : this.#resolveParts(dirParts);\r\n        return result;\r\n    }\r\n    #resolveParts(dirParts) {\r\n        let p = this;\r\n        for (const part of dirParts) {\r\n            p = p.child(part);\r\n        }\r\n        return p;\r\n    }\r\n    /**\r\n     * Returns the cached children Path objects, if still available.  If they\r\n     * have fallen out of the cache, then returns an empty array, and resets the\r\n     * READDIR_CALLED bit, so that future calls to readdir() will require an fs\r\n     * lookup.\r\n     *\r\n     * @internal\r\n     */\r\n    children() {\r\n        const cached = this.#children.get(this);\r\n        if (cached) {\r\n            return cached;\r\n        }\r\n        const children = Object.assign([], { provisional: 0 });\r\n        this.#children.set(this, children);\r\n        this.#type &= ~READDIR_CALLED;\r\n        return children;\r\n    }\r\n    /**\r\n     * Resolves a path portion and returns or creates the child Path.\r\n     *\r\n     * Returns `this` if pathPart is `''` or `'.'`, or `parent` if pathPart is\r\n     * `'..'`.\r\n     *\r\n     * This should not be called directly.  If `pathPart` contains any path\r\n     * separators, it will lead to unsafe undefined behavior.\r\n     *\r\n     * Use `Path.resolve()` instead.\r\n     *\r\n     * @internal\r\n     */\r\n    child(pathPart, opts) {\r\n        if (pathPart === '' || pathPart === '.') {\r\n            return this;\r\n        }\r\n        if (pathPart === '..') {\r\n            return this.parent || this;\r\n        }\r\n        // find the child\r\n        const children = this.children();\r\n        const name = this.nocase ? normalizeNocase(pathPart) : normalize(pathPart);\r\n        for (const p of children) {\r\n            if (p.#matchName === name) {\r\n                return p;\r\n            }\r\n        }\r\n        // didn't find it, create provisional child, since it might not\r\n        // actually exist.  If we know the parent isn't a dir, then\r\n        // in fact it CAN'T exist.\r\n        const s = this.parent ? this.sep : '';\r\n        const fullpath = this.#fullpath ? this.#fullpath + s + pathPart : undefined;\r\n        const pchild = this.newChild(pathPart, UNKNOWN, {\r\n            ...opts,\r\n            parent: this,\r\n            fullpath,\r\n        });\r\n        if (!this.canReaddir()) {\r\n            pchild.#type |= ENOENT;\r\n        }\r\n        // don't have to update provisional, because if we have real children,\r\n        // then provisional is set to children.length, otherwise a lower number\r\n        children.push(pchild);\r\n        return pchild;\r\n    }\r\n    /**\r\n     * The relative path from the cwd. If it does not share an ancestor with\r\n     * the cwd, then this ends up being equivalent to the fullpath()\r\n     */\r\n    relative() {\r\n        if (this.isCWD)\r\n            return '';\r\n        if (this.#relative !== undefined) {\r\n            return this.#relative;\r\n        }\r\n        const name = this.name;\r\n        const p = this.parent;\r\n        if (!p) {\r\n            return (this.#relative = this.name);\r\n        }\r\n        const pv = p.relative();\r\n        return pv + (!pv || !p.parent ? '' : this.sep) + name;\r\n    }\r\n    /**\r\n     * The relative path from the cwd, using / as the path separator.\r\n     * If it does not share an ancestor with\r\n     * the cwd, then this ends up being equivalent to the fullpathPosix()\r\n     * On posix systems, this is identical to relative().\r\n     */\r\n    relativePosix() {\r\n        if (this.sep === '/')\r\n            return this.relative();\r\n        if (this.isCWD)\r\n            return '';\r\n        if (this.#relativePosix !== undefined)\r\n            return this.#relativePosix;\r\n        const name = this.name;\r\n        const p = this.parent;\r\n        if (!p) {\r\n            return (this.#relativePosix = this.fullpathPosix());\r\n        }\r\n        const pv = p.relativePosix();\r\n        return pv + (!pv || !p.parent ? '' : '/') + name;\r\n    }\r\n    /**\r\n     * The fully resolved path string for this Path entry\r\n     */\r\n    fullpath() {\r\n        if (this.#fullpath !== undefined) {\r\n            return this.#fullpath;\r\n        }\r\n        const name = this.name;\r\n        const p = this.parent;\r\n        if (!p) {\r\n            return (this.#fullpath = this.name);\r\n        }\r\n        const pv = p.fullpath();\r\n        const fp = pv + (!p.parent ? '' : this.sep) + name;\r\n        return (this.#fullpath = fp);\r\n    }\r\n    /**\r\n     * On platforms other than windows, this is identical to fullpath.\r\n     *\r\n     * On windows, this is overridden to return the forward-slash form of the\r\n     * full UNC path.\r\n     */\r\n    fullpathPosix() {\r\n        if (this.#fullpathPosix !== undefined)\r\n            return this.#fullpathPosix;\r\n        if (this.sep === '/')\r\n            return (this.#fullpathPosix = this.fullpath());\r\n        if (!this.parent) {\r\n            const p = this.fullpath().replace(/\\\\/g, '/');\r\n            if (/^[a-z]:\\//i.test(p)) {\r\n                return (this.#fullpathPosix = `//?/${p}`);\r\n            }\r\n            else {\r\n                return (this.#fullpathPosix = p);\r\n            }\r\n        }\r\n        const p = this.parent;\r\n        const pfpp = p.fullpathPosix();\r\n        const fpp = pfpp + (!pfpp || !p.parent ? '' : '/') + this.name;\r\n        return (this.#fullpathPosix = fpp);\r\n    }\r\n    /**\r\n     * Is the Path of an unknown type?\r\n     *\r\n     * Note that we might know *something* about it if there has been a previous\r\n     * filesystem operation, for example that it does not exist, or is not a\r\n     * link, or whether it has child entries.\r\n     */\r\n    isUnknown() {\r\n        return (this.#type & IFMT) === UNKNOWN;\r\n    }\r\n    isType(type) {\r\n        return this[`is${type}`]();\r\n    }\r\n    getType() {\r\n        return (this.isUnknown() ? 'Unknown'\r\n            : this.isDirectory() ? 'Directory'\r\n                : this.isFile() ? 'File'\r\n                    : this.isSymbolicLink() ? 'SymbolicLink'\r\n                        : this.isFIFO() ? 'FIFO'\r\n                            : this.isCharacterDevice() ? 'CharacterDevice'\r\n                                : this.isBlockDevice() ? 'BlockDevice'\r\n                                    : /* c8 ignore start */ this.isSocket() ? 'Socket'\r\n                                        : 'Unknown');\r\n        /* c8 ignore stop */\r\n    }\r\n    /**\r\n     * Is the Path a regular file?\r\n     */\r\n    isFile() {\r\n        return (this.#type & IFMT) === IFREG;\r\n    }\r\n    /**\r\n     * Is the Path a directory?\r\n     */\r\n    isDirectory() {\r\n        return (this.#type & IFMT) === IFDIR;\r\n    }\r\n    /**\r\n     * Is the path a character device?\r\n     */\r\n    isCharacterDevice() {\r\n        return (this.#type & IFMT) === IFCHR;\r\n    }\r\n    /**\r\n     * Is the path a block device?\r\n     */\r\n    isBlockDevice() {\r\n        return (this.#type & IFMT) === IFBLK;\r\n    }\r\n    /**\r\n     * Is the path a FIFO pipe?\r\n     */\r\n    isFIFO() {\r\n        return (this.#type & IFMT) === IFIFO;\r\n    }\r\n    /**\r\n     * Is the path a socket?\r\n     */\r\n    isSocket() {\r\n        return (this.#type & IFMT) === IFSOCK;\r\n    }\r\n    /**\r\n     * Is the path a symbolic link?\r\n     */\r\n    isSymbolicLink() {\r\n        return (this.#type & IFLNK) === IFLNK;\r\n    }\r\n    /**\r\n     * Return the entry if it has been subject of a successful lstat, or\r\n     * undefined otherwise.\r\n     *\r\n     * Does not read the filesystem, so an undefined result *could* simply\r\n     * mean that we haven't called lstat on it.\r\n     */\r\n    lstatCached() {\r\n        return this.#type & LSTAT_CALLED ? this : undefined;\r\n    }\r\n    /**\r\n     * Return the cached link target if the entry has been the subject of a\r\n     * successful readlink, or undefined otherwise.\r\n     *\r\n     * Does not read the filesystem, so an undefined result *could* just mean we\r\n     * don't have any cached data. Only use it if you are very sure that a\r\n     * readlink() has been called at some point.\r\n     */\r\n    readlinkCached() {\r\n        return this.#linkTarget;\r\n    }\r\n    /**\r\n     * Returns the cached realpath target if the entry has been the subject\r\n     * of a successful realpath, or undefined otherwise.\r\n     *\r\n     * Does not read the filesystem, so an undefined result *could* just mean we\r\n     * don't have any cached data. Only use it if you are very sure that a\r\n     * realpath() has been called at some point.\r\n     */\r\n    realpathCached() {\r\n        return this.#realpath;\r\n    }\r\n    /**\r\n     * Returns the cached child Path entries array if the entry has been the\r\n     * subject of a successful readdir(), or [] otherwise.\r\n     *\r\n     * Does not read the filesystem, so an empty array *could* just mean we\r\n     * don't have any cached data. Only use it if you are very sure that a\r\n     * readdir() has been called recently enough to still be valid.\r\n     */\r\n    readdirCached() {\r\n        const children = this.children();\r\n        return children.slice(0, children.provisional);\r\n    }\r\n    /**\r\n     * Return true if it's worth trying to readlink.  Ie, we don't (yet) have\r\n     * any indication that readlink will definitely fail.\r\n     *\r\n     * Returns false if the path is known to not be a symlink, if a previous\r\n     * readlink failed, or if the entry does not exist.\r\n     */\r\n    canReadlink() {\r\n        if (this.#linkTarget)\r\n            return true;\r\n        if (!this.parent)\r\n            return false;\r\n        // cases where it cannot possibly succeed\r\n        const ifmt = this.#type & IFMT;\r\n        return !((ifmt !== UNKNOWN && ifmt !== IFLNK) ||\r\n            this.#type & ENOREADLINK ||\r\n            this.#type & ENOENT);\r\n    }\r\n    /**\r\n     * Return true if readdir has previously been successfully called on this\r\n     * path, indicating that cachedReaddir() is likely valid.\r\n     */\r\n    calledReaddir() {\r\n        return !!(this.#type & READDIR_CALLED);\r\n    }\r\n    /**\r\n     * Returns true if the path is known to not exist. That is, a previous lstat\r\n     * or readdir failed to verify its existence when that would have been\r\n     * expected, or a parent entry was marked either enoent or enotdir.\r\n     */\r\n    isENOENT() {\r\n        return !!(this.#type & ENOENT);\r\n    }\r\n    /**\r\n     * Return true if the path is a match for the given path name.  This handles\r\n     * case sensitivity and unicode normalization.\r\n     *\r\n     * Note: even on case-sensitive systems, it is **not** safe to test the\r\n     * equality of the `.name` property to determine whether a given pathname\r\n     * matches, due to unicode normalization mismatches.\r\n     *\r\n     * Always use this method instead of testing the `path.name` property\r\n     * directly.\r\n     */\r\n    isNamed(n) {\r\n        return !this.nocase ?\r\n            this.#matchName === normalize(n)\r\n            : this.#matchName === normalizeNocase(n);\r\n    }\r\n    /**\r\n     * Return the Path object corresponding to the target of a symbolic link.\r\n     *\r\n     * If the Path is not a symbolic link, or if the readlink call fails for any\r\n     * reason, `undefined` is returned.\r\n     *\r\n     * Result is cached, and thus may be outdated if the filesystem is mutated.\r\n     */\r\n    async readlink() {\r\n        const target = this.#linkTarget;\r\n        if (target) {\r\n            return target;\r\n        }\r\n        if (!this.canReadlink()) {\r\n            return undefined;\r\n        }\r\n        /* c8 ignore start */\r\n        // already covered by the canReadlink test, here for ts grumples\r\n        if (!this.parent) {\r\n            return undefined;\r\n        }\r\n        /* c8 ignore stop */\r\n        try {\r\n            const read = await this.#fs.promises.readlink(this.fullpath());\r\n            const linkTarget = (await this.parent.realpath())?.resolve(read);\r\n            if (linkTarget) {\r\n                return (this.#linkTarget = linkTarget);\r\n            }\r\n        }\r\n        catch (er) {\r\n            this.#readlinkFail(er.code);\r\n            return undefined;\r\n        }\r\n    }\r\n    /**\r\n     * Synchronous {@link PathBase.readlink}\r\n     */\r\n    readlinkSync() {\r\n        const target = this.#linkTarget;\r\n        if (target) {\r\n            return target;\r\n        }\r\n        if (!this.canReadlink()) {\r\n            return undefined;\r\n        }\r\n        /* c8 ignore start */\r\n        // already covered by the canReadlink test, here for ts grumples\r\n        if (!this.parent) {\r\n            return undefined;\r\n        }\r\n        /* c8 ignore stop */\r\n        try {\r\n            const read = this.#fs.readlinkSync(this.fullpath());\r\n            const linkTarget = this.parent.realpathSync()?.resolve(read);\r\n            if (linkTarget) {\r\n                return (this.#linkTarget = linkTarget);\r\n            }\r\n        }\r\n        catch (er) {\r\n            this.#readlinkFail(er.code);\r\n            return undefined;\r\n        }\r\n    }\r\n    #readdirSuccess(children) {\r\n        // succeeded, mark readdir called bit\r\n        this.#type |= READDIR_CALLED;\r\n        // mark all remaining provisional children as ENOENT\r\n        for (let p = children.provisional; p < children.length; p++) {\r\n            const c = children[p];\r\n            if (c)\r\n                c.#markENOENT();\r\n        }\r\n    }\r\n    #markENOENT() {\r\n        // mark as UNKNOWN and ENOENT\r\n        if (this.#type & ENOENT)\r\n            return;\r\n        this.#type = (this.#type | ENOENT) & IFMT_UNKNOWN;\r\n        this.#markChildrenENOENT();\r\n    }\r\n    #markChildrenENOENT() {\r\n        // all children are provisional and do not exist\r\n        const children = this.children();\r\n        children.provisional = 0;\r\n        for (const p of children) {\r\n            p.#markENOENT();\r\n        }\r\n    }\r\n    #markENOREALPATH() {\r\n        this.#type |= ENOREALPATH;\r\n        this.#markENOTDIR();\r\n    }\r\n    // save the information when we know the entry is not a dir\r\n    #markENOTDIR() {\r\n        // entry is not a directory, so any children can't exist.\r\n        // this *should* be impossible, since any children created\r\n        // after it's been marked ENOTDIR should be marked ENOENT,\r\n        // so it won't even get to this point.\r\n        /* c8 ignore start */\r\n        if (this.#type & ENOTDIR)\r\n            return;\r\n        /* c8 ignore stop */\r\n        let t = this.#type;\r\n        // this could happen if we stat a dir, then delete it,\r\n        // then try to read it or one of its children.\r\n        if ((t & IFMT) === IFDIR)\r\n            t &= IFMT_UNKNOWN;\r\n        this.#type = t | ENOTDIR;\r\n        this.#markChildrenENOENT();\r\n    }\r\n    #readdirFail(code = '') {\r\n        // markENOTDIR and markENOENT also set provisional=0\r\n        if (code === 'ENOTDIR' || code === 'EPERM') {\r\n            this.#markENOTDIR();\r\n        }\r\n        else if (code === 'ENOENT') {\r\n            this.#markENOENT();\r\n        }\r\n        else {\r\n            this.children().provisional = 0;\r\n        }\r\n    }\r\n    #lstatFail(code = '') {\r\n        // Windows just raises ENOENT in this case, disable for win CI\r\n        /* c8 ignore start */\r\n        if (code === 'ENOTDIR') {\r\n            // already know it has a parent by this point\r\n            const p = this.parent;\r\n            p.#markENOTDIR();\r\n        }\r\n        else if (code === 'ENOENT') {\r\n            /* c8 ignore stop */\r\n            this.#markENOENT();\r\n        }\r\n    }\r\n    #readlinkFail(code = '') {\r\n        let ter = this.#type;\r\n        ter |= ENOREADLINK;\r\n        if (code === 'ENOENT')\r\n            ter |= ENOENT;\r\n        // windows gets a weird error when you try to readlink a file\r\n        if (code === 'EINVAL' || code === 'UNKNOWN') {\r\n            // exists, but not a symlink, we don't know WHAT it is, so remove\r\n            // all IFMT bits.\r\n            ter &= IFMT_UNKNOWN;\r\n        }\r\n        this.#type = ter;\r\n        // windows just gets ENOENT in this case.  We do cover the case,\r\n        // just disabled because it's impossible on Windows CI\r\n        /* c8 ignore start */\r\n        if (code === 'ENOTDIR' && this.parent) {\r\n            this.parent.#markENOTDIR();\r\n        }\r\n        /* c8 ignore stop */\r\n    }\r\n    #readdirAddChild(e, c) {\r\n        return (this.#readdirMaybePromoteChild(e, c) ||\r\n            this.#readdirAddNewChild(e, c));\r\n    }\r\n    #readdirAddNewChild(e, c) {\r\n        // alloc new entry at head, so it's never provisional\r\n        const type = entToType(e);\r\n        const child = this.newChild(e.name, type, { parent: this });\r\n        const ifmt = child.#type & IFMT;\r\n        if (ifmt !== IFDIR && ifmt !== IFLNK && ifmt !== UNKNOWN) {\r\n            child.#type |= ENOTDIR;\r\n        }\r\n        c.unshift(child);\r\n        c.provisional++;\r\n        return child;\r\n    }\r\n    #readdirMaybePromoteChild(e, c) {\r\n        for (let p = c.provisional; p < c.length; p++) {\r\n            const pchild = c[p];\r\n            const name = this.nocase ? normalizeNocase(e.name) : normalize(e.name);\r\n            if (name !== pchild.#matchName) {\r\n                continue;\r\n            }\r\n            return this.#readdirPromoteChild(e, pchild, p, c);\r\n        }\r\n    }\r\n    #readdirPromoteChild(e, p, index, c) {\r\n        const v = p.name;\r\n        // retain any other flags, but set ifmt from dirent\r\n        p.#type = (p.#type & IFMT_UNKNOWN) | entToType(e);\r\n        // case sensitivity fixing when we learn the true name.\r\n        if (v !== e.name)\r\n            p.name = e.name;\r\n        // just advance provisional index (potentially off the list),\r\n        // otherwise we have to splice/pop it out and re-insert at head\r\n        if (index !== c.provisional) {\r\n            if (index === c.length - 1)\r\n                c.pop();\r\n            else\r\n                c.splice(index, 1);\r\n            c.unshift(p);\r\n        }\r\n        c.provisional++;\r\n        return p;\r\n    }\r\n    /**\r\n     * Call lstat() on this Path, and update all known information that can be\r\n     * determined.\r\n     *\r\n     * Note that unlike `fs.lstat()`, the returned value does not contain some\r\n     * information, such as `mode`, `dev`, `nlink`, and `ino`.  If that\r\n     * information is required, you will need to call `fs.lstat` yourself.\r\n     *\r\n     * If the Path refers to a nonexistent file, or if the lstat call fails for\r\n     * any reason, `undefined` is returned.  Otherwise the updated Path object is\r\n     * returned.\r\n     *\r\n     * Results are cached, and thus may be out of date if the filesystem is\r\n     * mutated.\r\n     */\r\n    async lstat() {\r\n        if ((this.#type & ENOENT) === 0) {\r\n            try {\r\n                this.#applyStat(await this.#fs.promises.lstat(this.fullpath()));\r\n                return this;\r\n            }\r\n            catch (er) {\r\n                this.#lstatFail(er.code);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * synchronous {@link PathBase.lstat}\r\n     */\r\n    lstatSync() {\r\n        if ((this.#type & ENOENT) === 0) {\r\n            try {\r\n                this.#applyStat(this.#fs.lstatSync(this.fullpath()));\r\n                return this;\r\n            }\r\n            catch (er) {\r\n                this.#lstatFail(er.code);\r\n            }\r\n        }\r\n    }\r\n    #applyStat(st) {\r\n        const { atime, atimeMs, birthtime, birthtimeMs, blksize, blocks, ctime, ctimeMs, dev, gid, ino, mode, mtime, mtimeMs, nlink, rdev, size, uid, } = st;\r\n        this.#atime = atime;\r\n        this.#atimeMs = atimeMs;\r\n        this.#birthtime = birthtime;\r\n        this.#birthtimeMs = birthtimeMs;\r\n        this.#blksize = blksize;\r\n        this.#blocks = blocks;\r\n        this.#ctime = ctime;\r\n        this.#ctimeMs = ctimeMs;\r\n        this.#dev = dev;\r\n        this.#gid = gid;\r\n        this.#ino = ino;\r\n        this.#mode = mode;\r\n        this.#mtime = mtime;\r\n        this.#mtimeMs = mtimeMs;\r\n        this.#nlink = nlink;\r\n        this.#rdev = rdev;\r\n        this.#size = size;\r\n        this.#uid = uid;\r\n        const ifmt = entToType(st);\r\n        // retain any other flags, but set the ifmt\r\n        this.#type = (this.#type & IFMT_UNKNOWN) | ifmt | LSTAT_CALLED;\r\n        if (ifmt !== UNKNOWN && ifmt !== IFDIR && ifmt !== IFLNK) {\r\n            this.#type |= ENOTDIR;\r\n        }\r\n    }\r\n    #onReaddirCB = [];\r\n    #readdirCBInFlight = false;\r\n    #callOnReaddirCB(children) {\r\n        this.#readdirCBInFlight = false;\r\n        const cbs = this.#onReaddirCB.slice();\r\n        this.#onReaddirCB.length = 0;\r\n        cbs.forEach(cb => cb(null, children));\r\n    }\r\n    /**\r\n     * Standard node-style callback interface to get list of directory entries.\r\n     *\r\n     * If the Path cannot or does not contain any children, then an empty array\r\n     * is returned.\r\n     *\r\n     * Results are cached, and thus may be out of date if the filesystem is\r\n     * mutated.\r\n     *\r\n     * @param cb The callback called with (er, entries).  Note that the `er`\r\n     * param is somewhat extraneous, as all readdir() errors are handled and\r\n     * simply result in an empty set of entries being returned.\r\n     * @param allowZalgo Boolean indicating that immediately known results should\r\n     * *not* be deferred with `queueMicrotask`. Defaults to `false`. Release\r\n     * zalgo at your peril, the dark pony lord is devious and unforgiving.\r\n     */\r\n    readdirCB(cb, allowZalgo = false) {\r\n        if (!this.canReaddir()) {\r\n            if (allowZalgo)\r\n                cb(null, []);\r\n            else\r\n                queueMicrotask(() => cb(null, []));\r\n            return;\r\n        }\r\n        const children = this.children();\r\n        if (this.calledReaddir()) {\r\n            const c = children.slice(0, children.provisional);\r\n            if (allowZalgo)\r\n                cb(null, c);\r\n            else\r\n                queueMicrotask(() => cb(null, c));\r\n            return;\r\n        }\r\n        // don't have to worry about zalgo at this point.\r\n        this.#onReaddirCB.push(cb);\r\n        if (this.#readdirCBInFlight) {\r\n            return;\r\n        }\r\n        this.#readdirCBInFlight = true;\r\n        // else read the directory, fill up children\r\n        // de-provisionalize any provisional children.\r\n        const fullpath = this.fullpath();\r\n        this.#fs.readdir(fullpath, { withFileTypes: true }, (er, entries) => {\r\n            if (er) {\r\n                this.#readdirFail(er.code);\r\n                children.provisional = 0;\r\n            }\r\n            else {\r\n                // if we didn't get an error, we always get entries.\r\n                //@ts-ignore\r\n                for (const e of entries) {\r\n                    this.#readdirAddChild(e, children);\r\n                }\r\n                this.#readdirSuccess(children);\r\n            }\r\n            this.#callOnReaddirCB(children.slice(0, children.provisional));\r\n            return;\r\n        });\r\n    }\r\n    #asyncReaddirInFlight;\r\n    /**\r\n     * Return an array of known child entries.\r\n     *\r\n     * If the Path cannot or does not contain any children, then an empty array\r\n     * is returned.\r\n     *\r\n     * Results are cached, and thus may be out of date if the filesystem is\r\n     * mutated.\r\n     */\r\n    async readdir() {\r\n        if (!this.canReaddir()) {\r\n            return [];\r\n        }\r\n        const children = this.children();\r\n        if (this.calledReaddir()) {\r\n            return children.slice(0, children.provisional);\r\n        }\r\n        // else read the directory, fill up children\r\n        // de-provisionalize any provisional children.\r\n        const fullpath = this.fullpath();\r\n        if (this.#asyncReaddirInFlight) {\r\n            await this.#asyncReaddirInFlight;\r\n        }\r\n        else {\r\n            /* c8 ignore start */\r\n            let resolve = () => { };\r\n            /* c8 ignore stop */\r\n            this.#asyncReaddirInFlight = new Promise(res => (resolve = res));\r\n            try {\r\n                for (const e of await this.#fs.promises.readdir(fullpath, {\r\n                    withFileTypes: true,\r\n                })) {\r\n                    this.#readdirAddChild(e, children);\r\n                }\r\n                this.#readdirSuccess(children);\r\n            }\r\n            catch (er) {\r\n                this.#readdirFail(er.code);\r\n                children.provisional = 0;\r\n            }\r\n            this.#asyncReaddirInFlight = undefined;\r\n            resolve();\r\n        }\r\n        return children.slice(0, children.provisional);\r\n    }\r\n    /**\r\n     * synchronous {@link PathBase.readdir}\r\n     */\r\n    readdirSync() {\r\n        if (!this.canReaddir()) {\r\n            return [];\r\n        }\r\n        const children = this.children();\r\n        if (this.calledReaddir()) {\r\n            return children.slice(0, children.provisional);\r\n        }\r\n        // else read the directory, fill up children\r\n        // de-provisionalize any provisional children.\r\n        const fullpath = this.fullpath();\r\n        try {\r\n            for (const e of this.#fs.readdirSync(fullpath, {\r\n                withFileTypes: true,\r\n            })) {\r\n                this.#readdirAddChild(e, children);\r\n            }\r\n            this.#readdirSuccess(children);\r\n        }\r\n        catch (er) {\r\n            this.#readdirFail(er.code);\r\n            children.provisional = 0;\r\n        }\r\n        return children.slice(0, children.provisional);\r\n    }\r\n    canReaddir() {\r\n        if (this.#type & ENOCHILD)\r\n            return false;\r\n        const ifmt = IFMT & this.#type;\r\n        // we always set ENOTDIR when setting IFMT, so should be impossible\r\n        /* c8 ignore start */\r\n        if (!(ifmt === UNKNOWN || ifmt === IFDIR || ifmt === IFLNK)) {\r\n            return false;\r\n        }\r\n        /* c8 ignore stop */\r\n        return true;\r\n    }\r\n    shouldWalk(dirs, walkFilter) {\r\n        return ((this.#type & IFDIR) === IFDIR &&\r\n            !(this.#type & ENOCHILD) &&\r\n            !dirs.has(this) &&\r\n            (!walkFilter || walkFilter(this)));\r\n    }\r\n    /**\r\n     * Return the Path object corresponding to path as resolved\r\n     * by realpath(3).\r\n     *\r\n     * If the realpath call fails for any reason, `undefined` is returned.\r\n     *\r\n     * Result is cached, and thus may be outdated if the filesystem is mutated.\r\n     * On success, returns a Path object.\r\n     */\r\n    async realpath() {\r\n        if (this.#realpath)\r\n            return this.#realpath;\r\n        if ((ENOREALPATH | ENOREADLINK | ENOENT) & this.#type)\r\n            return undefined;\r\n        try {\r\n            const rp = await this.#fs.promises.realpath(this.fullpath());\r\n            return (this.#realpath = this.resolve(rp));\r\n        }\r\n        catch (_) {\r\n            this.#markENOREALPATH();\r\n        }\r\n    }\r\n    /**\r\n     * Synchronous {@link realpath}\r\n     */\r\n    realpathSync() {\r\n        if (this.#realpath)\r\n            return this.#realpath;\r\n        if ((ENOREALPATH | ENOREADLINK | ENOENT) & this.#type)\r\n            return undefined;\r\n        try {\r\n            const rp = this.#fs.realpathSync(this.fullpath());\r\n            return (this.#realpath = this.resolve(rp));\r\n        }\r\n        catch (_) {\r\n            this.#markENOREALPATH();\r\n        }\r\n    }\r\n    /**\r\n     * Internal method to mark this Path object as the scurry cwd,\r\n     * called by {@link PathScurry#chdir}\r\n     *\r\n     * @internal\r\n     */\r\n    [setAsCwd](oldCwd) {\r\n        if (oldCwd === this)\r\n            return;\r\n        oldCwd.isCWD = false;\r\n        this.isCWD = true;\r\n        const changed = new Set([]);\r\n        let rp = [];\r\n        let p = this;\r\n        while (p && p.parent) {\r\n            changed.add(p);\r\n            p.#relative = rp.join(this.sep);\r\n            p.#relativePosix = rp.join('/');\r\n            p = p.parent;\r\n            rp.push('..');\r\n        }\r\n        // now un-memoize parents of old cwd\r\n        p = oldCwd;\r\n        while (p && p.parent && !changed.has(p)) {\r\n            p.#relative = undefined;\r\n            p.#relativePosix = undefined;\r\n            p = p.parent;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Path class used on win32 systems\r\n *\r\n * Uses `'\\\\'` as the path separator for returned paths, either `'\\\\'` or `'/'`\r\n * as the path separator for parsing paths.\r\n */\r\nclass PathWin32 extends PathBase {\r\n    /**\r\n     * Separator for generating path strings.\r\n     */\r\n    sep = '\\\\';\r\n    /**\r\n     * Separator for parsing path strings.\r\n     */\r\n    splitSep = eitherSep;\r\n    /**\r\n     * Do not create new Path objects directly.  They should always be accessed\r\n     * via the PathScurry class or other methods on the Path class.\r\n     *\r\n     * @internal\r\n     */\r\n    constructor(name, type = UNKNOWN, root, roots, nocase, children, opts) {\r\n        super(name, type, root, roots, nocase, children, opts);\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    newChild(name, type = UNKNOWN, opts = {}) {\r\n        return new PathWin32(name, type, this.root, this.roots, this.nocase, this.childrenCache(), opts);\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    getRootString(path) {\r\n        return win32$1.parse(path).root;\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    getRoot(rootPath) {\r\n        rootPath = uncToDrive(rootPath.toUpperCase());\r\n        if (rootPath === this.root.name) {\r\n            return this.root;\r\n        }\r\n        // ok, not that one, check if it matches another we know about\r\n        for (const [compare, root] of Object.entries(this.roots)) {\r\n            if (this.sameRoot(rootPath, compare)) {\r\n                return (this.roots[rootPath] = root);\r\n            }\r\n        }\r\n        // otherwise, have to create a new one.\r\n        return (this.roots[rootPath] = new PathScurryWin32(rootPath, this).root);\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    sameRoot(rootPath, compare = this.root.name) {\r\n        // windows can (rarely) have case-sensitive filesystem, but\r\n        // UNC and drive letters are always case-insensitive, and canonically\r\n        // represented uppercase.\r\n        rootPath = rootPath\r\n            .toUpperCase()\r\n            .replace(/\\//g, '\\\\')\r\n            .replace(uncDriveRegexp, '$1\\\\');\r\n        return rootPath === compare;\r\n    }\r\n}\r\n/**\r\n * Path class used on all posix systems.\r\n *\r\n * Uses `'/'` as the path separator.\r\n */\r\nclass PathPosix extends PathBase {\r\n    /**\r\n     * separator for parsing path strings\r\n     */\r\n    splitSep = '/';\r\n    /**\r\n     * separator for generating path strings\r\n     */\r\n    sep = '/';\r\n    /**\r\n     * Do not create new Path objects directly.  They should always be accessed\r\n     * via the PathScurry class or other methods on the Path class.\r\n     *\r\n     * @internal\r\n     */\r\n    constructor(name, type = UNKNOWN, root, roots, nocase, children, opts) {\r\n        super(name, type, root, roots, nocase, children, opts);\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    getRootString(path) {\r\n        return path.startsWith('/') ? '/' : '';\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    getRoot(_rootPath) {\r\n        return this.root;\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    newChild(name, type = UNKNOWN, opts = {}) {\r\n        return new PathPosix(name, type, this.root, this.roots, this.nocase, this.childrenCache(), opts);\r\n    }\r\n}\r\n/**\r\n * The base class for all PathScurry classes, providing the interface for path\r\n * resolution and filesystem operations.\r\n *\r\n * Typically, you should *not* instantiate this class directly, but rather one\r\n * of the platform-specific classes, or the exported {@link PathScurry} which\r\n * defaults to the current platform.\r\n */\r\nclass PathScurryBase {\r\n    /**\r\n     * The root Path entry for the current working directory of this Scurry\r\n     */\r\n    root;\r\n    /**\r\n     * The string path for the root of this Scurry's current working directory\r\n     */\r\n    rootPath;\r\n    /**\r\n     * A collection of all roots encountered, referenced by rootPath\r\n     */\r\n    roots;\r\n    /**\r\n     * The Path entry corresponding to this PathScurry's current working directory.\r\n     */\r\n    cwd;\r\n    #resolveCache;\r\n    #resolvePosixCache;\r\n    #children;\r\n    /**\r\n     * Perform path comparisons case-insensitively.\r\n     *\r\n     * Defaults true on Darwin and Windows systems, false elsewhere.\r\n     */\r\n    nocase;\r\n    #fs;\r\n    /**\r\n     * This class should not be instantiated directly.\r\n     *\r\n     * Use PathScurryWin32, PathScurryDarwin, PathScurryPosix, or PathScurry\r\n     *\r\n     * @internal\r\n     */\r\n    constructor(cwd = process.cwd(), pathImpl, sep, { nocase, childrenCacheSize = 16 * 1024, fs = defaultFS, } = {}) {\r\n        this.#fs = fsFromOption(fs);\r\n        if (cwd instanceof URL || cwd.startsWith('file://')) {\r\n            cwd = fileURLToPath(cwd);\r\n        }\r\n        // resolve and split root, and then add to the store.\r\n        // this is the only time we call path.resolve()\r\n        const cwdPath = pathImpl.resolve(cwd);\r\n        this.roots = Object.create(null);\r\n        this.rootPath = this.parseRootPath(cwdPath);\r\n        this.#resolveCache = new ResolveCache();\r\n        this.#resolvePosixCache = new ResolveCache();\r\n        this.#children = new ChildrenCache(childrenCacheSize);\r\n        const split = cwdPath.substring(this.rootPath.length).split(sep);\r\n        // resolve('/') leaves '', splits to [''], we don't want that.\r\n        if (split.length === 1 && !split[0]) {\r\n            split.pop();\r\n        }\r\n        /* c8 ignore start */\r\n        if (nocase === undefined) {\r\n            throw new TypeError('must provide nocase setting to PathScurryBase ctor');\r\n        }\r\n        /* c8 ignore stop */\r\n        this.nocase = nocase;\r\n        this.root = this.newRoot(this.#fs);\r\n        this.roots[this.rootPath] = this.root;\r\n        let prev = this.root;\r\n        let len = split.length - 1;\r\n        const joinSep = pathImpl.sep;\r\n        let abs = this.rootPath;\r\n        let sawFirst = false;\r\n        for (const part of split) {\r\n            const l = len--;\r\n            prev = prev.child(part, {\r\n                relative: new Array(l).fill('..').join(joinSep),\r\n                relativePosix: new Array(l).fill('..').join('/'),\r\n                fullpath: (abs += (sawFirst ? '' : joinSep) + part),\r\n            });\r\n            sawFirst = true;\r\n        }\r\n        this.cwd = prev;\r\n    }\r\n    /**\r\n     * Get the depth of a provided path, string, or the cwd\r\n     */\r\n    depth(path = this.cwd) {\r\n        if (typeof path === 'string') {\r\n            path = this.cwd.resolve(path);\r\n        }\r\n        return path.depth();\r\n    }\r\n    /**\r\n     * Return the cache of child entries.  Exposed so subclasses can create\r\n     * child Path objects in a platform-specific way.\r\n     *\r\n     * @internal\r\n     */\r\n    childrenCache() {\r\n        return this.#children;\r\n    }\r\n    /**\r\n     * Resolve one or more path strings to a resolved string\r\n     *\r\n     * Same interface as require('path').resolve.\r\n     *\r\n     * Much faster than path.resolve() when called multiple times for the same\r\n     * path, because the resolved Path objects are cached.  Much slower\r\n     * otherwise.\r\n     */\r\n    resolve(...paths) {\r\n        // first figure out the minimum number of paths we have to test\r\n        // we always start at cwd, but any absolutes will bump the start\r\n        let r = '';\r\n        for (let i = paths.length - 1; i >= 0; i--) {\r\n            const p = paths[i];\r\n            if (!p || p === '.')\r\n                continue;\r\n            r = r ? `${p}/${r}` : p;\r\n            if (this.isAbsolute(p)) {\r\n                break;\r\n            }\r\n        }\r\n        const cached = this.#resolveCache.get(r);\r\n        if (cached !== undefined) {\r\n            return cached;\r\n        }\r\n        const result = this.cwd.resolve(r).fullpath();\r\n        this.#resolveCache.set(r, result);\r\n        return result;\r\n    }\r\n    /**\r\n     * Resolve one or more path strings to a resolved string, returning\r\n     * the posix path.  Identical to .resolve() on posix systems, but on\r\n     * windows will return a forward-slash separated UNC path.\r\n     *\r\n     * Same interface as require('path').resolve.\r\n     *\r\n     * Much faster than path.resolve() when called multiple times for the same\r\n     * path, because the resolved Path objects are cached.  Much slower\r\n     * otherwise.\r\n     */\r\n    resolvePosix(...paths) {\r\n        // first figure out the minimum number of paths we have to test\r\n        // we always start at cwd, but any absolutes will bump the start\r\n        let r = '';\r\n        for (let i = paths.length - 1; i >= 0; i--) {\r\n            const p = paths[i];\r\n            if (!p || p === '.')\r\n                continue;\r\n            r = r ? `${p}/${r}` : p;\r\n            if (this.isAbsolute(p)) {\r\n                break;\r\n            }\r\n        }\r\n        const cached = this.#resolvePosixCache.get(r);\r\n        if (cached !== undefined) {\r\n            return cached;\r\n        }\r\n        const result = this.cwd.resolve(r).fullpathPosix();\r\n        this.#resolvePosixCache.set(r, result);\r\n        return result;\r\n    }\r\n    /**\r\n     * find the relative path from the cwd to the supplied path string or entry\r\n     */\r\n    relative(entry = this.cwd) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        return entry.relative();\r\n    }\r\n    /**\r\n     * find the relative path from the cwd to the supplied path string or\r\n     * entry, using / as the path delimiter, even on Windows.\r\n     */\r\n    relativePosix(entry = this.cwd) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        return entry.relativePosix();\r\n    }\r\n    /**\r\n     * Return the basename for the provided string or Path object\r\n     */\r\n    basename(entry = this.cwd) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        return entry.name;\r\n    }\r\n    /**\r\n     * Return the dirname for the provided string or Path object\r\n     */\r\n    dirname(entry = this.cwd) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        return (entry.parent || entry).fullpath();\r\n    }\r\n    async readdir(entry = this.cwd, opts = {\r\n        withFileTypes: true,\r\n    }) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            opts = entry;\r\n            entry = this.cwd;\r\n        }\r\n        const { withFileTypes } = opts;\r\n        if (!entry.canReaddir()) {\r\n            return [];\r\n        }\r\n        else {\r\n            const p = await entry.readdir();\r\n            return withFileTypes ? p : p.map(e => e.name);\r\n        }\r\n    }\r\n    readdirSync(entry = this.cwd, opts = {\r\n        withFileTypes: true,\r\n    }) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            opts = entry;\r\n            entry = this.cwd;\r\n        }\r\n        const { withFileTypes = true } = opts;\r\n        if (!entry.canReaddir()) {\r\n            return [];\r\n        }\r\n        else if (withFileTypes) {\r\n            return entry.readdirSync();\r\n        }\r\n        else {\r\n            return entry.readdirSync().map(e => e.name);\r\n        }\r\n    }\r\n    /**\r\n     * Call lstat() on the string or Path object, and update all known\r\n     * information that can be determined.\r\n     *\r\n     * Note that unlike `fs.lstat()`, the returned value does not contain some\r\n     * information, such as `mode`, `dev`, `nlink`, and `ino`.  If that\r\n     * information is required, you will need to call `fs.lstat` yourself.\r\n     *\r\n     * If the Path refers to a nonexistent file, or if the lstat call fails for\r\n     * any reason, `undefined` is returned.  Otherwise the updated Path object is\r\n     * returned.\r\n     *\r\n     * Results are cached, and thus may be out of date if the filesystem is\r\n     * mutated.\r\n     */\r\n    async lstat(entry = this.cwd) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        return entry.lstat();\r\n    }\r\n    /**\r\n     * synchronous {@link PathScurryBase.lstat}\r\n     */\r\n    lstatSync(entry = this.cwd) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        return entry.lstatSync();\r\n    }\r\n    async readlink(entry = this.cwd, { withFileTypes } = {\r\n        withFileTypes: false,\r\n    }) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            withFileTypes = entry.withFileTypes;\r\n            entry = this.cwd;\r\n        }\r\n        const e = await entry.readlink();\r\n        return withFileTypes ? e : e?.fullpath();\r\n    }\r\n    readlinkSync(entry = this.cwd, { withFileTypes } = {\r\n        withFileTypes: false,\r\n    }) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            withFileTypes = entry.withFileTypes;\r\n            entry = this.cwd;\r\n        }\r\n        const e = entry.readlinkSync();\r\n        return withFileTypes ? e : e?.fullpath();\r\n    }\r\n    async realpath(entry = this.cwd, { withFileTypes } = {\r\n        withFileTypes: false,\r\n    }) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            withFileTypes = entry.withFileTypes;\r\n            entry = this.cwd;\r\n        }\r\n        const e = await entry.realpath();\r\n        return withFileTypes ? e : e?.fullpath();\r\n    }\r\n    realpathSync(entry = this.cwd, { withFileTypes } = {\r\n        withFileTypes: false,\r\n    }) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            withFileTypes = entry.withFileTypes;\r\n            entry = this.cwd;\r\n        }\r\n        const e = entry.realpathSync();\r\n        return withFileTypes ? e : e?.fullpath();\r\n    }\r\n    async walk(entry = this.cwd, opts = {}) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            opts = entry;\r\n            entry = this.cwd;\r\n        }\r\n        const { withFileTypes = true, follow = false, filter, walkFilter, } = opts;\r\n        const results = [];\r\n        if (!filter || filter(entry)) {\r\n            results.push(withFileTypes ? entry : entry.fullpath());\r\n        }\r\n        const dirs = new Set();\r\n        const walk = (dir, cb) => {\r\n            dirs.add(dir);\r\n            dir.readdirCB((er, entries) => {\r\n                /* c8 ignore start */\r\n                if (er) {\r\n                    return cb(er);\r\n                }\r\n                /* c8 ignore stop */\r\n                let len = entries.length;\r\n                if (!len)\r\n                    return cb();\r\n                const next = () => {\r\n                    if (--len === 0) {\r\n                        cb();\r\n                    }\r\n                };\r\n                for (const e of entries) {\r\n                    if (!filter || filter(e)) {\r\n                        results.push(withFileTypes ? e : e.fullpath());\r\n                    }\r\n                    if (follow && e.isSymbolicLink()) {\r\n                        e.realpath()\r\n                            .then(r => (r?.isUnknown() ? r.lstat() : r))\r\n                            .then(r => r?.shouldWalk(dirs, walkFilter) ? walk(r, next) : next());\r\n                    }\r\n                    else {\r\n                        if (e.shouldWalk(dirs, walkFilter)) {\r\n                            walk(e, next);\r\n                        }\r\n                        else {\r\n                            next();\r\n                        }\r\n                    }\r\n                }\r\n            }, true); // zalgooooooo\r\n        };\r\n        const start = entry;\r\n        return new Promise((res, rej) => {\r\n            walk(start, er => {\r\n                /* c8 ignore start */\r\n                if (er)\r\n                    return rej(er);\r\n                /* c8 ignore stop */\r\n                res(results);\r\n            });\r\n        });\r\n    }\r\n    walkSync(entry = this.cwd, opts = {}) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            opts = entry;\r\n            entry = this.cwd;\r\n        }\r\n        const { withFileTypes = true, follow = false, filter, walkFilter, } = opts;\r\n        const results = [];\r\n        if (!filter || filter(entry)) {\r\n            results.push(withFileTypes ? entry : entry.fullpath());\r\n        }\r\n        const dirs = new Set([entry]);\r\n        for (const dir of dirs) {\r\n            const entries = dir.readdirSync();\r\n            for (const e of entries) {\r\n                if (!filter || filter(e)) {\r\n                    results.push(withFileTypes ? e : e.fullpath());\r\n                }\r\n                let r = e;\r\n                if (e.isSymbolicLink()) {\r\n                    if (!(follow && (r = e.realpathSync())))\r\n                        continue;\r\n                    if (r.isUnknown())\r\n                        r.lstatSync();\r\n                }\r\n                if (r.shouldWalk(dirs, walkFilter)) {\r\n                    dirs.add(r);\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    }\r\n    /**\r\n     * Support for `for await`\r\n     *\r\n     * Alias for {@link PathScurryBase.iterate}\r\n     *\r\n     * Note: As of Node 19, this is very slow, compared to other methods of\r\n     * walking.  Consider using {@link PathScurryBase.stream} if memory overhead\r\n     * and backpressure are concerns, or {@link PathScurryBase.walk} if not.\r\n     */\r\n    [Symbol.asyncIterator]() {\r\n        return this.iterate();\r\n    }\r\n    iterate(entry = this.cwd, options = {}) {\r\n        // iterating async over the stream is significantly more performant,\r\n        // especially in the warm-cache scenario, because it buffers up directory\r\n        // entries in the background instead of waiting for a yield for each one.\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            options = entry;\r\n            entry = this.cwd;\r\n        }\r\n        return this.stream(entry, options)[Symbol.asyncIterator]();\r\n    }\r\n    /**\r\n     * Iterating over a PathScurry performs a synchronous walk.\r\n     *\r\n     * Alias for {@link PathScurryBase.iterateSync}\r\n     */\r\n    [Symbol.iterator]() {\r\n        return this.iterateSync();\r\n    }\r\n    *iterateSync(entry = this.cwd, opts = {}) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            opts = entry;\r\n            entry = this.cwd;\r\n        }\r\n        const { withFileTypes = true, follow = false, filter, walkFilter, } = opts;\r\n        if (!filter || filter(entry)) {\r\n            yield withFileTypes ? entry : entry.fullpath();\r\n        }\r\n        const dirs = new Set([entry]);\r\n        for (const dir of dirs) {\r\n            const entries = dir.readdirSync();\r\n            for (const e of entries) {\r\n                if (!filter || filter(e)) {\r\n                    yield withFileTypes ? e : e.fullpath();\r\n                }\r\n                let r = e;\r\n                if (e.isSymbolicLink()) {\r\n                    if (!(follow && (r = e.realpathSync())))\r\n                        continue;\r\n                    if (r.isUnknown())\r\n                        r.lstatSync();\r\n                }\r\n                if (r.shouldWalk(dirs, walkFilter)) {\r\n                    dirs.add(r);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    stream(entry = this.cwd, opts = {}) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            opts = entry;\r\n            entry = this.cwd;\r\n        }\r\n        const { withFileTypes = true, follow = false, filter, walkFilter, } = opts;\r\n        const results = new Minipass({ objectMode: true });\r\n        if (!filter || filter(entry)) {\r\n            results.write(withFileTypes ? entry : entry.fullpath());\r\n        }\r\n        const dirs = new Set();\r\n        const queue = [entry];\r\n        let processing = 0;\r\n        const process = () => {\r\n            let paused = false;\r\n            while (!paused) {\r\n                const dir = queue.shift();\r\n                if (!dir) {\r\n                    if (processing === 0)\r\n                        results.end();\r\n                    return;\r\n                }\r\n                processing++;\r\n                dirs.add(dir);\r\n                const onReaddir = (er, entries, didRealpaths = false) => {\r\n                    /* c8 ignore start */\r\n                    if (er)\r\n                        return results.emit('error', er);\r\n                    /* c8 ignore stop */\r\n                    if (follow && !didRealpaths) {\r\n                        const promises = [];\r\n                        for (const e of entries) {\r\n                            if (e.isSymbolicLink()) {\r\n                                promises.push(e\r\n                                    .realpath()\r\n                                    .then((r) => r?.isUnknown() ? r.lstat() : r));\r\n                            }\r\n                        }\r\n                        if (promises.length) {\r\n                            Promise.all(promises).then(() => onReaddir(null, entries, true));\r\n                            return;\r\n                        }\r\n                    }\r\n                    for (const e of entries) {\r\n                        if (e && (!filter || filter(e))) {\r\n                            if (!results.write(withFileTypes ? e : e.fullpath())) {\r\n                                paused = true;\r\n                            }\r\n                        }\r\n                    }\r\n                    processing--;\r\n                    for (const e of entries) {\r\n                        const r = e.realpathCached() || e;\r\n                        if (r.shouldWalk(dirs, walkFilter)) {\r\n                            queue.push(r);\r\n                        }\r\n                    }\r\n                    if (paused && !results.flowing) {\r\n                        results.once('drain', process);\r\n                    }\r\n                    else if (!sync) {\r\n                        process();\r\n                    }\r\n                };\r\n                // zalgo containment\r\n                let sync = true;\r\n                dir.readdirCB(onReaddir, true);\r\n                sync = false;\r\n            }\r\n        };\r\n        process();\r\n        return results;\r\n    }\r\n    streamSync(entry = this.cwd, opts = {}) {\r\n        if (typeof entry === 'string') {\r\n            entry = this.cwd.resolve(entry);\r\n        }\r\n        else if (!(entry instanceof PathBase)) {\r\n            opts = entry;\r\n            entry = this.cwd;\r\n        }\r\n        const { withFileTypes = true, follow = false, filter, walkFilter, } = opts;\r\n        const results = new Minipass({ objectMode: true });\r\n        const dirs = new Set();\r\n        if (!filter || filter(entry)) {\r\n            results.write(withFileTypes ? entry : entry.fullpath());\r\n        }\r\n        const queue = [entry];\r\n        let processing = 0;\r\n        const process = () => {\r\n            let paused = false;\r\n            while (!paused) {\r\n                const dir = queue.shift();\r\n                if (!dir) {\r\n                    if (processing === 0)\r\n                        results.end();\r\n                    return;\r\n                }\r\n                processing++;\r\n                dirs.add(dir);\r\n                const entries = dir.readdirSync();\r\n                for (const e of entries) {\r\n                    if (!filter || filter(e)) {\r\n                        if (!results.write(withFileTypes ? e : e.fullpath())) {\r\n                            paused = true;\r\n                        }\r\n                    }\r\n                }\r\n                processing--;\r\n                for (const e of entries) {\r\n                    let r = e;\r\n                    if (e.isSymbolicLink()) {\r\n                        if (!(follow && (r = e.realpathSync())))\r\n                            continue;\r\n                        if (r.isUnknown())\r\n                            r.lstatSync();\r\n                    }\r\n                    if (r.shouldWalk(dirs, walkFilter)) {\r\n                        queue.push(r);\r\n                    }\r\n                }\r\n            }\r\n            if (paused && !results.flowing)\r\n                results.once('drain', process);\r\n        };\r\n        process();\r\n        return results;\r\n    }\r\n    chdir(path = this.cwd) {\r\n        const oldCwd = this.cwd;\r\n        this.cwd = typeof path === 'string' ? this.cwd.resolve(path) : path;\r\n        this.cwd[setAsCwd](oldCwd);\r\n    }\r\n}\r\n/**\r\n * Windows implementation of {@link PathScurryBase}\r\n *\r\n * Defaults to case insensitve, uses `'\\\\'` to generate path strings.  Uses\r\n * {@link PathWin32} for Path objects.\r\n */\r\nclass PathScurryWin32 extends PathScurryBase {\r\n    /**\r\n     * separator for generating path strings\r\n     */\r\n    sep = '\\\\';\r\n    constructor(cwd = process.cwd(), opts = {}) {\r\n        const { nocase = true } = opts;\r\n        super(cwd, win32$1, '\\\\', { ...opts, nocase });\r\n        this.nocase = nocase;\r\n        for (let p = this.cwd; p; p = p.parent) {\r\n            p.nocase = this.nocase;\r\n        }\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    parseRootPath(dir) {\r\n        // if the path starts with a single separator, it's not a UNC, and we'll\r\n        // just get separator as the root, and driveFromUNC will return \\\r\n        // In that case, mount \\ on the root from the cwd.\r\n        return win32$1.parse(dir).root.toUpperCase();\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    newRoot(fs) {\r\n        return new PathWin32(this.rootPath, IFDIR, undefined, this.roots, this.nocase, this.childrenCache(), { fs });\r\n    }\r\n    /**\r\n     * Return true if the provided path string is an absolute path\r\n     */\r\n    isAbsolute(p) {\r\n        return (p.startsWith('/') || p.startsWith('\\\\') || /^[a-z]:(\\/|\\\\)/i.test(p));\r\n    }\r\n}\r\n/**\r\n * {@link PathScurryBase} implementation for all posix systems other than Darwin.\r\n *\r\n * Defaults to case-sensitive matching, uses `'/'` to generate path strings.\r\n *\r\n * Uses {@link PathPosix} for Path objects.\r\n */\r\nclass PathScurryPosix extends PathScurryBase {\r\n    /**\r\n     * separator for generating path strings\r\n     */\r\n    sep = '/';\r\n    constructor(cwd = process.cwd(), opts = {}) {\r\n        const { nocase = false } = opts;\r\n        super(cwd, posix$1, '/', { ...opts, nocase });\r\n        this.nocase = nocase;\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    parseRootPath(_dir) {\r\n        return '/';\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    newRoot(fs) {\r\n        return new PathPosix(this.rootPath, IFDIR, undefined, this.roots, this.nocase, this.childrenCache(), { fs });\r\n    }\r\n    /**\r\n     * Return true if the provided path string is an absolute path\r\n     */\r\n    isAbsolute(p) {\r\n        return p.startsWith('/');\r\n    }\r\n}\r\n/**\r\n * {@link PathScurryBase} implementation for Darwin (macOS) systems.\r\n *\r\n * Defaults to case-insensitive matching, uses `'/'` for generating path\r\n * strings.\r\n *\r\n * Uses {@link PathPosix} for Path objects.\r\n */\r\nclass PathScurryDarwin extends PathScurryPosix {\r\n    constructor(cwd = process.cwd(), opts = {}) {\r\n        const { nocase = true } = opts;\r\n        super(cwd, { ...opts, nocase });\r\n    }\r\n}\r\n/**\r\n * Default {@link PathBase} implementation for the current platform.\r\n *\r\n * {@link PathWin32} on Windows systems, {@link PathPosix} on all others.\r\n */\r\nprocess.platform === 'win32' ? PathWin32 : PathPosix;\r\n/**\r\n * Default {@link PathScurryBase} implementation for the current platform.\r\n *\r\n * {@link PathScurryWin32} on Windows systems, {@link PathScurryDarwin} on\r\n * Darwin (macOS) systems, {@link PathScurryPosix} on all others.\r\n */\r\nconst PathScurry = process.platform === 'win32' ? PathScurryWin32\r\n    : process.platform === 'darwin' ? PathScurryDarwin\r\n        : PathScurryPosix;\r\n\r\n// this is just a very light wrapper around 2 arrays with an offset index\r\nconst isPatternList = (pl) => pl.length >= 1;\r\nconst isGlobList = (gl) => gl.length >= 1;\r\n/**\r\n * An immutable-ish view on an array of glob parts and their parsed\r\n * results\r\n */\r\nclass Pattern {\r\n    #patternList;\r\n    #globList;\r\n    #index;\r\n    length;\r\n    #platform;\r\n    #rest;\r\n    #globString;\r\n    #isDrive;\r\n    #isUNC;\r\n    #isAbsolute;\r\n    #followGlobstar = true;\r\n    constructor(patternList, globList, index, platform) {\r\n        if (!isPatternList(patternList)) {\r\n            throw new TypeError('empty pattern list');\r\n        }\r\n        if (!isGlobList(globList)) {\r\n            throw new TypeError('empty glob list');\r\n        }\r\n        if (globList.length !== patternList.length) {\r\n            throw new TypeError('mismatched pattern list and glob list lengths');\r\n        }\r\n        this.length = patternList.length;\r\n        if (index < 0 || index >= this.length) {\r\n            throw new TypeError('index out of range');\r\n        }\r\n        this.#patternList = patternList;\r\n        this.#globList = globList;\r\n        this.#index = index;\r\n        this.#platform = platform;\r\n        // normalize root entries of absolute patterns on initial creation.\r\n        if (this.#index === 0) {\r\n            // c: => ['c:/']\r\n            // C:/ => ['C:/']\r\n            // C:/x => ['C:/', 'x']\r\n            // //host/share => ['//host/share/']\r\n            // //host/share/ => ['//host/share/']\r\n            // //host/share/x => ['//host/share/', 'x']\r\n            // /etc => ['/', 'etc']\r\n            // / => ['/']\r\n            if (this.isUNC()) {\r\n                // '' / '' / 'host' / 'share'\r\n                const [p0, p1, p2, p3, ...prest] = this.#patternList;\r\n                const [g0, g1, g2, g3, ...grest] = this.#globList;\r\n                if (prest[0] === '') {\r\n                    // ends in /\r\n                    prest.shift();\r\n                    grest.shift();\r\n                }\r\n                const p = [p0, p1, p2, p3, ''].join('/');\r\n                const g = [g0, g1, g2, g3, ''].join('/');\r\n                this.#patternList = [p, ...prest];\r\n                this.#globList = [g, ...grest];\r\n                this.length = this.#patternList.length;\r\n            }\r\n            else if (this.isDrive() || this.isAbsolute()) {\r\n                const [p1, ...prest] = this.#patternList;\r\n                const [g1, ...grest] = this.#globList;\r\n                if (prest[0] === '') {\r\n                    // ends in /\r\n                    prest.shift();\r\n                    grest.shift();\r\n                }\r\n                const p = p1 + '/';\r\n                const g = g1 + '/';\r\n                this.#patternList = [p, ...prest];\r\n                this.#globList = [g, ...grest];\r\n                this.length = this.#patternList.length;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * The first entry in the parsed list of patterns\r\n     */\r\n    pattern() {\r\n        return this.#patternList[this.#index];\r\n    }\r\n    /**\r\n     * true of if pattern() returns a string\r\n     */\r\n    isString() {\r\n        return typeof this.#patternList[this.#index] === 'string';\r\n    }\r\n    /**\r\n     * true of if pattern() returns GLOBSTAR\r\n     */\r\n    isGlobstar() {\r\n        return this.#patternList[this.#index] === GLOBSTAR$2;\r\n    }\r\n    /**\r\n     * true if pattern() returns a regexp\r\n     */\r\n    isRegExp() {\r\n        return this.#patternList[this.#index] instanceof RegExp;\r\n    }\r\n    /**\r\n     * The /-joined set of glob parts that make up this pattern\r\n     */\r\n    globString() {\r\n        return (this.#globString =\r\n            this.#globString ||\r\n                (this.#index === 0 ?\r\n                    this.isAbsolute() ?\r\n                        this.#globList[0] + this.#globList.slice(1).join('/')\r\n                        : this.#globList.join('/')\r\n                    : this.#globList.slice(this.#index).join('/')));\r\n    }\r\n    /**\r\n     * true if there are more pattern parts after this one\r\n     */\r\n    hasMore() {\r\n        return this.length > this.#index + 1;\r\n    }\r\n    /**\r\n     * The rest of the pattern after this part, or null if this is the end\r\n     */\r\n    rest() {\r\n        if (this.#rest !== undefined)\r\n            return this.#rest;\r\n        if (!this.hasMore())\r\n            return (this.#rest = null);\r\n        this.#rest = new Pattern(this.#patternList, this.#globList, this.#index + 1, this.#platform);\r\n        this.#rest.#isAbsolute = this.#isAbsolute;\r\n        this.#rest.#isUNC = this.#isUNC;\r\n        this.#rest.#isDrive = this.#isDrive;\r\n        return this.#rest;\r\n    }\r\n    /**\r\n     * true if the pattern represents a //unc/path/ on windows\r\n     */\r\n    isUNC() {\r\n        const pl = this.#patternList;\r\n        return this.#isUNC !== undefined ?\r\n            this.#isUNC\r\n            : (this.#isUNC =\r\n                this.#platform === 'win32' &&\r\n                    this.#index === 0 &&\r\n                    pl[0] === '' &&\r\n                    pl[1] === '' &&\r\n                    typeof pl[2] === 'string' &&\r\n                    !!pl[2] &&\r\n                    typeof pl[3] === 'string' &&\r\n                    !!pl[3]);\r\n    }\r\n    // pattern like C:/...\r\n    // split = ['C:', ...]\r\n    // XXX: would be nice to handle patterns like `c:*` to test the cwd\r\n    // in c: for *, but I don't know of a way to even figure out what that\r\n    // cwd is without actually chdir'ing into it?\r\n    /**\r\n     * True if the pattern starts with a drive letter on Windows\r\n     */\r\n    isDrive() {\r\n        const pl = this.#patternList;\r\n        return this.#isDrive !== undefined ?\r\n            this.#isDrive\r\n            : (this.#isDrive =\r\n                this.#platform === 'win32' &&\r\n                    this.#index === 0 &&\r\n                    this.length > 1 &&\r\n                    typeof pl[0] === 'string' &&\r\n                    /^[a-z]:$/i.test(pl[0]));\r\n    }\r\n    // pattern = '/' or '/...' or '/x/...'\r\n    // split = ['', ''] or ['', ...] or ['', 'x', ...]\r\n    // Drive and UNC both considered absolute on windows\r\n    /**\r\n     * True if the pattern is rooted on an absolute path\r\n     */\r\n    isAbsolute() {\r\n        const pl = this.#patternList;\r\n        return this.#isAbsolute !== undefined ?\r\n            this.#isAbsolute\r\n            : (this.#isAbsolute =\r\n                (pl[0] === '' && pl.length > 1) ||\r\n                    this.isDrive() ||\r\n                    this.isUNC());\r\n    }\r\n    /**\r\n     * consume the root of the pattern, and return it\r\n     */\r\n    root() {\r\n        const p = this.#patternList[0];\r\n        return (typeof p === 'string' && this.isAbsolute() && this.#index === 0) ?\r\n            p\r\n            : '';\r\n    }\r\n    /**\r\n     * Check to see if the current globstar pattern is allowed to follow\r\n     * a symbolic link.\r\n     */\r\n    checkFollowGlobstar() {\r\n        return !(this.#index === 0 ||\r\n            !this.isGlobstar() ||\r\n            !this.#followGlobstar);\r\n    }\r\n    /**\r\n     * Mark that the current globstar pattern is following a symbolic link\r\n     */\r\n    markFollowGlobstar() {\r\n        if (this.#index === 0 || !this.isGlobstar() || !this.#followGlobstar)\r\n            return false;\r\n        this.#followGlobstar = false;\r\n        return true;\r\n    }\r\n}\r\n\r\n// give it a pattern, and it'll be able to tell you if\r\n// a given path should be ignored.\r\n// Ignoring a path ignores its children if the pattern ends in /**\r\n// Ignores are always parsed in dot:true mode\r\nconst defaultPlatform$1 = (typeof process === 'object' &&\r\n    process &&\r\n    typeof process.platform === 'string') ?\r\n    process.platform\r\n    : 'linux';\r\n/**\r\n * Class used to process ignored patterns\r\n */\r\nclass Ignore {\r\n    relative;\r\n    relativeChildren;\r\n    absolute;\r\n    absoluteChildren;\r\n    platform;\r\n    mmopts;\r\n    constructor(ignored, { nobrace, nocase, noext, noglobstar, platform = defaultPlatform$1, }) {\r\n        this.relative = [];\r\n        this.absolute = [];\r\n        this.relativeChildren = [];\r\n        this.absoluteChildren = [];\r\n        this.platform = platform;\r\n        this.mmopts = {\r\n            dot: true,\r\n            nobrace,\r\n            nocase,\r\n            noext,\r\n            noglobstar,\r\n            optimizationLevel: 2,\r\n            platform,\r\n            nocomment: true,\r\n            nonegate: true,\r\n        };\r\n        for (const ign of ignored)\r\n            this.add(ign);\r\n    }\r\n    add(ign) {\r\n        // this is a little weird, but it gives us a clean set of optimized\r\n        // minimatch matchers, without getting tripped up if one of them\r\n        // ends in /** inside a brace section, and it's only inefficient at\r\n        // the start of the walk, not along it.\r\n        // It'd be nice if the Pattern class just had a .test() method, but\r\n        // handling globstars is a bit of a pita, and that code already lives\r\n        // in minimatch anyway.\r\n        // Another way would be if maybe Minimatch could take its set/globParts\r\n        // as an option, and then we could at least just use Pattern to test\r\n        // for absolute-ness.\r\n        // Yet another way, Minimatch could take an array of glob strings, and\r\n        // a cwd option, and do the right thing.\r\n        const mm = new Minimatch(ign, this.mmopts);\r\n        for (let i = 0; i < mm.set.length; i++) {\r\n            const parsed = mm.set[i];\r\n            const globParts = mm.globParts[i];\r\n            /* c8 ignore start */\r\n            if (!parsed || !globParts) {\r\n                throw new Error('invalid pattern object');\r\n            }\r\n            // strip off leading ./ portions\r\n            // https://github.com/isaacs/node-glob/issues/570\r\n            while (parsed[0] === '.' && globParts[0] === '.') {\r\n                parsed.shift();\r\n                globParts.shift();\r\n            }\r\n            /* c8 ignore stop */\r\n            const p = new Pattern(parsed, globParts, 0, this.platform);\r\n            const m = new Minimatch(p.globString(), this.mmopts);\r\n            const children = globParts[globParts.length - 1] === '**';\r\n            const absolute = p.isAbsolute();\r\n            if (absolute)\r\n                this.absolute.push(m);\r\n            else\r\n                this.relative.push(m);\r\n            if (children) {\r\n                if (absolute)\r\n                    this.absoluteChildren.push(m);\r\n                else\r\n                    this.relativeChildren.push(m);\r\n            }\r\n        }\r\n    }\r\n    ignored(p) {\r\n        const fullpath = p.fullpath();\r\n        const fullpaths = `${fullpath}/`;\r\n        const relative = p.relative() || '.';\r\n        const relatives = `${relative}/`;\r\n        for (const m of this.relative) {\r\n            if (m.match(relative) || m.match(relatives))\r\n                return true;\r\n        }\r\n        for (const m of this.absolute) {\r\n            if (m.match(fullpath) || m.match(fullpaths))\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n    childrenIgnored(p) {\r\n        const fullpath = p.fullpath() + '/';\r\n        const relative = (p.relative() || '.') + '/';\r\n        for (const m of this.relativeChildren) {\r\n            if (m.match(relative))\r\n                return true;\r\n        }\r\n        for (const m of this.absoluteChildren) {\r\n            if (m.match(fullpath))\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n// synchronous utility for filtering entries and calculating subwalks\r\n/**\r\n * A cache of which patterns have been processed for a given Path\r\n */\r\nclass HasWalkedCache {\r\n    store;\r\n    constructor(store = new Map()) {\r\n        this.store = store;\r\n    }\r\n    copy() {\r\n        return new HasWalkedCache(new Map(this.store));\r\n    }\r\n    hasWalked(target, pattern) {\r\n        return this.store.get(target.fullpath())?.has(pattern.globString());\r\n    }\r\n    storeWalked(target, pattern) {\r\n        const fullpath = target.fullpath();\r\n        const cached = this.store.get(fullpath);\r\n        if (cached)\r\n            cached.add(pattern.globString());\r\n        else\r\n            this.store.set(fullpath, new Set([pattern.globString()]));\r\n    }\r\n}\r\n/**\r\n * A record of which paths have been matched in a given walk step,\r\n * and whether they only are considered a match if they are a directory,\r\n * and whether their absolute or relative path should be returned.\r\n */\r\nclass MatchRecord {\r\n    store = new Map();\r\n    add(target, absolute, ifDir) {\r\n        const n = (absolute ? 2 : 0) | (ifDir ? 1 : 0);\r\n        const current = this.store.get(target);\r\n        this.store.set(target, current === undefined ? n : n & current);\r\n    }\r\n    // match, absolute, ifdir\r\n    entries() {\r\n        return [...this.store.entries()].map(([path, n]) => [\r\n            path,\r\n            !!(n & 2),\r\n            !!(n & 1),\r\n        ]);\r\n    }\r\n}\r\n/**\r\n * A collection of patterns that must be processed in a subsequent step\r\n * for a given path.\r\n */\r\nclass SubWalks {\r\n    store = new Map();\r\n    add(target, pattern) {\r\n        if (!target.canReaddir()) {\r\n            return;\r\n        }\r\n        const subs = this.store.get(target);\r\n        if (subs) {\r\n            if (!subs.find(p => p.globString() === pattern.globString())) {\r\n                subs.push(pattern);\r\n            }\r\n        }\r\n        else\r\n            this.store.set(target, [pattern]);\r\n    }\r\n    get(target) {\r\n        const subs = this.store.get(target);\r\n        /* c8 ignore start */\r\n        if (!subs) {\r\n            throw new Error('attempting to walk unknown path');\r\n        }\r\n        /* c8 ignore stop */\r\n        return subs;\r\n    }\r\n    entries() {\r\n        return this.keys().map(k => [k, this.store.get(k)]);\r\n    }\r\n    keys() {\r\n        return [...this.store.keys()].filter(t => t.canReaddir());\r\n    }\r\n}\r\n/**\r\n * The class that processes patterns for a given path.\r\n *\r\n * Handles child entry filtering, and determining whether a path's\r\n * directory contents must be read.\r\n */\r\nclass Processor {\r\n    hasWalkedCache;\r\n    matches = new MatchRecord();\r\n    subwalks = new SubWalks();\r\n    patterns;\r\n    follow;\r\n    dot;\r\n    opts;\r\n    constructor(opts, hasWalkedCache) {\r\n        this.opts = opts;\r\n        this.follow = !!opts.follow;\r\n        this.dot = !!opts.dot;\r\n        this.hasWalkedCache =\r\n            hasWalkedCache ? hasWalkedCache.copy() : new HasWalkedCache();\r\n    }\r\n    processPatterns(target, patterns) {\r\n        this.patterns = patterns;\r\n        const processingSet = patterns.map(p => [target, p]);\r\n        // map of paths to the magic-starting subwalks they need to walk\r\n        // first item in patterns is the filter\r\n        for (let [t, pattern] of processingSet) {\r\n            this.hasWalkedCache.storeWalked(t, pattern);\r\n            const root = pattern.root();\r\n            const absolute = pattern.isAbsolute() && this.opts.absolute !== false;\r\n            // start absolute patterns at root\r\n            if (root) {\r\n                t = t.resolve(root === '/' && this.opts.root !== undefined ?\r\n                    this.opts.root\r\n                    : root);\r\n                const rest = pattern.rest();\r\n                if (!rest) {\r\n                    this.matches.add(t, true, false);\r\n                    continue;\r\n                }\r\n                else {\r\n                    pattern = rest;\r\n                }\r\n            }\r\n            if (t.isENOENT())\r\n                continue;\r\n            let p;\r\n            let rest;\r\n            let changed = false;\r\n            while (typeof (p = pattern.pattern()) === 'string' &&\r\n                (rest = pattern.rest())) {\r\n                const c = t.resolve(p);\r\n                t = c;\r\n                pattern = rest;\r\n                changed = true;\r\n            }\r\n            p = pattern.pattern();\r\n            rest = pattern.rest();\r\n            if (changed) {\r\n                if (this.hasWalkedCache.hasWalked(t, pattern))\r\n                    continue;\r\n                this.hasWalkedCache.storeWalked(t, pattern);\r\n            }\r\n            // now we have either a final string for a known entry,\r\n            // more strings for an unknown entry,\r\n            // or a pattern starting with magic, mounted on t.\r\n            if (typeof p === 'string') {\r\n                // must not be final entry, otherwise we would have\r\n                // concatenated it earlier.\r\n                const ifDir = p === '..' || p === '' || p === '.';\r\n                this.matches.add(t.resolve(p), absolute, ifDir);\r\n                continue;\r\n            }\r\n            else if (p === GLOBSTAR$2) {\r\n                // if no rest, match and subwalk pattern\r\n                // if rest, process rest and subwalk pattern\r\n                // if it's a symlink, but we didn't get here by way of a\r\n                // globstar match (meaning it's the first time THIS globstar\r\n                // has traversed a symlink), then we follow it. Otherwise, stop.\r\n                if (!t.isSymbolicLink() ||\r\n                    this.follow ||\r\n                    pattern.checkFollowGlobstar()) {\r\n                    this.subwalks.add(t, pattern);\r\n                }\r\n                const rp = rest?.pattern();\r\n                const rrest = rest?.rest();\r\n                if (!rest || ((rp === '' || rp === '.') && !rrest)) {\r\n                    // only HAS to be a dir if it ends in **/ or **/.\r\n                    // but ending in ** will match files as well.\r\n                    this.matches.add(t, absolute, rp === '' || rp === '.');\r\n                }\r\n                else {\r\n                    if (rp === '..') {\r\n                        // this would mean you're matching **/.. at the fs root,\r\n                        // and no thanks, I'm not gonna test that specific case.\r\n                        /* c8 ignore start */\r\n                        const tp = t.parent || t;\r\n                        /* c8 ignore stop */\r\n                        if (!rrest)\r\n                            this.matches.add(tp, absolute, true);\r\n                        else if (!this.hasWalkedCache.hasWalked(tp, rrest)) {\r\n                            this.subwalks.add(tp, rrest);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (p instanceof RegExp) {\r\n                this.subwalks.add(t, pattern);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    subwalkTargets() {\r\n        return this.subwalks.keys();\r\n    }\r\n    child() {\r\n        return new Processor(this.opts, this.hasWalkedCache);\r\n    }\r\n    // return a new Processor containing the subwalks for each\r\n    // child entry, and a set of matches, and\r\n    // a hasWalkedCache that's a copy of this one\r\n    // then we're going to call\r\n    filterEntries(parent, entries) {\r\n        const patterns = this.subwalks.get(parent);\r\n        // put matches and entry walks into the results processor\r\n        const results = this.child();\r\n        for (const e of entries) {\r\n            for (const pattern of patterns) {\r\n                const absolute = pattern.isAbsolute();\r\n                const p = pattern.pattern();\r\n                const rest = pattern.rest();\r\n                if (p === GLOBSTAR$2) {\r\n                    results.testGlobstar(e, pattern, rest, absolute);\r\n                }\r\n                else if (p instanceof RegExp) {\r\n                    results.testRegExp(e, p, rest, absolute);\r\n                }\r\n                else {\r\n                    results.testString(e, p, rest, absolute);\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    }\r\n    testGlobstar(e, pattern, rest, absolute) {\r\n        if (this.dot || !e.name.startsWith('.')) {\r\n            if (!pattern.hasMore()) {\r\n                this.matches.add(e, absolute, false);\r\n            }\r\n            if (e.canReaddir()) {\r\n                // if we're in follow mode or it's not a symlink, just keep\r\n                // testing the same pattern. If there's more after the globstar,\r\n                // then this symlink consumes the globstar. If not, then we can\r\n                // follow at most ONE symlink along the way, so we mark it, which\r\n                // also checks to ensure that it wasn't already marked.\r\n                if (this.follow || !e.isSymbolicLink()) {\r\n                    this.subwalks.add(e, pattern);\r\n                }\r\n                else if (e.isSymbolicLink()) {\r\n                    if (rest && pattern.checkFollowGlobstar()) {\r\n                        this.subwalks.add(e, rest);\r\n                    }\r\n                    else if (pattern.markFollowGlobstar()) {\r\n                        this.subwalks.add(e, pattern);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // if the NEXT thing matches this entry, then also add\r\n        // the rest.\r\n        if (rest) {\r\n            const rp = rest.pattern();\r\n            if (typeof rp === 'string' &&\r\n                // dots and empty were handled already\r\n                rp !== '..' &&\r\n                rp !== '' &&\r\n                rp !== '.') {\r\n                this.testString(e, rp, rest.rest(), absolute);\r\n            }\r\n            else if (rp === '..') {\r\n                /* c8 ignore start */\r\n                const ep = e.parent || e;\r\n                /* c8 ignore stop */\r\n                this.subwalks.add(ep, rest);\r\n            }\r\n            else if (rp instanceof RegExp) {\r\n                this.testRegExp(e, rp, rest.rest(), absolute);\r\n            }\r\n        }\r\n    }\r\n    testRegExp(e, p, rest, absolute) {\r\n        if (!p.test(e.name))\r\n            return;\r\n        if (!rest) {\r\n            this.matches.add(e, absolute, false);\r\n        }\r\n        else {\r\n            this.subwalks.add(e, rest);\r\n        }\r\n    }\r\n    testString(e, p, rest, absolute) {\r\n        // should never happen?\r\n        if (!e.isNamed(p))\r\n            return;\r\n        if (!rest) {\r\n            this.matches.add(e, absolute, false);\r\n        }\r\n        else {\r\n            this.subwalks.add(e, rest);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Single-use utility classes to provide functionality to the {@link Glob}\r\n * methods.\r\n *\r\n * @module\r\n */\r\nconst makeIgnore = (ignore, opts) => typeof ignore === 'string' ? new Ignore([ignore], opts)\r\n    : Array.isArray(ignore) ? new Ignore(ignore, opts)\r\n        : ignore;\r\n/**\r\n * basic walking utilities that all the glob walker types use\r\n */\r\nclass GlobUtil {\r\n    path;\r\n    patterns;\r\n    opts;\r\n    seen = new Set();\r\n    paused = false;\r\n    aborted = false;\r\n    #onResume = [];\r\n    #ignore;\r\n    #sep;\r\n    signal;\r\n    maxDepth;\r\n    includeChildMatches;\r\n    constructor(patterns, path, opts) {\r\n        this.patterns = patterns;\r\n        this.path = path;\r\n        this.opts = opts;\r\n        this.#sep = !opts.posix && opts.platform === 'win32' ? '\\\\' : '/';\r\n        this.includeChildMatches = opts.includeChildMatches !== false;\r\n        if (opts.ignore || !this.includeChildMatches) {\r\n            this.#ignore = makeIgnore(opts.ignore ?? [], opts);\r\n            if (!this.includeChildMatches &&\r\n                typeof this.#ignore.add !== 'function') {\r\n                const m = 'cannot ignore child matches, ignore lacks add() method.';\r\n                throw new Error(m);\r\n            }\r\n        }\r\n        // ignore, always set with maxDepth, but it's optional on the\r\n        // GlobOptions type\r\n        /* c8 ignore start */\r\n        this.maxDepth = opts.maxDepth || Infinity;\r\n        /* c8 ignore stop */\r\n        if (opts.signal) {\r\n            this.signal = opts.signal;\r\n            this.signal.addEventListener('abort', () => {\r\n                this.#onResume.length = 0;\r\n            });\r\n        }\r\n    }\r\n    #ignored(path) {\r\n        return this.seen.has(path) || !!this.#ignore?.ignored?.(path);\r\n    }\r\n    #childrenIgnored(path) {\r\n        return !!this.#ignore?.childrenIgnored?.(path);\r\n    }\r\n    // backpressure mechanism\r\n    pause() {\r\n        this.paused = true;\r\n    }\r\n    resume() {\r\n        /* c8 ignore start */\r\n        if (this.signal?.aborted)\r\n            return;\r\n        /* c8 ignore stop */\r\n        this.paused = false;\r\n        let fn = undefined;\r\n        while (!this.paused && (fn = this.#onResume.shift())) {\r\n            fn();\r\n        }\r\n    }\r\n    onResume(fn) {\r\n        if (this.signal?.aborted)\r\n            return;\r\n        /* c8 ignore start */\r\n        if (!this.paused) {\r\n            fn();\r\n        }\r\n        else {\r\n            /* c8 ignore stop */\r\n            this.#onResume.push(fn);\r\n        }\r\n    }\r\n    // do the requisite realpath/stat checking, and return the path\r\n    // to add or undefined to filter it out.\r\n    async matchCheck(e, ifDir) {\r\n        if (ifDir && this.opts.nodir)\r\n            return undefined;\r\n        let rpc;\r\n        if (this.opts.realpath) {\r\n            rpc = e.realpathCached() || (await e.realpath());\r\n            if (!rpc)\r\n                return undefined;\r\n            e = rpc;\r\n        }\r\n        const needStat = e.isUnknown() || this.opts.stat;\r\n        const s = needStat ? await e.lstat() : e;\r\n        if (this.opts.follow && this.opts.nodir && s?.isSymbolicLink()) {\r\n            const target = await s.realpath();\r\n            /* c8 ignore start */\r\n            if (target && (target.isUnknown() || this.opts.stat)) {\r\n                await target.lstat();\r\n            }\r\n            /* c8 ignore stop */\r\n        }\r\n        return this.matchCheckTest(s, ifDir);\r\n    }\r\n    matchCheckTest(e, ifDir) {\r\n        return (e &&\r\n            (this.maxDepth === Infinity || e.depth() <= this.maxDepth) &&\r\n            (!ifDir || e.canReaddir()) &&\r\n            (!this.opts.nodir || !e.isDirectory()) &&\r\n            (!this.opts.nodir ||\r\n                !this.opts.follow ||\r\n                !e.isSymbolicLink() ||\r\n                !e.realpathCached()?.isDirectory()) &&\r\n            !this.#ignored(e)) ?\r\n            e\r\n            : undefined;\r\n    }\r\n    matchCheckSync(e, ifDir) {\r\n        if (ifDir && this.opts.nodir)\r\n            return undefined;\r\n        let rpc;\r\n        if (this.opts.realpath) {\r\n            rpc = e.realpathCached() || e.realpathSync();\r\n            if (!rpc)\r\n                return undefined;\r\n            e = rpc;\r\n        }\r\n        const needStat = e.isUnknown() || this.opts.stat;\r\n        const s = needStat ? e.lstatSync() : e;\r\n        if (this.opts.follow && this.opts.nodir && s?.isSymbolicLink()) {\r\n            const target = s.realpathSync();\r\n            if (target && (target?.isUnknown() || this.opts.stat)) {\r\n                target.lstatSync();\r\n            }\r\n        }\r\n        return this.matchCheckTest(s, ifDir);\r\n    }\r\n    matchFinish(e, absolute) {\r\n        if (this.#ignored(e))\r\n            return;\r\n        // we know we have an ignore if this is false, but TS doesn't\r\n        if (!this.includeChildMatches && this.#ignore?.add) {\r\n            const ign = `${e.relativePosix()}/**`;\r\n            this.#ignore.add(ign);\r\n        }\r\n        const abs = this.opts.absolute === undefined ? absolute : this.opts.absolute;\r\n        this.seen.add(e);\r\n        const mark = this.opts.mark && e.isDirectory() ? this.#sep : '';\r\n        // ok, we have what we need!\r\n        if (this.opts.withFileTypes) {\r\n            this.matchEmit(e);\r\n        }\r\n        else if (abs) {\r\n            const abs = this.opts.posix ? e.fullpathPosix() : e.fullpath();\r\n            this.matchEmit(abs + mark);\r\n        }\r\n        else {\r\n            const rel = this.opts.posix ? e.relativePosix() : e.relative();\r\n            const pre = this.opts.dotRelative && !rel.startsWith('..' + this.#sep) ?\r\n                '.' + this.#sep\r\n                : '';\r\n            this.matchEmit(!rel ? '.' + mark : pre + rel + mark);\r\n        }\r\n    }\r\n    async match(e, absolute, ifDir) {\r\n        const p = await this.matchCheck(e, ifDir);\r\n        if (p)\r\n            this.matchFinish(p, absolute);\r\n    }\r\n    matchSync(e, absolute, ifDir) {\r\n        const p = this.matchCheckSync(e, ifDir);\r\n        if (p)\r\n            this.matchFinish(p, absolute);\r\n    }\r\n    walkCB(target, patterns, cb) {\r\n        /* c8 ignore start */\r\n        if (this.signal?.aborted)\r\n            cb();\r\n        /* c8 ignore stop */\r\n        this.walkCB2(target, patterns, new Processor(this.opts), cb);\r\n    }\r\n    walkCB2(target, patterns, processor, cb) {\r\n        if (this.#childrenIgnored(target))\r\n            return cb();\r\n        if (this.signal?.aborted)\r\n            cb();\r\n        if (this.paused) {\r\n            this.onResume(() => this.walkCB2(target, patterns, processor, cb));\r\n            return;\r\n        }\r\n        processor.processPatterns(target, patterns);\r\n        // done processing.  all of the above is sync, can be abstracted out.\r\n        // subwalks is a map of paths to the entry filters they need\r\n        // matches is a map of paths to [absolute, ifDir] tuples.\r\n        let tasks = 1;\r\n        const next = () => {\r\n            if (--tasks === 0)\r\n                cb();\r\n        };\r\n        for (const [m, absolute, ifDir] of processor.matches.entries()) {\r\n            if (this.#ignored(m))\r\n                continue;\r\n            tasks++;\r\n            this.match(m, absolute, ifDir).then(() => next());\r\n        }\r\n        for (const t of processor.subwalkTargets()) {\r\n            if (this.maxDepth !== Infinity && t.depth() >= this.maxDepth) {\r\n                continue;\r\n            }\r\n            tasks++;\r\n            const childrenCached = t.readdirCached();\r\n            if (t.calledReaddir())\r\n                this.walkCB3(t, childrenCached, processor, next);\r\n            else {\r\n                t.readdirCB((_, entries) => this.walkCB3(t, entries, processor, next), true);\r\n            }\r\n        }\r\n        next();\r\n    }\r\n    walkCB3(target, entries, processor, cb) {\r\n        processor = processor.filterEntries(target, entries);\r\n        let tasks = 1;\r\n        const next = () => {\r\n            if (--tasks === 0)\r\n                cb();\r\n        };\r\n        for (const [m, absolute, ifDir] of processor.matches.entries()) {\r\n            if (this.#ignored(m))\r\n                continue;\r\n            tasks++;\r\n            this.match(m, absolute, ifDir).then(() => next());\r\n        }\r\n        for (const [target, patterns] of processor.subwalks.entries()) {\r\n            tasks++;\r\n            this.walkCB2(target, patterns, processor.child(), next);\r\n        }\r\n        next();\r\n    }\r\n    walkCBSync(target, patterns, cb) {\r\n        /* c8 ignore start */\r\n        if (this.signal?.aborted)\r\n            cb();\r\n        /* c8 ignore stop */\r\n        this.walkCB2Sync(target, patterns, new Processor(this.opts), cb);\r\n    }\r\n    walkCB2Sync(target, patterns, processor, cb) {\r\n        if (this.#childrenIgnored(target))\r\n            return cb();\r\n        if (this.signal?.aborted)\r\n            cb();\r\n        if (this.paused) {\r\n            this.onResume(() => this.walkCB2Sync(target, patterns, processor, cb));\r\n            return;\r\n        }\r\n        processor.processPatterns(target, patterns);\r\n        // done processing.  all of the above is sync, can be abstracted out.\r\n        // subwalks is a map of paths to the entry filters they need\r\n        // matches is a map of paths to [absolute, ifDir] tuples.\r\n        let tasks = 1;\r\n        const next = () => {\r\n            if (--tasks === 0)\r\n                cb();\r\n        };\r\n        for (const [m, absolute, ifDir] of processor.matches.entries()) {\r\n            if (this.#ignored(m))\r\n                continue;\r\n            this.matchSync(m, absolute, ifDir);\r\n        }\r\n        for (const t of processor.subwalkTargets()) {\r\n            if (this.maxDepth !== Infinity && t.depth() >= this.maxDepth) {\r\n                continue;\r\n            }\r\n            tasks++;\r\n            const children = t.readdirSync();\r\n            this.walkCB3Sync(t, children, processor, next);\r\n        }\r\n        next();\r\n    }\r\n    walkCB3Sync(target, entries, processor, cb) {\r\n        processor = processor.filterEntries(target, entries);\r\n        let tasks = 1;\r\n        const next = () => {\r\n            if (--tasks === 0)\r\n                cb();\r\n        };\r\n        for (const [m, absolute, ifDir] of processor.matches.entries()) {\r\n            if (this.#ignored(m))\r\n                continue;\r\n            this.matchSync(m, absolute, ifDir);\r\n        }\r\n        for (const [target, patterns] of processor.subwalks.entries()) {\r\n            tasks++;\r\n            this.walkCB2Sync(target, patterns, processor.child(), next);\r\n        }\r\n        next();\r\n    }\r\n}\r\nclass GlobWalker extends GlobUtil {\r\n    matches = new Set();\r\n    constructor(patterns, path, opts) {\r\n        super(patterns, path, opts);\r\n    }\r\n    matchEmit(e) {\r\n        this.matches.add(e);\r\n    }\r\n    async walk() {\r\n        if (this.signal?.aborted)\r\n            throw this.signal.reason;\r\n        if (this.path.isUnknown()) {\r\n            await this.path.lstat();\r\n        }\r\n        await new Promise((res, rej) => {\r\n            this.walkCB(this.path, this.patterns, () => {\r\n                if (this.signal?.aborted) {\r\n                    rej(this.signal.reason);\r\n                }\r\n                else {\r\n                    res(this.matches);\r\n                }\r\n            });\r\n        });\r\n        return this.matches;\r\n    }\r\n    walkSync() {\r\n        if (this.signal?.aborted)\r\n            throw this.signal.reason;\r\n        if (this.path.isUnknown()) {\r\n            this.path.lstatSync();\r\n        }\r\n        // nothing for the callback to do, because this never pauses\r\n        this.walkCBSync(this.path, this.patterns, () => {\r\n            if (this.signal?.aborted)\r\n                throw this.signal.reason;\r\n        });\r\n        return this.matches;\r\n    }\r\n}\r\nclass GlobStream extends GlobUtil {\r\n    results;\r\n    constructor(patterns, path, opts) {\r\n        super(patterns, path, opts);\r\n        this.results = new Minipass({\r\n            signal: this.signal,\r\n            objectMode: true,\r\n        });\r\n        this.results.on('drain', () => this.resume());\r\n        this.results.on('resume', () => this.resume());\r\n    }\r\n    matchEmit(e) {\r\n        this.results.write(e);\r\n        if (!this.results.flowing)\r\n            this.pause();\r\n    }\r\n    stream() {\r\n        const target = this.path;\r\n        if (target.isUnknown()) {\r\n            target.lstat().then(() => {\r\n                this.walkCB(target, this.patterns, () => this.results.end());\r\n            });\r\n        }\r\n        else {\r\n            this.walkCB(target, this.patterns, () => this.results.end());\r\n        }\r\n        return this.results;\r\n    }\r\n    streamSync() {\r\n        if (this.path.isUnknown()) {\r\n            this.path.lstatSync();\r\n        }\r\n        this.walkCBSync(this.path, this.patterns, () => this.results.end());\r\n        return this.results;\r\n    }\r\n}\r\n\r\n// if no process global, just call it linux.\r\n// so we default to case-sensitive, / separators\r\nconst defaultPlatform = (typeof process === 'object' &&\r\n    process &&\r\n    typeof process.platform === 'string') ?\r\n    process.platform\r\n    : 'linux';\r\n/**\r\n * An object that can perform glob pattern traversals.\r\n */\r\nclass Glob {\r\n    absolute;\r\n    cwd;\r\n    root;\r\n    dot;\r\n    dotRelative;\r\n    follow;\r\n    ignore;\r\n    magicalBraces;\r\n    mark;\r\n    matchBase;\r\n    maxDepth;\r\n    nobrace;\r\n    nocase;\r\n    nodir;\r\n    noext;\r\n    noglobstar;\r\n    pattern;\r\n    platform;\r\n    realpath;\r\n    scurry;\r\n    stat;\r\n    signal;\r\n    windowsPathsNoEscape;\r\n    withFileTypes;\r\n    includeChildMatches;\r\n    /**\r\n     * The options provided to the constructor.\r\n     */\r\n    opts;\r\n    /**\r\n     * An array of parsed immutable {@link Pattern} objects.\r\n     */\r\n    patterns;\r\n    /**\r\n     * All options are stored as properties on the `Glob` object.\r\n     *\r\n     * See {@link GlobOptions} for full options descriptions.\r\n     *\r\n     * Note that a previous `Glob` object can be passed as the\r\n     * `GlobOptions` to another `Glob` instantiation to re-use settings\r\n     * and caches with a new pattern.\r\n     *\r\n     * Traversal functions can be called multiple times to run the walk\r\n     * again.\r\n     */\r\n    constructor(pattern, opts) {\r\n        /* c8 ignore start */\r\n        if (!opts)\r\n            throw new TypeError('glob options required');\r\n        /* c8 ignore stop */\r\n        this.withFileTypes = !!opts.withFileTypes;\r\n        this.signal = opts.signal;\r\n        this.follow = !!opts.follow;\r\n        this.dot = !!opts.dot;\r\n        this.dotRelative = !!opts.dotRelative;\r\n        this.nodir = !!opts.nodir;\r\n        this.mark = !!opts.mark;\r\n        if (!opts.cwd) {\r\n            this.cwd = '';\r\n        }\r\n        else if (opts.cwd instanceof URL || opts.cwd.startsWith('file://')) {\r\n            opts.cwd = fileURLToPath(opts.cwd);\r\n        }\r\n        this.cwd = opts.cwd || '';\r\n        this.root = opts.root;\r\n        this.magicalBraces = !!opts.magicalBraces;\r\n        this.nobrace = !!opts.nobrace;\r\n        this.noext = !!opts.noext;\r\n        this.realpath = !!opts.realpath;\r\n        this.absolute = opts.absolute;\r\n        this.includeChildMatches = opts.includeChildMatches !== false;\r\n        this.noglobstar = !!opts.noglobstar;\r\n        this.matchBase = !!opts.matchBase;\r\n        this.maxDepth =\r\n            typeof opts.maxDepth === 'number' ? opts.maxDepth : Infinity;\r\n        this.stat = !!opts.stat;\r\n        this.ignore = opts.ignore;\r\n        if (this.withFileTypes && this.absolute !== undefined) {\r\n            throw new Error('cannot set absolute and withFileTypes:true');\r\n        }\r\n        if (typeof pattern === 'string') {\r\n            pattern = [pattern];\r\n        }\r\n        this.windowsPathsNoEscape =\r\n            !!opts.windowsPathsNoEscape ||\r\n                opts.allowWindowsEscape ===\r\n                    false;\r\n        if (this.windowsPathsNoEscape) {\r\n            pattern = pattern.map(p => p.replace(/\\\\/g, '/'));\r\n        }\r\n        if (this.matchBase) {\r\n            if (opts.noglobstar) {\r\n                throw new TypeError('base matching requires globstar');\r\n            }\r\n            pattern = pattern.map(p => (p.includes('/') ? p : `./**/${p}`));\r\n        }\r\n        this.pattern = pattern;\r\n        this.platform = opts.platform || defaultPlatform;\r\n        this.opts = { ...opts, platform: this.platform };\r\n        if (opts.scurry) {\r\n            this.scurry = opts.scurry;\r\n            if (opts.nocase !== undefined &&\r\n                opts.nocase !== opts.scurry.nocase) {\r\n                throw new Error('nocase option contradicts provided scurry option');\r\n            }\r\n        }\r\n        else {\r\n            const Scurry = opts.platform === 'win32' ? PathScurryWin32\r\n                : opts.platform === 'darwin' ? PathScurryDarwin\r\n                    : opts.platform ? PathScurryPosix\r\n                        : PathScurry;\r\n            this.scurry = new Scurry(this.cwd, {\r\n                nocase: opts.nocase,\r\n                fs: opts.fs,\r\n            });\r\n        }\r\n        this.nocase = this.scurry.nocase;\r\n        // If you do nocase:true on a case-sensitive file system, then\r\n        // we need to use regexps instead of strings for non-magic\r\n        // path portions, because statting `aBc` won't return results\r\n        // for the file `AbC` for example.\r\n        const nocaseMagicOnly = this.platform === 'darwin' || this.platform === 'win32';\r\n        const mmo = {\r\n            // default nocase based on platform\r\n            ...opts,\r\n            dot: this.dot,\r\n            matchBase: this.matchBase,\r\n            nobrace: this.nobrace,\r\n            nocase: this.nocase,\r\n            nocaseMagicOnly,\r\n            nocomment: true,\r\n            noext: this.noext,\r\n            nonegate: true,\r\n            optimizationLevel: 2,\r\n            platform: this.platform,\r\n            windowsPathsNoEscape: this.windowsPathsNoEscape,\r\n            debug: !!this.opts.debug,\r\n        };\r\n        const mms = this.pattern.map(p => new Minimatch(p, mmo));\r\n        const [matchSet, globParts] = mms.reduce((set, m) => {\r\n            set[0].push(...m.set);\r\n            set[1].push(...m.globParts);\r\n            return set;\r\n        }, [[], []]);\r\n        this.patterns = matchSet.map((set, i) => {\r\n            const g = globParts[i];\r\n            /* c8 ignore start */\r\n            if (!g)\r\n                throw new Error('invalid pattern object');\r\n            /* c8 ignore stop */\r\n            return new Pattern(set, g, 0, this.platform);\r\n        });\r\n    }\r\n    async walk() {\r\n        // Walkers always return array of Path objects, so we just have to\r\n        // coerce them into the right shape.  It will have already called\r\n        // realpath() if the option was set to do so, so we know that's cached.\r\n        // start out knowing the cwd, at least\r\n        return [\r\n            ...(await new GlobWalker(this.patterns, this.scurry.cwd, {\r\n                ...this.opts,\r\n                maxDepth: this.maxDepth !== Infinity ?\r\n                    this.maxDepth + this.scurry.cwd.depth()\r\n                    : Infinity,\r\n                platform: this.platform,\r\n                nocase: this.nocase,\r\n                includeChildMatches: this.includeChildMatches,\r\n            }).walk()),\r\n        ];\r\n    }\r\n    walkSync() {\r\n        return [\r\n            ...new GlobWalker(this.patterns, this.scurry.cwd, {\r\n                ...this.opts,\r\n                maxDepth: this.maxDepth !== Infinity ?\r\n                    this.maxDepth + this.scurry.cwd.depth()\r\n                    : Infinity,\r\n                platform: this.platform,\r\n                nocase: this.nocase,\r\n                includeChildMatches: this.includeChildMatches,\r\n            }).walkSync(),\r\n        ];\r\n    }\r\n    stream() {\r\n        return new GlobStream(this.patterns, this.scurry.cwd, {\r\n            ...this.opts,\r\n            maxDepth: this.maxDepth !== Infinity ?\r\n                this.maxDepth + this.scurry.cwd.depth()\r\n                : Infinity,\r\n            platform: this.platform,\r\n            nocase: this.nocase,\r\n            includeChildMatches: this.includeChildMatches,\r\n        }).stream();\r\n    }\r\n    streamSync() {\r\n        return new GlobStream(this.patterns, this.scurry.cwd, {\r\n            ...this.opts,\r\n            maxDepth: this.maxDepth !== Infinity ?\r\n                this.maxDepth + this.scurry.cwd.depth()\r\n                : Infinity,\r\n            platform: this.platform,\r\n            nocase: this.nocase,\r\n            includeChildMatches: this.includeChildMatches,\r\n        }).streamSync();\r\n    }\r\n    /**\r\n     * Default sync iteration function. Returns a Generator that\r\n     * iterates over the results.\r\n     */\r\n    iterateSync() {\r\n        return this.streamSync()[Symbol.iterator]();\r\n    }\r\n    [Symbol.iterator]() {\r\n        return this.iterateSync();\r\n    }\r\n    /**\r\n     * Default async iteration function. Returns an AsyncGenerator that\r\n     * iterates over the results.\r\n     */\r\n    iterate() {\r\n        return this.stream()[Symbol.asyncIterator]();\r\n    }\r\n    [Symbol.asyncIterator]() {\r\n        return this.iterate();\r\n    }\r\n}\r\n\r\n/**\r\n * Return true if the patterns provided contain any magic glob characters,\r\n * given the options provided.\r\n *\r\n * Brace expansion is not considered \"magic\" unless the `magicalBraces` option\r\n * is set, as brace expansion just turns one string into an array of strings.\r\n * So a pattern like `'x{a,b}y'` would return `false`, because `'xay'` and\r\n * `'xby'` both do not contain any magic glob characters, and it's treated the\r\n * same as if you had called it on `['xay', 'xby']`. When `magicalBraces:true`\r\n * is in the options, brace expansion _is_ treated as a pattern having magic.\r\n */\r\nconst hasMagic = (pattern, options = {}) => {\r\n    if (!Array.isArray(pattern)) {\r\n        pattern = [pattern];\r\n    }\r\n    for (const p of pattern) {\r\n        if (new Minimatch(p, options).hasMagic())\r\n            return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nfunction globStreamSync(pattern, options = {}) {\r\n    return new Glob(pattern, options).streamSync();\r\n}\r\nfunction globStream(pattern, options = {}) {\r\n    return new Glob(pattern, options).stream();\r\n}\r\nfunction globSync(pattern, options = {}) {\r\n    return new Glob(pattern, options).walkSync();\r\n}\r\nasync function glob_(pattern, options = {}) {\r\n    return new Glob(pattern, options).walk();\r\n}\r\nfunction globIterateSync(pattern, options = {}) {\r\n    return new Glob(pattern, options).iterateSync();\r\n}\r\nfunction globIterate(pattern, options = {}) {\r\n    return new Glob(pattern, options).iterate();\r\n}\r\n// aliases: glob.sync.stream() glob.stream.sync() glob.sync() etc\r\nconst streamSync = globStreamSync;\r\nconst stream$5 = Object.assign(globStream, { sync: globStreamSync });\r\nconst iterateSync = globIterateSync;\r\nconst iterate = Object.assign(globIterate, {\r\n    sync: globIterateSync,\r\n});\r\nconst sync$9 = Object.assign(globSync, {\r\n    stream: globStreamSync,\r\n    iterate: globIterateSync,\r\n});\r\nconst glob$1 = Object.assign(glob_, {\r\n    glob: glob_,\r\n    globSync,\r\n    sync: sync$9,\r\n    globStream,\r\n    stream: stream$5,\r\n    globStreamSync,\r\n    streamSync,\r\n    globIterate,\r\n    iterate,\r\n    globIterateSync,\r\n    iterateSync,\r\n    Glob,\r\n    hasMagic,\r\n    escape: escape$2,\r\n    unescape: unescape$1,\r\n});\r\nglob$1.glob = glob$1;\r\n\r\nconst comma = ','.charCodeAt(0);\r\nconst semicolon = ';'.charCodeAt(0);\r\nconst chars$1 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\nconst intToChar = new Uint8Array(64); // 64 possible chars.\r\nconst charToInt = new Uint8Array(128); // z is 122 in ASCII\r\nfor (let i = 0; i < chars$1.length; i++) {\r\n    const c = chars$1.charCodeAt(i);\r\n    intToChar[i] = c;\r\n    charToInt[c] = i;\r\n}\r\nfunction decodeInteger(reader, relative) {\r\n    let value = 0;\r\n    let shift = 0;\r\n    let integer = 0;\r\n    do {\r\n        const c = reader.next();\r\n        integer = charToInt[c];\r\n        value |= (integer & 31) << shift;\r\n        shift += 5;\r\n    } while (integer & 32);\r\n    const shouldNegate = value & 1;\r\n    value >>>= 1;\r\n    if (shouldNegate) {\r\n        value = -0x80000000 | -value;\r\n    }\r\n    return relative + value;\r\n}\r\nfunction encodeInteger(builder, num, relative) {\r\n    let delta = num - relative;\r\n    delta = delta < 0 ? (-delta << 1) | 1 : delta << 1;\r\n    do {\r\n        let clamped = delta & 0b011111;\r\n        delta >>>= 5;\r\n        if (delta > 0)\r\n            clamped |= 0b100000;\r\n        builder.write(intToChar[clamped]);\r\n    } while (delta > 0);\r\n    return num;\r\n}\r\nfunction hasMoreVlq(reader, max) {\r\n    if (reader.pos >= max)\r\n        return false;\r\n    return reader.peek() !== comma;\r\n}\r\n\r\nconst bufLength = 1024 * 16;\r\n// Provide a fallback for older environments.\r\nconst td = typeof TextDecoder !== 'undefined'\r\n    ? /* #__PURE__ */ new TextDecoder()\r\n    : typeof Buffer !== 'undefined'\r\n        ? {\r\n            decode(buf) {\r\n                const out = Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);\r\n                return out.toString();\r\n            },\r\n        }\r\n        : {\r\n            decode(buf) {\r\n                let out = '';\r\n                for (let i = 0; i < buf.length; i++) {\r\n                    out += String.fromCharCode(buf[i]);\r\n                }\r\n                return out;\r\n            },\r\n        };\r\nclass StringWriter {\r\n    constructor() {\r\n        this.pos = 0;\r\n        this.out = '';\r\n        this.buffer = new Uint8Array(bufLength);\r\n    }\r\n    write(v) {\r\n        const { buffer } = this;\r\n        buffer[this.pos++] = v;\r\n        if (this.pos === bufLength) {\r\n            this.out += td.decode(buffer);\r\n            this.pos = 0;\r\n        }\r\n    }\r\n    flush() {\r\n        const { buffer, out, pos } = this;\r\n        return pos > 0 ? out + td.decode(buffer.subarray(0, pos)) : out;\r\n    }\r\n}\r\nclass StringReader {\r\n    constructor(buffer) {\r\n        this.pos = 0;\r\n        this.buffer = buffer;\r\n    }\r\n    next() {\r\n        return this.buffer.charCodeAt(this.pos++);\r\n    }\r\n    peek() {\r\n        return this.buffer.charCodeAt(this.pos);\r\n    }\r\n    indexOf(char) {\r\n        const { buffer, pos } = this;\r\n        const idx = buffer.indexOf(char, pos);\r\n        return idx === -1 ? buffer.length : idx;\r\n    }\r\n}\r\n\r\nfunction decode(mappings) {\r\n    const { length } = mappings;\r\n    const reader = new StringReader(mappings);\r\n    const decoded = [];\r\n    let genColumn = 0;\r\n    let sourcesIndex = 0;\r\n    let sourceLine = 0;\r\n    let sourceColumn = 0;\r\n    let namesIndex = 0;\r\n    do {\r\n        const semi = reader.indexOf(';');\r\n        const line = [];\r\n        let sorted = true;\r\n        let lastCol = 0;\r\n        genColumn = 0;\r\n        while (reader.pos < semi) {\r\n            let seg;\r\n            genColumn = decodeInteger(reader, genColumn);\r\n            if (genColumn < lastCol)\r\n                sorted = false;\r\n            lastCol = genColumn;\r\n            if (hasMoreVlq(reader, semi)) {\r\n                sourcesIndex = decodeInteger(reader, sourcesIndex);\r\n                sourceLine = decodeInteger(reader, sourceLine);\r\n                sourceColumn = decodeInteger(reader, sourceColumn);\r\n                if (hasMoreVlq(reader, semi)) {\r\n                    namesIndex = decodeInteger(reader, namesIndex);\r\n                    seg = [genColumn, sourcesIndex, sourceLine, sourceColumn, namesIndex];\r\n                }\r\n                else {\r\n                    seg = [genColumn, sourcesIndex, sourceLine, sourceColumn];\r\n                }\r\n            }\r\n            else {\r\n                seg = [genColumn];\r\n            }\r\n            line.push(seg);\r\n            reader.pos++;\r\n        }\r\n        if (!sorted)\r\n            sort(line);\r\n        decoded.push(line);\r\n        reader.pos = semi + 1;\r\n    } while (reader.pos <= length);\r\n    return decoded;\r\n}\r\nfunction sort(line) {\r\n    line.sort(sortComparator$1);\r\n}\r\nfunction sortComparator$1(a, b) {\r\n    return a[0] - b[0];\r\n}\r\nfunction encode$1(decoded) {\r\n    const writer = new StringWriter();\r\n    let sourcesIndex = 0;\r\n    let sourceLine = 0;\r\n    let sourceColumn = 0;\r\n    let namesIndex = 0;\r\n    for (let i = 0; i < decoded.length; i++) {\r\n        const line = decoded[i];\r\n        if (i > 0)\r\n            writer.write(semicolon);\r\n        if (line.length === 0)\r\n            continue;\r\n        let genColumn = 0;\r\n        for (let j = 0; j < line.length; j++) {\r\n            const segment = line[j];\r\n            if (j > 0)\r\n                writer.write(comma);\r\n            genColumn = encodeInteger(writer, segment[0], genColumn);\r\n            if (segment.length === 1)\r\n                continue;\r\n            sourcesIndex = encodeInteger(writer, segment[1], sourcesIndex);\r\n            sourceLine = encodeInteger(writer, segment[2], sourceLine);\r\n            sourceColumn = encodeInteger(writer, segment[3], sourceColumn);\r\n            if (segment.length === 4)\r\n                continue;\r\n            namesIndex = encodeInteger(writer, segment[4], namesIndex);\r\n        }\r\n    }\r\n    return writer.flush();\r\n}\r\n\r\nclass BitSet {\r\n\tconstructor(arg) {\r\n\t\tthis.bits = arg instanceof BitSet ? arg.bits.slice() : [];\r\n\t}\r\n\r\n\tadd(n) {\r\n\t\tthis.bits[n >> 5] |= 1 << (n & 31);\r\n\t}\r\n\r\n\thas(n) {\r\n\t\treturn !!(this.bits[n >> 5] & (1 << (n & 31)));\r\n\t}\r\n}\r\n\r\nclass Chunk {\r\n\tconstructor(start, end, content) {\r\n\t\tthis.start = start;\r\n\t\tthis.end = end;\r\n\t\tthis.original = content;\r\n\r\n\t\tthis.intro = '';\r\n\t\tthis.outro = '';\r\n\r\n\t\tthis.content = content;\r\n\t\tthis.storeName = false;\r\n\t\tthis.edited = false;\r\n\r\n\t\t{\r\n\t\t\tthis.previous = null;\r\n\t\t\tthis.next = null;\r\n\t\t}\r\n\t}\r\n\r\n\tappendLeft(content) {\r\n\t\tthis.outro += content;\r\n\t}\r\n\r\n\tappendRight(content) {\r\n\t\tthis.intro = this.intro + content;\r\n\t}\r\n\r\n\tclone() {\r\n\t\tconst chunk = new Chunk(this.start, this.end, this.original);\r\n\r\n\t\tchunk.intro = this.intro;\r\n\t\tchunk.outro = this.outro;\r\n\t\tchunk.content = this.content;\r\n\t\tchunk.storeName = this.storeName;\r\n\t\tchunk.edited = this.edited;\r\n\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tcontains(index) {\r\n\t\treturn this.start < index && index < this.end;\r\n\t}\r\n\r\n\teachNext(fn) {\r\n\t\tlet chunk = this;\r\n\t\twhile (chunk) {\r\n\t\t\tfn(chunk);\r\n\t\t\tchunk = chunk.next;\r\n\t\t}\r\n\t}\r\n\r\n\teachPrevious(fn) {\r\n\t\tlet chunk = this;\r\n\t\twhile (chunk) {\r\n\t\t\tfn(chunk);\r\n\t\t\tchunk = chunk.previous;\r\n\t\t}\r\n\t}\r\n\r\n\tedit(content, storeName, contentOnly) {\r\n\t\tthis.content = content;\r\n\t\tif (!contentOnly) {\r\n\t\t\tthis.intro = '';\r\n\t\t\tthis.outro = '';\r\n\t\t}\r\n\t\tthis.storeName = storeName;\r\n\r\n\t\tthis.edited = true;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprependLeft(content) {\r\n\t\tthis.outro = content + this.outro;\r\n\t}\r\n\r\n\tprependRight(content) {\r\n\t\tthis.intro = content + this.intro;\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.intro = '';\r\n\t\tthis.outro = '';\r\n\t\tif (this.edited) {\r\n\t\t\tthis.content = this.original;\r\n\t\t\tthis.storeName = false;\r\n\t\t\tthis.edited = false;\r\n\t\t}\r\n\t}\r\n\r\n\tsplit(index) {\r\n\t\tconst sliceIndex = index - this.start;\r\n\r\n\t\tconst originalBefore = this.original.slice(0, sliceIndex);\r\n\t\tconst originalAfter = this.original.slice(sliceIndex);\r\n\r\n\t\tthis.original = originalBefore;\r\n\r\n\t\tconst newChunk = new Chunk(index, this.end, originalAfter);\r\n\t\tnewChunk.outro = this.outro;\r\n\t\tthis.outro = '';\r\n\r\n\t\tthis.end = index;\r\n\r\n\t\tif (this.edited) {\r\n\t\t\t// after split we should save the edit content record into the correct chunk\r\n\t\t\t// to make sure sourcemap correct\r\n\t\t\t// For example:\r\n\t\t\t// '  test'.trim()\r\n\t\t\t//     split   -> '  ' + 'test'\r\n\t\t\t//   ✔️ edit    -> '' + 'test'\r\n\t\t\t//   ✖️ edit    -> 'test' + '' \r\n\t\t\t// TODO is this block necessary?...\r\n\t\t\tnewChunk.edit('', false);\r\n\t\t\tthis.content = '';\r\n\t\t} else {\r\n\t\t\tthis.content = originalBefore;\r\n\t\t}\r\n\r\n\t\tnewChunk.next = this.next;\r\n\t\tif (newChunk.next) newChunk.next.previous = newChunk;\r\n\t\tnewChunk.previous = this;\r\n\t\tthis.next = newChunk;\r\n\r\n\t\treturn newChunk;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn this.intro + this.content + this.outro;\r\n\t}\r\n\r\n\ttrimEnd(rx) {\r\n\t\tthis.outro = this.outro.replace(rx, '');\r\n\t\tif (this.outro.length) return true;\r\n\r\n\t\tconst trimmed = this.content.replace(rx, '');\r\n\r\n\t\tif (trimmed.length) {\r\n\t\t\tif (trimmed !== this.content) {\r\n\t\t\t\tthis.split(this.start + trimmed.length).edit('', undefined, true);\r\n\t\t\t\tif (this.edited) {\r\n\t\t\t\t\t// save the change, if it has been edited\r\n\t\t\t\t\tthis.edit(trimmed, this.storeName, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tthis.edit('', undefined, true);\r\n\r\n\t\t\tthis.intro = this.intro.replace(rx, '');\r\n\t\t\tif (this.intro.length) return true;\r\n\t\t}\r\n\t}\r\n\r\n\ttrimStart(rx) {\r\n\t\tthis.intro = this.intro.replace(rx, '');\r\n\t\tif (this.intro.length) return true;\r\n\r\n\t\tconst trimmed = this.content.replace(rx, '');\r\n\r\n\t\tif (trimmed.length) {\r\n\t\t\tif (trimmed !== this.content) {\r\n\t\t\t\tconst newChunk = this.split(this.end - trimmed.length);\r\n\t\t\t\tif (this.edited) {\r\n\t\t\t\t\t// save the change, if it has been edited\r\n\t\t\t\t\tnewChunk.edit(trimmed, this.storeName, true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.edit('', undefined, true);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tthis.edit('', undefined, true);\r\n\r\n\t\t\tthis.outro = this.outro.replace(rx, '');\r\n\t\t\tif (this.outro.length) return true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction getBtoa() {\r\n\tif (typeof globalThis !== 'undefined' && typeof globalThis.btoa === 'function') {\r\n\t\treturn (str) => globalThis.btoa(unescape(encodeURIComponent(str)));\r\n\t} else if (typeof Buffer === 'function') {\r\n\t\treturn (str) => Buffer.from(str, 'utf-8').toString('base64');\r\n\t} else {\r\n\t\treturn () => {\r\n\t\t\tthrow new Error('Unsupported environment: `window.btoa` or `Buffer` should be supported.');\r\n\t\t};\r\n\t}\r\n}\r\n\r\nconst btoa$1 = /*#__PURE__*/ getBtoa();\r\n\r\nlet SourceMap$1 = class SourceMap {\r\n\tconstructor(properties) {\r\n\t\tthis.version = 3;\r\n\t\tthis.file = properties.file;\r\n\t\tthis.sources = properties.sources;\r\n\t\tthis.sourcesContent = properties.sourcesContent;\r\n\t\tthis.names = properties.names;\r\n\t\tthis.mappings = encode$1(properties.mappings);\r\n\t\tif (typeof properties.x_google_ignoreList !== 'undefined') {\r\n\t\t\tthis.x_google_ignoreList = properties.x_google_ignoreList;\r\n\t\t}\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn JSON.stringify(this);\r\n\t}\r\n\r\n\ttoUrl() {\r\n\t\treturn 'data:application/json;charset=utf-8;base64,' + btoa$1(this.toString());\r\n\t}\r\n};\r\n\r\nfunction guessIndent(code) {\r\n\tconst lines = code.split('\\n');\r\n\r\n\tconst tabbed = lines.filter((line) => /^\\t+/.test(line));\r\n\tconst spaced = lines.filter((line) => /^ {2,}/.test(line));\r\n\r\n\tif (tabbed.length === 0 && spaced.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// More lines tabbed than spaced? Assume tabs, and\r\n\t// default to tabs in the case of a tie (or nothing\r\n\t// to go on)\r\n\tif (tabbed.length >= spaced.length) {\r\n\t\treturn '\\t';\r\n\t}\r\n\r\n\t// Otherwise, we need to guess the multiple\r\n\tconst min = spaced.reduce((previous, current) => {\r\n\t\tconst numSpaces = /^ +/.exec(current)[0].length;\r\n\t\treturn Math.min(numSpaces, previous);\r\n\t}, Infinity);\r\n\r\n\treturn new Array(min + 1).join(' ');\r\n}\r\n\r\nfunction getRelativePath(from, to) {\r\n\tconst fromParts = from.split(/[/\\\\]/);\r\n\tconst toParts = to.split(/[/\\\\]/);\r\n\r\n\tfromParts.pop(); // get dirname\r\n\r\n\twhile (fromParts[0] === toParts[0]) {\r\n\t\tfromParts.shift();\r\n\t\ttoParts.shift();\r\n\t}\r\n\r\n\tif (fromParts.length) {\r\n\t\tlet i = fromParts.length;\r\n\t\twhile (i--) fromParts[i] = '..';\r\n\t}\r\n\r\n\treturn fromParts.concat(toParts).join('/');\r\n}\r\n\r\nconst toString$1 = Object.prototype.toString;\r\n\r\nfunction isObject$2(thing) {\r\n\treturn toString$1.call(thing) === '[object Object]';\r\n}\r\n\r\nfunction getLocator(source) {\r\n\tconst originalLines = source.split('\\n');\r\n\tconst lineOffsets = [];\r\n\r\n\tfor (let i = 0, pos = 0; i < originalLines.length; i++) {\r\n\t\tlineOffsets.push(pos);\r\n\t\tpos += originalLines[i].length + 1;\r\n\t}\r\n\r\n\treturn function locate(index) {\r\n\t\tlet i = 0;\r\n\t\tlet j = lineOffsets.length;\r\n\t\twhile (i < j) {\r\n\t\t\tconst m = (i + j) >> 1;\r\n\t\t\tif (index < lineOffsets[m]) {\r\n\t\t\t\tj = m;\r\n\t\t\t} else {\r\n\t\t\t\ti = m + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst line = i - 1;\r\n\t\tconst column = index - lineOffsets[line];\r\n\t\treturn { line, column };\r\n\t};\r\n}\r\n\r\nconst wordRegex = /\\w/;\r\n\r\nclass Mappings {\r\n\tconstructor(hires) {\r\n\t\tthis.hires = hires;\r\n\t\tthis.generatedCodeLine = 0;\r\n\t\tthis.generatedCodeColumn = 0;\r\n\t\tthis.raw = [];\r\n\t\tthis.rawSegments = this.raw[this.generatedCodeLine] = [];\r\n\t\tthis.pending = null;\r\n\t}\r\n\r\n\taddEdit(sourceIndex, content, loc, nameIndex) {\r\n\t\tif (content.length) {\r\n\t\t\tconst contentLengthMinusOne = content.length - 1;\r\n\t\t\tlet contentLineEnd = content.indexOf('\\n', 0);\r\n\t\t\tlet previousContentLineEnd = -1;\r\n\t\t\t// Loop through each line in the content and add a segment, but stop if the last line is empty,\r\n\t\t\t// else code afterwards would fill one line too many\r\n\t\t\twhile (contentLineEnd >= 0 && contentLengthMinusOne > contentLineEnd) {\r\n\t\t\t\tconst segment = [this.generatedCodeColumn, sourceIndex, loc.line, loc.column];\r\n\t\t\t\tif (nameIndex >= 0) {\r\n\t\t\t\t\tsegment.push(nameIndex);\r\n\t\t\t\t}\r\n\t\t\t\tthis.rawSegments.push(segment);\r\n\r\n\t\t\t\tthis.generatedCodeLine += 1;\r\n\t\t\t\tthis.raw[this.generatedCodeLine] = this.rawSegments = [];\r\n\t\t\t\tthis.generatedCodeColumn = 0;\r\n\r\n\t\t\t\tpreviousContentLineEnd = contentLineEnd;\r\n\t\t\t\tcontentLineEnd = content.indexOf('\\n', contentLineEnd + 1);\r\n\t\t\t}\r\n\r\n\t\t\tconst segment = [this.generatedCodeColumn, sourceIndex, loc.line, loc.column];\r\n\t\t\tif (nameIndex >= 0) {\r\n\t\t\t\tsegment.push(nameIndex);\r\n\t\t\t}\r\n\t\t\tthis.rawSegments.push(segment);\r\n\r\n\t\t\tthis.advance(content.slice(previousContentLineEnd + 1));\r\n\t\t} else if (this.pending) {\r\n\t\t\tthis.rawSegments.push(this.pending);\r\n\t\t\tthis.advance(content);\r\n\t\t}\r\n\r\n\t\tthis.pending = null;\r\n\t}\r\n\r\n\taddUneditedChunk(sourceIndex, chunk, original, loc, sourcemapLocations) {\r\n\t\tlet originalCharIndex = chunk.start;\r\n\t\tlet first = true;\r\n\t\t// when iterating each char, check if it's in a word boundary\r\n\t\tlet charInHiresBoundary = false;\r\n\r\n\t\twhile (originalCharIndex < chunk.end) {\r\n\t\t\tif (this.hires || first || sourcemapLocations.has(originalCharIndex)) {\r\n\t\t\t\tconst segment = [this.generatedCodeColumn, sourceIndex, loc.line, loc.column];\r\n\r\n\t\t\t\tif (this.hires === 'boundary') {\r\n\t\t\t\t\t// in hires \"boundary\", group segments per word boundary than per char\r\n\t\t\t\t\tif (wordRegex.test(original[originalCharIndex])) {\r\n\t\t\t\t\t\t// for first char in the boundary found, start the boundary by pushing a segment\r\n\t\t\t\t\t\tif (!charInHiresBoundary) {\r\n\t\t\t\t\t\t\tthis.rawSegments.push(segment);\r\n\t\t\t\t\t\t\tcharInHiresBoundary = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// for non-word char, end the boundary by pushing a segment\r\n\t\t\t\t\t\tthis.rawSegments.push(segment);\r\n\t\t\t\t\t\tcharInHiresBoundary = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.rawSegments.push(segment);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (original[originalCharIndex] === '\\n') {\r\n\t\t\t\tloc.line += 1;\r\n\t\t\t\tloc.column = 0;\r\n\t\t\t\tthis.generatedCodeLine += 1;\r\n\t\t\t\tthis.raw[this.generatedCodeLine] = this.rawSegments = [];\r\n\t\t\t\tthis.generatedCodeColumn = 0;\r\n\t\t\t\tfirst = true;\r\n\t\t\t} else {\r\n\t\t\t\tloc.column += 1;\r\n\t\t\t\tthis.generatedCodeColumn += 1;\r\n\t\t\t\tfirst = false;\r\n\t\t\t}\r\n\r\n\t\t\toriginalCharIndex += 1;\r\n\t\t}\r\n\r\n\t\tthis.pending = null;\r\n\t}\r\n\r\n\tadvance(str) {\r\n\t\tif (!str) return;\r\n\r\n\t\tconst lines = str.split('\\n');\r\n\r\n\t\tif (lines.length > 1) {\r\n\t\t\tfor (let i = 0; i < lines.length - 1; i++) {\r\n\t\t\t\tthis.generatedCodeLine++;\r\n\t\t\t\tthis.raw[this.generatedCodeLine] = this.rawSegments = [];\r\n\t\t\t}\r\n\t\t\tthis.generatedCodeColumn = 0;\r\n\t\t}\r\n\r\n\t\tthis.generatedCodeColumn += lines[lines.length - 1].length;\r\n\t}\r\n}\r\n\r\nconst n$1 = '\\n';\r\n\r\nconst warned = {\r\n\tinsertLeft: false,\r\n\tinsertRight: false,\r\n\tstoreName: false,\r\n};\r\n\r\nclass MagicString {\r\n\tconstructor(string, options = {}) {\r\n\t\tconst chunk = new Chunk(0, string.length, string);\r\n\r\n\t\tObject.defineProperties(this, {\r\n\t\t\toriginal: { writable: true, value: string },\r\n\t\t\toutro: { writable: true, value: '' },\r\n\t\t\tintro: { writable: true, value: '' },\r\n\t\t\tfirstChunk: { writable: true, value: chunk },\r\n\t\t\tlastChunk: { writable: true, value: chunk },\r\n\t\t\tlastSearchedChunk: { writable: true, value: chunk },\r\n\t\t\tbyStart: { writable: true, value: {} },\r\n\t\t\tbyEnd: { writable: true, value: {} },\r\n\t\t\tfilename: { writable: true, value: options.filename },\r\n\t\t\tindentExclusionRanges: { writable: true, value: options.indentExclusionRanges },\r\n\t\t\tsourcemapLocations: { writable: true, value: new BitSet() },\r\n\t\t\tstoredNames: { writable: true, value: {} },\r\n\t\t\tindentStr: { writable: true, value: undefined },\r\n\t\t\tignoreList: { writable: true, value: options.ignoreList },\r\n\t\t});\r\n\r\n\t\tthis.byStart[0] = chunk;\r\n\t\tthis.byEnd[string.length] = chunk;\r\n\t}\r\n\r\n\taddSourcemapLocation(char) {\r\n\t\tthis.sourcemapLocations.add(char);\r\n\t}\r\n\r\n\tappend(content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('outro content must be a string');\r\n\r\n\t\tthis.outro += content;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tappendLeft(index, content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\r\n\r\n\t\tthis._split(index);\r\n\r\n\t\tconst chunk = this.byEnd[index];\r\n\r\n\t\tif (chunk) {\r\n\t\t\tchunk.appendLeft(content);\r\n\t\t} else {\r\n\t\t\tthis.intro += content;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tappendRight(index, content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\r\n\r\n\t\tthis._split(index);\r\n\r\n\t\tconst chunk = this.byStart[index];\r\n\r\n\t\tif (chunk) {\r\n\t\t\tchunk.appendRight(content);\r\n\t\t} else {\r\n\t\t\tthis.outro += content;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tclone() {\r\n\t\tconst cloned = new MagicString(this.original, { filename: this.filename });\r\n\r\n\t\tlet originalChunk = this.firstChunk;\r\n\t\tlet clonedChunk = (cloned.firstChunk = cloned.lastSearchedChunk = originalChunk.clone());\r\n\r\n\t\twhile (originalChunk) {\r\n\t\t\tcloned.byStart[clonedChunk.start] = clonedChunk;\r\n\t\t\tcloned.byEnd[clonedChunk.end] = clonedChunk;\r\n\r\n\t\t\tconst nextOriginalChunk = originalChunk.next;\r\n\t\t\tconst nextClonedChunk = nextOriginalChunk && nextOriginalChunk.clone();\r\n\r\n\t\t\tif (nextClonedChunk) {\r\n\t\t\t\tclonedChunk.next = nextClonedChunk;\r\n\t\t\t\tnextClonedChunk.previous = clonedChunk;\r\n\r\n\t\t\t\tclonedChunk = nextClonedChunk;\r\n\t\t\t}\r\n\r\n\t\t\toriginalChunk = nextOriginalChunk;\r\n\t\t}\r\n\r\n\t\tcloned.lastChunk = clonedChunk;\r\n\r\n\t\tif (this.indentExclusionRanges) {\r\n\t\t\tcloned.indentExclusionRanges = this.indentExclusionRanges.slice();\r\n\t\t}\r\n\r\n\t\tcloned.sourcemapLocations = new BitSet(this.sourcemapLocations);\r\n\r\n\t\tcloned.intro = this.intro;\r\n\t\tcloned.outro = this.outro;\r\n\r\n\t\treturn cloned;\r\n\t}\r\n\r\n\tgenerateDecodedMap(options) {\r\n\t\toptions = options || {};\r\n\r\n\t\tconst sourceIndex = 0;\r\n\t\tconst names = Object.keys(this.storedNames);\r\n\t\tconst mappings = new Mappings(options.hires);\r\n\r\n\t\tconst locate = getLocator(this.original);\r\n\r\n\t\tif (this.intro) {\r\n\t\t\tmappings.advance(this.intro);\r\n\t\t}\r\n\r\n\t\tthis.firstChunk.eachNext((chunk) => {\r\n\t\t\tconst loc = locate(chunk.start);\r\n\r\n\t\t\tif (chunk.intro.length) mappings.advance(chunk.intro);\r\n\r\n\t\t\tif (chunk.edited) {\r\n\t\t\t\tmappings.addEdit(\r\n\t\t\t\t\tsourceIndex,\r\n\t\t\t\t\tchunk.content,\r\n\t\t\t\t\tloc,\r\n\t\t\t\t\tchunk.storeName ? names.indexOf(chunk.original) : -1,\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tmappings.addUneditedChunk(sourceIndex, chunk, this.original, loc, this.sourcemapLocations);\r\n\t\t\t}\r\n\r\n\t\t\tif (chunk.outro.length) mappings.advance(chunk.outro);\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tfile: options.file ? options.file.split(/[/\\\\]/).pop() : undefined,\r\n\t\t\tsources: [\r\n\t\t\t\toptions.source ? getRelativePath(options.file || '', options.source) : options.file || '',\r\n\t\t\t],\r\n\t\t\tsourcesContent: options.includeContent ? [this.original] : undefined,\r\n\t\t\tnames,\r\n\t\t\tmappings: mappings.raw,\r\n\t\t\tx_google_ignoreList: this.ignoreList ? [sourceIndex] : undefined,\r\n\t\t};\r\n\t}\r\n\r\n\tgenerateMap(options) {\r\n\t\treturn new SourceMap$1(this.generateDecodedMap(options));\r\n\t}\r\n\r\n\t_ensureindentStr() {\r\n\t\tif (this.indentStr === undefined) {\r\n\t\t\tthis.indentStr = guessIndent(this.original);\r\n\t\t}\r\n\t}\r\n\r\n\t_getRawIndentString() {\r\n\t\tthis._ensureindentStr();\r\n\t\treturn this.indentStr;\r\n\t}\r\n\r\n\tgetIndentString() {\r\n\t\tthis._ensureindentStr();\r\n\t\treturn this.indentStr === null ? '\\t' : this.indentStr;\r\n\t}\r\n\r\n\tindent(indentStr, options) {\r\n\t\tconst pattern = /^[^\\r\\n]/gm;\r\n\r\n\t\tif (isObject$2(indentStr)) {\r\n\t\t\toptions = indentStr;\r\n\t\t\tindentStr = undefined;\r\n\t\t}\r\n\r\n\t\tif (indentStr === undefined) {\r\n\t\t\tthis._ensureindentStr();\r\n\t\t\tindentStr = this.indentStr || '\\t';\r\n\t\t}\r\n\r\n\t\tif (indentStr === '') return this; // noop\r\n\r\n\t\toptions = options || {};\r\n\r\n\t\t// Process exclusion ranges\r\n\t\tconst isExcluded = {};\r\n\r\n\t\tif (options.exclude) {\r\n\t\t\tconst exclusions =\r\n\t\t\t\ttypeof options.exclude[0] === 'number' ? [options.exclude] : options.exclude;\r\n\t\t\texclusions.forEach((exclusion) => {\r\n\t\t\t\tfor (let i = exclusion[0]; i < exclusion[1]; i += 1) {\r\n\t\t\t\t\tisExcluded[i] = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tlet shouldIndentNextCharacter = options.indentStart !== false;\r\n\t\tconst replacer = (match) => {\r\n\t\t\tif (shouldIndentNextCharacter) return `${indentStr}${match}`;\r\n\t\t\tshouldIndentNextCharacter = true;\r\n\t\t\treturn match;\r\n\t\t};\r\n\r\n\t\tthis.intro = this.intro.replace(pattern, replacer);\r\n\r\n\t\tlet charIndex = 0;\r\n\t\tlet chunk = this.firstChunk;\r\n\r\n\t\twhile (chunk) {\r\n\t\t\tconst end = chunk.end;\r\n\r\n\t\t\tif (chunk.edited) {\r\n\t\t\t\tif (!isExcluded[charIndex]) {\r\n\t\t\t\t\tchunk.content = chunk.content.replace(pattern, replacer);\r\n\r\n\t\t\t\t\tif (chunk.content.length) {\r\n\t\t\t\t\t\tshouldIndentNextCharacter = chunk.content[chunk.content.length - 1] === '\\n';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcharIndex = chunk.start;\r\n\r\n\t\t\t\twhile (charIndex < end) {\r\n\t\t\t\t\tif (!isExcluded[charIndex]) {\r\n\t\t\t\t\t\tconst char = this.original[charIndex];\r\n\r\n\t\t\t\t\t\tif (char === '\\n') {\r\n\t\t\t\t\t\t\tshouldIndentNextCharacter = true;\r\n\t\t\t\t\t\t} else if (char !== '\\r' && shouldIndentNextCharacter) {\r\n\t\t\t\t\t\t\tshouldIndentNextCharacter = false;\r\n\r\n\t\t\t\t\t\t\tif (charIndex === chunk.start) {\r\n\t\t\t\t\t\t\t\tchunk.prependRight(indentStr);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis._splitChunk(chunk, charIndex);\r\n\t\t\t\t\t\t\t\tchunk = chunk.next;\r\n\t\t\t\t\t\t\t\tchunk.prependRight(indentStr);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcharIndex += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcharIndex = chunk.end;\r\n\t\t\tchunk = chunk.next;\r\n\t\t}\r\n\r\n\t\tthis.outro = this.outro.replace(pattern, replacer);\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tinsert() {\r\n\t\tthrow new Error(\r\n\t\t\t'magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)',\r\n\t\t);\r\n\t}\r\n\r\n\tinsertLeft(index, content) {\r\n\t\tif (!warned.insertLeft) {\r\n\t\t\tconsole.warn(\r\n\t\t\t\t'magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead',\r\n\t\t\t); // eslint-disable-line no-console\r\n\t\t\twarned.insertLeft = true;\r\n\t\t}\r\n\r\n\t\treturn this.appendLeft(index, content);\r\n\t}\r\n\r\n\tinsertRight(index, content) {\r\n\t\tif (!warned.insertRight) {\r\n\t\t\tconsole.warn(\r\n\t\t\t\t'magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead',\r\n\t\t\t); // eslint-disable-line no-console\r\n\t\t\twarned.insertRight = true;\r\n\t\t}\r\n\r\n\t\treturn this.prependRight(index, content);\r\n\t}\r\n\r\n\tmove(start, end, index) {\r\n\t\tif (index >= start && index <= end) throw new Error('Cannot move a selection inside itself');\r\n\r\n\t\tthis._split(start);\r\n\t\tthis._split(end);\r\n\t\tthis._split(index);\r\n\r\n\t\tconst first = this.byStart[start];\r\n\t\tconst last = this.byEnd[end];\r\n\r\n\t\tconst oldLeft = first.previous;\r\n\t\tconst oldRight = last.next;\r\n\r\n\t\tconst newRight = this.byStart[index];\r\n\t\tif (!newRight && last === this.lastChunk) return this;\r\n\t\tconst newLeft = newRight ? newRight.previous : this.lastChunk;\r\n\r\n\t\tif (oldLeft) oldLeft.next = oldRight;\r\n\t\tif (oldRight) oldRight.previous = oldLeft;\r\n\r\n\t\tif (newLeft) newLeft.next = first;\r\n\t\tif (newRight) newRight.previous = last;\r\n\r\n\t\tif (!first.previous) this.firstChunk = last.next;\r\n\t\tif (!last.next) {\r\n\t\t\tthis.lastChunk = first.previous;\r\n\t\t\tthis.lastChunk.next = null;\r\n\t\t}\r\n\r\n\t\tfirst.previous = newLeft;\r\n\t\tlast.next = newRight || null;\r\n\r\n\t\tif (!newLeft) this.firstChunk = first;\r\n\t\tif (!newRight) this.lastChunk = last;\r\n\t\treturn this;\r\n\t}\r\n\r\n\toverwrite(start, end, content, options) {\r\n\t\toptions = options || {};\r\n\t\treturn this.update(start, end, content, { ...options, overwrite: !options.contentOnly });\r\n\t}\r\n\r\n\tupdate(start, end, content, options) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('replacement content must be a string');\r\n\r\n\t\tif (this.original.length !== 0) {\r\n\t\t\twhile (start < 0) start += this.original.length;\r\n\t\t\twhile (end < 0) end += this.original.length;\r\n\t\t}\r\n\r\n\t\tif (end > this.original.length) throw new Error('end is out of bounds');\r\n\t\tif (start === end)\r\n\t\t\tthrow new Error(\r\n\t\t\t\t'Cannot overwrite a zero-length range – use appendLeft or prependRight instead',\r\n\t\t\t);\r\n\r\n\t\tthis._split(start);\r\n\t\tthis._split(end);\r\n\r\n\t\tif (options === true) {\r\n\t\t\tif (!warned.storeName) {\r\n\t\t\t\tconsole.warn(\r\n\t\t\t\t\t'The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string',\r\n\t\t\t\t); // eslint-disable-line no-console\r\n\t\t\t\twarned.storeName = true;\r\n\t\t\t}\r\n\r\n\t\t\toptions = { storeName: true };\r\n\t\t}\r\n\t\tconst storeName = options !== undefined ? options.storeName : false;\r\n\t\tconst overwrite = options !== undefined ? options.overwrite : false;\r\n\r\n\t\tif (storeName) {\r\n\t\t\tconst original = this.original.slice(start, end);\r\n\t\t\tObject.defineProperty(this.storedNames, original, {\r\n\t\t\t\twritable: true,\r\n\t\t\t\tvalue: true,\r\n\t\t\t\tenumerable: true,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst first = this.byStart[start];\r\n\t\tconst last = this.byEnd[end];\r\n\r\n\t\tif (first) {\r\n\t\t\tlet chunk = first;\r\n\t\t\twhile (chunk !== last) {\r\n\t\t\t\tif (chunk.next !== this.byStart[chunk.end]) {\r\n\t\t\t\t\tthrow new Error('Cannot overwrite across a split point');\r\n\t\t\t\t}\r\n\t\t\t\tchunk = chunk.next;\r\n\t\t\t\tchunk.edit('', false);\r\n\t\t\t}\r\n\r\n\t\t\tfirst.edit(content, storeName, !overwrite);\r\n\t\t} else {\r\n\t\t\t// must be inserting at the end\r\n\t\t\tconst newChunk = new Chunk(start, end, '').edit(content, storeName);\r\n\r\n\t\t\t// TODO last chunk in the array may not be the last chunk, if it's moved...\r\n\t\t\tlast.next = newChunk;\r\n\t\t\tnewChunk.previous = last;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprepend(content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('outro content must be a string');\r\n\r\n\t\tthis.intro = content + this.intro;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprependLeft(index, content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\r\n\r\n\t\tthis._split(index);\r\n\r\n\t\tconst chunk = this.byEnd[index];\r\n\r\n\t\tif (chunk) {\r\n\t\t\tchunk.prependLeft(content);\r\n\t\t} else {\r\n\t\t\tthis.intro = content + this.intro;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprependRight(index, content) {\r\n\t\tif (typeof content !== 'string') throw new TypeError('inserted content must be a string');\r\n\r\n\t\tthis._split(index);\r\n\r\n\t\tconst chunk = this.byStart[index];\r\n\r\n\t\tif (chunk) {\r\n\t\t\tchunk.prependRight(content);\r\n\t\t} else {\r\n\t\t\tthis.outro = content + this.outro;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tremove(start, end) {\r\n\t\tif (this.original.length !== 0) {\r\n\t\t\twhile (start < 0) start += this.original.length;\r\n\t\t\twhile (end < 0) end += this.original.length;\r\n\t\t}\r\n\r\n\t\tif (start === end) return this;\r\n\r\n\t\tif (start < 0 || end > this.original.length) throw new Error('Character is out of bounds');\r\n\t\tif (start > end) throw new Error('end must be greater than start');\r\n\r\n\t\tthis._split(start);\r\n\t\tthis._split(end);\r\n\r\n\t\tlet chunk = this.byStart[start];\r\n\r\n\t\twhile (chunk) {\r\n\t\t\tchunk.intro = '';\r\n\t\t\tchunk.outro = '';\r\n\t\t\tchunk.edit('');\r\n\r\n\t\t\tchunk = end > chunk.end ? this.byStart[chunk.end] : null;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\treset(start, end) {\r\n\t\tif (this.original.length !== 0) {\r\n\t\t\twhile (start < 0) start += this.original.length;\r\n\t\t\twhile (end < 0) end += this.original.length;\r\n\t\t}\r\n\r\n\t\tif (start === end) return this;\r\n\r\n\t\tif (start < 0 || end > this.original.length) throw new Error('Character is out of bounds');\r\n\t\tif (start > end) throw new Error('end must be greater than start');\r\n\r\n\t\tthis._split(start);\r\n\t\tthis._split(end);\r\n\r\n\t\tlet chunk = this.byStart[start];\r\n\r\n\t\twhile (chunk) {\r\n\t\t\tchunk.reset();\r\n\r\n\t\t\tchunk = end > chunk.end ? this.byStart[chunk.end] : null;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tlastChar() {\r\n\t\tif (this.outro.length) return this.outro[this.outro.length - 1];\r\n\t\tlet chunk = this.lastChunk;\r\n\t\tdo {\r\n\t\t\tif (chunk.outro.length) return chunk.outro[chunk.outro.length - 1];\r\n\t\t\tif (chunk.content.length) return chunk.content[chunk.content.length - 1];\r\n\t\t\tif (chunk.intro.length) return chunk.intro[chunk.intro.length - 1];\r\n\t\t} while ((chunk = chunk.previous));\r\n\t\tif (this.intro.length) return this.intro[this.intro.length - 1];\r\n\t\treturn '';\r\n\t}\r\n\r\n\tlastLine() {\r\n\t\tlet lineIndex = this.outro.lastIndexOf(n$1);\r\n\t\tif (lineIndex !== -1) return this.outro.substr(lineIndex + 1);\r\n\t\tlet lineStr = this.outro;\r\n\t\tlet chunk = this.lastChunk;\r\n\t\tdo {\r\n\t\t\tif (chunk.outro.length > 0) {\r\n\t\t\t\tlineIndex = chunk.outro.lastIndexOf(n$1);\r\n\t\t\t\tif (lineIndex !== -1) return chunk.outro.substr(lineIndex + 1) + lineStr;\r\n\t\t\t\tlineStr = chunk.outro + lineStr;\r\n\t\t\t}\r\n\r\n\t\t\tif (chunk.content.length > 0) {\r\n\t\t\t\tlineIndex = chunk.content.lastIndexOf(n$1);\r\n\t\t\t\tif (lineIndex !== -1) return chunk.content.substr(lineIndex + 1) + lineStr;\r\n\t\t\t\tlineStr = chunk.content + lineStr;\r\n\t\t\t}\r\n\r\n\t\t\tif (chunk.intro.length > 0) {\r\n\t\t\t\tlineIndex = chunk.intro.lastIndexOf(n$1);\r\n\t\t\t\tif (lineIndex !== -1) return chunk.intro.substr(lineIndex + 1) + lineStr;\r\n\t\t\t\tlineStr = chunk.intro + lineStr;\r\n\t\t\t}\r\n\t\t} while ((chunk = chunk.previous));\r\n\t\tlineIndex = this.intro.lastIndexOf(n$1);\r\n\t\tif (lineIndex !== -1) return this.intro.substr(lineIndex + 1) + lineStr;\r\n\t\treturn this.intro + lineStr;\r\n\t}\r\n\r\n\tslice(start = 0, end = this.original.length) {\r\n\t\tif (this.original.length !== 0) {\r\n\t\t\twhile (start < 0) start += this.original.length;\r\n\t\t\twhile (end < 0) end += this.original.length;\r\n\t\t}\r\n\r\n\t\tlet result = '';\r\n\r\n\t\t// find start chunk\r\n\t\tlet chunk = this.firstChunk;\r\n\t\twhile (chunk && (chunk.start > start || chunk.end <= start)) {\r\n\t\t\t// found end chunk before start\r\n\t\t\tif (chunk.start < end && chunk.end >= end) {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\r\n\t\t\tchunk = chunk.next;\r\n\t\t}\r\n\r\n\t\tif (chunk && chunk.edited && chunk.start !== start)\r\n\t\t\tthrow new Error(`Cannot use replaced character ${start} as slice start anchor.`);\r\n\r\n\t\tconst startChunk = chunk;\r\n\t\twhile (chunk) {\r\n\t\t\tif (chunk.intro && (startChunk !== chunk || chunk.start === start)) {\r\n\t\t\t\tresult += chunk.intro;\r\n\t\t\t}\r\n\r\n\t\t\tconst containsEnd = chunk.start < end && chunk.end >= end;\r\n\t\t\tif (containsEnd && chunk.edited && chunk.end !== end)\r\n\t\t\t\tthrow new Error(`Cannot use replaced character ${end} as slice end anchor.`);\r\n\r\n\t\t\tconst sliceStart = startChunk === chunk ? start - chunk.start : 0;\r\n\t\t\tconst sliceEnd = containsEnd ? chunk.content.length + end - chunk.end : chunk.content.length;\r\n\r\n\t\t\tresult += chunk.content.slice(sliceStart, sliceEnd);\r\n\r\n\t\t\tif (chunk.outro && (!containsEnd || chunk.end === end)) {\r\n\t\t\t\tresult += chunk.outro;\r\n\t\t\t}\r\n\r\n\t\t\tif (containsEnd) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tchunk = chunk.next;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// TODO deprecate this? not really very useful\r\n\tsnip(start, end) {\r\n\t\tconst clone = this.clone();\r\n\t\tclone.remove(0, start);\r\n\t\tclone.remove(end, clone.original.length);\r\n\r\n\t\treturn clone;\r\n\t}\r\n\r\n\t_split(index) {\r\n\t\tif (this.byStart[index] || this.byEnd[index]) return;\r\n\r\n\t\tlet chunk = this.lastSearchedChunk;\r\n\t\tconst searchForward = index > chunk.end;\r\n\r\n\t\twhile (chunk) {\r\n\t\t\tif (chunk.contains(index)) return this._splitChunk(chunk, index);\r\n\r\n\t\t\tchunk = searchForward ? this.byStart[chunk.end] : this.byEnd[chunk.start];\r\n\t\t}\r\n\t}\r\n\r\n\t_splitChunk(chunk, index) {\r\n\t\tif (chunk.edited && chunk.content.length) {\r\n\t\t\t// zero-length edited chunks are a special case (overlapping replacements)\r\n\t\t\tconst loc = getLocator(this.original)(index);\r\n\t\t\tthrow new Error(\r\n\t\t\t\t`Cannot split a chunk that has already been edited (${loc.line}:${loc.column} – \"${chunk.original}\")`,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst newChunk = chunk.split(index);\r\n\r\n\t\tthis.byEnd[index] = chunk;\r\n\t\tthis.byStart[index] = newChunk;\r\n\t\tthis.byEnd[newChunk.end] = newChunk;\r\n\r\n\t\tif (chunk === this.lastChunk) this.lastChunk = newChunk;\r\n\r\n\t\tthis.lastSearchedChunk = chunk;\r\n\t\treturn true;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\tlet str = this.intro;\r\n\r\n\t\tlet chunk = this.firstChunk;\r\n\t\twhile (chunk) {\r\n\t\t\tstr += chunk.toString();\r\n\t\t\tchunk = chunk.next;\r\n\t\t}\r\n\r\n\t\treturn str + this.outro;\r\n\t}\r\n\r\n\tisEmpty() {\r\n\t\tlet chunk = this.firstChunk;\r\n\t\tdo {\r\n\t\t\tif (\r\n\t\t\t\t(chunk.intro.length && chunk.intro.trim()) ||\r\n\t\t\t\t(chunk.content.length && chunk.content.trim()) ||\r\n\t\t\t\t(chunk.outro.length && chunk.outro.trim())\r\n\t\t\t)\r\n\t\t\t\treturn false;\r\n\t\t} while ((chunk = chunk.next));\r\n\t\treturn true;\r\n\t}\r\n\r\n\tlength() {\r\n\t\tlet chunk = this.firstChunk;\r\n\t\tlet length = 0;\r\n\t\tdo {\r\n\t\t\tlength += chunk.intro.length + chunk.content.length + chunk.outro.length;\r\n\t\t} while ((chunk = chunk.next));\r\n\t\treturn length;\r\n\t}\r\n\r\n\ttrimLines() {\r\n\t\treturn this.trim('[\\\\r\\\\n]');\r\n\t}\r\n\r\n\ttrim(charType) {\r\n\t\treturn this.trimStart(charType).trimEnd(charType);\r\n\t}\r\n\r\n\ttrimEndAborted(charType) {\r\n\t\tconst rx = new RegExp((charType || '\\\\s') + '+$');\r\n\r\n\t\tthis.outro = this.outro.replace(rx, '');\r\n\t\tif (this.outro.length) return true;\r\n\r\n\t\tlet chunk = this.lastChunk;\r\n\r\n\t\tdo {\r\n\t\t\tconst end = chunk.end;\r\n\t\t\tconst aborted = chunk.trimEnd(rx);\r\n\r\n\t\t\t// if chunk was trimmed, we have a new lastChunk\r\n\t\t\tif (chunk.end !== end) {\r\n\t\t\t\tif (this.lastChunk === chunk) {\r\n\t\t\t\t\tthis.lastChunk = chunk.next;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.byEnd[chunk.end] = chunk;\r\n\t\t\t\tthis.byStart[chunk.next.start] = chunk.next;\r\n\t\t\t\tthis.byEnd[chunk.next.end] = chunk.next;\r\n\t\t\t}\r\n\r\n\t\t\tif (aborted) return true;\r\n\t\t\tchunk = chunk.previous;\r\n\t\t} while (chunk);\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\ttrimEnd(charType) {\r\n\t\tthis.trimEndAborted(charType);\r\n\t\treturn this;\r\n\t}\r\n\ttrimStartAborted(charType) {\r\n\t\tconst rx = new RegExp('^' + (charType || '\\\\s') + '+');\r\n\r\n\t\tthis.intro = this.intro.replace(rx, '');\r\n\t\tif (this.intro.length) return true;\r\n\r\n\t\tlet chunk = this.firstChunk;\r\n\r\n\t\tdo {\r\n\t\t\tconst end = chunk.end;\r\n\t\t\tconst aborted = chunk.trimStart(rx);\r\n\r\n\t\t\tif (chunk.end !== end) {\r\n\t\t\t\t// special case...\r\n\t\t\t\tif (chunk === this.lastChunk) this.lastChunk = chunk.next;\r\n\r\n\t\t\t\tthis.byEnd[chunk.end] = chunk;\r\n\t\t\t\tthis.byStart[chunk.next.start] = chunk.next;\r\n\t\t\t\tthis.byEnd[chunk.next.end] = chunk.next;\r\n\t\t\t}\r\n\r\n\t\t\tif (aborted) return true;\r\n\t\t\tchunk = chunk.next;\r\n\t\t} while (chunk);\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\ttrimStart(charType) {\r\n\t\tthis.trimStartAborted(charType);\r\n\t\treturn this;\r\n\t}\r\n\r\n\thasChanged() {\r\n\t\treturn this.original !== this.toString();\r\n\t}\r\n\r\n\t_replaceRegexp(searchValue, replacement) {\r\n\t\tfunction getReplacement(match, str) {\r\n\t\t\tif (typeof replacement === 'string') {\r\n\t\t\t\treturn replacement.replace(/\\$(\\$|&|\\d+)/g, (_, i) => {\r\n\t\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_string_as_a_parameter\r\n\t\t\t\t\tif (i === '$') return '$';\r\n\t\t\t\t\tif (i === '&') return match[0];\r\n\t\t\t\t\tconst num = +i;\r\n\t\t\t\t\tif (num < match.length) return match[+i];\r\n\t\t\t\t\treturn `$${i}`;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn replacement(...match, match.index, str, match.groups);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction matchAll(re, str) {\r\n\t\t\tlet match;\r\n\t\t\tconst matches = [];\r\n\t\t\twhile ((match = re.exec(str))) {\r\n\t\t\t\tmatches.push(match);\r\n\t\t\t}\r\n\t\t\treturn matches;\r\n\t\t}\r\n\t\tif (searchValue.global) {\r\n\t\t\tconst matches = matchAll(searchValue, this.original);\r\n\t\t\tmatches.forEach((match) => {\r\n\t\t\t\tif (match.index != null) {\r\n\t\t\t\t\tconst replacement = getReplacement(match, this.original);\r\n\t\t\t\t\tif (replacement !== match[0]) {\r\n\t\t\t\t\t\tthis.overwrite(\r\n\t\t\t\t\t\t\tmatch.index,\r\n\t\t\t\t\t\t\tmatch.index + match[0].length,\r\n\t\t\t\t\t\t\treplacement\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst match = this.original.match(searchValue);\r\n\t\t\tif (match && match.index != null) {\r\n\t\t\t\tconst replacement = getReplacement(match, this.original);\r\n\t\t\t\tif (replacement !== match[0]) {\r\n\t\t\t\t\tthis.overwrite(\r\n\t\t\t\t\t\tmatch.index,\r\n\t\t\t\t\t\tmatch.index + match[0].length,\r\n\t\t\t\t\t\treplacement\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_replaceString(string, replacement) {\r\n\t\tconst { original } = this;\r\n\t\tconst index = original.indexOf(string);\r\n\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.overwrite(index, index + string.length, replacement);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\treplace(searchValue, replacement) {\r\n\t\tif (typeof searchValue === 'string') {\r\n\t\t\treturn this._replaceString(searchValue, replacement);\r\n\t\t}\r\n\r\n\t\treturn this._replaceRegexp(searchValue, replacement);\r\n\t}\r\n\r\n\t_replaceAllString(string, replacement) {\r\n\t\tconst { original } = this;\r\n\t\tconst stringLength = string.length;\r\n\t\tfor (\r\n\t\t\tlet index = original.indexOf(string);\r\n\t\t\tindex !== -1;\r\n\t\t\tindex = original.indexOf(string, index + stringLength)\r\n\t\t) {\r\n\t\t\tconst previous = original.slice(index, index + stringLength);\r\n\t\t\tif (previous !== replacement)\r\n\t\t\t\tthis.overwrite(index, index + stringLength, replacement);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\treplaceAll(searchValue, replacement) {\r\n\t\tif (typeof searchValue === 'string') {\r\n\t\t\treturn this._replaceAllString(searchValue, replacement);\r\n\t\t}\r\n\r\n\t\tif (!searchValue.global) {\r\n\t\t\tthrow new TypeError(\r\n\t\t\t\t'MagicString.prototype.replaceAll called with a non-global RegExp argument',\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn this._replaceRegexp(searchValue, replacement);\r\n\t}\r\n}\r\n\r\nfunction isReference(node, parent) {\r\n    if (node.type === 'MemberExpression') {\r\n        return !node.computed && isReference(node.object, node);\r\n    }\r\n    if (node.type === 'Identifier') {\r\n        if (!parent)\r\n            return true;\r\n        switch (parent.type) {\r\n            // disregard `bar` in `foo.bar`\r\n            case 'MemberExpression': return parent.computed || node === parent.object;\r\n            // disregard the `foo` in `class {foo(){}}` but keep it in `class {[foo](){}}`\r\n            case 'MethodDefinition': return parent.computed;\r\n            // disregard the `foo` in `class {foo=bar}` but keep it in `class {[foo]=bar}` and `class {bar=foo}`\r\n            case 'FieldDefinition': return parent.computed || node === parent.value;\r\n            // disregard the `bar` in `{ bar: foo }`, but keep it in `{ [bar]: foo }`\r\n            case 'Property': return parent.computed || node === parent.value;\r\n            // disregard the `bar` in `export { foo as bar }` or\r\n            // the foo in `import { foo as bar }`\r\n            case 'ExportSpecifier':\r\n            case 'ImportSpecifier': return node === parent.local;\r\n            // disregard the `foo` in `foo: while (...) { ... break foo; ... continue foo;}`\r\n            case 'LabeledStatement':\r\n            case 'BreakStatement':\r\n            case 'ContinueStatement': return false;\r\n            default: return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nvar version$2 = \"26.0.1\";\r\nvar peerDependencies = {\r\n\trollup: \"^2.68.0||^3.0.0||^4.0.0\"\r\n};\r\n\r\nfunction tryParse(parse, code, id) {\r\n  try {\r\n    return parse(code, { allowReturnOutsideFunction: true });\r\n  } catch (err) {\r\n    err.message += ` in ${id}`;\r\n    throw err;\r\n  }\r\n}\r\n\r\nconst firstpassGlobal = /\\b(?:require|module|exports|global)\\b/;\r\n\r\nconst firstpassNoGlobal = /\\b(?:require|module|exports)\\b/;\r\n\r\nfunction hasCjsKeywords(code, ignoreGlobal) {\r\n  const firstpass = ignoreGlobal ? firstpassNoGlobal : firstpassGlobal;\r\n  return firstpass.test(code);\r\n}\r\n\r\n/* eslint-disable no-underscore-dangle */\r\n\r\n\r\nfunction analyzeTopLevelStatements(parse, code, id) {\r\n  const ast = tryParse(parse, code, id);\r\n\r\n  let isEsModule = false;\r\n  let hasDefaultExport = false;\r\n  let hasNamedExports = false;\r\n\r\n  for (const node of ast.body) {\r\n    switch (node.type) {\r\n      case 'ExportDefaultDeclaration':\r\n        isEsModule = true;\r\n        hasDefaultExport = true;\r\n        break;\r\n      case 'ExportNamedDeclaration':\r\n        isEsModule = true;\r\n        if (node.declaration) {\r\n          hasNamedExports = true;\r\n        } else {\r\n          for (const specifier of node.specifiers) {\r\n            if (specifier.exported.name === 'default') {\r\n              hasDefaultExport = true;\r\n            } else {\r\n              hasNamedExports = true;\r\n            }\r\n          }\r\n        }\r\n        break;\r\n      case 'ExportAllDeclaration':\r\n        isEsModule = true;\r\n        if (node.exported && node.exported.name === 'default') {\r\n          hasDefaultExport = true;\r\n        } else {\r\n          hasNamedExports = true;\r\n        }\r\n        break;\r\n      case 'ImportDeclaration':\r\n        isEsModule = true;\r\n        break;\r\n    }\r\n  }\r\n\r\n  return { isEsModule, hasDefaultExport, hasNamedExports, ast };\r\n}\r\n\r\n/* eslint-disable import/prefer-default-export */\r\n\r\n\r\nfunction deconflict(scopes, globals, identifier) {\r\n  let i = 1;\r\n  let deconflicted = makeLegalIdentifier(identifier);\r\n  const hasConflicts = () =>\r\n    scopes.some((scope) => scope.contains(deconflicted)) || globals.has(deconflicted);\r\n\r\n  while (hasConflicts()) {\r\n    deconflicted = makeLegalIdentifier(`${identifier}_${i}`);\r\n    i += 1;\r\n  }\r\n\r\n  for (const scope of scopes) {\r\n    scope.declarations[deconflicted] = true;\r\n  }\r\n\r\n  return deconflicted;\r\n}\r\n\r\nfunction getName(id) {\r\n  const name = makeLegalIdentifier(basename$1(id, extname(id)));\r\n  if (name !== 'index') {\r\n    return name;\r\n  }\r\n  return makeLegalIdentifier(basename$1(dirname$1(id)));\r\n}\r\n\r\nfunction normalizePathSlashes(path) {\r\n  return path.replace(/\\\\/g, '/');\r\n}\r\n\r\nconst getVirtualPathForDynamicRequirePath = (path, commonDir) =>\r\n  `/${normalizePathSlashes(relative$1(commonDir, path))}`;\r\n\r\nfunction capitalize(name) {\r\n  return name[0].toUpperCase() + name.slice(1);\r\n}\r\n\r\nfunction getStrictRequiresFilter({ strictRequires }) {\r\n  switch (strictRequires) {\r\n    case true:\r\n      return { strictRequiresFilter: () => true, detectCyclesAndConditional: false };\r\n    // eslint-disable-next-line no-undefined\r\n    case undefined:\r\n    case 'auto':\r\n    case 'debug':\r\n    case null:\r\n      return { strictRequiresFilter: () => false, detectCyclesAndConditional: true };\r\n    case false:\r\n      return { strictRequiresFilter: () => false, detectCyclesAndConditional: false };\r\n    default:\r\n      if (typeof strictRequires === 'string' || Array.isArray(strictRequires)) {\r\n        return {\r\n          strictRequiresFilter: createFilter$1(strictRequires),\r\n          detectCyclesAndConditional: false\r\n        };\r\n      }\r\n      throw new Error('Unexpected value for \"strictRequires\" option.');\r\n  }\r\n}\r\n\r\nfunction getPackageEntryPoint(dirPath) {\r\n  let entryPoint = 'index.js';\r\n\r\n  try {\r\n    if (existsSync(join$1(dirPath, 'package.json'))) {\r\n      entryPoint =\r\n        JSON.parse(readFileSync(join$1(dirPath, 'package.json'), { encoding: 'utf8' })).main ||\r\n        entryPoint;\r\n    }\r\n  } catch (ignored) {\r\n    // ignored\r\n  }\r\n\r\n  return entryPoint;\r\n}\r\n\r\nfunction isDirectory$1(path) {\r\n  try {\r\n    if (statSync$1(path).isDirectory()) return true;\r\n  } catch (ignored) {\r\n    // Nothing to do here\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction getDynamicRequireModules(patterns, dynamicRequireRoot) {\r\n  const dynamicRequireModules = new Map();\r\n  const dirNames = new Set();\r\n  for (const pattern of !patterns || Array.isArray(patterns) ? patterns || [] : [patterns]) {\r\n    const isNegated = pattern.startsWith('!');\r\n    const modifyMap = (targetPath, resolvedPath) =>\r\n      isNegated\r\n        ? dynamicRequireModules.delete(targetPath)\r\n        : dynamicRequireModules.set(targetPath, resolvedPath);\r\n    for (const path of glob$1\r\n      .sync(isNegated ? pattern.substr(1) : pattern)\r\n      .sort((a, b) => a.localeCompare(b, 'en'))) {\r\n      const resolvedPath = resolve$3(path);\r\n      const requirePath = normalizePathSlashes(resolvedPath);\r\n      if (isDirectory$1(resolvedPath)) {\r\n        dirNames.add(resolvedPath);\r\n        const modulePath = resolve$3(join$1(resolvedPath, getPackageEntryPoint(path)));\r\n        modifyMap(requirePath, modulePath);\r\n        modifyMap(normalizePathSlashes(modulePath), modulePath);\r\n      } else {\r\n        dirNames.add(dirname$1(resolvedPath));\r\n        modifyMap(requirePath, resolvedPath);\r\n      }\r\n    }\r\n  }\r\n  return {\r\n    commonDir: dirNames.size ? getCommonDir([...dirNames, dynamicRequireRoot]) : null,\r\n    dynamicRequireModules\r\n  };\r\n}\r\n\r\nconst FAILED_REQUIRE_ERROR = `throw new Error('Could not dynamically require \"' + path + '\". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');`;\r\n\r\nconst COMMONJS_REQUIRE_EXPORT = 'commonjsRequire';\r\nconst CREATE_COMMONJS_REQUIRE_EXPORT = 'createCommonjsRequire';\r\n\r\nfunction getDynamicModuleRegistry(\r\n  isDynamicRequireModulesEnabled,\r\n  dynamicRequireModules,\r\n  commonDir,\r\n  ignoreDynamicRequires\r\n) {\r\n  if (!isDynamicRequireModulesEnabled) {\r\n    return `export function ${COMMONJS_REQUIRE_EXPORT}(path) {\r\n\t${FAILED_REQUIRE_ERROR}\r\n}`;\r\n  }\r\n  const dynamicModuleImports = [...dynamicRequireModules.values()]\r\n    .map(\r\n      (id, index) =>\r\n        `import ${\r\n          id.endsWith('.json') ? `json${index}` : `{ __require as require${index} }`\r\n        } from ${JSON.stringify(id)};`\r\n    )\r\n    .join('\\n');\r\n  const dynamicModuleProps = [...dynamicRequireModules.keys()]\r\n    .map(\r\n      (id, index) =>\r\n        `\\t\\t${JSON.stringify(getVirtualPathForDynamicRequirePath(id, commonDir))}: ${\r\n          id.endsWith('.json') ? `function () { return json${index}; }` : `require${index}`\r\n        }`\r\n    )\r\n    .join(',\\n');\r\n  return `${dynamicModuleImports}\r\n\r\nvar dynamicModules;\r\n\r\nfunction getDynamicModules() {\r\n\treturn dynamicModules || (dynamicModules = {\r\n${dynamicModuleProps}\r\n\t});\r\n}\r\n\r\nexport function ${CREATE_COMMONJS_REQUIRE_EXPORT}(originalModuleDir) {\r\n\tfunction handleRequire(path) {\r\n\t\tvar resolvedPath = commonjsResolve(path, originalModuleDir);\r\n\t\tif (resolvedPath !== null) {\r\n\t\t\treturn getDynamicModules()[resolvedPath]();\r\n\t\t}\r\n\t\t${ignoreDynamicRequires ? 'return require(path);' : FAILED_REQUIRE_ERROR}\r\n\t}\r\n\thandleRequire.resolve = function (path) {\r\n\t\tvar resolvedPath = commonjsResolve(path, originalModuleDir);\r\n\t\tif (resolvedPath !== null) {\r\n\t\t\treturn resolvedPath;\r\n\t\t}\r\n\t\treturn require.resolve(path);\r\n\t}\r\n\treturn handleRequire;\r\n}\r\n\r\nfunction commonjsResolve (path, originalModuleDir) {\r\n\tvar shouldTryNodeModules = isPossibleNodeModulesPath(path);\r\n\tpath = normalize(path);\r\n\tvar relPath;\r\n\tif (path[0] === '/') {\r\n\t\toriginalModuleDir = '';\r\n\t}\r\n\tvar modules = getDynamicModules();\r\n\tvar checkedExtensions = ['', '.js', '.json'];\r\n\twhile (true) {\r\n\t\tif (!shouldTryNodeModules) {\r\n\t\t\trelPath = normalize(originalModuleDir + '/' + path);\r\n\t\t} else {\r\n\t\t\trelPath = normalize(originalModuleDir + '/node_modules/' + path);\r\n\t\t}\r\n\r\n\t\tif (relPath.endsWith('/..')) {\r\n\t\t\tbreak; // Travelled too far up, avoid infinite loop\r\n\t\t}\r\n\r\n\t\tfor (var extensionIndex = 0; extensionIndex < checkedExtensions.length; extensionIndex++) {\r\n\t\t\tvar resolvedPath = relPath + checkedExtensions[extensionIndex];\r\n\t\t\tif (modules[resolvedPath]) {\r\n\t\t\t\treturn resolvedPath;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!shouldTryNodeModules) break;\r\n\t\tvar nextDir = normalize(originalModuleDir + '/..');\r\n\t\tif (nextDir === originalModuleDir) break;\r\n\t\toriginalModuleDir = nextDir;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction isPossibleNodeModulesPath (modulePath) {\r\n\tvar c0 = modulePath[0];\r\n\tif (c0 === '/' || c0 === '\\\\\\\\') return false;\r\n\tvar c1 = modulePath[1], c2 = modulePath[2];\r\n\tif ((c0 === '.' && (!c1 || c1 === '/' || c1 === '\\\\\\\\')) ||\r\n\t\t(c0 === '.' && c1 === '.' && (!c2 || c2 === '/' || c2 === '\\\\\\\\'))) return false;\r\n\tif (c1 === ':' && (c2 === '/' || c2 === '\\\\\\\\')) return false;\r\n\treturn true;\r\n}\r\n\r\nfunction normalize (path) {\r\n\tpath = path.replace(/\\\\\\\\/g, '/');\r\n\tvar parts = path.split('/');\r\n\tvar slashed = parts[0] === '';\r\n\tfor (var i = 1; i < parts.length; i++) {\r\n\t\tif (parts[i] === '.' || parts[i] === '') {\r\n\t\t\tparts.splice(i--, 1);\r\n\t\t}\r\n\t}\r\n\tfor (var i = 1; i < parts.length; i++) {\r\n\t\tif (parts[i] !== '..') continue;\r\n\t\tif (i > 0 && parts[i - 1] !== '..' && parts[i - 1] !== '.') {\r\n\t\t\tparts.splice(--i, 2);\r\n\t\t\ti--;\r\n\t\t}\r\n\t}\r\n\tpath = parts.join('/');\r\n\tif (slashed && path[0] !== '/') path = '/' + path;\r\n\telse if (path.length === 0) path = '.';\r\n\treturn path;\r\n}`;\r\n}\r\n\r\nconst isWrappedId = (id, suffix) => id.endsWith(suffix);\r\nconst wrapId = (id, suffix) => `\\0${id}${suffix}`;\r\nconst unwrapId = (wrappedId, suffix) => wrappedId.slice(1, -suffix.length);\r\n\r\nconst PROXY_SUFFIX = '?commonjs-proxy';\r\nconst WRAPPED_SUFFIX = '?commonjs-wrapped';\r\nconst EXTERNAL_SUFFIX = '?commonjs-external';\r\nconst EXPORTS_SUFFIX = '?commonjs-exports';\r\nconst MODULE_SUFFIX = '?commonjs-module';\r\nconst ENTRY_SUFFIX = '?commonjs-entry';\r\nconst ES_IMPORT_SUFFIX = '?commonjs-es-import';\r\n\r\nconst DYNAMIC_MODULES_ID = '\\0commonjs-dynamic-modules';\r\nconst HELPERS_ID = '\\0commonjsHelpers.js';\r\n\r\nconst IS_WRAPPED_COMMONJS = 'withRequireFunction';\r\n\r\n// `x['default']` is used instead of `x.default` for backward compatibility with ES3 browsers.\r\n// Minifiers like uglify will usually transpile it back if compatibility with ES3 is not enabled.\r\n// This could be improved by inspecting Rollup's \"generatedCode\" option\r\n\r\nconst HELPERS = `\r\nexport var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\r\n\r\nexport function getDefaultExportFromCjs (x) {\r\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\r\n}\r\n\r\nexport function getDefaultExportFromNamespaceIfPresent (n) {\r\n\treturn n && Object.prototype.hasOwnProperty.call(n, 'default') ? n['default'] : n;\r\n}\r\n\r\nexport function getDefaultExportFromNamespaceIfNotNamed (n) {\r\n\treturn n && Object.prototype.hasOwnProperty.call(n, 'default') && Object.keys(n).length === 1 ? n['default'] : n;\r\n}\r\n\r\nexport function getAugmentedNamespace(n) {\r\n  if (n.__esModule) return n;\r\n  var f = n.default;\r\n\tif (typeof f == \"function\") {\r\n\t\tvar a = function a () {\r\n\t\t\tif (this instanceof a) {\r\n        return Reflect.construct(f, arguments, this.constructor);\r\n\t\t\t}\r\n\t\t\treturn f.apply(this, arguments);\r\n\t\t};\r\n\t\ta.prototype = f.prototype;\r\n  } else a = {};\r\n  Object.defineProperty(a, '__esModule', {value: true});\r\n\tObject.keys(n).forEach(function (k) {\r\n\t\tvar d = Object.getOwnPropertyDescriptor(n, k);\r\n\t\tObject.defineProperty(a, k, d.get ? d : {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function () {\r\n\t\t\t\treturn n[k];\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\treturn a;\r\n}\r\n`;\r\n\r\nfunction getHelpersModule() {\r\n  return HELPERS;\r\n}\r\n\r\nfunction getUnknownRequireProxy(id, requireReturnsDefault) {\r\n  if (requireReturnsDefault === true || id.endsWith('.json')) {\r\n    return `export { default } from ${JSON.stringify(id)};`;\r\n  }\r\n  const name = getName(id);\r\n  const exported =\r\n    requireReturnsDefault === 'auto'\r\n      ? `import { getDefaultExportFromNamespaceIfNotNamed } from \"${HELPERS_ID}\"; export default /*@__PURE__*/getDefaultExportFromNamespaceIfNotNamed(${name});`\r\n      : requireReturnsDefault === 'preferred'\r\n      ? `import { getDefaultExportFromNamespaceIfPresent } from \"${HELPERS_ID}\"; export default /*@__PURE__*/getDefaultExportFromNamespaceIfPresent(${name});`\r\n      : !requireReturnsDefault\r\n      ? `import { getAugmentedNamespace } from \"${HELPERS_ID}\"; export default /*@__PURE__*/getAugmentedNamespace(${name});`\r\n      : `export default ${name};`;\r\n  return `import * as ${name} from ${JSON.stringify(id)}; ${exported}`;\r\n}\r\n\r\nasync function getStaticRequireProxy(id, requireReturnsDefault, loadModule) {\r\n  const name = getName(id);\r\n  const {\r\n    meta: { commonjs: commonjsMeta }\r\n  } = await loadModule({ id });\r\n  if (!commonjsMeta) {\r\n    return getUnknownRequireProxy(id, requireReturnsDefault);\r\n  }\r\n  if (commonjsMeta.isCommonJS) {\r\n    return `export { __moduleExports as default } from ${JSON.stringify(id)};`;\r\n  }\r\n  if (!requireReturnsDefault) {\r\n    return `import { getAugmentedNamespace } from \"${HELPERS_ID}\"; import * as ${name} from ${JSON.stringify(\r\n      id\r\n    )}; export default /*@__PURE__*/getAugmentedNamespace(${name});`;\r\n  }\r\n  if (\r\n    requireReturnsDefault !== true &&\r\n    (requireReturnsDefault === 'namespace' ||\r\n      !commonjsMeta.hasDefaultExport ||\r\n      (requireReturnsDefault === 'auto' && commonjsMeta.hasNamedExports))\r\n  ) {\r\n    return `import * as ${name} from ${JSON.stringify(id)}; export default ${name};`;\r\n  }\r\n  return `export { default } from ${JSON.stringify(id)};`;\r\n}\r\n\r\nfunction getEntryProxy(id, defaultIsModuleExports, getModuleInfo, shebang) {\r\n  const {\r\n    meta: { commonjs: commonjsMeta },\r\n    hasDefaultExport\r\n  } = getModuleInfo(id);\r\n  if (!commonjsMeta || commonjsMeta.isCommonJS !== IS_WRAPPED_COMMONJS) {\r\n    const stringifiedId = JSON.stringify(id);\r\n    let code = `export * from ${stringifiedId};`;\r\n    if (hasDefaultExport) {\r\n      code += `export { default } from ${stringifiedId};`;\r\n    }\r\n    return shebang + code;\r\n  }\r\n  const result = getEsImportProxy(id, defaultIsModuleExports);\r\n  return {\r\n    ...result,\r\n    code: shebang + result.code\r\n  };\r\n}\r\n\r\nfunction getEsImportProxy(id, defaultIsModuleExports) {\r\n  const name = getName(id);\r\n  const exportsName = `${name}Exports`;\r\n  const requireModule = `require${capitalize(name)}`;\r\n  let code =\r\n    `import { getDefaultExportFromCjs } from \"${HELPERS_ID}\";\\n` +\r\n    `import { __require as ${requireModule} } from ${JSON.stringify(id)};\\n` +\r\n    `var ${exportsName} = ${requireModule}();\\n` +\r\n    `export { ${exportsName} as __moduleExports };`;\r\n  if (defaultIsModuleExports === true) {\r\n    code += `\\nexport { ${exportsName} as default };`;\r\n  } else {\r\n    code += `export default /*@__PURE__*/getDefaultExportFromCjs(${exportsName});`;\r\n  }\r\n  return {\r\n    code,\r\n    syntheticNamedExports: '__moduleExports'\r\n  };\r\n}\r\n\r\n/* eslint-disable no-param-reassign, no-undefined */\r\n\r\n\r\nfunction getCandidatesForExtension(resolved, extension) {\r\n  return [resolved + extension, `${resolved}${sep$1}index${extension}`];\r\n}\r\n\r\nfunction getCandidates(resolved, extensions) {\r\n  return extensions.reduce(\r\n    (paths, extension) => paths.concat(getCandidatesForExtension(resolved, extension)),\r\n    [resolved]\r\n  );\r\n}\r\n\r\nfunction resolveExtensions(importee, importer, extensions) {\r\n  // not our problem\r\n  if (importee[0] !== '.' || !importer) return undefined;\r\n\r\n  const resolved = resolve$3(dirname$1(importer), importee);\r\n  const candidates = getCandidates(resolved, extensions);\r\n\r\n  for (let i = 0; i < candidates.length; i += 1) {\r\n    try {\r\n      const stats = statSync$1(candidates[i]);\r\n      if (stats.isFile()) return { id: candidates[i] };\r\n    } catch (err) {\r\n      /* noop */\r\n    }\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\nfunction getResolveId(extensions, isPossibleCjsId) {\r\n  const currentlyResolving = new Map();\r\n\r\n  return {\r\n    /**\r\n     * This is a Maps of importers to Sets of require sources being resolved at\r\n     * the moment by resolveRequireSourcesAndUpdateMeta\r\n     */\r\n    currentlyResolving,\r\n    async resolveId(importee, importer, resolveOptions) {\r\n      const customOptions = resolveOptions.custom;\r\n      // All logic below is specific to ES imports.\r\n      // Also, if we do not skip this logic for requires that are resolved while\r\n      // transforming a commonjs file, it can easily lead to deadlocks.\r\n      if (\r\n        customOptions &&\r\n        customOptions['node-resolve'] &&\r\n        customOptions['node-resolve'].isRequire\r\n      ) {\r\n        return null;\r\n      }\r\n      const currentlyResolvingForParent = currentlyResolving.get(importer);\r\n      if (currentlyResolvingForParent && currentlyResolvingForParent.has(importee)) {\r\n        this.warn({\r\n          code: 'THIS_RESOLVE_WITHOUT_OPTIONS',\r\n          message:\r\n            'It appears a plugin has implemented a \"resolveId\" hook that uses \"this.resolve\" without forwarding the third \"options\" parameter of \"resolveId\". This is problematic as it can lead to wrong module resolutions especially for the node-resolve plugin and in certain cases cause early exit errors for the commonjs plugin.\\nIn rare cases, this warning can appear if the same file is both imported and required from the same mixed ES/CommonJS module, in which case it can be ignored.',\r\n          url: 'https://rollupjs.org/guide/en/#resolveid'\r\n        });\r\n        return null;\r\n      }\r\n\r\n      if (isWrappedId(importee, WRAPPED_SUFFIX)) {\r\n        return unwrapId(importee, WRAPPED_SUFFIX);\r\n      }\r\n\r\n      if (\r\n        importee.endsWith(ENTRY_SUFFIX) ||\r\n        isWrappedId(importee, MODULE_SUFFIX) ||\r\n        isWrappedId(importee, EXPORTS_SUFFIX) ||\r\n        isWrappedId(importee, PROXY_SUFFIX) ||\r\n        isWrappedId(importee, ES_IMPORT_SUFFIX) ||\r\n        isWrappedId(importee, EXTERNAL_SUFFIX) ||\r\n        importee.startsWith(HELPERS_ID) ||\r\n        importee === DYNAMIC_MODULES_ID\r\n      ) {\r\n        return importee;\r\n      }\r\n\r\n      if (importer) {\r\n        if (\r\n          importer === DYNAMIC_MODULES_ID ||\r\n          // Proxies are only importing resolved ids, no need to resolve again\r\n          isWrappedId(importer, PROXY_SUFFIX) ||\r\n          isWrappedId(importer, ES_IMPORT_SUFFIX) ||\r\n          importer.endsWith(ENTRY_SUFFIX)\r\n        ) {\r\n          return importee;\r\n        }\r\n        if (isWrappedId(importer, EXTERNAL_SUFFIX)) {\r\n          // We need to return null for unresolved imports so that the proper warning is shown\r\n          if (\r\n            !(await this.resolve(\r\n              importee,\r\n              importer,\r\n              Object.assign({ skipSelf: true }, resolveOptions)\r\n            ))\r\n          ) {\r\n            return null;\r\n          }\r\n          // For other external imports, we need to make sure they are handled as external\r\n          return { id: importee, external: true };\r\n        }\r\n      }\r\n\r\n      if (importee.startsWith('\\0')) {\r\n        return null;\r\n      }\r\n\r\n      // If this is an entry point or ESM import, we need to figure out if the importee is wrapped and\r\n      // if that is the case, we need to add a proxy.\r\n      const resolved =\r\n        (await this.resolve(\r\n          importee,\r\n          importer,\r\n          Object.assign({ skipSelf: true }, resolveOptions)\r\n        )) || resolveExtensions(importee, importer, extensions);\r\n      // Make sure that even if other plugins resolve again, we ignore our own proxies\r\n      if (\r\n        !resolved ||\r\n        resolved.external ||\r\n        resolved.id.endsWith(ENTRY_SUFFIX) ||\r\n        isWrappedId(resolved.id, ES_IMPORT_SUFFIX) ||\r\n        !isPossibleCjsId(resolved.id)\r\n      ) {\r\n        return resolved;\r\n      }\r\n      const moduleInfo = await this.load(resolved);\r\n      const {\r\n        meta: { commonjs: commonjsMeta }\r\n      } = moduleInfo;\r\n      if (commonjsMeta) {\r\n        const { isCommonJS } = commonjsMeta;\r\n        if (isCommonJS) {\r\n          if (resolveOptions.isEntry) {\r\n            moduleInfo.moduleSideEffects = true;\r\n            // We must not precede entry proxies with a `\\0` as that will mess up relative external resolution\r\n            return resolved.id + ENTRY_SUFFIX;\r\n          }\r\n          if (isCommonJS === IS_WRAPPED_COMMONJS) {\r\n            return { id: wrapId(resolved.id, ES_IMPORT_SUFFIX), meta: { commonjs: { resolved } } };\r\n          }\r\n        }\r\n      }\r\n      return resolved;\r\n    }\r\n  };\r\n}\r\n\r\nfunction getRequireResolver(extensions, detectCyclesAndConditional, currentlyResolving) {\r\n  const knownCjsModuleTypes = Object.create(null);\r\n  const requiredIds = Object.create(null);\r\n  const unconditionallyRequiredIds = Object.create(null);\r\n  const dependencies = Object.create(null);\r\n  const getDependencies = (id) => dependencies[id] || (dependencies[id] = new Set());\r\n\r\n  const isCyclic = (id) => {\r\n    const dependenciesToCheck = new Set(getDependencies(id));\r\n    for (const dependency of dependenciesToCheck) {\r\n      if (dependency === id) {\r\n        return true;\r\n      }\r\n      for (const childDependency of getDependencies(dependency)) {\r\n        dependenciesToCheck.add(childDependency);\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // Once a module is listed here, its type (wrapped or not) is fixed and may\r\n  // not change for the rest of the current build, to not break already\r\n  // transformed modules.\r\n  const fullyAnalyzedModules = Object.create(null);\r\n\r\n  const getTypeForFullyAnalyzedModule = (id) => {\r\n    const knownType = knownCjsModuleTypes[id];\r\n    if (knownType !== true || !detectCyclesAndConditional || fullyAnalyzedModules[id]) {\r\n      return knownType;\r\n    }\r\n    if (isCyclic(id)) {\r\n      return (knownCjsModuleTypes[id] = IS_WRAPPED_COMMONJS);\r\n    }\r\n    return knownType;\r\n  };\r\n\r\n  const setInitialParentType = (id, initialCommonJSType) => {\r\n    // Fully analyzed modules may never change type\r\n    if (fullyAnalyzedModules[id]) {\r\n      return;\r\n    }\r\n    knownCjsModuleTypes[id] = initialCommonJSType;\r\n    if (\r\n      detectCyclesAndConditional &&\r\n      knownCjsModuleTypes[id] === true &&\r\n      requiredIds[id] &&\r\n      !unconditionallyRequiredIds[id]\r\n    ) {\r\n      knownCjsModuleTypes[id] = IS_WRAPPED_COMMONJS;\r\n    }\r\n  };\r\n\r\n  const analyzeRequiredModule = async (parentId, resolved, isConditional, loadModule) => {\r\n    const childId = resolved.id;\r\n    requiredIds[childId] = true;\r\n    if (!(isConditional || knownCjsModuleTypes[parentId] === IS_WRAPPED_COMMONJS)) {\r\n      unconditionallyRequiredIds[childId] = true;\r\n    }\r\n\r\n    getDependencies(parentId).add(childId);\r\n    if (!isCyclic(childId)) {\r\n      // This makes sure the current transform handler waits for all direct\r\n      // dependencies to be loaded and transformed and therefore for all\r\n      // transitive CommonJS dependencies to be loaded as well so that all\r\n      // cycles have been found and knownCjsModuleTypes is reliable.\r\n      await loadModule(resolved);\r\n    }\r\n  };\r\n\r\n  const getTypeForImportedModule = async (resolved, loadModule) => {\r\n    if (resolved.id in knownCjsModuleTypes) {\r\n      // This handles cyclic ES dependencies\r\n      return knownCjsModuleTypes[resolved.id];\r\n    }\r\n    const {\r\n      meta: { commonjs }\r\n    } = await loadModule(resolved);\r\n    return (commonjs && commonjs.isCommonJS) || false;\r\n  };\r\n\r\n  return {\r\n    getWrappedIds: () =>\r\n      Object.keys(knownCjsModuleTypes).filter(\r\n        (id) => knownCjsModuleTypes[id] === IS_WRAPPED_COMMONJS\r\n      ),\r\n    isRequiredId: (id) => requiredIds[id],\r\n    async shouldTransformCachedModule({\r\n      id: parentId,\r\n      resolvedSources,\r\n      meta: { commonjs: parentMeta }\r\n    }) {\r\n      // We explicitly track ES modules to handle circular imports\r\n      if (!(parentMeta && parentMeta.isCommonJS)) knownCjsModuleTypes[parentId] = false;\r\n      if (isWrappedId(parentId, ES_IMPORT_SUFFIX)) return false;\r\n      const parentRequires = parentMeta && parentMeta.requires;\r\n      if (parentRequires) {\r\n        setInitialParentType(parentId, parentMeta.initialCommonJSType);\r\n        await Promise.all(\r\n          parentRequires.map(({ resolved, isConditional }) =>\r\n            analyzeRequiredModule(parentId, resolved, isConditional, this.load)\r\n          )\r\n        );\r\n        if (getTypeForFullyAnalyzedModule(parentId) !== parentMeta.isCommonJS) {\r\n          return true;\r\n        }\r\n        for (const {\r\n          resolved: { id }\r\n        } of parentRequires) {\r\n          if (getTypeForFullyAnalyzedModule(id) !== parentMeta.isRequiredCommonJS[id]) {\r\n            return true;\r\n          }\r\n        }\r\n        // Now that we decided to go with the cached copy, neither the parent\r\n        // module nor any of its children may change types anymore\r\n        fullyAnalyzedModules[parentId] = true;\r\n        for (const {\r\n          resolved: { id }\r\n        } of parentRequires) {\r\n          fullyAnalyzedModules[id] = true;\r\n        }\r\n      }\r\n      const parentRequireSet = new Set((parentRequires || []).map(({ resolved: { id } }) => id));\r\n      return (\r\n        await Promise.all(\r\n          Object.keys(resolvedSources)\r\n            .map((source) => resolvedSources[source])\r\n            .filter(({ id, external }) => !(external || parentRequireSet.has(id)))\r\n            .map(async (resolved) => {\r\n              if (isWrappedId(resolved.id, ES_IMPORT_SUFFIX)) {\r\n                return (\r\n                  (await getTypeForImportedModule(\r\n                    (\r\n                      await this.load({ id: resolved.id })\r\n                    ).meta.commonjs.resolved,\r\n                    this.load\r\n                  )) !== IS_WRAPPED_COMMONJS\r\n                );\r\n              }\r\n              return (await getTypeForImportedModule(resolved, this.load)) === IS_WRAPPED_COMMONJS;\r\n            })\r\n        )\r\n      ).some((shouldTransform) => shouldTransform);\r\n    },\r\n    /* eslint-disable no-param-reassign */\r\n    resolveRequireSourcesAndUpdateMeta:\r\n      (rollupContext) => async (parentId, isParentCommonJS, parentMeta, sources) => {\r\n        parentMeta.initialCommonJSType = isParentCommonJS;\r\n        parentMeta.requires = [];\r\n        parentMeta.isRequiredCommonJS = Object.create(null);\r\n        setInitialParentType(parentId, isParentCommonJS);\r\n        const currentlyResolvingForParent = currentlyResolving.get(parentId) || new Set();\r\n        currentlyResolving.set(parentId, currentlyResolvingForParent);\r\n        const requireTargets = await Promise.all(\r\n          sources.map(async ({ source, isConditional }) => {\r\n            // Never analyze or proxy internal modules\r\n            if (source.startsWith('\\0')) {\r\n              return { id: source, allowProxy: false };\r\n            }\r\n            currentlyResolvingForParent.add(source);\r\n            const resolved =\r\n              (await rollupContext.resolve(source, parentId, {\r\n                skipSelf: false,\r\n                custom: { 'node-resolve': { isRequire: true } }\r\n              })) || resolveExtensions(source, parentId, extensions);\r\n            currentlyResolvingForParent.delete(source);\r\n            if (!resolved) {\r\n              return { id: wrapId(source, EXTERNAL_SUFFIX), allowProxy: false };\r\n            }\r\n            const childId = resolved.id;\r\n            if (resolved.external) {\r\n              return { id: wrapId(childId, EXTERNAL_SUFFIX), allowProxy: false };\r\n            }\r\n            parentMeta.requires.push({ resolved, isConditional });\r\n            await analyzeRequiredModule(parentId, resolved, isConditional, rollupContext.load);\r\n            return { id: childId, allowProxy: true };\r\n          })\r\n        );\r\n        parentMeta.isCommonJS = getTypeForFullyAnalyzedModule(parentId);\r\n        fullyAnalyzedModules[parentId] = true;\r\n        return requireTargets.map(({ id: dependencyId, allowProxy }, index) => {\r\n          // eslint-disable-next-line no-multi-assign\r\n          const isCommonJS = (parentMeta.isRequiredCommonJS[dependencyId] =\r\n            getTypeForFullyAnalyzedModule(dependencyId));\r\n          fullyAnalyzedModules[dependencyId] = true;\r\n          return {\r\n            source: sources[index].source,\r\n            id: allowProxy\r\n              ? isCommonJS === IS_WRAPPED_COMMONJS\r\n                ? wrapId(dependencyId, WRAPPED_SUFFIX)\r\n                : wrapId(dependencyId, PROXY_SUFFIX)\r\n              : dependencyId,\r\n            isCommonJS\r\n          };\r\n        });\r\n      },\r\n    isCurrentlyResolving(source, parentId) {\r\n      const currentlyResolvingForParent = currentlyResolving.get(parentId);\r\n      return currentlyResolvingForParent && currentlyResolvingForParent.has(source);\r\n    }\r\n  };\r\n}\r\n\r\nfunction validateVersion(actualVersion, peerDependencyVersion, name) {\r\n  const versionRegexp = /\\^(\\d+\\.\\d+\\.\\d+)/g;\r\n  let minMajor = Infinity;\r\n  let minMinor = Infinity;\r\n  let minPatch = Infinity;\r\n  let foundVersion;\r\n  // eslint-disable-next-line no-cond-assign\r\n  while ((foundVersion = versionRegexp.exec(peerDependencyVersion))) {\r\n    const [foundMajor, foundMinor, foundPatch] = foundVersion[1].split('.').map(Number);\r\n    if (foundMajor < minMajor) {\r\n      minMajor = foundMajor;\r\n      minMinor = foundMinor;\r\n      minPatch = foundPatch;\r\n    }\r\n  }\r\n  if (!actualVersion) {\r\n    throw new Error(\r\n      `Insufficient ${name} version: \"@rollup/plugin-commonjs\" requires at least ${name}@${minMajor}.${minMinor}.${minPatch}.`\r\n    );\r\n  }\r\n  const [major, minor, patch] = actualVersion.split('.').map(Number);\r\n  if (\r\n    major < minMajor ||\r\n    (major === minMajor && (minor < minMinor || (minor === minMinor && patch < minPatch)))\r\n  ) {\r\n    throw new Error(\r\n      `Insufficient ${name} version: \"@rollup/plugin-commonjs\" requires at least ${name}@${minMajor}.${minMinor}.${minPatch} but found ${name}@${actualVersion}.`\r\n    );\r\n  }\r\n}\r\n\r\nconst operators = {\r\n  '==': (x) => equals(x.left, x.right, false),\r\n\r\n  '!=': (x) => not(operators['=='](x)),\r\n\r\n  '===': (x) => equals(x.left, x.right, true),\r\n\r\n  '!==': (x) => not(operators['==='](x)),\r\n\r\n  '!': (x) => isFalsy(x.argument),\r\n\r\n  '&&': (x) => isTruthy(x.left) && isTruthy(x.right),\r\n\r\n  '||': (x) => isTruthy(x.left) || isTruthy(x.right)\r\n};\r\n\r\nfunction not(value) {\r\n  return value === null ? value : !value;\r\n}\r\n\r\nfunction equals(a, b, strict) {\r\n  if (a.type !== b.type) return null;\r\n  // eslint-disable-next-line eqeqeq\r\n  if (a.type === 'Literal') return strict ? a.value === b.value : a.value == b.value;\r\n  return null;\r\n}\r\n\r\nfunction isTruthy(node) {\r\n  if (!node) return false;\r\n  if (node.type === 'Literal') return !!node.value;\r\n  if (node.type === 'ParenthesizedExpression') return isTruthy(node.expression);\r\n  if (node.operator in operators) return operators[node.operator](node);\r\n  return null;\r\n}\r\n\r\nfunction isFalsy(node) {\r\n  return not(isTruthy(node));\r\n}\r\n\r\nfunction getKeypath(node) {\r\n  const parts = [];\r\n\r\n  while (node.type === 'MemberExpression') {\r\n    if (node.computed) return null;\r\n\r\n    parts.unshift(node.property.name);\r\n    // eslint-disable-next-line no-param-reassign\r\n    node = node.object;\r\n  }\r\n\r\n  if (node.type !== 'Identifier') return null;\r\n\r\n  const { name } = node;\r\n  parts.unshift(name);\r\n\r\n  return { name, keypath: parts.join('.') };\r\n}\r\n\r\nconst KEY_COMPILED_ESM = '__esModule';\r\n\r\nfunction getDefineCompiledEsmType(node) {\r\n  const definedPropertyWithExports = getDefinePropertyCallName(node, 'exports');\r\n  const definedProperty =\r\n    definedPropertyWithExports || getDefinePropertyCallName(node, 'module.exports');\r\n  if (definedProperty && definedProperty.key === KEY_COMPILED_ESM) {\r\n    return isTruthy(definedProperty.value)\r\n      ? definedPropertyWithExports\r\n        ? 'exports'\r\n        : 'module'\r\n      : false;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction getDefinePropertyCallName(node, targetName) {\r\n  const {\r\n    callee: { object, property }\r\n  } = node;\r\n  if (!object || object.type !== 'Identifier' || object.name !== 'Object') return;\r\n  if (!property || property.type !== 'Identifier' || property.name !== 'defineProperty') return;\r\n  if (node.arguments.length !== 3) return;\r\n\r\n  const targetNames = targetName.split('.');\r\n  const [target, key, value] = node.arguments;\r\n  if (targetNames.length === 1) {\r\n    if (target.type !== 'Identifier' || target.name !== targetNames[0]) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  if (targetNames.length === 2) {\r\n    if (\r\n      target.type !== 'MemberExpression' ||\r\n      target.object.name !== targetNames[0] ||\r\n      target.property.name !== targetNames[1]\r\n    ) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  if (value.type !== 'ObjectExpression' || !value.properties) return;\r\n\r\n  const valueProperty = value.properties.find((p) => p.key && p.key.name === 'value');\r\n  if (!valueProperty || !valueProperty.value) return;\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  return { key: key.value, value: valueProperty.value };\r\n}\r\n\r\nfunction isShorthandProperty(parent) {\r\n  return parent && parent.type === 'Property' && parent.shorthand;\r\n}\r\n\r\nfunction wrapCode(magicString, uses, moduleName, exportsName, indentExclusionRanges) {\r\n  const args = [];\r\n  const passedArgs = [];\r\n  if (uses.module) {\r\n    args.push('module');\r\n    passedArgs.push(moduleName);\r\n  }\r\n  if (uses.exports) {\r\n    args.push('exports');\r\n    passedArgs.push(uses.module ? `${moduleName}.exports` : exportsName);\r\n  }\r\n  magicString\r\n    .trim()\r\n    .indent('\\t', { exclude: indentExclusionRanges })\r\n    .prepend(`(function (${args.join(', ')}) {\\n`)\r\n    // For some reason, this line is only indented correctly when using a\r\n    // require-wrapper if we have this leading space\r\n    .append(` \\n} (${passedArgs.join(', ')}));`);\r\n}\r\n\r\nfunction rewriteExportsAndGetExportsBlock(\r\n  magicString,\r\n  moduleName,\r\n  exportsName,\r\n  exportedExportsName,\r\n  wrapped,\r\n  moduleExportsAssignments,\r\n  firstTopLevelModuleExportsAssignment,\r\n  exportsAssignmentsByName,\r\n  topLevelAssignments,\r\n  defineCompiledEsmExpressions,\r\n  deconflictedExportNames,\r\n  code,\r\n  HELPERS_NAME,\r\n  exportMode,\r\n  defaultIsModuleExports,\r\n  usesRequireWrapper,\r\n  requireName\r\n) {\r\n  const exports = [];\r\n  const exportDeclarations = [];\r\n\r\n  if (usesRequireWrapper) {\r\n    getExportsWhenUsingRequireWrapper(\r\n      magicString,\r\n      wrapped,\r\n      exportMode,\r\n      exports,\r\n      moduleExportsAssignments,\r\n      exportsAssignmentsByName,\r\n      moduleName,\r\n      exportsName,\r\n      requireName,\r\n      defineCompiledEsmExpressions\r\n    );\r\n  } else if (exportMode === 'replace') {\r\n    getExportsForReplacedModuleExports(\r\n      magicString,\r\n      exports,\r\n      exportDeclarations,\r\n      moduleExportsAssignments,\r\n      firstTopLevelModuleExportsAssignment,\r\n      exportsName,\r\n      defaultIsModuleExports,\r\n      HELPERS_NAME\r\n    );\r\n  } else {\r\n    if (exportMode === 'module') {\r\n      exportDeclarations.push(`var ${exportedExportsName} = ${moduleName}.exports`);\r\n      exports.push(`${exportedExportsName} as __moduleExports`);\r\n    } else {\r\n      exports.push(`${exportsName} as __moduleExports`);\r\n    }\r\n    if (wrapped) {\r\n      exportDeclarations.push(\r\n        getDefaultExportDeclaration(exportedExportsName, defaultIsModuleExports, HELPERS_NAME)\r\n      );\r\n    } else {\r\n      getExports(\r\n        magicString,\r\n        exports,\r\n        exportDeclarations,\r\n        moduleExportsAssignments,\r\n        exportsAssignmentsByName,\r\n        deconflictedExportNames,\r\n        topLevelAssignments,\r\n        moduleName,\r\n        exportsName,\r\n        exportedExportsName,\r\n        defineCompiledEsmExpressions,\r\n        HELPERS_NAME,\r\n        defaultIsModuleExports,\r\n        exportMode\r\n      );\r\n    }\r\n  }\r\n  if (exports.length) {\r\n    exportDeclarations.push(`export { ${exports.join(', ')} }`);\r\n  }\r\n\r\n  return `\\n\\n${exportDeclarations.join(';\\n')};`;\r\n}\r\n\r\nfunction getExportsWhenUsingRequireWrapper(\r\n  magicString,\r\n  wrapped,\r\n  exportMode,\r\n  exports,\r\n  moduleExportsAssignments,\r\n  exportsAssignmentsByName,\r\n  moduleName,\r\n  exportsName,\r\n  requireName,\r\n  defineCompiledEsmExpressions\r\n) {\r\n  exports.push(`${requireName} as __require`);\r\n  if (wrapped) return;\r\n  if (exportMode === 'replace') {\r\n    rewriteModuleExportsAssignments(magicString, moduleExportsAssignments, exportsName);\r\n  } else {\r\n    rewriteModuleExportsAssignments(magicString, moduleExportsAssignments, `${moduleName}.exports`);\r\n    // Collect and rewrite named exports\r\n    for (const [exportName, { nodes }] of exportsAssignmentsByName) {\r\n      for (const { node, type } of nodes) {\r\n        magicString.overwrite(\r\n          node.start,\r\n          node.left.end,\r\n          `${\r\n            exportMode === 'module' && type === 'module' ? `${moduleName}.exports` : exportsName\r\n          }.${exportName}`\r\n        );\r\n      }\r\n    }\r\n    replaceDefineCompiledEsmExpressionsAndGetIfRestorable(\r\n      defineCompiledEsmExpressions,\r\n      magicString,\r\n      exportMode,\r\n      moduleName,\r\n      exportsName\r\n    );\r\n  }\r\n}\r\n\r\nfunction getExportsForReplacedModuleExports(\r\n  magicString,\r\n  exports,\r\n  exportDeclarations,\r\n  moduleExportsAssignments,\r\n  firstTopLevelModuleExportsAssignment,\r\n  exportsName,\r\n  defaultIsModuleExports,\r\n  HELPERS_NAME\r\n) {\r\n  for (const { left } of moduleExportsAssignments) {\r\n    magicString.overwrite(left.start, left.end, exportsName);\r\n  }\r\n  magicString.prependRight(firstTopLevelModuleExportsAssignment.left.start, 'var ');\r\n  exports.push(`${exportsName} as __moduleExports`);\r\n  exportDeclarations.push(\r\n    getDefaultExportDeclaration(exportsName, defaultIsModuleExports, HELPERS_NAME)\r\n  );\r\n}\r\n\r\nfunction getDefaultExportDeclaration(exportedExportsName, defaultIsModuleExports, HELPERS_NAME) {\r\n  return `export default ${\r\n    defaultIsModuleExports === true\r\n      ? exportedExportsName\r\n      : defaultIsModuleExports === false\r\n      ? `${exportedExportsName}.default`\r\n      : `/*@__PURE__*/${HELPERS_NAME}.getDefaultExportFromCjs(${exportedExportsName})`\r\n  }`;\r\n}\r\n\r\nfunction getExports(\r\n  magicString,\r\n  exports,\r\n  exportDeclarations,\r\n  moduleExportsAssignments,\r\n  exportsAssignmentsByName,\r\n  deconflictedExportNames,\r\n  topLevelAssignments,\r\n  moduleName,\r\n  exportsName,\r\n  exportedExportsName,\r\n  defineCompiledEsmExpressions,\r\n  HELPERS_NAME,\r\n  defaultIsModuleExports,\r\n  exportMode\r\n) {\r\n  let deconflictedDefaultExportName;\r\n  // Collect and rewrite module.exports assignments\r\n  for (const { left } of moduleExportsAssignments) {\r\n    magicString.overwrite(left.start, left.end, `${moduleName}.exports`);\r\n  }\r\n\r\n  // Collect and rewrite named exports\r\n  for (const [exportName, { nodes }] of exportsAssignmentsByName) {\r\n    const deconflicted = deconflictedExportNames[exportName];\r\n    let needsDeclaration = true;\r\n    for (const { node, type } of nodes) {\r\n      let replacement = `${deconflicted} = ${\r\n        exportMode === 'module' && type === 'module' ? `${moduleName}.exports` : exportsName\r\n      }.${exportName}`;\r\n      if (needsDeclaration && topLevelAssignments.has(node)) {\r\n        replacement = `var ${replacement}`;\r\n        needsDeclaration = false;\r\n      }\r\n      magicString.overwrite(node.start, node.left.end, replacement);\r\n    }\r\n    if (needsDeclaration) {\r\n      magicString.prepend(`var ${deconflicted};\\n`);\r\n    }\r\n\r\n    if (exportName === 'default') {\r\n      deconflictedDefaultExportName = deconflicted;\r\n    } else {\r\n      exports.push(exportName === deconflicted ? exportName : `${deconflicted} as ${exportName}`);\r\n    }\r\n  }\r\n\r\n  const isRestorableCompiledEsm = replaceDefineCompiledEsmExpressionsAndGetIfRestorable(\r\n    defineCompiledEsmExpressions,\r\n    magicString,\r\n    exportMode,\r\n    moduleName,\r\n    exportsName\r\n  );\r\n\r\n  if (\r\n    defaultIsModuleExports === false ||\r\n    (defaultIsModuleExports === 'auto' &&\r\n      isRestorableCompiledEsm &&\r\n      moduleExportsAssignments.length === 0)\r\n  ) {\r\n    // If there is no deconflictedDefaultExportName, then we use the namespace as\r\n    // fallback because there can be no \"default\" property on the namespace\r\n    exports.push(`${deconflictedDefaultExportName || exportedExportsName} as default`);\r\n  } else if (\r\n    defaultIsModuleExports === true ||\r\n    (!isRestorableCompiledEsm && moduleExportsAssignments.length === 0)\r\n  ) {\r\n    exports.push(`${exportedExportsName} as default`);\r\n  } else {\r\n    exportDeclarations.push(\r\n      getDefaultExportDeclaration(exportedExportsName, defaultIsModuleExports, HELPERS_NAME)\r\n    );\r\n  }\r\n}\r\n\r\nfunction rewriteModuleExportsAssignments(magicString, moduleExportsAssignments, exportsName) {\r\n  for (const { left } of moduleExportsAssignments) {\r\n    magicString.overwrite(left.start, left.end, exportsName);\r\n  }\r\n}\r\n\r\nfunction replaceDefineCompiledEsmExpressionsAndGetIfRestorable(\r\n  defineCompiledEsmExpressions,\r\n  magicString,\r\n  exportMode,\r\n  moduleName,\r\n  exportsName\r\n) {\r\n  let isRestorableCompiledEsm = false;\r\n  for (const { node, type } of defineCompiledEsmExpressions) {\r\n    isRestorableCompiledEsm = true;\r\n    const moduleExportsExpression =\r\n      node.type === 'CallExpression' ? node.arguments[0] : node.left.object;\r\n    magicString.overwrite(\r\n      moduleExportsExpression.start,\r\n      moduleExportsExpression.end,\r\n      exportMode === 'module' && type === 'module' ? `${moduleName}.exports` : exportsName\r\n    );\r\n  }\r\n  return isRestorableCompiledEsm;\r\n}\r\n\r\nfunction isRequireExpression(node, scope) {\r\n  if (!node) return false;\r\n  if (node.type !== 'CallExpression') return false;\r\n\r\n  // Weird case of `require()` or `module.require()` without arguments\r\n  if (node.arguments.length === 0) return false;\r\n\r\n  return isRequire(node.callee, scope);\r\n}\r\n\r\nfunction isRequire(node, scope) {\r\n  return (\r\n    (node.type === 'Identifier' && node.name === 'require' && !scope.contains('require')) ||\r\n    (node.type === 'MemberExpression' && isModuleRequire(node, scope))\r\n  );\r\n}\r\n\r\nfunction isModuleRequire({ object, property }, scope) {\r\n  return (\r\n    object.type === 'Identifier' &&\r\n    object.name === 'module' &&\r\n    property.type === 'Identifier' &&\r\n    property.name === 'require' &&\r\n    !scope.contains('module')\r\n  );\r\n}\r\n\r\nfunction hasDynamicArguments(node) {\r\n  return (\r\n    node.arguments.length > 1 ||\r\n    (node.arguments[0].type !== 'Literal' &&\r\n      (node.arguments[0].type !== 'TemplateLiteral' || node.arguments[0].expressions.length > 0))\r\n  );\r\n}\r\n\r\nconst reservedMethod = { resolve: true, cache: true, main: true };\r\n\r\nfunction isNodeRequirePropertyAccess(parent) {\r\n  return parent && parent.property && reservedMethod[parent.property.name];\r\n}\r\n\r\nfunction getRequireStringArg(node) {\r\n  return node.arguments[0].type === 'Literal'\r\n    ? node.arguments[0].value\r\n    : node.arguments[0].quasis[0].value.cooked;\r\n}\r\n\r\nfunction getRequireHandlers() {\r\n  const requireExpressions = [];\r\n\r\n  function addRequireExpression(\r\n    sourceId,\r\n    node,\r\n    scope,\r\n    usesReturnValue,\r\n    isInsideTryBlock,\r\n    isInsideConditional,\r\n    toBeRemoved\r\n  ) {\r\n    requireExpressions.push({\r\n      sourceId,\r\n      node,\r\n      scope,\r\n      usesReturnValue,\r\n      isInsideTryBlock,\r\n      isInsideConditional,\r\n      toBeRemoved\r\n    });\r\n  }\r\n\r\n  async function rewriteRequireExpressionsAndGetImportBlock(\r\n    magicString,\r\n    topLevelDeclarations,\r\n    reassignedNames,\r\n    helpersName,\r\n    dynamicRequireName,\r\n    moduleName,\r\n    exportsName,\r\n    id,\r\n    exportMode,\r\n    resolveRequireSourcesAndUpdateMeta,\r\n    needsRequireWrapper,\r\n    isEsModule,\r\n    isDynamicRequireModulesEnabled,\r\n    getIgnoreTryCatchRequireStatementMode,\r\n    commonjsMeta\r\n  ) {\r\n    const imports = [];\r\n    imports.push(`import * as ${helpersName} from \"${HELPERS_ID}\"`);\r\n    if (dynamicRequireName) {\r\n      imports.push(\r\n        `import { ${\r\n          isDynamicRequireModulesEnabled ? CREATE_COMMONJS_REQUIRE_EXPORT : COMMONJS_REQUIRE_EXPORT\r\n        } as ${dynamicRequireName} } from \"${DYNAMIC_MODULES_ID}\"`\r\n      );\r\n    }\r\n    if (exportMode === 'module') {\r\n      imports.push(\r\n        `import { __module as ${moduleName} } from ${JSON.stringify(wrapId(id, MODULE_SUFFIX))}`,\r\n        `var ${exportsName} = ${moduleName}.exports`\r\n      );\r\n    } else if (exportMode === 'exports') {\r\n      imports.push(\r\n        `import { __exports as ${exportsName} } from ${JSON.stringify(wrapId(id, EXPORTS_SUFFIX))}`\r\n      );\r\n    }\r\n    const requiresBySource = collectSources(requireExpressions);\r\n    const requireTargets = await resolveRequireSourcesAndUpdateMeta(\r\n      id,\r\n      needsRequireWrapper ? IS_WRAPPED_COMMONJS : !isEsModule,\r\n      commonjsMeta,\r\n      Object.keys(requiresBySource).map((source) => {\r\n        return {\r\n          source,\r\n          isConditional: requiresBySource[source].every((require) => require.isInsideConditional)\r\n        };\r\n      })\r\n    );\r\n    processRequireExpressions(\r\n      imports,\r\n      requireTargets,\r\n      requiresBySource,\r\n      getIgnoreTryCatchRequireStatementMode,\r\n      magicString\r\n    );\r\n    return imports.length ? `${imports.join(';\\n')};\\n\\n` : '';\r\n  }\r\n\r\n  return {\r\n    addRequireExpression,\r\n    rewriteRequireExpressionsAndGetImportBlock\r\n  };\r\n}\r\n\r\nfunction collectSources(requireExpressions) {\r\n  const requiresBySource = Object.create(null);\r\n  for (const requireExpression of requireExpressions) {\r\n    const { sourceId } = requireExpression;\r\n    if (!requiresBySource[sourceId]) {\r\n      requiresBySource[sourceId] = [];\r\n    }\r\n    const requires = requiresBySource[sourceId];\r\n    requires.push(requireExpression);\r\n  }\r\n  return requiresBySource;\r\n}\r\n\r\nfunction processRequireExpressions(\r\n  imports,\r\n  requireTargets,\r\n  requiresBySource,\r\n  getIgnoreTryCatchRequireStatementMode,\r\n  magicString\r\n) {\r\n  const generateRequireName = getGenerateRequireName();\r\n  for (const { source, id: resolvedId, isCommonJS } of requireTargets) {\r\n    const requires = requiresBySource[source];\r\n    const name = generateRequireName(requires);\r\n    let usesRequired = false;\r\n    let needsImport = false;\r\n    for (const { node, usesReturnValue, toBeRemoved, isInsideTryBlock } of requires) {\r\n      const { canConvertRequire, shouldRemoveRequire } =\r\n        isInsideTryBlock && isWrappedId(resolvedId, EXTERNAL_SUFFIX)\r\n          ? getIgnoreTryCatchRequireStatementMode(source)\r\n          : { canConvertRequire: true, shouldRemoveRequire: false };\r\n      if (shouldRemoveRequire) {\r\n        if (usesReturnValue) {\r\n          magicString.overwrite(node.start, node.end, 'undefined');\r\n        } else {\r\n          magicString.remove(toBeRemoved.start, toBeRemoved.end);\r\n        }\r\n      } else if (canConvertRequire) {\r\n        needsImport = true;\r\n        if (isCommonJS === IS_WRAPPED_COMMONJS) {\r\n          magicString.overwrite(node.start, node.end, `${name}()`);\r\n        } else if (usesReturnValue) {\r\n          usesRequired = true;\r\n          magicString.overwrite(node.start, node.end, name);\r\n        } else {\r\n          magicString.remove(toBeRemoved.start, toBeRemoved.end);\r\n        }\r\n      }\r\n    }\r\n    if (needsImport) {\r\n      if (isCommonJS === IS_WRAPPED_COMMONJS) {\r\n        imports.push(`import { __require as ${name} } from ${JSON.stringify(resolvedId)}`);\r\n      } else {\r\n        imports.push(`import ${usesRequired ? `${name} from ` : ''}${JSON.stringify(resolvedId)}`);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction getGenerateRequireName() {\r\n  let uid = 0;\r\n  return (requires) => {\r\n    let name;\r\n    const hasNameConflict = ({ scope }) => scope.contains(name);\r\n    do {\r\n      name = `require$$${uid}`;\r\n      uid += 1;\r\n    } while (requires.some(hasNameConflict));\r\n    return name;\r\n  };\r\n}\r\n\r\n/* eslint-disable no-param-reassign, no-shadow, no-underscore-dangle, no-continue */\r\n\r\n\r\nconst exportsPattern = /^(?:module\\.)?exports(?:\\.([a-zA-Z_$][a-zA-Z_$0-9]*))?$/;\r\n\r\nconst functionType = /^(?:FunctionDeclaration|FunctionExpression|ArrowFunctionExpression)$/;\r\n\r\n// There are three different types of CommonJS modules, described by their\r\n// \"exportMode\":\r\n// - exports: Only assignments to (module.)exports properties\r\n// - replace: A single assignment to module.exports itself\r\n// - module: Anything else\r\n// Special cases:\r\n// - usesRequireWrapper\r\n// - isWrapped\r\nasync function transformCommonjs(\r\n  parse,\r\n  code,\r\n  id,\r\n  isEsModule,\r\n  ignoreGlobal,\r\n  ignoreRequire,\r\n  ignoreDynamicRequires,\r\n  getIgnoreTryCatchRequireStatementMode,\r\n  sourceMap,\r\n  isDynamicRequireModulesEnabled,\r\n  dynamicRequireModules,\r\n  commonDir,\r\n  astCache,\r\n  defaultIsModuleExports,\r\n  needsRequireWrapper,\r\n  resolveRequireSourcesAndUpdateMeta,\r\n  isRequired,\r\n  checkDynamicRequire,\r\n  commonjsMeta\r\n) {\r\n  const ast = astCache || tryParse(parse, code, id);\r\n  const magicString = new MagicString(code);\r\n  const uses = {\r\n    module: false,\r\n    exports: false,\r\n    global: false,\r\n    require: false\r\n  };\r\n  const virtualDynamicRequirePath =\r\n    isDynamicRequireModulesEnabled && getVirtualPathForDynamicRequirePath(dirname$1(id), commonDir);\r\n  let scope = attachScopes(ast, 'scope');\r\n  let lexicalDepth = 0;\r\n  let programDepth = 0;\r\n  let classBodyDepth = 0;\r\n  let currentTryBlockEnd = null;\r\n  let shouldWrap = false;\r\n\r\n  const globals = new Set();\r\n  // A conditionalNode is a node for which execution is not guaranteed. If such a node is a require\r\n  // or contains nested requires, those should be handled as function calls unless there is an\r\n  // unconditional require elsewhere.\r\n  let currentConditionalNodeEnd = null;\r\n  const conditionalNodes = new Set();\r\n  const { addRequireExpression, rewriteRequireExpressionsAndGetImportBlock } = getRequireHandlers();\r\n\r\n  // See which names are assigned to. This is necessary to prevent\r\n  // illegally replacing `var foo = require('foo')` with `import foo from 'foo'`,\r\n  // where `foo` is later reassigned. (This happens in the wild. CommonJS, sigh)\r\n  const reassignedNames = new Set();\r\n  const topLevelDeclarations = [];\r\n  const skippedNodes = new Set();\r\n  const moduleAccessScopes = new Set([scope]);\r\n  const exportsAccessScopes = new Set([scope]);\r\n  const moduleExportsAssignments = [];\r\n  let firstTopLevelModuleExportsAssignment = null;\r\n  const exportsAssignmentsByName = new Map();\r\n  const topLevelAssignments = new Set();\r\n  const topLevelDefineCompiledEsmExpressions = [];\r\n  const replacedGlobal = [];\r\n  const replacedDynamicRequires = [];\r\n  const importedVariables = new Set();\r\n  const indentExclusionRanges = [];\r\n\r\n  walk$3(ast, {\r\n    enter(node, parent) {\r\n      if (skippedNodes.has(node)) {\r\n        this.skip();\r\n        return;\r\n      }\r\n\r\n      if (currentTryBlockEnd !== null && node.start > currentTryBlockEnd) {\r\n        currentTryBlockEnd = null;\r\n      }\r\n      if (currentConditionalNodeEnd !== null && node.start > currentConditionalNodeEnd) {\r\n        currentConditionalNodeEnd = null;\r\n      }\r\n      if (currentConditionalNodeEnd === null && conditionalNodes.has(node)) {\r\n        currentConditionalNodeEnd = node.end;\r\n      }\r\n\r\n      programDepth += 1;\r\n      if (node.scope) ({ scope } = node);\r\n      if (functionType.test(node.type)) lexicalDepth += 1;\r\n      if (sourceMap) {\r\n        magicString.addSourcemapLocation(node.start);\r\n        magicString.addSourcemapLocation(node.end);\r\n      }\r\n\r\n      // eslint-disable-next-line default-case\r\n      switch (node.type) {\r\n        case 'AssignmentExpression':\r\n          if (node.left.type === 'MemberExpression') {\r\n            const flattened = getKeypath(node.left);\r\n            if (!flattened || scope.contains(flattened.name)) return;\r\n\r\n            const exportsPatternMatch = exportsPattern.exec(flattened.keypath);\r\n            if (!exportsPatternMatch || flattened.keypath === 'exports') return;\r\n\r\n            const [, exportName] = exportsPatternMatch;\r\n            uses[flattened.name] = true;\r\n\r\n            // we're dealing with `module.exports = ...` or `[module.]exports.foo = ...` –\r\n            if (flattened.keypath === 'module.exports') {\r\n              moduleExportsAssignments.push(node);\r\n              if (programDepth > 3) {\r\n                moduleAccessScopes.add(scope);\r\n              } else if (!firstTopLevelModuleExportsAssignment) {\r\n                firstTopLevelModuleExportsAssignment = node;\r\n              }\r\n            } else if (exportName === KEY_COMPILED_ESM) {\r\n              if (programDepth > 3) {\r\n                shouldWrap = true;\r\n              } else {\r\n                // The \"type\" is either \"module\" or \"exports\" to discern\r\n                // assignments to module.exports vs exports if needed\r\n                topLevelDefineCompiledEsmExpressions.push({ node, type: flattened.name });\r\n              }\r\n            } else {\r\n              const exportsAssignments = exportsAssignmentsByName.get(exportName) || {\r\n                nodes: [],\r\n                scopes: new Set()\r\n              };\r\n              exportsAssignments.nodes.push({ node, type: flattened.name });\r\n              exportsAssignments.scopes.add(scope);\r\n              exportsAccessScopes.add(scope);\r\n              exportsAssignmentsByName.set(exportName, exportsAssignments);\r\n              if (programDepth <= 3) {\r\n                topLevelAssignments.add(node);\r\n              }\r\n            }\r\n\r\n            skippedNodes.add(node.left);\r\n          } else {\r\n            for (const name of extractAssignedNames(node.left)) {\r\n              reassignedNames.add(name);\r\n            }\r\n          }\r\n          return;\r\n        case 'CallExpression': {\r\n          const defineCompiledEsmType = getDefineCompiledEsmType(node);\r\n          if (defineCompiledEsmType) {\r\n            if (programDepth === 3 && parent.type === 'ExpressionStatement') {\r\n              // skip special handling for [module.]exports until we know we render this\r\n              skippedNodes.add(node.arguments[0]);\r\n              topLevelDefineCompiledEsmExpressions.push({ node, type: defineCompiledEsmType });\r\n            } else {\r\n              shouldWrap = true;\r\n            }\r\n            return;\r\n          }\r\n\r\n          // Transform require.resolve\r\n          if (\r\n            isDynamicRequireModulesEnabled &&\r\n            node.callee.object &&\r\n            isRequire(node.callee.object, scope) &&\r\n            node.callee.property.name === 'resolve'\r\n          ) {\r\n            checkDynamicRequire(node.start);\r\n            uses.require = true;\r\n            const requireNode = node.callee.object;\r\n            replacedDynamicRequires.push(requireNode);\r\n            skippedNodes.add(node.callee);\r\n            return;\r\n          }\r\n\r\n          if (!isRequireExpression(node, scope)) {\r\n            const keypath = getKeypath(node.callee);\r\n            if (keypath && importedVariables.has(keypath.name)) {\r\n              // Heuristic to deoptimize requires after a required function has been called\r\n              currentConditionalNodeEnd = Infinity;\r\n            }\r\n            return;\r\n          }\r\n\r\n          skippedNodes.add(node.callee);\r\n          uses.require = true;\r\n\r\n          if (hasDynamicArguments(node)) {\r\n            if (isDynamicRequireModulesEnabled) {\r\n              checkDynamicRequire(node.start);\r\n            }\r\n            if (!ignoreDynamicRequires) {\r\n              replacedDynamicRequires.push(node.callee);\r\n            }\r\n            return;\r\n          }\r\n\r\n          const requireStringArg = getRequireStringArg(node);\r\n          if (!ignoreRequire(requireStringArg)) {\r\n            const usesReturnValue = parent.type !== 'ExpressionStatement';\r\n            const toBeRemoved =\r\n              parent.type === 'ExpressionStatement' &&\r\n              (!currentConditionalNodeEnd ||\r\n                // We should completely remove requires directly in a try-catch\r\n                // so that Rollup can remove up the try-catch\r\n                (currentTryBlockEnd !== null && currentTryBlockEnd < currentConditionalNodeEnd))\r\n                ? parent\r\n                : node;\r\n            addRequireExpression(\r\n              requireStringArg,\r\n              node,\r\n              scope,\r\n              usesReturnValue,\r\n              currentTryBlockEnd !== null,\r\n              currentConditionalNodeEnd !== null,\r\n              toBeRemoved\r\n            );\r\n            if (parent.type === 'VariableDeclarator' && parent.id.type === 'Identifier') {\r\n              for (const name of extractAssignedNames(parent.id)) {\r\n                importedVariables.add(name);\r\n              }\r\n            }\r\n          }\r\n          return;\r\n        }\r\n        case 'ClassBody':\r\n          classBodyDepth += 1;\r\n          return;\r\n        case 'ConditionalExpression':\r\n        case 'IfStatement':\r\n          // skip dead branches\r\n          if (isFalsy(node.test)) {\r\n            skippedNodes.add(node.consequent);\r\n          } else if (isTruthy(node.test)) {\r\n            if (node.alternate) {\r\n              skippedNodes.add(node.alternate);\r\n            }\r\n          } else {\r\n            conditionalNodes.add(node.consequent);\r\n            if (node.alternate) {\r\n              conditionalNodes.add(node.alternate);\r\n            }\r\n          }\r\n          return;\r\n        case 'ArrowFunctionExpression':\r\n        case 'FunctionDeclaration':\r\n        case 'FunctionExpression':\r\n          // requires in functions should be conditional unless it is an IIFE\r\n          if (\r\n            currentConditionalNodeEnd === null &&\r\n            !(parent.type === 'CallExpression' && parent.callee === node)\r\n          ) {\r\n            currentConditionalNodeEnd = node.end;\r\n          }\r\n          return;\r\n        case 'Identifier': {\r\n          const { name } = node;\r\n          if (\r\n            !isReference(node, parent) ||\r\n            scope.contains(name) ||\r\n            (parent.type === 'PropertyDefinition' && parent.key === node)\r\n          )\r\n            return;\r\n          switch (name) {\r\n            case 'require':\r\n              uses.require = true;\r\n              if (isNodeRequirePropertyAccess(parent)) {\r\n                return;\r\n              }\r\n              if (!ignoreDynamicRequires) {\r\n                if (isShorthandProperty(parent)) {\r\n                  // as key and value are the same object, isReference regards\r\n                  // both as references, so we need to skip now\r\n                  skippedNodes.add(parent.value);\r\n                  magicString.prependRight(node.start, 'require: ');\r\n                }\r\n                replacedDynamicRequires.push(node);\r\n              }\r\n              return;\r\n            case 'module':\r\n            case 'exports':\r\n              shouldWrap = true;\r\n              uses[name] = true;\r\n              return;\r\n            case 'global':\r\n              uses.global = true;\r\n              if (!ignoreGlobal) {\r\n                replacedGlobal.push(node);\r\n              }\r\n              return;\r\n            case 'define':\r\n              magicString.overwrite(node.start, node.end, 'undefined', {\r\n                storeName: true\r\n              });\r\n              return;\r\n            default:\r\n              globals.add(name);\r\n              return;\r\n          }\r\n        }\r\n        case 'LogicalExpression':\r\n          // skip dead branches\r\n          if (node.operator === '&&') {\r\n            if (isFalsy(node.left)) {\r\n              skippedNodes.add(node.right);\r\n            } else if (!isTruthy(node.left)) {\r\n              conditionalNodes.add(node.right);\r\n            }\r\n          } else if (node.operator === '||') {\r\n            if (isTruthy(node.left)) {\r\n              skippedNodes.add(node.right);\r\n            } else if (!isFalsy(node.left)) {\r\n              conditionalNodes.add(node.right);\r\n            }\r\n          }\r\n          return;\r\n        case 'MemberExpression':\r\n          if (!isDynamicRequireModulesEnabled && isModuleRequire(node, scope)) {\r\n            uses.require = true;\r\n            replacedDynamicRequires.push(node);\r\n            skippedNodes.add(node.object);\r\n            skippedNodes.add(node.property);\r\n          }\r\n          return;\r\n        case 'ReturnStatement':\r\n          // if top-level return, we need to wrap it\r\n          if (lexicalDepth === 0) {\r\n            shouldWrap = true;\r\n          }\r\n          return;\r\n        case 'ThisExpression':\r\n          // rewrite top-level `this` as `commonjsHelpers.commonjsGlobal`\r\n          if (lexicalDepth === 0 && !classBodyDepth) {\r\n            uses.global = true;\r\n            if (!ignoreGlobal) {\r\n              replacedGlobal.push(node);\r\n            }\r\n          }\r\n          return;\r\n        case 'TryStatement':\r\n          if (currentTryBlockEnd === null) {\r\n            currentTryBlockEnd = node.block.end;\r\n          }\r\n          if (currentConditionalNodeEnd === null) {\r\n            currentConditionalNodeEnd = node.end;\r\n          }\r\n          return;\r\n        case 'UnaryExpression':\r\n          // rewrite `typeof module`, `typeof module.exports` and `typeof exports` (https://github.com/rollup/rollup-plugin-commonjs/issues/151)\r\n          if (node.operator === 'typeof') {\r\n            const flattened = getKeypath(node.argument);\r\n            if (!flattened) return;\r\n\r\n            if (scope.contains(flattened.name)) return;\r\n\r\n            if (\r\n              !isEsModule &&\r\n              (flattened.keypath === 'module.exports' ||\r\n                flattened.keypath === 'module' ||\r\n                flattened.keypath === 'exports')\r\n            ) {\r\n              magicString.overwrite(node.start, node.end, `'object'`, {\r\n                storeName: false\r\n              });\r\n            }\r\n          }\r\n          return;\r\n        case 'VariableDeclaration':\r\n          if (!scope.parent) {\r\n            topLevelDeclarations.push(node);\r\n          }\r\n          return;\r\n        case 'TemplateElement':\r\n          if (node.value.raw.includes('\\n')) {\r\n            indentExclusionRanges.push([node.start, node.end]);\r\n          }\r\n      }\r\n    },\r\n\r\n    leave(node) {\r\n      programDepth -= 1;\r\n      if (node.scope) scope = scope.parent;\r\n      if (functionType.test(node.type)) lexicalDepth -= 1;\r\n      if (node.type === 'ClassBody') classBodyDepth -= 1;\r\n    }\r\n  });\r\n\r\n  const nameBase = getName(id);\r\n  const exportsName = deconflict([...exportsAccessScopes], globals, nameBase);\r\n  const moduleName = deconflict([...moduleAccessScopes], globals, `${nameBase}Module`);\r\n  const requireName = deconflict([scope], globals, `require${capitalize(nameBase)}`);\r\n  const isRequiredName = deconflict([scope], globals, `hasRequired${capitalize(nameBase)}`);\r\n  const helpersName = deconflict([scope], globals, 'commonjsHelpers');\r\n  const dynamicRequireName =\r\n    replacedDynamicRequires.length > 0 &&\r\n    deconflict(\r\n      [scope],\r\n      globals,\r\n      isDynamicRequireModulesEnabled ? CREATE_COMMONJS_REQUIRE_EXPORT : COMMONJS_REQUIRE_EXPORT\r\n    );\r\n  const deconflictedExportNames = Object.create(null);\r\n  for (const [exportName, { scopes }] of exportsAssignmentsByName) {\r\n    deconflictedExportNames[exportName] = deconflict([...scopes], globals, exportName);\r\n  }\r\n\r\n  for (const node of replacedGlobal) {\r\n    magicString.overwrite(node.start, node.end, `${helpersName}.commonjsGlobal`, {\r\n      storeName: true\r\n    });\r\n  }\r\n  for (const node of replacedDynamicRequires) {\r\n    magicString.overwrite(\r\n      node.start,\r\n      node.end,\r\n      isDynamicRequireModulesEnabled\r\n        ? `${dynamicRequireName}(${JSON.stringify(virtualDynamicRequirePath)})`\r\n        : dynamicRequireName,\r\n      {\r\n        contentOnly: true,\r\n        storeName: true\r\n      }\r\n    );\r\n  }\r\n\r\n  // We cannot wrap ES/mixed modules\r\n  shouldWrap = !isEsModule && (shouldWrap || (uses.exports && moduleExportsAssignments.length > 0));\r\n\r\n  if (\r\n    !(\r\n      shouldWrap ||\r\n      isRequired ||\r\n      needsRequireWrapper ||\r\n      uses.module ||\r\n      uses.exports ||\r\n      uses.require ||\r\n      topLevelDefineCompiledEsmExpressions.length > 0\r\n    ) &&\r\n    (ignoreGlobal || !uses.global)\r\n  ) {\r\n    return { meta: { commonjs: { isCommonJS: false } } };\r\n  }\r\n\r\n  let leadingComment = '';\r\n  if (code.startsWith('/*')) {\r\n    const commentEnd = code.indexOf('*/', 2) + 2;\r\n    leadingComment = `${code.slice(0, commentEnd)}\\n`;\r\n    magicString.remove(0, commentEnd).trim();\r\n  }\r\n\r\n  let shebang = '';\r\n  if (code.startsWith('#!')) {\r\n    const shebangEndPosition = code.indexOf('\\n') + 1;\r\n    shebang = code.slice(0, shebangEndPosition);\r\n    magicString.remove(0, shebangEndPosition).trim();\r\n  }\r\n\r\n  const exportMode = isEsModule\r\n    ? 'none'\r\n    : shouldWrap\r\n    ? uses.module\r\n      ? 'module'\r\n      : 'exports'\r\n    : firstTopLevelModuleExportsAssignment\r\n    ? exportsAssignmentsByName.size === 0 && topLevelDefineCompiledEsmExpressions.length === 0\r\n      ? 'replace'\r\n      : 'module'\r\n    : moduleExportsAssignments.length === 0\r\n    ? 'exports'\r\n    : 'module';\r\n\r\n  const exportedExportsName =\r\n    exportMode === 'module' ? deconflict([], globals, `${nameBase}Exports`) : exportsName;\r\n\r\n  const importBlock = await rewriteRequireExpressionsAndGetImportBlock(\r\n    magicString,\r\n    topLevelDeclarations,\r\n    reassignedNames,\r\n    helpersName,\r\n    dynamicRequireName,\r\n    moduleName,\r\n    exportsName,\r\n    id,\r\n    exportMode,\r\n    resolveRequireSourcesAndUpdateMeta,\r\n    needsRequireWrapper,\r\n    isEsModule,\r\n    isDynamicRequireModulesEnabled,\r\n    getIgnoreTryCatchRequireStatementMode,\r\n    commonjsMeta\r\n  );\r\n  const usesRequireWrapper = commonjsMeta.isCommonJS === IS_WRAPPED_COMMONJS;\r\n  const exportBlock = isEsModule\r\n    ? ''\r\n    : rewriteExportsAndGetExportsBlock(\r\n        magicString,\r\n        moduleName,\r\n        exportsName,\r\n        exportedExportsName,\r\n        shouldWrap,\r\n        moduleExportsAssignments,\r\n        firstTopLevelModuleExportsAssignment,\r\n        exportsAssignmentsByName,\r\n        topLevelAssignments,\r\n        topLevelDefineCompiledEsmExpressions,\r\n        deconflictedExportNames,\r\n        code,\r\n        helpersName,\r\n        exportMode,\r\n        defaultIsModuleExports,\r\n        usesRequireWrapper,\r\n        requireName\r\n      );\r\n\r\n  if (shouldWrap) {\r\n    wrapCode(magicString, uses, moduleName, exportsName, indentExclusionRanges);\r\n  }\r\n\r\n  if (usesRequireWrapper) {\r\n    magicString.trim().indent('\\t', {\r\n      exclude: indentExclusionRanges\r\n    });\r\n    const exported = exportMode === 'module' ? `${moduleName}.exports` : exportsName;\r\n    magicString.prepend(\r\n      `var ${isRequiredName};\r\n\r\nfunction ${requireName} () {\r\n\\tif (${isRequiredName}) return ${exported};\r\n\\t${isRequiredName} = 1;\r\n`\r\n    ).append(`\r\n\\treturn ${exported};\r\n}`);\r\n    if (exportMode === 'replace') {\r\n      magicString.prepend(`var ${exportsName};\\n`);\r\n    }\r\n  }\r\n\r\n  magicString\r\n    .trim()\r\n    .prepend(shebang + leadingComment + importBlock)\r\n    .append(exportBlock);\r\n\r\n  return {\r\n    code: magicString.toString(),\r\n    map: sourceMap ? magicString.generateMap() : null,\r\n    syntheticNamedExports: isEsModule || usesRequireWrapper ? false : '__moduleExports',\r\n    meta: { commonjs: { ...commonjsMeta, shebang } }\r\n  };\r\n}\r\n\r\nconst PLUGIN_NAME = 'commonjs';\r\n\r\nfunction commonjs(options = {}) {\r\n  const {\r\n    ignoreGlobal,\r\n    ignoreDynamicRequires,\r\n    requireReturnsDefault: requireReturnsDefaultOption,\r\n    defaultIsModuleExports: defaultIsModuleExportsOption,\r\n    esmExternals\r\n  } = options;\r\n  const extensions = options.extensions || ['.js'];\r\n  const filter = createFilter$1(options.include, options.exclude);\r\n  const isPossibleCjsId = (id) => {\r\n    const extName = extname(id);\r\n    return extName === '.cjs' || (extensions.includes(extName) && filter(id));\r\n  };\r\n\r\n  const { strictRequiresFilter, detectCyclesAndConditional } = getStrictRequiresFilter(options);\r\n\r\n  const getRequireReturnsDefault =\r\n    typeof requireReturnsDefaultOption === 'function'\r\n      ? requireReturnsDefaultOption\r\n      : () => requireReturnsDefaultOption;\r\n\r\n  let esmExternalIds;\r\n  const isEsmExternal =\r\n    typeof esmExternals === 'function'\r\n      ? esmExternals\r\n      : Array.isArray(esmExternals)\r\n      ? ((esmExternalIds = new Set(esmExternals)), (id) => esmExternalIds.has(id))\r\n      : () => esmExternals;\r\n\r\n  const getDefaultIsModuleExports =\r\n    typeof defaultIsModuleExportsOption === 'function'\r\n      ? defaultIsModuleExportsOption\r\n      : () =>\r\n          typeof defaultIsModuleExportsOption === 'boolean' ? defaultIsModuleExportsOption : 'auto';\r\n\r\n  const dynamicRequireRoot =\r\n    typeof options.dynamicRequireRoot === 'string'\r\n      ? resolve$3(options.dynamicRequireRoot)\r\n      : process.cwd();\r\n  const { commonDir, dynamicRequireModules } = getDynamicRequireModules(\r\n    options.dynamicRequireTargets,\r\n    dynamicRequireRoot\r\n  );\r\n  const isDynamicRequireModulesEnabled = dynamicRequireModules.size > 0;\r\n\r\n  const ignoreRequire =\r\n    typeof options.ignore === 'function'\r\n      ? options.ignore\r\n      : Array.isArray(options.ignore)\r\n      ? (id) => options.ignore.includes(id)\r\n      : () => false;\r\n\r\n  const getIgnoreTryCatchRequireStatementMode = (id) => {\r\n    const mode =\r\n      typeof options.ignoreTryCatch === 'function'\r\n        ? options.ignoreTryCatch(id)\r\n        : Array.isArray(options.ignoreTryCatch)\r\n        ? options.ignoreTryCatch.includes(id)\r\n        : typeof options.ignoreTryCatch !== 'undefined'\r\n        ? options.ignoreTryCatch\r\n        : true;\r\n\r\n    return {\r\n      canConvertRequire: mode !== 'remove' && mode !== true,\r\n      shouldRemoveRequire: mode === 'remove'\r\n    };\r\n  };\r\n\r\n  const { currentlyResolving, resolveId } = getResolveId(extensions, isPossibleCjsId);\r\n\r\n  const sourceMap = options.sourceMap !== false;\r\n\r\n  // Initialized in buildStart\r\n  let requireResolver;\r\n\r\n  function transformAndCheckExports(code, id) {\r\n    const normalizedId = normalizePathSlashes(id);\r\n    const { isEsModule, hasDefaultExport, hasNamedExports, ast } = analyzeTopLevelStatements(\r\n      this.parse,\r\n      code,\r\n      id\r\n    );\r\n\r\n    const commonjsMeta = this.getModuleInfo(id).meta.commonjs || {};\r\n    if (hasDefaultExport) {\r\n      commonjsMeta.hasDefaultExport = true;\r\n    }\r\n    if (hasNamedExports) {\r\n      commonjsMeta.hasNamedExports = true;\r\n    }\r\n\r\n    if (\r\n      !dynamicRequireModules.has(normalizedId) &&\r\n      (!(hasCjsKeywords(code, ignoreGlobal) || requireResolver.isRequiredId(id)) ||\r\n        (isEsModule && !options.transformMixedEsModules))\r\n    ) {\r\n      commonjsMeta.isCommonJS = false;\r\n      return { meta: { commonjs: commonjsMeta } };\r\n    }\r\n\r\n    const needsRequireWrapper =\r\n      !isEsModule && (dynamicRequireModules.has(normalizedId) || strictRequiresFilter(id));\r\n\r\n    const checkDynamicRequire = (position) => {\r\n      const normalizedDynamicRequireRoot = normalizePathSlashes(dynamicRequireRoot);\r\n\r\n      if (normalizedId.indexOf(normalizedDynamicRequireRoot) !== 0) {\r\n        this.error(\r\n          {\r\n            code: 'DYNAMIC_REQUIRE_OUTSIDE_ROOT',\r\n            normalizedId,\r\n            normalizedDynamicRequireRoot,\r\n            message: `\"${normalizedId}\" contains dynamic require statements but it is not within the current dynamicRequireRoot \"${normalizedDynamicRequireRoot}\". You should set dynamicRequireRoot to \"${dirname$1(\r\n              normalizedId\r\n            )}\" or one of its parent directories.`\r\n          },\r\n          position\r\n        );\r\n      }\r\n    };\r\n\r\n    return transformCommonjs(\r\n      this.parse,\r\n      code,\r\n      id,\r\n      isEsModule,\r\n      ignoreGlobal || isEsModule,\r\n      ignoreRequire,\r\n      ignoreDynamicRequires && !isDynamicRequireModulesEnabled,\r\n      getIgnoreTryCatchRequireStatementMode,\r\n      sourceMap,\r\n      isDynamicRequireModulesEnabled,\r\n      dynamicRequireModules,\r\n      commonDir,\r\n      ast,\r\n      getDefaultIsModuleExports(id),\r\n      needsRequireWrapper,\r\n      requireResolver.resolveRequireSourcesAndUpdateMeta(this),\r\n      requireResolver.isRequiredId(id),\r\n      checkDynamicRequire,\r\n      commonjsMeta\r\n    );\r\n  }\r\n\r\n  return {\r\n    name: PLUGIN_NAME,\r\n\r\n    version: version$2,\r\n\r\n    options(rawOptions) {\r\n      // We inject the resolver in the beginning so that \"catch-all-resolver\" like node-resolver\r\n      // do not prevent our plugin from resolving entry points ot proxies.\r\n      const plugins = Array.isArray(rawOptions.plugins)\r\n        ? [...rawOptions.plugins]\r\n        : rawOptions.plugins\r\n        ? [rawOptions.plugins]\r\n        : [];\r\n      plugins.unshift({\r\n        name: 'commonjs--resolver',\r\n        resolveId\r\n      });\r\n      return { ...rawOptions, plugins };\r\n    },\r\n\r\n    buildStart({ plugins }) {\r\n      validateVersion(this.meta.rollupVersion, peerDependencies.rollup, 'rollup');\r\n      const nodeResolve = plugins.find(({ name }) => name === 'node-resolve');\r\n      if (nodeResolve) {\r\n        validateVersion(nodeResolve.version, '^13.0.6', '@rollup/plugin-node-resolve');\r\n      }\r\n      if (options.namedExports != null) {\r\n        this.warn(\r\n          'The namedExports option from \"@rollup/plugin-commonjs\" is deprecated. Named exports are now handled automatically.'\r\n        );\r\n      }\r\n      requireResolver = getRequireResolver(\r\n        extensions,\r\n        detectCyclesAndConditional,\r\n        currentlyResolving\r\n      );\r\n    },\r\n\r\n    buildEnd() {\r\n      if (options.strictRequires === 'debug') {\r\n        const wrappedIds = requireResolver.getWrappedIds();\r\n        if (wrappedIds.length) {\r\n          this.warn({\r\n            code: 'WRAPPED_IDS',\r\n            ids: wrappedIds,\r\n            message: `The commonjs plugin automatically wrapped the following files:\\n[\\n${wrappedIds\r\n              .map((id) => `\\t${JSON.stringify(relative$1(process.cwd(), id))}`)\r\n              .join(',\\n')}\\n]`\r\n          });\r\n        } else {\r\n          this.warn({\r\n            code: 'WRAPPED_IDS',\r\n            ids: wrappedIds,\r\n            message: 'The commonjs plugin did not wrap any files.'\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    load(id) {\r\n      if (id === HELPERS_ID) {\r\n        return getHelpersModule();\r\n      }\r\n\r\n      if (isWrappedId(id, MODULE_SUFFIX)) {\r\n        const name = getName(unwrapId(id, MODULE_SUFFIX));\r\n        return {\r\n          code: `var ${name} = {exports: {}}; export {${name} as __module}`,\r\n          meta: { commonjs: { isCommonJS: false } }\r\n        };\r\n      }\r\n\r\n      if (isWrappedId(id, EXPORTS_SUFFIX)) {\r\n        const name = getName(unwrapId(id, EXPORTS_SUFFIX));\r\n        return {\r\n          code: `var ${name} = {}; export {${name} as __exports}`,\r\n          meta: { commonjs: { isCommonJS: false } }\r\n        };\r\n      }\r\n\r\n      if (isWrappedId(id, EXTERNAL_SUFFIX)) {\r\n        const actualId = unwrapId(id, EXTERNAL_SUFFIX);\r\n        return getUnknownRequireProxy(\r\n          actualId,\r\n          isEsmExternal(actualId) ? getRequireReturnsDefault(actualId) : true\r\n        );\r\n      }\r\n\r\n      // entry suffix is just appended to not mess up relative external resolution\r\n      if (id.endsWith(ENTRY_SUFFIX)) {\r\n        const acutalId = id.slice(0, -ENTRY_SUFFIX.length);\r\n        const {\r\n          meta: { commonjs: commonjsMeta }\r\n        } = this.getModuleInfo(acutalId);\r\n        const shebang = commonjsMeta?.shebang ?? '';\r\n        return getEntryProxy(\r\n          acutalId,\r\n          getDefaultIsModuleExports(acutalId),\r\n          this.getModuleInfo,\r\n          shebang\r\n        );\r\n      }\r\n\r\n      if (isWrappedId(id, ES_IMPORT_SUFFIX)) {\r\n        const actualId = unwrapId(id, ES_IMPORT_SUFFIX);\r\n        return getEsImportProxy(actualId, getDefaultIsModuleExports(actualId));\r\n      }\r\n\r\n      if (id === DYNAMIC_MODULES_ID) {\r\n        return getDynamicModuleRegistry(\r\n          isDynamicRequireModulesEnabled,\r\n          dynamicRequireModules,\r\n          commonDir,\r\n          ignoreDynamicRequires\r\n        );\r\n      }\r\n\r\n      if (isWrappedId(id, PROXY_SUFFIX)) {\r\n        const actualId = unwrapId(id, PROXY_SUFFIX);\r\n        return getStaticRequireProxy(actualId, getRequireReturnsDefault(actualId), this.load);\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    shouldTransformCachedModule(...args) {\r\n      return requireResolver.shouldTransformCachedModule.call(this, ...args);\r\n    },\r\n\r\n    transform(code, id) {\r\n      if (!isPossibleCjsId(id)) return null;\r\n\r\n      try {\r\n        return transformAndCheckExports.call(this, code, id);\r\n      } catch (err) {\r\n        return this.error(err, err.pos);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n// Matches the scheme of a URL, eg \"http://\"\r\nconst schemeRegex = /^[\\w+.-]+:\\/\\//;\r\n/**\r\n * Matches the parts of a URL:\r\n * 1. Scheme, including \":\", guaranteed.\r\n * 2. User/password, including \"@\", optional.\r\n * 3. Host, guaranteed.\r\n * 4. Port, including \":\", optional.\r\n * 5. Path, including \"/\", optional.\r\n * 6. Query, including \"?\", optional.\r\n * 7. Hash, including \"#\", optional.\r\n */\r\nconst urlRegex = /^([\\w+.-]+:)\\/\\/([^@/#?]*@)?([^:/#?]*)(:\\d+)?(\\/[^#?]*)?(\\?[^#]*)?(#.*)?/;\r\n/**\r\n * File URLs are weird. They dont' need the regular `//` in the scheme, they may or may not start\r\n * with a leading `/`, they can have a domain (but only if they don't start with a Windows drive).\r\n *\r\n * 1. Host, optional.\r\n * 2. Path, which may include \"/\", guaranteed.\r\n * 3. Query, including \"?\", optional.\r\n * 4. Hash, including \"#\", optional.\r\n */\r\nconst fileRegex = /^file:(?:\\/\\/((?![a-z]:)[^/#?]*)?)?(\\/?[^#?]*)(\\?[^#]*)?(#.*)?/i;\r\nfunction isAbsoluteUrl(input) {\r\n    return schemeRegex.test(input);\r\n}\r\nfunction isSchemeRelativeUrl(input) {\r\n    return input.startsWith('//');\r\n}\r\nfunction isAbsolutePath(input) {\r\n    return input.startsWith('/');\r\n}\r\nfunction isFileUrl(input) {\r\n    return input.startsWith('file:');\r\n}\r\nfunction isRelative(input) {\r\n    return /^[.?#]/.test(input);\r\n}\r\nfunction parseAbsoluteUrl(input) {\r\n    const match = urlRegex.exec(input);\r\n    return makeUrl(match[1], match[2] || '', match[3], match[4] || '', match[5] || '/', match[6] || '', match[7] || '');\r\n}\r\nfunction parseFileUrl(input) {\r\n    const match = fileRegex.exec(input);\r\n    const path = match[2];\r\n    return makeUrl('file:', '', match[1] || '', '', isAbsolutePath(path) ? path : '/' + path, match[3] || '', match[4] || '');\r\n}\r\nfunction makeUrl(scheme, user, host, port, path, query, hash) {\r\n    return {\r\n        scheme,\r\n        user,\r\n        host,\r\n        port,\r\n        path,\r\n        query,\r\n        hash,\r\n        type: 7 /* Absolute */,\r\n    };\r\n}\r\nfunction parseUrl$3(input) {\r\n    if (isSchemeRelativeUrl(input)) {\r\n        const url = parseAbsoluteUrl('http:' + input);\r\n        url.scheme = '';\r\n        url.type = 6 /* SchemeRelative */;\r\n        return url;\r\n    }\r\n    if (isAbsolutePath(input)) {\r\n        const url = parseAbsoluteUrl('http://foo.com' + input);\r\n        url.scheme = '';\r\n        url.host = '';\r\n        url.type = 5 /* AbsolutePath */;\r\n        return url;\r\n    }\r\n    if (isFileUrl(input))\r\n        return parseFileUrl(input);\r\n    if (isAbsoluteUrl(input))\r\n        return parseAbsoluteUrl(input);\r\n    const url = parseAbsoluteUrl('http://foo.com/' + input);\r\n    url.scheme = '';\r\n    url.host = '';\r\n    url.type = input\r\n        ? input.startsWith('?')\r\n            ? 3 /* Query */\r\n            : input.startsWith('#')\r\n                ? 2 /* Hash */\r\n                : 4 /* RelativePath */\r\n        : 1 /* Empty */;\r\n    return url;\r\n}\r\nfunction stripPathFilename(path) {\r\n    // If a path ends with a parent directory \"..\", then it's a relative path with excess parent\r\n    // paths. It's not a file, so we can't strip it.\r\n    if (path.endsWith('/..'))\r\n        return path;\r\n    const index = path.lastIndexOf('/');\r\n    return path.slice(0, index + 1);\r\n}\r\nfunction mergePaths(url, base) {\r\n    normalizePath$4(base, base.type);\r\n    // If the path is just a \"/\", then it was an empty path to begin with (remember, we're a relative\r\n    // path).\r\n    if (url.path === '/') {\r\n        url.path = base.path;\r\n    }\r\n    else {\r\n        // Resolution happens relative to the base path's directory, not the file.\r\n        url.path = stripPathFilename(base.path) + url.path;\r\n    }\r\n}\r\n/**\r\n * The path can have empty directories \"//\", unneeded parents \"foo/..\", or current directory\r\n * \"foo/.\". We need to normalize to a standard representation.\r\n */\r\nfunction normalizePath$4(url, type) {\r\n    const rel = type <= 4 /* RelativePath */;\r\n    const pieces = url.path.split('/');\r\n    // We need to preserve the first piece always, so that we output a leading slash. The item at\r\n    // pieces[0] is an empty string.\r\n    let pointer = 1;\r\n    // Positive is the number of real directories we've output, used for popping a parent directory.\r\n    // Eg, \"foo/bar/..\" will have a positive 2, and we can decrement to be left with just \"foo\".\r\n    let positive = 0;\r\n    // We need to keep a trailing slash if we encounter an empty directory (eg, splitting \"foo/\" will\r\n    // generate `[\"foo\", \"\"]` pieces). And, if we pop a parent directory. But once we encounter a\r\n    // real directory, we won't need to append, unless the other conditions happen again.\r\n    let addTrailingSlash = false;\r\n    for (let i = 1; i < pieces.length; i++) {\r\n        const piece = pieces[i];\r\n        // An empty directory, could be a trailing slash, or just a double \"//\" in the path.\r\n        if (!piece) {\r\n            addTrailingSlash = true;\r\n            continue;\r\n        }\r\n        // If we encounter a real directory, then we don't need to append anymore.\r\n        addTrailingSlash = false;\r\n        // A current directory, which we can always drop.\r\n        if (piece === '.')\r\n            continue;\r\n        // A parent directory, we need to see if there are any real directories we can pop. Else, we\r\n        // have an excess of parents, and we'll need to keep the \"..\".\r\n        if (piece === '..') {\r\n            if (positive) {\r\n                addTrailingSlash = true;\r\n                positive--;\r\n                pointer--;\r\n            }\r\n            else if (rel) {\r\n                // If we're in a relativePath, then we need to keep the excess parents. Else, in an absolute\r\n                // URL, protocol relative URL, or an absolute path, we don't need to keep excess.\r\n                pieces[pointer++] = piece;\r\n            }\r\n            continue;\r\n        }\r\n        // We've encountered a real directory. Move it to the next insertion pointer, which accounts for\r\n        // any popped or dropped directories.\r\n        pieces[pointer++] = piece;\r\n        positive++;\r\n    }\r\n    let path = '';\r\n    for (let i = 1; i < pointer; i++) {\r\n        path += '/' + pieces[i];\r\n    }\r\n    if (!path || (addTrailingSlash && !path.endsWith('/..'))) {\r\n        path += '/';\r\n    }\r\n    url.path = path;\r\n}\r\n/**\r\n * Attempts to resolve `input` URL/path relative to `base`.\r\n */\r\nfunction resolve$2(input, base) {\r\n    if (!input && !base)\r\n        return '';\r\n    const url = parseUrl$3(input);\r\n    let inputType = url.type;\r\n    if (base && inputType !== 7 /* Absolute */) {\r\n        const baseUrl = parseUrl$3(base);\r\n        const baseType = baseUrl.type;\r\n        switch (inputType) {\r\n            case 1 /* Empty */:\r\n                url.hash = baseUrl.hash;\r\n            // fall through\r\n            case 2 /* Hash */:\r\n                url.query = baseUrl.query;\r\n            // fall through\r\n            case 3 /* Query */:\r\n            case 4 /* RelativePath */:\r\n                mergePaths(url, baseUrl);\r\n            // fall through\r\n            case 5 /* AbsolutePath */:\r\n                // The host, user, and port are joined, you can't copy one without the others.\r\n                url.user = baseUrl.user;\r\n                url.host = baseUrl.host;\r\n                url.port = baseUrl.port;\r\n            // fall through\r\n            case 6 /* SchemeRelative */:\r\n                // The input doesn't have a schema at least, so we need to copy at least that over.\r\n                url.scheme = baseUrl.scheme;\r\n        }\r\n        if (baseType > inputType)\r\n            inputType = baseType;\r\n    }\r\n    normalizePath$4(url, inputType);\r\n    const queryHash = url.query + url.hash;\r\n    switch (inputType) {\r\n        // This is impossible, because of the empty checks at the start of the function.\r\n        // case UrlType.Empty:\r\n        case 2 /* Hash */:\r\n        case 3 /* Query */:\r\n            return queryHash;\r\n        case 4 /* RelativePath */: {\r\n            // The first char is always a \"/\", and we need it to be relative.\r\n            const path = url.path.slice(1);\r\n            if (!path)\r\n                return queryHash || '.';\r\n            if (isRelative(base || input) && !isRelative(path)) {\r\n                // If base started with a leading \".\", or there is no base and input started with a \".\",\r\n                // then we need to ensure that the relative path starts with a \".\". We don't know if\r\n                // relative starts with a \"..\", though, so check before prepending.\r\n                return './' + path + queryHash;\r\n            }\r\n            return path + queryHash;\r\n        }\r\n        case 5 /* AbsolutePath */:\r\n            return url.path + queryHash;\r\n        default:\r\n            return url.scheme + '//' + url.user + url.host + url.port + url.path + queryHash;\r\n    }\r\n}\r\n\r\nfunction resolve$1(input, base) {\r\n    // The base is always treated as a directory, if it's not empty.\r\n    // https://github.com/mozilla/source-map/blob/8cb3ee57/lib/util.js#L327\r\n    // https://github.com/chromium/chromium/blob/da4adbb3/third_party/blink/renderer/devtools/front_end/sdk/SourceMap.js#L400-L401\r\n    if (base && !base.endsWith('/'))\r\n        base += '/';\r\n    return resolve$2(input, base);\r\n}\r\n\r\n/**\r\n * Removes everything after the last \"/\", but leaves the slash.\r\n */\r\nfunction stripFilename(path) {\r\n    if (!path)\r\n        return '';\r\n    const index = path.lastIndexOf('/');\r\n    return path.slice(0, index + 1);\r\n}\r\n\r\nconst COLUMN$1 = 0;\r\nconst SOURCES_INDEX$1 = 1;\r\nconst SOURCE_LINE$1 = 2;\r\nconst SOURCE_COLUMN$1 = 3;\r\nconst NAMES_INDEX$1 = 4;\r\n\r\nfunction maybeSort(mappings, owned) {\r\n    const unsortedIndex = nextUnsortedSegmentLine(mappings, 0);\r\n    if (unsortedIndex === mappings.length)\r\n        return mappings;\r\n    // If we own the array (meaning we parsed it from JSON), then we're free to directly mutate it. If\r\n    // not, we do not want to modify the consumer's input array.\r\n    if (!owned)\r\n        mappings = mappings.slice();\r\n    for (let i = unsortedIndex; i < mappings.length; i = nextUnsortedSegmentLine(mappings, i + 1)) {\r\n        mappings[i] = sortSegments(mappings[i], owned);\r\n    }\r\n    return mappings;\r\n}\r\nfunction nextUnsortedSegmentLine(mappings, start) {\r\n    for (let i = start; i < mappings.length; i++) {\r\n        if (!isSorted(mappings[i]))\r\n            return i;\r\n    }\r\n    return mappings.length;\r\n}\r\nfunction isSorted(line) {\r\n    for (let j = 1; j < line.length; j++) {\r\n        if (line[j][COLUMN$1] < line[j - 1][COLUMN$1]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction sortSegments(line, owned) {\r\n    if (!owned)\r\n        line = line.slice();\r\n    return line.sort(sortComparator);\r\n}\r\nfunction sortComparator(a, b) {\r\n    return a[COLUMN$1] - b[COLUMN$1];\r\n}\r\n\r\nlet found = false;\r\n/**\r\n * A binary search implementation that returns the index if a match is found.\r\n * If no match is found, then the left-index (the index associated with the item that comes just\r\n * before the desired index) is returned. To maintain proper sort order, a splice would happen at\r\n * the next index:\r\n *\r\n * ```js\r\n * const array = [1, 3];\r\n * const needle = 2;\r\n * const index = binarySearch(array, needle, (item, needle) => item - needle);\r\n *\r\n * assert.equal(index, 0);\r\n * array.splice(index + 1, 0, needle);\r\n * assert.deepEqual(array, [1, 2, 3]);\r\n * ```\r\n */\r\nfunction binarySearch(haystack, needle, low, high) {\r\n    while (low <= high) {\r\n        const mid = low + ((high - low) >> 1);\r\n        const cmp = haystack[mid][COLUMN$1] - needle;\r\n        if (cmp === 0) {\r\n            found = true;\r\n            return mid;\r\n        }\r\n        if (cmp < 0) {\r\n            low = mid + 1;\r\n        }\r\n        else {\r\n            high = mid - 1;\r\n        }\r\n    }\r\n    found = false;\r\n    return low - 1;\r\n}\r\nfunction upperBound(haystack, needle, index) {\r\n    for (let i = index + 1; i < haystack.length; index = i++) {\r\n        if (haystack[i][COLUMN$1] !== needle)\r\n            break;\r\n    }\r\n    return index;\r\n}\r\nfunction lowerBound(haystack, needle, index) {\r\n    for (let i = index - 1; i >= 0; index = i--) {\r\n        if (haystack[i][COLUMN$1] !== needle)\r\n            break;\r\n    }\r\n    return index;\r\n}\r\nfunction memoizedState() {\r\n    return {\r\n        lastKey: -1,\r\n        lastNeedle: -1,\r\n        lastIndex: -1,\r\n    };\r\n}\r\n/**\r\n * This overly complicated beast is just to record the last tested line/column and the resulting\r\n * index, allowing us to skip a few tests if mappings are monotonically increasing.\r\n */\r\nfunction memoizedBinarySearch(haystack, needle, state, key) {\r\n    const { lastKey, lastNeedle, lastIndex } = state;\r\n    let low = 0;\r\n    let high = haystack.length - 1;\r\n    if (key === lastKey) {\r\n        if (needle === lastNeedle) {\r\n            found = lastIndex !== -1 && haystack[lastIndex][COLUMN$1] === needle;\r\n            return lastIndex;\r\n        }\r\n        if (needle >= lastNeedle) {\r\n            // lastIndex may be -1 if the previous needle was not found.\r\n            low = lastIndex === -1 ? 0 : lastIndex;\r\n        }\r\n        else {\r\n            high = lastIndex;\r\n        }\r\n    }\r\n    state.lastKey = key;\r\n    state.lastNeedle = needle;\r\n    return (state.lastIndex = binarySearch(haystack, needle, low, high));\r\n}\r\n\r\nconst LINE_GTR_ZERO = '`line` must be greater than 0 (lines start at line 1)';\r\nconst COL_GTR_EQ_ZERO = '`column` must be greater than or equal to 0 (columns start at column 0)';\r\nconst LEAST_UPPER_BOUND = -1;\r\nconst GREATEST_LOWER_BOUND = 1;\r\nclass TraceMap {\r\n    constructor(map, mapUrl) {\r\n        const isString = typeof map === 'string';\r\n        if (!isString && map._decodedMemo)\r\n            return map;\r\n        const parsed = (isString ? JSON.parse(map) : map);\r\n        const { version, file, names, sourceRoot, sources, sourcesContent } = parsed;\r\n        this.version = version;\r\n        this.file = file;\r\n        this.names = names || [];\r\n        this.sourceRoot = sourceRoot;\r\n        this.sources = sources;\r\n        this.sourcesContent = sourcesContent;\r\n        this.ignoreList = parsed.ignoreList || parsed.x_google_ignoreList || undefined;\r\n        const from = resolve$1(sourceRoot || '', stripFilename(mapUrl));\r\n        this.resolvedSources = sources.map((s) => resolve$1(s || '', from));\r\n        const { mappings } = parsed;\r\n        if (typeof mappings === 'string') {\r\n            this._encoded = mappings;\r\n            this._decoded = undefined;\r\n        }\r\n        else {\r\n            this._encoded = undefined;\r\n            this._decoded = maybeSort(mappings, isString);\r\n        }\r\n        this._decodedMemo = memoizedState();\r\n        this._bySources = undefined;\r\n        this._bySourceMemos = undefined;\r\n    }\r\n}\r\n/**\r\n * Typescript doesn't allow friend access to private fields, so this just casts the map into a type\r\n * with public access modifiers.\r\n */\r\nfunction cast$2(map) {\r\n    return map;\r\n}\r\n/**\r\n * Returns the encoded (VLQ string) form of the SourceMap's mappings field.\r\n */\r\nfunction encodedMappings(map) {\r\n    var _a;\r\n    var _b;\r\n    return ((_a = (_b = cast$2(map))._encoded) !== null && _a !== void 0 ? _a : (_b._encoded = encode$1(cast$2(map)._decoded)));\r\n}\r\n/**\r\n * Returns the decoded (array of lines of segments) form of the SourceMap's mappings field.\r\n */\r\nfunction decodedMappings(map) {\r\n    var _a;\r\n    return ((_a = cast$2(map))._decoded || (_a._decoded = decode(cast$2(map)._encoded)));\r\n}\r\n/**\r\n * A low-level API to find the segment associated with a generated line/column (think, from a\r\n * stack trace). Line and column here are 0-based, unlike `originalPositionFor`.\r\n */\r\nfunction traceSegment(map, line, column) {\r\n    const decoded = decodedMappings(map);\r\n    // It's common for parent source maps to have pointers to lines that have no\r\n    // mapping (like a \"//# sourceMappingURL=\") at the end of the child file.\r\n    if (line >= decoded.length)\r\n        return null;\r\n    const segments = decoded[line];\r\n    const index = traceSegmentInternal(segments, cast$2(map)._decodedMemo, line, column, GREATEST_LOWER_BOUND);\r\n    return index === -1 ? null : segments[index];\r\n}\r\n/**\r\n * A higher-level API to find the source/line/column associated with a generated line/column\r\n * (think, from a stack trace). Line is 1-based, but column is 0-based, due to legacy behavior in\r\n * `source-map` library.\r\n */\r\nfunction originalPositionFor$1(map, needle) {\r\n    let { line, column, bias } = needle;\r\n    line--;\r\n    if (line < 0)\r\n        throw new Error(LINE_GTR_ZERO);\r\n    if (column < 0)\r\n        throw new Error(COL_GTR_EQ_ZERO);\r\n    const decoded = decodedMappings(map);\r\n    // It's common for parent source maps to have pointers to lines that have no\r\n    // mapping (like a \"//# sourceMappingURL=\") at the end of the child file.\r\n    if (line >= decoded.length)\r\n        return OMapping(null, null, null, null);\r\n    const segments = decoded[line];\r\n    const index = traceSegmentInternal(segments, cast$2(map)._decodedMemo, line, column, bias || GREATEST_LOWER_BOUND);\r\n    if (index === -1)\r\n        return OMapping(null, null, null, null);\r\n    const segment = segments[index];\r\n    if (segment.length === 1)\r\n        return OMapping(null, null, null, null);\r\n    const { names, resolvedSources } = map;\r\n    return OMapping(resolvedSources[segment[SOURCES_INDEX$1]], segment[SOURCE_LINE$1] + 1, segment[SOURCE_COLUMN$1], segment.length === 5 ? names[segment[NAMES_INDEX$1]] : null);\r\n}\r\n/**\r\n * Returns a sourcemap object (with decoded mappings) suitable for passing to a library that expects\r\n * a sourcemap, or to JSON.stringify.\r\n */\r\nfunction decodedMap(map) {\r\n    return clone(map, decodedMappings(map));\r\n}\r\n/**\r\n * Returns a sourcemap object (with encoded mappings) suitable for passing to a library that expects\r\n * a sourcemap, or to JSON.stringify.\r\n */\r\nfunction encodedMap(map) {\r\n    return clone(map, encodedMappings(map));\r\n}\r\nfunction clone(map, mappings) {\r\n    return {\r\n        version: map.version,\r\n        file: map.file,\r\n        names: map.names,\r\n        sourceRoot: map.sourceRoot,\r\n        sources: map.sources,\r\n        sourcesContent: map.sourcesContent,\r\n        mappings,\r\n        ignoreList: map.ignoreList || map.x_google_ignoreList,\r\n    };\r\n}\r\nfunction OMapping(source, line, column, name) {\r\n    return { source, line, column, name };\r\n}\r\nfunction traceSegmentInternal(segments, memo, line, column, bias) {\r\n    let index = memoizedBinarySearch(segments, column, memo, line);\r\n    if (found) {\r\n        index = (bias === LEAST_UPPER_BOUND ? upperBound : lowerBound)(segments, column, index);\r\n    }\r\n    else if (bias === LEAST_UPPER_BOUND)\r\n        index++;\r\n    if (index === -1 || index === segments.length)\r\n        return -1;\r\n    return index;\r\n}\r\n\r\n/**\r\n * SetArray acts like a `Set` (allowing only one occurrence of a string `key`), but provides the\r\n * index of the `key` in the backing array.\r\n *\r\n * This is designed to allow synchronizing a second array with the contents of the backing array,\r\n * like how in a sourcemap `sourcesContent[i]` is the source content associated with `source[i]`,\r\n * and there are never duplicates.\r\n */\r\nclass SetArray {\r\n    constructor() {\r\n        this._indexes = { __proto__: null };\r\n        this.array = [];\r\n    }\r\n}\r\n/**\r\n * Typescript doesn't allow friend access to private fields, so this just casts the set into a type\r\n * with public access modifiers.\r\n */\r\nfunction cast$1(set) {\r\n    return set;\r\n}\r\n/**\r\n * Gets the index associated with `key` in the backing array, if it is already present.\r\n */\r\nfunction get(setarr, key) {\r\n    return cast$1(setarr)._indexes[key];\r\n}\r\n/**\r\n * Puts `key` into the backing array, if it is not already present. Returns\r\n * the index of the `key` in the backing array.\r\n */\r\nfunction put(setarr, key) {\r\n    // The key may or may not be present. If it is present, it's a number.\r\n    const index = get(setarr, key);\r\n    if (index !== undefined)\r\n        return index;\r\n    const { array, _indexes: indexes } = cast$1(setarr);\r\n    const length = array.push(key);\r\n    return (indexes[key] = length - 1);\r\n}\r\n/**\r\n * Removes the key, if it exists in the set.\r\n */\r\nfunction remove(setarr, key) {\r\n    const index = get(setarr, key);\r\n    if (index === undefined)\r\n        return;\r\n    const { array, _indexes: indexes } = cast$1(setarr);\r\n    for (let i = index + 1; i < array.length; i++) {\r\n        const k = array[i];\r\n        array[i - 1] = k;\r\n        indexes[k]--;\r\n    }\r\n    indexes[key] = undefined;\r\n    array.pop();\r\n}\r\n\r\nconst COLUMN = 0;\r\nconst SOURCES_INDEX = 1;\r\nconst SOURCE_LINE = 2;\r\nconst SOURCE_COLUMN = 3;\r\nconst NAMES_INDEX = 4;\r\n\r\nconst NO_NAME = -1;\r\n/**\r\n * Provides the state to generate a sourcemap.\r\n */\r\nclass GenMapping {\r\n    constructor({ file, sourceRoot } = {}) {\r\n        this._names = new SetArray();\r\n        this._sources = new SetArray();\r\n        this._sourcesContent = [];\r\n        this._mappings = [];\r\n        this.file = file;\r\n        this.sourceRoot = sourceRoot;\r\n        this._ignoreList = new SetArray();\r\n    }\r\n}\r\n/**\r\n * Typescript doesn't allow friend access to private fields, so this just casts the map into a type\r\n * with public access modifiers.\r\n */\r\nfunction cast(map) {\r\n    return map;\r\n}\r\n/**\r\n * Same as `addSegment`, but will only add the segment if it generates useful information in the\r\n * resulting map. This only works correctly if segments are added **in order**, meaning you should\r\n * not add a segment with a lower generated line/column than one that came before.\r\n */\r\nconst maybeAddSegment = (map, genLine, genColumn, source, sourceLine, sourceColumn, name, content) => {\r\n    return addSegmentInternal(true, map, genLine, genColumn, source, sourceLine, sourceColumn, name);\r\n};\r\n/**\r\n * Adds/removes the content of the source file to the source map.\r\n */\r\nfunction setSourceContent(map, source, content) {\r\n    const { _sources: sources, _sourcesContent: sourcesContent } = cast(map);\r\n    const index = put(sources, source);\r\n    sourcesContent[index] = content;\r\n}\r\nfunction setIgnore(map, source, ignore = true) {\r\n    const { _sources: sources, _sourcesContent: sourcesContent, _ignoreList: ignoreList } = cast(map);\r\n    const index = put(sources, source);\r\n    if (index === sourcesContent.length)\r\n        sourcesContent[index] = null;\r\n    if (ignore)\r\n        put(ignoreList, index);\r\n    else\r\n        remove(ignoreList, index);\r\n}\r\n/**\r\n * Returns a sourcemap object (with decoded mappings) suitable for passing to a library that expects\r\n * a sourcemap, or to JSON.stringify.\r\n */\r\nfunction toDecodedMap(map) {\r\n    const { _mappings: mappings, _sources: sources, _sourcesContent: sourcesContent, _names: names, _ignoreList: ignoreList, } = cast(map);\r\n    removeEmptyFinalLines(mappings);\r\n    return {\r\n        version: 3,\r\n        file: map.file || undefined,\r\n        names: names.array,\r\n        sourceRoot: map.sourceRoot || undefined,\r\n        sources: sources.array,\r\n        sourcesContent,\r\n        mappings,\r\n        ignoreList: ignoreList.array,\r\n    };\r\n}\r\n/**\r\n * Returns a sourcemap object (with encoded mappings) suitable for passing to a library that expects\r\n * a sourcemap, or to JSON.stringify.\r\n */\r\nfunction toEncodedMap(map) {\r\n    const decoded = toDecodedMap(map);\r\n    return Object.assign(Object.assign({}, decoded), { mappings: encode$1(decoded.mappings) });\r\n}\r\n// This split declaration is only so that terser can elminiate the static initialization block.\r\nfunction addSegmentInternal(skipable, map, genLine, genColumn, source, sourceLine, sourceColumn, name, content) {\r\n    const { _mappings: mappings, _sources: sources, _sourcesContent: sourcesContent, _names: names, } = cast(map);\r\n    const line = getLine(mappings, genLine);\r\n    const index = getColumnIndex(line, genColumn);\r\n    if (!source) {\r\n        if (skipSourceless(line, index))\r\n            return;\r\n        return insert(line, index, [genColumn]);\r\n    }\r\n    const sourcesIndex = put(sources, source);\r\n    const namesIndex = name ? put(names, name) : NO_NAME;\r\n    if (sourcesIndex === sourcesContent.length)\r\n        sourcesContent[sourcesIndex] = null;\r\n    if (skipSource(line, index, sourcesIndex, sourceLine, sourceColumn, namesIndex)) {\r\n        return;\r\n    }\r\n    return insert(line, index, name\r\n        ? [genColumn, sourcesIndex, sourceLine, sourceColumn, namesIndex]\r\n        : [genColumn, sourcesIndex, sourceLine, sourceColumn]);\r\n}\r\nfunction getLine(mappings, index) {\r\n    for (let i = mappings.length; i <= index; i++) {\r\n        mappings[i] = [];\r\n    }\r\n    return mappings[index];\r\n}\r\nfunction getColumnIndex(line, genColumn) {\r\n    let index = line.length;\r\n    for (let i = index - 1; i >= 0; index = i--) {\r\n        const current = line[i];\r\n        if (genColumn >= current[COLUMN])\r\n            break;\r\n    }\r\n    return index;\r\n}\r\nfunction insert(array, index, value) {\r\n    for (let i = array.length; i > index; i--) {\r\n        array[i] = array[i - 1];\r\n    }\r\n    array[index] = value;\r\n}\r\nfunction removeEmptyFinalLines(mappings) {\r\n    const { length } = mappings;\r\n    let len = length;\r\n    for (let i = len - 1; i >= 0; len = i, i--) {\r\n        if (mappings[i].length > 0)\r\n            break;\r\n    }\r\n    if (len < length)\r\n        mappings.length = len;\r\n}\r\nfunction skipSourceless(line, index) {\r\n    // The start of a line is already sourceless, so adding a sourceless segment to the beginning\r\n    // doesn't generate any useful information.\r\n    if (index === 0)\r\n        return true;\r\n    const prev = line[index - 1];\r\n    // If the previous segment is also sourceless, then adding another sourceless segment doesn't\r\n    // genrate any new information. Else, this segment will end the source/named segment and point to\r\n    // a sourceless position, which is useful.\r\n    return prev.length === 1;\r\n}\r\nfunction skipSource(line, index, sourcesIndex, sourceLine, sourceColumn, namesIndex) {\r\n    // A source/named segment at the start of a line gives position at that genColumn\r\n    if (index === 0)\r\n        return false;\r\n    const prev = line[index - 1];\r\n    // If the previous segment is sourceless, then we're transitioning to a source.\r\n    if (prev.length === 1)\r\n        return false;\r\n    // If the previous segment maps to the exact same source position, then this segment doesn't\r\n    // provide any new position information.\r\n    return (sourcesIndex === prev[SOURCES_INDEX] &&\r\n        sourceLine === prev[SOURCE_LINE] &&\r\n        sourceColumn === prev[SOURCE_COLUMN] &&\r\n        namesIndex === (prev.length === 5 ? prev[NAMES_INDEX] : NO_NAME));\r\n}\r\n\r\nconst SOURCELESS_MAPPING = /* #__PURE__ */ SegmentObject('', -1, -1, '', null, false);\r\nconst EMPTY_SOURCES = [];\r\nfunction SegmentObject(source, line, column, name, content, ignore) {\r\n    return { source, line, column, name, content, ignore };\r\n}\r\nfunction Source(map, sources, source, content, ignore) {\r\n    return {\r\n        map,\r\n        sources,\r\n        source,\r\n        content,\r\n        ignore,\r\n    };\r\n}\r\n/**\r\n * MapSource represents a single sourcemap, with the ability to trace mappings into its child nodes\r\n * (which may themselves be SourceMapTrees).\r\n */\r\nfunction MapSource(map, sources) {\r\n    return Source(map, sources, '', null, false);\r\n}\r\n/**\r\n * A \"leaf\" node in the sourcemap tree, representing an original, unmodified source file. Recursive\r\n * segment tracing ends at the `OriginalSource`.\r\n */\r\nfunction OriginalSource(source, content, ignore) {\r\n    return Source(null, EMPTY_SOURCES, source, content, ignore);\r\n}\r\n/**\r\n * traceMappings is only called on the root level SourceMapTree, and begins the process of\r\n * resolving each mapping in terms of the original source files.\r\n */\r\nfunction traceMappings(tree) {\r\n    // TODO: Eventually support sourceRoot, which has to be removed because the sources are already\r\n    // fully resolved. We'll need to make sources relative to the sourceRoot before adding them.\r\n    const gen = new GenMapping({ file: tree.map.file });\r\n    const { sources: rootSources, map } = tree;\r\n    const rootNames = map.names;\r\n    const rootMappings = decodedMappings(map);\r\n    for (let i = 0; i < rootMappings.length; i++) {\r\n        const segments = rootMappings[i];\r\n        for (let j = 0; j < segments.length; j++) {\r\n            const segment = segments[j];\r\n            const genCol = segment[0];\r\n            let traced = SOURCELESS_MAPPING;\r\n            // 1-length segments only move the current generated column, there's no source information\r\n            // to gather from it.\r\n            if (segment.length !== 1) {\r\n                const source = rootSources[segment[1]];\r\n                traced = originalPositionFor(source, segment[2], segment[3], segment.length === 5 ? rootNames[segment[4]] : '');\r\n                // If the trace is invalid, then the trace ran into a sourcemap that doesn't contain a\r\n                // respective segment into an original source.\r\n                if (traced == null)\r\n                    continue;\r\n            }\r\n            const { column, line, name, content, source, ignore } = traced;\r\n            maybeAddSegment(gen, i, genCol, source, line, column, name);\r\n            if (source && content != null)\r\n                setSourceContent(gen, source, content);\r\n            if (ignore)\r\n                setIgnore(gen, source, true);\r\n        }\r\n    }\r\n    return gen;\r\n}\r\n/**\r\n * originalPositionFor is only called on children SourceMapTrees. It recurses down into its own\r\n * child SourceMapTrees, until we find the original source map.\r\n */\r\nfunction originalPositionFor(source, line, column, name) {\r\n    if (!source.map) {\r\n        return SegmentObject(source.source, line, column, name, source.content, source.ignore);\r\n    }\r\n    const segment = traceSegment(source.map, line, column);\r\n    // If we couldn't find a segment, then this doesn't exist in the sourcemap.\r\n    if (segment == null)\r\n        return null;\r\n    // 1-length segments only move the current generated column, there's no source information\r\n    // to gather from it.\r\n    if (segment.length === 1)\r\n        return SOURCELESS_MAPPING;\r\n    return originalPositionFor(source.sources[segment[1]], segment[2], segment[3], segment.length === 5 ? source.map.names[segment[4]] : name);\r\n}\r\n\r\nfunction asArray(value) {\r\n    if (Array.isArray(value))\r\n        return value;\r\n    return [value];\r\n}\r\n/**\r\n * Recursively builds a tree structure out of sourcemap files, with each node\r\n * being either an `OriginalSource` \"leaf\" or a `SourceMapTree` composed of\r\n * `OriginalSource`s and `SourceMapTree`s.\r\n *\r\n * Every sourcemap is composed of a collection of source files and mappings\r\n * into locations of those source files. When we generate a `SourceMapTree` for\r\n * the sourcemap, we attempt to load each source file's own sourcemap. If it\r\n * does not have an associated sourcemap, it is considered an original,\r\n * unmodified source file.\r\n */\r\nfunction buildSourceMapTree(input, loader) {\r\n    const maps = asArray(input).map((m) => new TraceMap(m, ''));\r\n    const map = maps.pop();\r\n    for (let i = 0; i < maps.length; i++) {\r\n        if (maps[i].sources.length > 1) {\r\n            throw new Error(`Transformation map ${i} must have exactly one source file.\\n` +\r\n                'Did you specify these with the most recent transformation maps first?');\r\n        }\r\n    }\r\n    let tree = build$2(map, loader, '', 0);\r\n    for (let i = maps.length - 1; i >= 0; i--) {\r\n        tree = MapSource(maps[i], [tree]);\r\n    }\r\n    return tree;\r\n}\r\nfunction build$2(map, loader, importer, importerDepth) {\r\n    const { resolvedSources, sourcesContent, ignoreList } = map;\r\n    const depth = importerDepth + 1;\r\n    const children = resolvedSources.map((sourceFile, i) => {\r\n        // The loading context gives the loader more information about why this file is being loaded\r\n        // (eg, from which importer). It also allows the loader to override the location of the loaded\r\n        // sourcemap/original source, or to override the content in the sourcesContent field if it's\r\n        // an unmodified source file.\r\n        const ctx = {\r\n            importer,\r\n            depth,\r\n            source: sourceFile || '',\r\n            content: undefined,\r\n            ignore: undefined,\r\n        };\r\n        // Use the provided loader callback to retrieve the file's sourcemap.\r\n        // TODO: We should eventually support async loading of sourcemap files.\r\n        const sourceMap = loader(ctx.source, ctx);\r\n        const { source, content, ignore } = ctx;\r\n        // If there is a sourcemap, then we need to recurse into it to load its source files.\r\n        if (sourceMap)\r\n            return build$2(new TraceMap(sourceMap, source), loader, source, depth);\r\n        // Else, it's an unmodified source file.\r\n        // The contents of this unmodified source file can be overridden via the loader context,\r\n        // allowing it to be explicitly null or a string. If it remains undefined, we fall back to\r\n        // the importing sourcemap's `sourcesContent` field.\r\n        const sourceContent = content !== undefined ? content : sourcesContent ? sourcesContent[i] : null;\r\n        const ignored = ignore !== undefined ? ignore : ignoreList ? ignoreList.includes(i) : false;\r\n        return OriginalSource(source, sourceContent, ignored);\r\n    });\r\n    return MapSource(map, children);\r\n}\r\n\r\n/**\r\n * A SourceMap v3 compatible sourcemap, which only includes fields that were\r\n * provided to it.\r\n */\r\nclass SourceMap {\r\n    constructor(map, options) {\r\n        const out = options.decodedMappings ? toDecodedMap(map) : toEncodedMap(map);\r\n        this.version = out.version; // SourceMap spec says this should be first.\r\n        this.file = out.file;\r\n        this.mappings = out.mappings;\r\n        this.names = out.names;\r\n        this.ignoreList = out.ignoreList;\r\n        this.sourceRoot = out.sourceRoot;\r\n        this.sources = out.sources;\r\n        if (!options.excludeContent) {\r\n            this.sourcesContent = out.sourcesContent;\r\n        }\r\n    }\r\n    toString() {\r\n        return JSON.stringify(this);\r\n    }\r\n}\r\n\r\n/**\r\n * Traces through all the mappings in the root sourcemap, through the sources\r\n * (and their sourcemaps), all the way back to the original source location.\r\n *\r\n * `loader` will be called every time we encounter a source file. If it returns\r\n * a sourcemap, we will recurse into that sourcemap to continue the trace. If\r\n * it returns a falsey value, that source file is treated as an original,\r\n * unmodified source file.\r\n *\r\n * Pass `excludeContent` to exclude any self-containing source file content\r\n * from the output sourcemap.\r\n *\r\n * Pass `decodedMappings` to receive a SourceMap with decoded (instead of\r\n * VLQ encoded) mappings.\r\n */\r\nfunction remapping(input, loader, options) {\r\n    const opts = { excludeContent: !!options, decodedMappings: false };\r\n    const tree = buildSourceMapTree(input, loader);\r\n    return new SourceMap(traceMappings(tree), opts);\r\n}\r\n\r\nvar src$3 = {exports: {}};\r\n\r\nvar browser$3 = {exports: {}};\r\n\r\n/**\r\n * Helpers.\r\n */\r\n\r\nvar ms$1;\r\nvar hasRequiredMs$1;\r\n\r\nfunction requireMs$1 () {\r\n\tif (hasRequiredMs$1) return ms$1;\r\n\thasRequiredMs$1 = 1;\r\n\tvar s = 1000;\r\n\tvar m = s * 60;\r\n\tvar h = m * 60;\r\n\tvar d = h * 24;\r\n\tvar w = d * 7;\r\n\tvar y = d * 365.25;\r\n\r\n\t/**\r\n\t * Parse or format the given `val`.\r\n\t *\r\n\t * Options:\r\n\t *\r\n\t *  - `long` verbose formatting [false]\r\n\t *\r\n\t * @param {String|Number} val\r\n\t * @param {Object} [options]\r\n\t * @throws {Error} throw an error if val is not a non-empty string or a number\r\n\t * @return {String|Number}\r\n\t * @api public\r\n\t */\r\n\r\n\tms$1 = function(val, options) {\r\n\t  options = options || {};\r\n\t  var type = typeof val;\r\n\t  if (type === 'string' && val.length > 0) {\r\n\t    return parse(val);\r\n\t  } else if (type === 'number' && isFinite(val)) {\r\n\t    return options.long ? fmtLong(val) : fmtShort(val);\r\n\t  }\r\n\t  throw new Error(\r\n\t    'val is not a non-empty string or a valid number. val=' +\r\n\t      JSON.stringify(val)\r\n\t  );\r\n\t};\r\n\r\n\t/**\r\n\t * Parse the given `str` and return milliseconds.\r\n\t *\r\n\t * @param {String} str\r\n\t * @return {Number}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction parse(str) {\r\n\t  str = String(str);\r\n\t  if (str.length > 100) {\r\n\t    return;\r\n\t  }\r\n\t  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\r\n\t    str\r\n\t  );\r\n\t  if (!match) {\r\n\t    return;\r\n\t  }\r\n\t  var n = parseFloat(match[1]);\r\n\t  var type = (match[2] || 'ms').toLowerCase();\r\n\t  switch (type) {\r\n\t    case 'years':\r\n\t    case 'year':\r\n\t    case 'yrs':\r\n\t    case 'yr':\r\n\t    case 'y':\r\n\t      return n * y;\r\n\t    case 'weeks':\r\n\t    case 'week':\r\n\t    case 'w':\r\n\t      return n * w;\r\n\t    case 'days':\r\n\t    case 'day':\r\n\t    case 'd':\r\n\t      return n * d;\r\n\t    case 'hours':\r\n\t    case 'hour':\r\n\t    case 'hrs':\r\n\t    case 'hr':\r\n\t    case 'h':\r\n\t      return n * h;\r\n\t    case 'minutes':\r\n\t    case 'minute':\r\n\t    case 'mins':\r\n\t    case 'min':\r\n\t    case 'm':\r\n\t      return n * m;\r\n\t    case 'seconds':\r\n\t    case 'second':\r\n\t    case 'secs':\r\n\t    case 'sec':\r\n\t    case 's':\r\n\t      return n * s;\r\n\t    case 'milliseconds':\r\n\t    case 'millisecond':\r\n\t    case 'msecs':\r\n\t    case 'msec':\r\n\t    case 'ms':\r\n\t      return n;\r\n\t    default:\r\n\t      return undefined;\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Short format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction fmtShort(ms) {\r\n\t  var msAbs = Math.abs(ms);\r\n\t  if (msAbs >= d) {\r\n\t    return Math.round(ms / d) + 'd';\r\n\t  }\r\n\t  if (msAbs >= h) {\r\n\t    return Math.round(ms / h) + 'h';\r\n\t  }\r\n\t  if (msAbs >= m) {\r\n\t    return Math.round(ms / m) + 'm';\r\n\t  }\r\n\t  if (msAbs >= s) {\r\n\t    return Math.round(ms / s) + 's';\r\n\t  }\r\n\t  return ms + 'ms';\r\n\t}\r\n\r\n\t/**\r\n\t * Long format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction fmtLong(ms) {\r\n\t  var msAbs = Math.abs(ms);\r\n\t  if (msAbs >= d) {\r\n\t    return plural(ms, msAbs, d, 'day');\r\n\t  }\r\n\t  if (msAbs >= h) {\r\n\t    return plural(ms, msAbs, h, 'hour');\r\n\t  }\r\n\t  if (msAbs >= m) {\r\n\t    return plural(ms, msAbs, m, 'minute');\r\n\t  }\r\n\t  if (msAbs >= s) {\r\n\t    return plural(ms, msAbs, s, 'second');\r\n\t  }\r\n\t  return ms + ' ms';\r\n\t}\r\n\r\n\t/**\r\n\t * Pluralization helper.\r\n\t */\r\n\r\n\tfunction plural(ms, msAbs, n, name) {\r\n\t  var isPlural = msAbs >= n * 1.5;\r\n\t  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\r\n\t}\r\n\treturn ms$1;\r\n}\r\n\r\nvar common$b;\r\nvar hasRequiredCommon;\r\n\r\nfunction requireCommon () {\r\n\tif (hasRequiredCommon) return common$b;\r\n\thasRequiredCommon = 1;\r\n\t/**\r\n\t * This is the common logic for both the Node.js and web browser\r\n\t * implementations of `debug()`.\r\n\t */\r\n\r\n\tfunction setup(env) {\r\n\t\tcreateDebug.debug = createDebug;\r\n\t\tcreateDebug.default = createDebug;\r\n\t\tcreateDebug.coerce = coerce;\r\n\t\tcreateDebug.disable = disable;\r\n\t\tcreateDebug.enable = enable;\r\n\t\tcreateDebug.enabled = enabled;\r\n\t\tcreateDebug.humanize = requireMs$1();\r\n\t\tcreateDebug.destroy = destroy;\r\n\r\n\t\tObject.keys(env).forEach(key => {\r\n\t\t\tcreateDebug[key] = env[key];\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t* The currently active debug mode names, and names to skip.\r\n\t\t*/\r\n\r\n\t\tcreateDebug.names = [];\r\n\t\tcreateDebug.skips = [];\r\n\r\n\t\t/**\r\n\t\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\r\n\t\t*\r\n\t\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\r\n\t\t*/\r\n\t\tcreateDebug.formatters = {};\r\n\r\n\t\t/**\r\n\t\t* Selects a color for a debug namespace\r\n\t\t* @param {String} namespace The namespace string for the debug instance to be colored\r\n\t\t* @return {Number|String} An ANSI color code for the given namespace\r\n\t\t* @api private\r\n\t\t*/\r\n\t\tfunction selectColor(namespace) {\r\n\t\t\tlet hash = 0;\r\n\r\n\t\t\tfor (let i = 0; i < namespace.length; i++) {\r\n\t\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\r\n\t\t\t\thash |= 0; // Convert to 32bit integer\r\n\t\t\t}\r\n\r\n\t\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\r\n\t\t}\r\n\t\tcreateDebug.selectColor = selectColor;\r\n\r\n\t\t/**\r\n\t\t* Create a debugger with the given `namespace`.\r\n\t\t*\r\n\t\t* @param {String} namespace\r\n\t\t* @return {Function}\r\n\t\t* @api public\r\n\t\t*/\r\n\t\tfunction createDebug(namespace) {\r\n\t\t\tlet prevTime;\r\n\t\t\tlet enableOverride = null;\r\n\t\t\tlet namespacesCache;\r\n\t\t\tlet enabledCache;\r\n\r\n\t\t\tfunction debug(...args) {\r\n\t\t\t\t// Disabled?\r\n\t\t\t\tif (!debug.enabled) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst self = debug;\r\n\r\n\t\t\t\t// Set `diff` timestamp\r\n\t\t\t\tconst curr = Number(new Date());\r\n\t\t\t\tconst ms = curr - (prevTime || curr);\r\n\t\t\t\tself.diff = ms;\r\n\t\t\t\tself.prev = prevTime;\r\n\t\t\t\tself.curr = curr;\r\n\t\t\t\tprevTime = curr;\r\n\r\n\t\t\t\targs[0] = createDebug.coerce(args[0]);\r\n\r\n\t\t\t\tif (typeof args[0] !== 'string') {\r\n\t\t\t\t\t// Anything else let's inspect with %O\r\n\t\t\t\t\targs.unshift('%O');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Apply any `formatters` transformations\r\n\t\t\t\tlet index = 0;\r\n\t\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\r\n\t\t\t\t\t// If we encounter an escaped % then don't increase the array index\r\n\t\t\t\t\tif (match === '%%') {\r\n\t\t\t\t\t\treturn '%';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t\tconst formatter = createDebug.formatters[format];\r\n\t\t\t\t\tif (typeof formatter === 'function') {\r\n\t\t\t\t\t\tconst val = args[index];\r\n\t\t\t\t\t\tmatch = formatter.call(self, val);\r\n\r\n\t\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\r\n\t\t\t\t\t\targs.splice(index, 1);\r\n\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn match;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Apply env-specific formatting (colors, etc.)\r\n\t\t\t\tcreateDebug.formatArgs.call(self, args);\r\n\r\n\t\t\t\tconst logFn = self.log || createDebug.log;\r\n\t\t\t\tlogFn.apply(self, args);\r\n\t\t\t}\r\n\r\n\t\t\tdebug.namespace = namespace;\r\n\t\t\tdebug.useColors = createDebug.useColors();\r\n\t\t\tdebug.color = createDebug.selectColor(namespace);\r\n\t\t\tdebug.extend = extend;\r\n\t\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\r\n\r\n\t\t\tObject.defineProperty(debug, 'enabled', {\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\tconfigurable: false,\r\n\t\t\t\tget: () => {\r\n\t\t\t\t\tif (enableOverride !== null) {\r\n\t\t\t\t\t\treturn enableOverride;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\r\n\t\t\t\t\t\tnamespacesCache = createDebug.namespaces;\r\n\t\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn enabledCache;\r\n\t\t\t\t},\r\n\t\t\t\tset: v => {\r\n\t\t\t\t\tenableOverride = v;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Env-specific initialization logic for debug instances\r\n\t\t\tif (typeof createDebug.init === 'function') {\r\n\t\t\t\tcreateDebug.init(debug);\r\n\t\t\t}\r\n\r\n\t\t\treturn debug;\r\n\t\t}\r\n\r\n\t\tfunction extend(namespace, delimiter) {\r\n\t\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\r\n\t\t\tnewDebug.log = this.log;\r\n\t\t\treturn newDebug;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* Enables a debug mode by namespaces. This can include modes\r\n\t\t* separated by a colon and wildcards.\r\n\t\t*\r\n\t\t* @param {String} namespaces\r\n\t\t* @api public\r\n\t\t*/\r\n\t\tfunction enable(namespaces) {\r\n\t\t\tcreateDebug.save(namespaces);\r\n\t\t\tcreateDebug.namespaces = namespaces;\r\n\r\n\t\t\tcreateDebug.names = [];\r\n\t\t\tcreateDebug.skips = [];\r\n\r\n\t\t\tlet i;\r\n\t\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\r\n\t\t\tconst len = split.length;\r\n\r\n\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\tif (!split[i]) {\r\n\t\t\t\t\t// ignore empty strings\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\r\n\r\n\t\t\t\tif (namespaces[0] === '-') {\r\n\t\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* Disable debug output.\r\n\t\t*\r\n\t\t* @return {String} namespaces\r\n\t\t* @api public\r\n\t\t*/\r\n\t\tfunction disable() {\r\n\t\t\tconst namespaces = [\r\n\t\t\t\t...createDebug.names.map(toNamespace),\r\n\t\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\r\n\t\t\t].join(',');\r\n\t\t\tcreateDebug.enable('');\r\n\t\t\treturn namespaces;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* Returns true if the given mode name is enabled, false otherwise.\r\n\t\t*\r\n\t\t* @param {String} name\r\n\t\t* @return {Boolean}\r\n\t\t* @api public\r\n\t\t*/\r\n\t\tfunction enabled(name) {\r\n\t\t\tif (name[name.length - 1] === '*') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tlet i;\r\n\t\t\tlet len;\r\n\r\n\t\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\r\n\t\t\t\tif (createDebug.skips[i].test(name)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\r\n\t\t\t\tif (createDebug.names[i].test(name)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* Convert regexp to namespace\r\n\t\t*\r\n\t\t* @param {RegExp} regxep\r\n\t\t* @return {String} namespace\r\n\t\t* @api private\r\n\t\t*/\r\n\t\tfunction toNamespace(regexp) {\r\n\t\t\treturn regexp.toString()\r\n\t\t\t\t.substring(2, regexp.toString().length - 2)\r\n\t\t\t\t.replace(/\\.\\*\\?$/, '*');\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* Coerce `val`.\r\n\t\t*\r\n\t\t* @param {Mixed} val\r\n\t\t* @return {Mixed}\r\n\t\t* @api private\r\n\t\t*/\r\n\t\tfunction coerce(val) {\r\n\t\t\tif (val instanceof Error) {\r\n\t\t\t\treturn val.stack || val.message;\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* XXX DO NOT USE. This is a temporary stub function.\r\n\t\t* XXX It WILL be removed in the next major release.\r\n\t\t*/\r\n\t\tfunction destroy() {\r\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\r\n\t\t}\r\n\r\n\t\tcreateDebug.enable(createDebug.load());\r\n\r\n\t\treturn createDebug;\r\n\t}\r\n\r\n\tcommon$b = setup;\r\n\treturn common$b;\r\n}\r\n\r\n/* eslint-env browser */\r\n\r\nvar hasRequiredBrowser$1;\r\n\r\nfunction requireBrowser$1 () {\r\n\tif (hasRequiredBrowser$1) return browser$3.exports;\r\n\thasRequiredBrowser$1 = 1;\r\n\t(function (module, exports) {\r\n\t\t/**\r\n\t\t * This is the web browser implementation of `debug()`.\r\n\t\t */\r\n\r\n\t\texports.formatArgs = formatArgs;\r\n\t\texports.save = save;\r\n\t\texports.load = load;\r\n\t\texports.useColors = useColors;\r\n\t\texports.storage = localstorage();\r\n\t\texports.destroy = (() => {\r\n\t\t\tlet warned = false;\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tif (!warned) {\r\n\t\t\t\t\twarned = true;\r\n\t\t\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t})();\r\n\r\n\t\t/**\r\n\t\t * Colors.\r\n\t\t */\r\n\r\n\t\texports.colors = [\r\n\t\t\t'#0000CC',\r\n\t\t\t'#0000FF',\r\n\t\t\t'#0033CC',\r\n\t\t\t'#0033FF',\r\n\t\t\t'#0066CC',\r\n\t\t\t'#0066FF',\r\n\t\t\t'#0099CC',\r\n\t\t\t'#0099FF',\r\n\t\t\t'#00CC00',\r\n\t\t\t'#00CC33',\r\n\t\t\t'#00CC66',\r\n\t\t\t'#00CC99',\r\n\t\t\t'#00CCCC',\r\n\t\t\t'#00CCFF',\r\n\t\t\t'#3300CC',\r\n\t\t\t'#3300FF',\r\n\t\t\t'#3333CC',\r\n\t\t\t'#3333FF',\r\n\t\t\t'#3366CC',\r\n\t\t\t'#3366FF',\r\n\t\t\t'#3399CC',\r\n\t\t\t'#3399FF',\r\n\t\t\t'#33CC00',\r\n\t\t\t'#33CC33',\r\n\t\t\t'#33CC66',\r\n\t\t\t'#33CC99',\r\n\t\t\t'#33CCCC',\r\n\t\t\t'#33CCFF',\r\n\t\t\t'#6600CC',\r\n\t\t\t'#6600FF',\r\n\t\t\t'#6633CC',\r\n\t\t\t'#6633FF',\r\n\t\t\t'#66CC00',\r\n\t\t\t'#66CC33',\r\n\t\t\t'#9900CC',\r\n\t\t\t'#9900FF',\r\n\t\t\t'#9933CC',\r\n\t\t\t'#9933FF',\r\n\t\t\t'#99CC00',\r\n\t\t\t'#99CC33',\r\n\t\t\t'#CC0000',\r\n\t\t\t'#CC0033',\r\n\t\t\t'#CC0066',\r\n\t\t\t'#CC0099',\r\n\t\t\t'#CC00CC',\r\n\t\t\t'#CC00FF',\r\n\t\t\t'#CC3300',\r\n\t\t\t'#CC3333',\r\n\t\t\t'#CC3366',\r\n\t\t\t'#CC3399',\r\n\t\t\t'#CC33CC',\r\n\t\t\t'#CC33FF',\r\n\t\t\t'#CC6600',\r\n\t\t\t'#CC6633',\r\n\t\t\t'#CC9900',\r\n\t\t\t'#CC9933',\r\n\t\t\t'#CCCC00',\r\n\t\t\t'#CCCC33',\r\n\t\t\t'#FF0000',\r\n\t\t\t'#FF0033',\r\n\t\t\t'#FF0066',\r\n\t\t\t'#FF0099',\r\n\t\t\t'#FF00CC',\r\n\t\t\t'#FF00FF',\r\n\t\t\t'#FF3300',\r\n\t\t\t'#FF3333',\r\n\t\t\t'#FF3366',\r\n\t\t\t'#FF3399',\r\n\t\t\t'#FF33CC',\r\n\t\t\t'#FF33FF',\r\n\t\t\t'#FF6600',\r\n\t\t\t'#FF6633',\r\n\t\t\t'#FF9900',\r\n\t\t\t'#FF9933',\r\n\t\t\t'#FFCC00',\r\n\t\t\t'#FFCC33'\r\n\t\t];\r\n\r\n\t\t/**\r\n\t\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\r\n\t\t * and the Firebug extension (any Firefox version) are known\r\n\t\t * to support \"%c\" CSS customizations.\r\n\t\t *\r\n\t\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\r\n\t\t */\r\n\r\n\t\t// eslint-disable-next-line complexity\r\n\t\tfunction useColors() {\r\n\t\t\t// NB: In an Electron preload script, document will be defined but not fully\r\n\t\t\t// initialized. Since we know we're in Chrome, we'll just detect this case\r\n\t\t\t// explicitly\r\n\t\t\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// Internet Explorer and Edge do not support colors.\r\n\t\t\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tlet m;\r\n\r\n\t\t\t// Is webkit? http://stackoverflow.com/a/16459606/376773\r\n\t\t\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\r\n\t\t\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\r\n\t\t\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\r\n\t\t\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\r\n\t\t\t\t// Is firefox >= v31?\r\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\r\n\t\t\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\r\n\t\t\t\t// Double check webkit in userAgent just in case we are in a worker\r\n\t\t\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Colorize log arguments if enabled.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction formatArgs(args) {\r\n\t\t\targs[0] = (this.useColors ? '%c' : '') +\r\n\t\t\t\tthis.namespace +\r\n\t\t\t\t(this.useColors ? ' %c' : ' ') +\r\n\t\t\t\targs[0] +\r\n\t\t\t\t(this.useColors ? '%c ' : ' ') +\r\n\t\t\t\t'+' + module.exports.humanize(this.diff);\r\n\r\n\t\t\tif (!this.useColors) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst c = 'color: ' + this.color;\r\n\t\t\targs.splice(1, 0, c, 'color: inherit');\r\n\r\n\t\t\t// The final \"%c\" is somewhat tricky, because there could be other\r\n\t\t\t// arguments passed either before or after the %c, so we need to\r\n\t\t\t// figure out the correct index to insert the CSS into\r\n\t\t\tlet index = 0;\r\n\t\t\tlet lastC = 0;\r\n\t\t\targs[0].replace(/%[a-zA-Z%]/g, match => {\r\n\t\t\t\tif (match === '%%') {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tindex++;\r\n\t\t\t\tif (match === '%c') {\r\n\t\t\t\t\t// We only are interested in the *last* %c\r\n\t\t\t\t\t// (the user may have provided their own)\r\n\t\t\t\t\tlastC = index;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\targs.splice(lastC, 0, c);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Invokes `console.debug()` when available.\r\n\t\t * No-op when `console.debug` is not a \"function\".\r\n\t\t * If `console.debug` is not available, falls back\r\n\t\t * to `console.log`.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\t\texports.log = console.debug || console.log || (() => {});\r\n\r\n\t\t/**\r\n\t\t * Save `namespaces`.\r\n\t\t *\r\n\t\t * @param {String} namespaces\r\n\t\t * @api private\r\n\t\t */\r\n\t\tfunction save(namespaces) {\r\n\t\t\ttry {\r\n\t\t\t\tif (namespaces) {\r\n\t\t\t\t\texports.storage.setItem('debug', namespaces);\r\n\t\t\t\t} else {\r\n\t\t\t\t\texports.storage.removeItem('debug');\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\t// Swallow\r\n\t\t\t\t// XXX (@Qix-) should we be logging these?\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Load `namespaces`.\r\n\t\t *\r\n\t\t * @return {String} returns the previously persisted debug modes\r\n\t\t * @api private\r\n\t\t */\r\n\t\tfunction load() {\r\n\t\t\tlet r;\r\n\t\t\ttry {\r\n\t\t\t\tr = exports.storage.getItem('debug');\r\n\t\t\t} catch (error) {\r\n\t\t\t\t// Swallow\r\n\t\t\t\t// XXX (@Qix-) should we be logging these?\r\n\t\t\t}\r\n\r\n\t\t\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\r\n\t\t\tif (!r && typeof process !== 'undefined' && 'env' in process) {\r\n\t\t\t\tr = process.env.DEBUG;\r\n\t\t\t}\r\n\r\n\t\t\treturn r;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Localstorage attempts to return the localstorage.\r\n\t\t *\r\n\t\t * This is necessary because safari throws\r\n\t\t * when a user disables cookies/localstorage\r\n\t\t * and you attempt to access it.\r\n\t\t *\r\n\t\t * @return {LocalStorage}\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction localstorage() {\r\n\t\t\ttry {\r\n\t\t\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\r\n\t\t\t\t// The Browser also has localStorage in the global context.\r\n\t\t\t\treturn localStorage;\r\n\t\t\t} catch (error) {\r\n\t\t\t\t// Swallow\r\n\t\t\t\t// XXX (@Qix-) should we be logging these?\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodule.exports = requireCommon()(exports);\r\n\r\n\t\tconst {formatters} = module.exports;\r\n\r\n\t\t/**\r\n\t\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\r\n\t\t */\r\n\r\n\t\tformatters.j = function (v) {\r\n\t\t\ttry {\r\n\t\t\t\treturn JSON.stringify(v);\r\n\t\t\t} catch (error) {\r\n\t\t\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\r\n\t\t\t}\r\n\t\t}; \r\n\t} (browser$3, browser$3.exports));\r\n\treturn browser$3.exports;\r\n}\r\n\r\nvar node$1 = {exports: {}};\r\n\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar hasRequiredNode$1;\r\n\r\nfunction requireNode$1 () {\r\n\tif (hasRequiredNode$1) return node$1.exports;\r\n\thasRequiredNode$1 = 1;\r\n\t(function (module, exports) {\r\n\t\tconst tty = require$$0$3;\r\n\t\tconst util = require$$0$5;\r\n\r\n\t\t/**\r\n\t\t * This is the Node.js implementation of `debug()`.\r\n\t\t */\r\n\r\n\t\texports.init = init;\r\n\t\texports.log = log;\r\n\t\texports.formatArgs = formatArgs;\r\n\t\texports.save = save;\r\n\t\texports.load = load;\r\n\t\texports.useColors = useColors;\r\n\t\texports.destroy = util.deprecate(\r\n\t\t\t() => {},\r\n\t\t\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\r\n\t\t);\r\n\r\n\t\t/**\r\n\t\t * Colors.\r\n\t\t */\r\n\r\n\t\texports.colors = [6, 2, 3, 4, 5, 1];\r\n\r\n\t\ttry {\r\n\t\t\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\r\n\t\t\t// eslint-disable-next-line import/no-extraneous-dependencies\r\n\t\t\tconst supportsColor = require('supports-color');\r\n\r\n\t\t\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\r\n\t\t\t\texports.colors = [\r\n\t\t\t\t\t20,\r\n\t\t\t\t\t21,\r\n\t\t\t\t\t26,\r\n\t\t\t\t\t27,\r\n\t\t\t\t\t32,\r\n\t\t\t\t\t33,\r\n\t\t\t\t\t38,\r\n\t\t\t\t\t39,\r\n\t\t\t\t\t40,\r\n\t\t\t\t\t41,\r\n\t\t\t\t\t42,\r\n\t\t\t\t\t43,\r\n\t\t\t\t\t44,\r\n\t\t\t\t\t45,\r\n\t\t\t\t\t56,\r\n\t\t\t\t\t57,\r\n\t\t\t\t\t62,\r\n\t\t\t\t\t63,\r\n\t\t\t\t\t68,\r\n\t\t\t\t\t69,\r\n\t\t\t\t\t74,\r\n\t\t\t\t\t75,\r\n\t\t\t\t\t76,\r\n\t\t\t\t\t77,\r\n\t\t\t\t\t78,\r\n\t\t\t\t\t79,\r\n\t\t\t\t\t80,\r\n\t\t\t\t\t81,\r\n\t\t\t\t\t92,\r\n\t\t\t\t\t93,\r\n\t\t\t\t\t98,\r\n\t\t\t\t\t99,\r\n\t\t\t\t\t112,\r\n\t\t\t\t\t113,\r\n\t\t\t\t\t128,\r\n\t\t\t\t\t129,\r\n\t\t\t\t\t134,\r\n\t\t\t\t\t135,\r\n\t\t\t\t\t148,\r\n\t\t\t\t\t149,\r\n\t\t\t\t\t160,\r\n\t\t\t\t\t161,\r\n\t\t\t\t\t162,\r\n\t\t\t\t\t163,\r\n\t\t\t\t\t164,\r\n\t\t\t\t\t165,\r\n\t\t\t\t\t166,\r\n\t\t\t\t\t167,\r\n\t\t\t\t\t168,\r\n\t\t\t\t\t169,\r\n\t\t\t\t\t170,\r\n\t\t\t\t\t171,\r\n\t\t\t\t\t172,\r\n\t\t\t\t\t173,\r\n\t\t\t\t\t178,\r\n\t\t\t\t\t179,\r\n\t\t\t\t\t184,\r\n\t\t\t\t\t185,\r\n\t\t\t\t\t196,\r\n\t\t\t\t\t197,\r\n\t\t\t\t\t198,\r\n\t\t\t\t\t199,\r\n\t\t\t\t\t200,\r\n\t\t\t\t\t201,\r\n\t\t\t\t\t202,\r\n\t\t\t\t\t203,\r\n\t\t\t\t\t204,\r\n\t\t\t\t\t205,\r\n\t\t\t\t\t206,\r\n\t\t\t\t\t207,\r\n\t\t\t\t\t208,\r\n\t\t\t\t\t209,\r\n\t\t\t\t\t214,\r\n\t\t\t\t\t215,\r\n\t\t\t\t\t220,\r\n\t\t\t\t\t221\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Build up the default `inspectOpts` object from the environment variables.\r\n\t\t *\r\n\t\t *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\r\n\t\t */\r\n\r\n\t\texports.inspectOpts = Object.keys(process.env).filter(key => {\r\n\t\t\treturn /^debug_/i.test(key);\r\n\t\t}).reduce((obj, key) => {\r\n\t\t\t// Camel-case\r\n\t\t\tconst prop = key\r\n\t\t\t\t.substring(6)\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.replace(/_([a-z])/g, (_, k) => {\r\n\t\t\t\t\treturn k.toUpperCase();\r\n\t\t\t\t});\r\n\r\n\t\t\t// Coerce string value into JS value\r\n\t\t\tlet val = process.env[key];\r\n\t\t\tif (/^(yes|on|true|enabled)$/i.test(val)) {\r\n\t\t\t\tval = true;\r\n\t\t\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\r\n\t\t\t\tval = false;\r\n\t\t\t} else if (val === 'null') {\r\n\t\t\t\tval = null;\r\n\t\t\t} else {\r\n\t\t\t\tval = Number(val);\r\n\t\t\t}\r\n\r\n\t\t\tobj[prop] = val;\r\n\t\t\treturn obj;\r\n\t\t}, {});\r\n\r\n\t\t/**\r\n\t\t * Is stdout a TTY? Colored output is enabled when `true`.\r\n\t\t */\r\n\r\n\t\tfunction useColors() {\r\n\t\t\treturn 'colors' in exports.inspectOpts ?\r\n\t\t\t\tBoolean(exports.inspectOpts.colors) :\r\n\t\t\t\ttty.isatty(process.stderr.fd);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Adds ANSI color escape codes if enabled.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction formatArgs(args) {\r\n\t\t\tconst {namespace: name, useColors} = this;\r\n\r\n\t\t\tif (useColors) {\r\n\t\t\t\tconst c = this.color;\r\n\t\t\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\r\n\t\t\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\r\n\r\n\t\t\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\r\n\t\t\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\r\n\t\t\t} else {\r\n\t\t\t\targs[0] = getDate() + name + ' ' + args[0];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction getDate() {\r\n\t\t\tif (exports.inspectOpts.hideDate) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\treturn new Date().toISOString() + ' ';\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\r\n\t\t */\r\n\r\n\t\tfunction log(...args) {\r\n\t\t\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Save `namespaces`.\r\n\t\t *\r\n\t\t * @param {String} namespaces\r\n\t\t * @api private\r\n\t\t */\r\n\t\tfunction save(namespaces) {\r\n\t\t\tif (namespaces) {\r\n\t\t\t\tprocess.env.DEBUG = namespaces;\r\n\t\t\t} else {\r\n\t\t\t\t// If you set a process.env field to null or undefined, it gets cast to the\r\n\t\t\t\t// string 'null' or 'undefined'. Just delete instead.\r\n\t\t\t\tdelete process.env.DEBUG;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Load `namespaces`.\r\n\t\t *\r\n\t\t * @return {String} returns the previously persisted debug modes\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction load() {\r\n\t\t\treturn process.env.DEBUG;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Init logic for `debug` instances.\r\n\t\t *\r\n\t\t * Create a new `inspectOpts` object in case `useColors` is set\r\n\t\t * differently for a particular `debug` instance.\r\n\t\t */\r\n\r\n\t\tfunction init(debug) {\r\n\t\t\tdebug.inspectOpts = {};\r\n\r\n\t\t\tconst keys = Object.keys(exports.inspectOpts);\r\n\t\t\tfor (let i = 0; i < keys.length; i++) {\r\n\t\t\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodule.exports = requireCommon()(exports);\r\n\r\n\t\tconst {formatters} = module.exports;\r\n\r\n\t\t/**\r\n\t\t * Map %o to `util.inspect()`, all on a single line.\r\n\t\t */\r\n\r\n\t\tformatters.o = function (v) {\r\n\t\t\tthis.inspectOpts.colors = this.useColors;\r\n\t\t\treturn util.inspect(v, this.inspectOpts)\r\n\t\t\t\t.split('\\n')\r\n\t\t\t\t.map(str => str.trim())\r\n\t\t\t\t.join(' ');\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Map %O to `util.inspect()`, allowing multiple lines if needed.\r\n\t\t */\r\n\r\n\t\tformatters.O = function (v) {\r\n\t\t\tthis.inspectOpts.colors = this.useColors;\r\n\t\t\treturn util.inspect(v, this.inspectOpts);\r\n\t\t}; \r\n\t} (node$1, node$1.exports));\r\n\treturn node$1.exports;\r\n}\r\n\r\n/**\r\n * Detect Electron renderer / nwjs process, which is node, but we should\r\n * treat as a browser.\r\n */\r\n\r\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\r\n\tsrc$3.exports = requireBrowser$1();\r\n} else {\r\n\tsrc$3.exports = requireNode$1();\r\n}\r\n\r\nvar srcExports$1 = src$3.exports;\r\nvar debug$i = /*@__PURE__*/getDefaultExportFromCjs(srcExports$1);\r\n\r\nlet pnp;\r\nif (process.versions.pnp) {\r\n  try {\r\n    pnp = createRequire$1(import.meta.url)(\"pnpapi\");\r\n  } catch {\r\n  }\r\n}\r\nfunction invalidatePackageData(packageCache, pkgPath) {\r\n  const pkgDir = normalizePath$3(path$n.dirname(pkgPath));\r\n  packageCache.forEach((pkg, cacheKey) => {\r\n    if (pkg.dir === pkgDir) {\r\n      packageCache.delete(cacheKey);\r\n    }\r\n  });\r\n}\r\nfunction resolvePackageData(pkgName, basedir, preserveSymlinks = false, packageCache) {\r\n  if (pnp) {\r\n    const cacheKey = getRpdCacheKey(pkgName, basedir, preserveSymlinks);\r\n    if (packageCache?.has(cacheKey)) return packageCache.get(cacheKey);\r\n    try {\r\n      const pkg = pnp.resolveToUnqualified(pkgName, basedir, {\r\n        considerBuiltins: false\r\n      });\r\n      if (!pkg) return null;\r\n      const pkgData = loadPackageData(path$n.join(pkg, \"package.json\"));\r\n      packageCache?.set(cacheKey, pkgData);\r\n      return pkgData;\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n  const originalBasedir = basedir;\r\n  while (basedir) {\r\n    if (packageCache) {\r\n      const cached = getRpdCache(\r\n        packageCache,\r\n        pkgName,\r\n        basedir,\r\n        originalBasedir,\r\n        preserveSymlinks\r\n      );\r\n      if (cached) return cached;\r\n    }\r\n    const pkg = path$n.join(basedir, \"node_modules\", pkgName, \"package.json\");\r\n    try {\r\n      if (fs__default.existsSync(pkg)) {\r\n        const pkgPath = preserveSymlinks ? pkg : safeRealpathSync(pkg);\r\n        const pkgData = loadPackageData(pkgPath);\r\n        if (packageCache) {\r\n          setRpdCache(\r\n            packageCache,\r\n            pkgData,\r\n            pkgName,\r\n            basedir,\r\n            originalBasedir,\r\n            preserveSymlinks\r\n          );\r\n        }\r\n        return pkgData;\r\n      }\r\n    } catch {\r\n    }\r\n    const nextBasedir = path$n.dirname(basedir);\r\n    if (nextBasedir === basedir) break;\r\n    basedir = nextBasedir;\r\n  }\r\n  return null;\r\n}\r\nfunction findNearestPackageData(basedir, packageCache) {\r\n  const originalBasedir = basedir;\r\n  while (basedir) {\r\n    if (packageCache) {\r\n      const cached = getFnpdCache(packageCache, basedir, originalBasedir);\r\n      if (cached) return cached;\r\n    }\r\n    const pkgPath = path$n.join(basedir, \"package.json\");\r\n    if (tryStatSync(pkgPath)?.isFile()) {\r\n      try {\r\n        const pkgData = loadPackageData(pkgPath);\r\n        if (packageCache) {\r\n          setFnpdCache(packageCache, pkgData, basedir, originalBasedir);\r\n        }\r\n        return pkgData;\r\n      } catch {\r\n      }\r\n    }\r\n    const nextBasedir = path$n.dirname(basedir);\r\n    if (nextBasedir === basedir) break;\r\n    basedir = nextBasedir;\r\n  }\r\n  return null;\r\n}\r\nfunction findNearestMainPackageData(basedir, packageCache) {\r\n  const nearestPackage = findNearestPackageData(basedir, packageCache);\r\n  return nearestPackage && (nearestPackage.data.name ? nearestPackage : findNearestMainPackageData(\r\n    path$n.dirname(nearestPackage.dir),\r\n    packageCache\r\n  ));\r\n}\r\nfunction loadPackageData(pkgPath) {\r\n  const data = JSON.parse(fs__default.readFileSync(pkgPath, \"utf-8\"));\r\n  const pkgDir = normalizePath$3(path$n.dirname(pkgPath));\r\n  const { sideEffects } = data;\r\n  let hasSideEffects;\r\n  if (typeof sideEffects === \"boolean\") {\r\n    hasSideEffects = () => sideEffects;\r\n  } else if (Array.isArray(sideEffects)) {\r\n    if (sideEffects.length <= 0) {\r\n      hasSideEffects = () => false;\r\n    } else {\r\n      const finalPackageSideEffects = sideEffects.map((sideEffect) => {\r\n        if (sideEffect.includes(\"/\")) {\r\n          return sideEffect;\r\n        }\r\n        return `**/${sideEffect}`;\r\n      });\r\n      hasSideEffects = createFilter(finalPackageSideEffects, null, {\r\n        resolve: pkgDir\r\n      });\r\n    }\r\n  } else {\r\n    hasSideEffects = () => null;\r\n  }\r\n  const pkg = {\r\n    dir: pkgDir,\r\n    data,\r\n    hasSideEffects,\r\n    webResolvedImports: {},\r\n    nodeResolvedImports: {},\r\n    setResolvedCache(key, entry, targetWeb) {\r\n      if (targetWeb) {\r\n        pkg.webResolvedImports[key] = entry;\r\n      } else {\r\n        pkg.nodeResolvedImports[key] = entry;\r\n      }\r\n    },\r\n    getResolvedCache(key, targetWeb) {\r\n      if (targetWeb) {\r\n        return pkg.webResolvedImports[key];\r\n      } else {\r\n        return pkg.nodeResolvedImports[key];\r\n      }\r\n    }\r\n  };\r\n  return pkg;\r\n}\r\nfunction watchPackageDataPlugin(packageCache) {\r\n  const watchQueue = /* @__PURE__ */ new Set();\r\n  const watchedDirs = /* @__PURE__ */ new Set();\r\n  const watchFileStub = (id) => {\r\n    watchQueue.add(id);\r\n  };\r\n  let watchFile = watchFileStub;\r\n  const setPackageData = packageCache.set.bind(packageCache);\r\n  packageCache.set = (id, pkg) => {\r\n    if (!isInNodeModules$1(pkg.dir) && !watchedDirs.has(pkg.dir)) {\r\n      watchedDirs.add(pkg.dir);\r\n      watchFile(path$n.join(pkg.dir, \"package.json\"));\r\n    }\r\n    return setPackageData(id, pkg);\r\n  };\r\n  return {\r\n    name: \"vite:watch-package-data\",\r\n    buildStart() {\r\n      watchFile = this.addWatchFile.bind(this);\r\n      watchQueue.forEach(watchFile);\r\n      watchQueue.clear();\r\n    },\r\n    buildEnd() {\r\n      watchFile = watchFileStub;\r\n    },\r\n    watchChange(id) {\r\n      if (id.endsWith(\"/package.json\")) {\r\n        invalidatePackageData(packageCache, path$n.normalize(id));\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction getRpdCache(packageCache, pkgName, basedir, originalBasedir, preserveSymlinks) {\r\n  const cacheKey = getRpdCacheKey(pkgName, basedir, preserveSymlinks);\r\n  const pkgData = packageCache.get(cacheKey);\r\n  if (pkgData) {\r\n    traverseBetweenDirs(originalBasedir, basedir, (dir) => {\r\n      packageCache.set(getRpdCacheKey(pkgName, dir, preserveSymlinks), pkgData);\r\n    });\r\n    return pkgData;\r\n  }\r\n}\r\nfunction setRpdCache(packageCache, pkgData, pkgName, basedir, originalBasedir, preserveSymlinks) {\r\n  packageCache.set(getRpdCacheKey(pkgName, basedir, preserveSymlinks), pkgData);\r\n  traverseBetweenDirs(originalBasedir, basedir, (dir) => {\r\n    packageCache.set(getRpdCacheKey(pkgName, dir, preserveSymlinks), pkgData);\r\n  });\r\n}\r\nfunction getRpdCacheKey(pkgName, basedir, preserveSymlinks) {\r\n  return `rpd_${pkgName}_${basedir}_${preserveSymlinks}`;\r\n}\r\nfunction getFnpdCache(packageCache, basedir, originalBasedir) {\r\n  const cacheKey = getFnpdCacheKey(basedir);\r\n  const pkgData = packageCache.get(cacheKey);\r\n  if (pkgData) {\r\n    traverseBetweenDirs(originalBasedir, basedir, (dir) => {\r\n      packageCache.set(getFnpdCacheKey(dir), pkgData);\r\n    });\r\n    return pkgData;\r\n  }\r\n}\r\nfunction setFnpdCache(packageCache, pkgData, basedir, originalBasedir) {\r\n  packageCache.set(getFnpdCacheKey(basedir), pkgData);\r\n  traverseBetweenDirs(originalBasedir, basedir, (dir) => {\r\n    packageCache.set(getFnpdCacheKey(dir), pkgData);\r\n  });\r\n}\r\nfunction getFnpdCacheKey(basedir) {\r\n  return `fnpd_${basedir}`;\r\n}\r\nfunction traverseBetweenDirs(longerDir, shorterDir, cb) {\r\n  while (longerDir !== shorterDir) {\r\n    cb(longerDir);\r\n    longerDir = path$n.dirname(longerDir);\r\n  }\r\n}\r\n\r\nconst createFilter = createFilter$1;\r\nconst replaceSlashOrColonRE = /[/:]/g;\r\nconst replaceDotRE = /\\./g;\r\nconst replaceNestedIdRE = /\\s*>\\s*/g;\r\nconst replaceHashRE = /#/g;\r\nconst flattenId = (id) => {\r\n  const flatId = limitFlattenIdLength(\r\n    id.replace(replaceSlashOrColonRE, \"_\").replace(replaceDotRE, \"__\").replace(replaceNestedIdRE, \"___\").replace(replaceHashRE, \"____\")\r\n  );\r\n  return flatId;\r\n};\r\nconst FLATTEN_ID_HASH_LENGTH = 8;\r\nconst FLATTEN_ID_MAX_FILE_LENGTH = 170;\r\nconst limitFlattenIdLength = (id, limit = FLATTEN_ID_MAX_FILE_LENGTH) => {\r\n  if (id.length <= limit) {\r\n    return id;\r\n  }\r\n  return id.slice(0, limit - (FLATTEN_ID_HASH_LENGTH + 1)) + \"_\" + getHash(id);\r\n};\r\nconst normalizeId = (id) => id.replace(replaceNestedIdRE, \" > \");\r\nconst NODE_BUILTIN_NAMESPACE = \"node:\";\r\nconst NPM_BUILTIN_NAMESPACE = \"npm:\";\r\nconst BUN_BUILTIN_NAMESPACE = \"bun:\";\r\nconst nodeBuiltins = builtinModules.filter((id) => !id.includes(\":\"));\r\nfunction isBuiltin(id) {\r\n  if (process.versions.deno && id.startsWith(NPM_BUILTIN_NAMESPACE)) return true;\r\n  if (process.versions.bun && id.startsWith(BUN_BUILTIN_NAMESPACE)) return true;\r\n  return isNodeBuiltin(id);\r\n}\r\nfunction isNodeBuiltin(id) {\r\n  if (id.startsWith(NODE_BUILTIN_NAMESPACE)) return true;\r\n  return nodeBuiltins.includes(id);\r\n}\r\nfunction isInNodeModules$1(id) {\r\n  return id.includes(\"node_modules\");\r\n}\r\nfunction moduleListContains(moduleList, id) {\r\n  return moduleList?.some(\r\n    (m) => m === id || id.startsWith(withTrailingSlash(m))\r\n  );\r\n}\r\nfunction isOptimizable(id, optimizeDeps) {\r\n  const { extensions } = optimizeDeps;\r\n  return OPTIMIZABLE_ENTRY_RE.test(id) || (extensions?.some((ext) => id.endsWith(ext)) ?? false);\r\n}\r\nconst bareImportRE = /^(?![a-zA-Z]:)[\\w@](?!.*:\\/\\/)/;\r\nconst deepImportRE = /^([^@][^/]*)\\/|^(@[^/]+\\/[^/]+)\\//;\r\nconst _require$1 = createRequire$1(import.meta.url);\r\nfunction resolveDependencyVersion(dep, pkgRelativePath = \"../../package.json\") {\r\n  const pkgPath = path$n.resolve(_require$1.resolve(dep), pkgRelativePath);\r\n  return JSON.parse(fs__default.readFileSync(pkgPath, \"utf-8\")).version;\r\n}\r\nconst rollupVersion = resolveDependencyVersion(\"rollup\");\r\nconst filter = process.env.VITE_DEBUG_FILTER;\r\nconst DEBUG = process.env.DEBUG;\r\nfunction createDebugger(namespace, options = {}) {\r\n  const log = debug$i(namespace);\r\n  const { onlyWhenFocused } = options;\r\n  let enabled = log.enabled;\r\n  if (enabled && onlyWhenFocused) {\r\n    const ns = typeof onlyWhenFocused === \"string\" ? onlyWhenFocused : namespace;\r\n    enabled = !!DEBUG?.includes(ns);\r\n  }\r\n  if (enabled) {\r\n    return (...args) => {\r\n      if (!filter || args.some((a) => a?.includes?.(filter))) {\r\n        log(...args);\r\n      }\r\n    };\r\n  }\r\n}\r\nfunction testCaseInsensitiveFS() {\r\n  if (!CLIENT_ENTRY.endsWith(\"client.mjs\")) {\r\n    throw new Error(\r\n      `cannot test case insensitive FS, CLIENT_ENTRY const doesn't contain client.mjs`\r\n    );\r\n  }\r\n  if (!fs__default.existsSync(CLIENT_ENTRY)) {\r\n    throw new Error(\r\n      \"cannot test case insensitive FS, CLIENT_ENTRY does not point to an existing file: \" + CLIENT_ENTRY\r\n    );\r\n  }\r\n  return fs__default.existsSync(CLIENT_ENTRY.replace(\"client.mjs\", \"cLiEnT.mjs\"));\r\n}\r\nconst urlCanParse = (\r\n  // eslint-disable-next-line n/no-unsupported-features/node-builtins\r\n  URL$3.canParse ?? // URL.canParse is supported from Node.js 18.17.0+, 20.0.0+\r\n  ((path2, base) => {\r\n    try {\r\n      new URL$3(path2, base);\r\n      return true;\r\n    } catch {\r\n      return false;\r\n    }\r\n  })\r\n);\r\nconst isCaseInsensitiveFS = testCaseInsensitiveFS();\r\nconst VOLUME_RE = /^[A-Z]:/i;\r\nfunction normalizePath$3(id) {\r\n  return path$n.posix.normalize(isWindows$3 ? slash$1(id) : id);\r\n}\r\nfunction fsPathFromId(id) {\r\n  const fsPath = normalizePath$3(\r\n    id.startsWith(FS_PREFIX) ? id.slice(FS_PREFIX.length) : id\r\n  );\r\n  return fsPath[0] === \"/\" || VOLUME_RE.test(fsPath) ? fsPath : `/${fsPath}`;\r\n}\r\nfunction fsPathFromUrl(url) {\r\n  return fsPathFromId(cleanUrl(url));\r\n}\r\nfunction isParentDirectory(dir, file) {\r\n  dir = withTrailingSlash(dir);\r\n  return file.startsWith(dir) || isCaseInsensitiveFS && file.toLowerCase().startsWith(dir.toLowerCase());\r\n}\r\nfunction isSameFileUri(file1, file2) {\r\n  return file1 === file2 || isCaseInsensitiveFS && file1.toLowerCase() === file2.toLowerCase();\r\n}\r\nconst externalRE = /^(https?:)?\\/\\//;\r\nconst isExternalUrl = (url) => externalRE.test(url);\r\nconst dataUrlRE = /^\\s*data:/i;\r\nconst isDataUrl = (url) => dataUrlRE.test(url);\r\nconst virtualModuleRE = /^virtual-module:.*/;\r\nconst virtualModulePrefix = \"virtual-module:\";\r\nconst knownJsSrcRE = /\\.(?:[jt]sx?|m[jt]s|vue|marko|svelte|astro|imba|mdx)(?:$|\\?)/;\r\nconst isJSRequest = (url) => {\r\n  url = cleanUrl(url);\r\n  if (knownJsSrcRE.test(url)) {\r\n    return true;\r\n  }\r\n  if (!path$n.extname(url) && url[url.length - 1] !== \"/\") {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\nconst knownTsRE = /\\.(?:ts|mts|cts|tsx)(?:$|\\?)/;\r\nconst isTsRequest = (url) => knownTsRE.test(url);\r\nconst importQueryRE = /(\\?|&)import=?(?:&|$)/;\r\nconst directRequestRE$1 = /(\\?|&)direct=?(?:&|$)/;\r\nconst internalPrefixes = [\r\n  FS_PREFIX,\r\n  VALID_ID_PREFIX,\r\n  CLIENT_PUBLIC_PATH,\r\n  ENV_PUBLIC_PATH\r\n];\r\nconst InternalPrefixRE = new RegExp(`^(?:${internalPrefixes.join(\"|\")})`);\r\nconst trailingSeparatorRE = /[?&]$/;\r\nconst isImportRequest = (url) => importQueryRE.test(url);\r\nconst isInternalRequest = (url) => InternalPrefixRE.test(url);\r\nfunction removeImportQuery(url) {\r\n  return url.replace(importQueryRE, \"$1\").replace(trailingSeparatorRE, \"\");\r\n}\r\nfunction removeDirectQuery(url) {\r\n  return url.replace(directRequestRE$1, \"$1\").replace(trailingSeparatorRE, \"\");\r\n}\r\nconst urlRE = /(\\?|&)url(?:&|$)/;\r\nconst rawRE = /(\\?|&)raw(?:&|$)/;\r\nfunction removeUrlQuery(url) {\r\n  return url.replace(urlRE, \"$1\").replace(trailingSeparatorRE, \"\");\r\n}\r\nconst replacePercentageRE = /%/g;\r\nfunction injectQuery(url, queryToInject) {\r\n  const resolvedUrl = new URL$3(\r\n    url.replace(replacePercentageRE, \"%25\"),\r\n    \"relative:///\"\r\n  );\r\n  const { search, hash } = resolvedUrl;\r\n  let pathname = cleanUrl(url);\r\n  pathname = isWindows$3 ? slash$1(pathname) : pathname;\r\n  return `${pathname}?${queryToInject}${search ? `&` + search.slice(1) : \"\"}${hash ?? \"\"}`;\r\n}\r\nconst timestampRE = /\\bt=\\d{13}&?\\b/;\r\nfunction removeTimestampQuery(url) {\r\n  return url.replace(timestampRE, \"\").replace(trailingSeparatorRE, \"\");\r\n}\r\nasync function asyncReplace(input, re, replacer) {\r\n  let match;\r\n  let remaining = input;\r\n  let rewritten = \"\";\r\n  while (match = re.exec(remaining)) {\r\n    rewritten += remaining.slice(0, match.index);\r\n    rewritten += await replacer(match);\r\n    remaining = remaining.slice(match.index + match[0].length);\r\n  }\r\n  rewritten += remaining;\r\n  return rewritten;\r\n}\r\nfunction timeFrom(start, subtract = 0) {\r\n  const time = performance$1.now() - start - subtract;\r\n  const timeString = (time.toFixed(2) + `ms`).padEnd(5, \" \");\r\n  if (time < 10) {\r\n    return colors$1.green(timeString);\r\n  } else if (time < 50) {\r\n    return colors$1.yellow(timeString);\r\n  } else {\r\n    return colors$1.red(timeString);\r\n  }\r\n}\r\nfunction prettifyUrl(url, root) {\r\n  url = removeTimestampQuery(url);\r\n  const isAbsoluteFile = url.startsWith(root);\r\n  if (isAbsoluteFile || url.startsWith(FS_PREFIX)) {\r\n    const file = path$n.posix.relative(\r\n      root,\r\n      isAbsoluteFile ? url : fsPathFromId(url)\r\n    );\r\n    return colors$1.dim(file);\r\n  } else {\r\n    return colors$1.dim(url);\r\n  }\r\n}\r\nfunction isObject$1(value) {\r\n  return Object.prototype.toString.call(value) === \"[object Object]\";\r\n}\r\nfunction isDefined(value) {\r\n  return value != null;\r\n}\r\nfunction tryStatSync(file) {\r\n  try {\r\n    return fs__default.statSync(file, { throwIfNoEntry: false });\r\n  } catch {\r\n  }\r\n}\r\nfunction lookupFile(dir, fileNames) {\r\n  while (dir) {\r\n    for (const fileName of fileNames) {\r\n      const fullPath = path$n.join(dir, fileName);\r\n      if (tryStatSync(fullPath)?.isFile()) return fullPath;\r\n    }\r\n    const parentDir = path$n.dirname(dir);\r\n    if (parentDir === dir) return;\r\n    dir = parentDir;\r\n  }\r\n}\r\nfunction isFilePathESM(filePath, packageCache) {\r\n  if (/\\.m[jt]s$/.test(filePath)) {\r\n    return true;\r\n  } else if (/\\.c[jt]s$/.test(filePath)) {\r\n    return false;\r\n  } else {\r\n    try {\r\n      const pkg = findNearestPackageData(path$n.dirname(filePath), packageCache);\r\n      return pkg?.data.type === \"module\";\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n}\r\nconst splitRE = /\\r?\\n/g;\r\nconst range = 2;\r\nfunction pad$1(source, n = 2) {\r\n  const lines = source.split(splitRE);\r\n  return lines.map((l) => ` `.repeat(n) + l).join(`\r\n`);\r\n}\r\nfunction posToNumber(source, pos) {\r\n  if (typeof pos === \"number\") return pos;\r\n  const lines = source.split(splitRE);\r\n  const { line, column } = pos;\r\n  let start = 0;\r\n  for (let i = 0; i < line - 1 && i < lines.length; i++) {\r\n    start += lines[i].length + 1;\r\n  }\r\n  return start + column;\r\n}\r\nfunction numberToPos(source, offset) {\r\n  if (typeof offset !== \"number\") return offset;\r\n  if (offset > source.length) {\r\n    throw new Error(\r\n      `offset is longer than source length! offset ${offset} > length ${source.length}`\r\n    );\r\n  }\r\n  const lines = source.split(splitRE);\r\n  let counted = 0;\r\n  let line = 0;\r\n  let column = 0;\r\n  for (; line < lines.length; line++) {\r\n    const lineLength = lines[line].length + 1;\r\n    if (counted + lineLength >= offset) {\r\n      column = offset - counted + 1;\r\n      break;\r\n    }\r\n    counted += lineLength;\r\n  }\r\n  return { line: line + 1, column };\r\n}\r\nfunction generateCodeFrame(source, start = 0, end) {\r\n  start = Math.max(posToNumber(source, start), 0);\r\n  end = Math.min(\r\n    end !== void 0 ? posToNumber(source, end) : start,\r\n    source.length\r\n  );\r\n  const lines = source.split(splitRE);\r\n  let count = 0;\r\n  const res = [];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    count += lines[i].length;\r\n    if (count >= start) {\r\n      for (let j = i - range; j <= i + range || end > count; j++) {\r\n        if (j < 0 || j >= lines.length) continue;\r\n        const line = j + 1;\r\n        res.push(\r\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\r\n        );\r\n        const lineLength = lines[j].length;\r\n        if (j === i) {\r\n          const pad2 = Math.max(start - (count - lineLength), 0);\r\n          const length = Math.max(\r\n            1,\r\n            end > count ? lineLength - pad2 : end - start\r\n          );\r\n          res.push(`   |  ` + \" \".repeat(pad2) + \"^\".repeat(length));\r\n        } else if (j > i) {\r\n          if (end > count) {\r\n            const length = Math.max(Math.min(end - count, lineLength), 1);\r\n            res.push(`   |  ` + \"^\".repeat(length));\r\n          }\r\n          count += lineLength + 1;\r\n        }\r\n      }\r\n      break;\r\n    }\r\n    count++;\r\n  }\r\n  return res.join(\"\\n\");\r\n}\r\nfunction isFileReadable(filename) {\r\n  if (!tryStatSync(filename)) {\r\n    return false;\r\n  }\r\n  try {\r\n    fs__default.accessSync(filename, fs__default.constants.R_OK);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\nconst splitFirstDirRE = /(.+?)[\\\\/](.+)/;\r\nfunction emptyDir(dir, skip) {\r\n  const skipInDir = [];\r\n  let nested = null;\r\n  if (skip?.length) {\r\n    for (const file of skip) {\r\n      if (path$n.dirname(file) !== \".\") {\r\n        const matched = splitFirstDirRE.exec(file);\r\n        if (matched) {\r\n          nested ??= /* @__PURE__ */ new Map();\r\n          const [, nestedDir, skipPath] = matched;\r\n          let nestedSkip = nested.get(nestedDir);\r\n          if (!nestedSkip) {\r\n            nestedSkip = [];\r\n            nested.set(nestedDir, nestedSkip);\r\n          }\r\n          if (!nestedSkip.includes(skipPath)) {\r\n            nestedSkip.push(skipPath);\r\n          }\r\n        }\r\n      } else {\r\n        skipInDir.push(file);\r\n      }\r\n    }\r\n  }\r\n  for (const file of fs__default.readdirSync(dir)) {\r\n    if (skipInDir.includes(file)) {\r\n      continue;\r\n    }\r\n    if (nested?.has(file)) {\r\n      emptyDir(path$n.resolve(dir, file), nested.get(file));\r\n    } else {\r\n      fs__default.rmSync(path$n.resolve(dir, file), { recursive: true, force: true });\r\n    }\r\n  }\r\n}\r\nfunction copyDir(srcDir, destDir) {\r\n  fs__default.mkdirSync(destDir, { recursive: true });\r\n  for (const file of fs__default.readdirSync(srcDir)) {\r\n    const srcFile = path$n.resolve(srcDir, file);\r\n    if (srcFile === destDir) {\r\n      continue;\r\n    }\r\n    const destFile = path$n.resolve(destDir, file);\r\n    const stat = fs__default.statSync(srcFile);\r\n    if (stat.isDirectory()) {\r\n      copyDir(srcFile, destFile);\r\n    } else {\r\n      fs__default.copyFileSync(srcFile, destFile);\r\n    }\r\n  }\r\n}\r\nconst ERR_SYMLINK_IN_RECURSIVE_READDIR = \"ERR_SYMLINK_IN_RECURSIVE_READDIR\";\r\nasync function recursiveReaddir(dir) {\r\n  if (!fs__default.existsSync(dir)) {\r\n    return [];\r\n  }\r\n  let dirents;\r\n  try {\r\n    dirents = await fsp.readdir(dir, { withFileTypes: true });\r\n  } catch (e) {\r\n    if (e.code === \"EACCES\") {\r\n      return [];\r\n    }\r\n    throw e;\r\n  }\r\n  if (dirents.some((dirent) => dirent.isSymbolicLink())) {\r\n    const err = new Error(\r\n      \"Symbolic links are not supported in recursiveReaddir\"\r\n    );\r\n    err.code = ERR_SYMLINK_IN_RECURSIVE_READDIR;\r\n    throw err;\r\n  }\r\n  const files = await Promise.all(\r\n    dirents.map((dirent) => {\r\n      const res = path$n.resolve(dir, dirent.name);\r\n      return dirent.isDirectory() ? recursiveReaddir(res) : normalizePath$3(res);\r\n    })\r\n  );\r\n  return files.flat(1);\r\n}\r\nlet safeRealpathSync = isWindows$3 ? windowsSafeRealPathSync : fs__default.realpathSync.native;\r\nconst windowsNetworkMap = /* @__PURE__ */ new Map();\r\nfunction windowsMappedRealpathSync(path2) {\r\n  const realPath = fs__default.realpathSync.native(path2);\r\n  if (realPath.startsWith(\"\\\\\\\\\")) {\r\n    for (const [network, volume] of windowsNetworkMap) {\r\n      if (realPath.startsWith(network)) return realPath.replace(network, volume);\r\n    }\r\n  }\r\n  return realPath;\r\n}\r\nconst parseNetUseRE = /^\\w* +(\\w:) +([^ ]+)\\s/;\r\nlet firstSafeRealPathSyncRun = false;\r\nfunction windowsSafeRealPathSync(path2) {\r\n  if (!firstSafeRealPathSyncRun) {\r\n    optimizeSafeRealPathSync();\r\n    firstSafeRealPathSyncRun = true;\r\n  }\r\n  return fs__default.realpathSync(path2);\r\n}\r\nfunction optimizeSafeRealPathSync() {\r\n  const nodeVersion = process.versions.node.split(\".\").map(Number);\r\n  if (nodeVersion[0] < 18 || nodeVersion[0] === 18 && nodeVersion[1] < 10) {\r\n    safeRealpathSync = fs__default.realpathSync;\r\n    return;\r\n  }\r\n  try {\r\n    fs__default.realpathSync.native(path$n.resolve(\"./\"));\r\n  } catch (error) {\r\n    if (error.message.includes(\"EISDIR: illegal operation on a directory\")) {\r\n      safeRealpathSync = fs__default.realpathSync;\r\n      return;\r\n    }\r\n  }\r\n  exec(\"net use\", (error, stdout) => {\r\n    if (error) return;\r\n    const lines = stdout.split(\"\\n\");\r\n    for (const line of lines) {\r\n      const m = parseNetUseRE.exec(line);\r\n      if (m) windowsNetworkMap.set(m[2], m[1]);\r\n    }\r\n    if (windowsNetworkMap.size === 0) {\r\n      safeRealpathSync = fs__default.realpathSync.native;\r\n    } else {\r\n      safeRealpathSync = windowsMappedRealpathSync;\r\n    }\r\n  });\r\n}\r\nfunction ensureWatchedFile(watcher, file, root) {\r\n  if (file && // only need to watch if out of root\r\n  !file.startsWith(withTrailingSlash(root)) && // some rollup plugins use null bytes for private resolved Ids\r\n  !file.includes(\"\\0\") && fs__default.existsSync(file)) {\r\n    watcher.add(path$n.resolve(file));\r\n  }\r\n}\r\nconst escapedSpaceCharacters = /(?: |\\\\t|\\\\n|\\\\f|\\\\r)+/g;\r\nconst imageSetUrlRE = /^(?:[\\w\\-]+\\(.*?\\)|'.*?'|\".*?\"|\\S*)/;\r\nfunction joinSrcset(ret) {\r\n  return ret.map(({ url, descriptor }) => url + (descriptor ? ` ${descriptor}` : \"\")).join(\", \");\r\n}\r\nfunction splitSrcSetDescriptor(srcs) {\r\n  return splitSrcSet(srcs).map((s) => {\r\n    const src = s.replace(escapedSpaceCharacters, \" \").trim();\r\n    const url = imageSetUrlRE.exec(src)?.[0] ?? \"\";\r\n    return {\r\n      url,\r\n      descriptor: src.slice(url.length).trim()\r\n    };\r\n  }).filter(({ url }) => !!url);\r\n}\r\nfunction processSrcSet(srcs, replacer) {\r\n  return Promise.all(\r\n    splitSrcSetDescriptor(srcs).map(async ({ url, descriptor }) => ({\r\n      url: await replacer({ url, descriptor }),\r\n      descriptor\r\n    }))\r\n  ).then(joinSrcset);\r\n}\r\nfunction processSrcSetSync(srcs, replacer) {\r\n  return joinSrcset(\r\n    splitSrcSetDescriptor(srcs).map(({ url, descriptor }) => ({\r\n      url: replacer({ url, descriptor }),\r\n      descriptor\r\n    }))\r\n  );\r\n}\r\nconst cleanSrcSetRE = /(?:url|image|gradient|cross-fade)\\([^)]*\\)|\"([^\"]|(?<=\\\\)\")*\"|'([^']|(?<=\\\\)')*'|data:\\w+\\/[\\w.+\\-]+;base64,[\\w+/=]+|\\?\\S+,/g;\r\nfunction splitSrcSet(srcs) {\r\n  const parts = [];\r\n  const cleanedSrcs = srcs.replace(cleanSrcSetRE, blankReplacer);\r\n  let startIndex = 0;\r\n  let splitIndex;\r\n  do {\r\n    splitIndex = cleanedSrcs.indexOf(\",\", startIndex);\r\n    parts.push(\r\n      srcs.slice(startIndex, splitIndex !== -1 ? splitIndex : void 0)\r\n    );\r\n    startIndex = splitIndex + 1;\r\n  } while (splitIndex !== -1);\r\n  return parts;\r\n}\r\nconst windowsDriveRE = /^[A-Z]:/;\r\nconst replaceWindowsDriveRE = /^([A-Z]):\\//;\r\nconst linuxAbsolutePathRE = /^\\/[^/]/;\r\nfunction escapeToLinuxLikePath(path2) {\r\n  if (windowsDriveRE.test(path2)) {\r\n    return path2.replace(replaceWindowsDriveRE, \"/windows/$1/\");\r\n  }\r\n  if (linuxAbsolutePathRE.test(path2)) {\r\n    return `/linux${path2}`;\r\n  }\r\n  return path2;\r\n}\r\nconst revertWindowsDriveRE = /^\\/windows\\/([A-Z])\\//;\r\nfunction unescapeToLinuxLikePath(path2) {\r\n  if (path2.startsWith(\"/linux/\")) {\r\n    return path2.slice(\"/linux\".length);\r\n  }\r\n  if (path2.startsWith(\"/windows/\")) {\r\n    return path2.replace(revertWindowsDriveRE, \"$1:/\");\r\n  }\r\n  return path2;\r\n}\r\nconst nullSourceMap = {\r\n  names: [],\r\n  sources: [],\r\n  mappings: \"\",\r\n  version: 3\r\n};\r\nfunction combineSourcemaps(filename, sourcemapList) {\r\n  if (sourcemapList.length === 0 || sourcemapList.every((m) => m.sources.length === 0)) {\r\n    return { ...nullSourceMap };\r\n  }\r\n  sourcemapList = sourcemapList.map((sourcemap) => {\r\n    const newSourcemaps = { ...sourcemap };\r\n    newSourcemaps.sources = sourcemap.sources.map(\r\n      (source) => source ? escapeToLinuxLikePath(source) : null\r\n    );\r\n    if (sourcemap.sourceRoot) {\r\n      newSourcemaps.sourceRoot = escapeToLinuxLikePath(sourcemap.sourceRoot);\r\n    }\r\n    return newSourcemaps;\r\n  });\r\n  let map;\r\n  let mapIndex = 1;\r\n  const useArrayInterface = sourcemapList.slice(0, -1).find((m) => m.sources.length !== 1) === void 0;\r\n  if (useArrayInterface) {\r\n    map = remapping(sourcemapList, () => null);\r\n  } else {\r\n    map = remapping(sourcemapList[0], function loader(sourcefile) {\r\n      const mapForSources = sourcemapList.slice(mapIndex).find((s) => s.sources.includes(sourcefile));\r\n      if (mapForSources) {\r\n        mapIndex++;\r\n        return mapForSources;\r\n      }\r\n      return null;\r\n    });\r\n  }\r\n  if (!map.file) {\r\n    delete map.file;\r\n  }\r\n  map.sources = map.sources.map(\r\n    (source) => source ? unescapeToLinuxLikePath(source) : source\r\n  );\r\n  map.file = filename;\r\n  return map;\r\n}\r\nfunction unique(arr) {\r\n  return Array.from(new Set(arr));\r\n}\r\nasync function getLocalhostAddressIfDiffersFromDNS() {\r\n  const [nodeResult, dnsResult] = await Promise.all([\r\n    promises.lookup(\"localhost\"),\r\n    promises.lookup(\"localhost\", { verbatim: true })\r\n  ]);\r\n  const isSame = nodeResult.family === dnsResult.family && nodeResult.address === dnsResult.address;\r\n  return isSame ? void 0 : nodeResult.address;\r\n}\r\nfunction diffDnsOrderChange(oldUrls, newUrls) {\r\n  return !(oldUrls === newUrls || oldUrls && newUrls && arrayEqual(oldUrls.local, newUrls.local) && arrayEqual(oldUrls.network, newUrls.network));\r\n}\r\nasync function resolveHostname(optionsHost) {\r\n  let host;\r\n  if (optionsHost === void 0 || optionsHost === false) {\r\n    host = \"localhost\";\r\n  } else if (optionsHost === true) {\r\n    host = void 0;\r\n  } else {\r\n    host = optionsHost;\r\n  }\r\n  let name = host === void 0 || wildcardHosts.has(host) ? \"localhost\" : host;\r\n  if (host === \"localhost\") {\r\n    const localhostAddr = await getLocalhostAddressIfDiffersFromDNS();\r\n    if (localhostAddr) {\r\n      name = localhostAddr;\r\n    }\r\n  }\r\n  return { host, name };\r\n}\r\nasync function resolveServerUrls(server, options, config) {\r\n  const address = server.address();\r\n  const isAddressInfo = (x) => x?.address;\r\n  if (!isAddressInfo(address)) {\r\n    return { local: [], network: [] };\r\n  }\r\n  const local = [];\r\n  const network = [];\r\n  const hostname = await resolveHostname(options.host);\r\n  const protocol = options.https ? \"https\" : \"http\";\r\n  const port = address.port;\r\n  const base = config.rawBase === \"./\" || config.rawBase === \"\" ? \"/\" : config.rawBase;\r\n  if (hostname.host !== void 0 && !wildcardHosts.has(hostname.host)) {\r\n    let hostnameName = hostname.name;\r\n    if (hostnameName.includes(\":\")) {\r\n      hostnameName = `[${hostnameName}]`;\r\n    }\r\n    const address2 = `${protocol}://${hostnameName}:${port}${base}`;\r\n    if (loopbackHosts.has(hostname.host)) {\r\n      local.push(address2);\r\n    } else {\r\n      network.push(address2);\r\n    }\r\n  } else {\r\n    Object.values(os$5.networkInterfaces()).flatMap((nInterface) => nInterface ?? []).filter(\r\n      (detail) => detail && detail.address && (detail.family === \"IPv4\" || // @ts-expect-error Node 18.0 - 18.3 returns number\r\n      detail.family === 4)\r\n    ).forEach((detail) => {\r\n      let host = detail.address.replace(\"127.0.0.1\", hostname.name);\r\n      if (host.includes(\":\")) {\r\n        host = `[${host}]`;\r\n      }\r\n      const url = `${protocol}://${host}:${port}${base}`;\r\n      if (detail.address.includes(\"127.0.0.1\")) {\r\n        local.push(url);\r\n      } else {\r\n        network.push(url);\r\n      }\r\n    });\r\n  }\r\n  return { local, network };\r\n}\r\nfunction arraify(target) {\r\n  return Array.isArray(target) ? target : [target];\r\n}\r\nconst multilineCommentsRE = /\\/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*\\//g;\r\nconst singlelineCommentsRE = /\\/\\/.*/g;\r\nconst requestQuerySplitRE = /\\?(?!.*[/|}])/;\r\nconst requestQueryMaybeEscapedSplitRE = /\\\\?\\?(?!.*[/|}])/;\r\nconst blankReplacer = (match) => \" \".repeat(match.length);\r\nfunction getHash(text, length = 8) {\r\n  const h = createHash$2(\"sha256\").update(text).digest(\"hex\").substring(0, length);\r\n  if (length <= 64) return h;\r\n  return h.padEnd(length, \"_\");\r\n}\r\nconst _dirname = path$n.dirname(fileURLToPath(import.meta.url));\r\nconst requireResolveFromRootWithFallback = (root, id) => {\r\n  const found = resolvePackageData(id, root) || resolvePackageData(id, _dirname);\r\n  if (!found) {\r\n    const error = new Error(`${JSON.stringify(id)} not found.`);\r\n    error.code = \"MODULE_NOT_FOUND\";\r\n    throw error;\r\n  }\r\n  return _require$1.resolve(id, { paths: [root, _dirname] });\r\n};\r\nfunction emptyCssComments(raw) {\r\n  return raw.replace(multilineCommentsRE, blankReplacer);\r\n}\r\nfunction backwardCompatibleWorkerPlugins(plugins) {\r\n  if (Array.isArray(plugins)) {\r\n    return plugins;\r\n  }\r\n  if (typeof plugins === \"function\") {\r\n    return plugins();\r\n  }\r\n  return [];\r\n}\r\nfunction mergeConfigRecursively(defaults, overrides, rootPath) {\r\n  const merged = { ...defaults };\r\n  for (const key in overrides) {\r\n    const value = overrides[key];\r\n    if (value == null) {\r\n      continue;\r\n    }\r\n    const existing = merged[key];\r\n    if (existing == null) {\r\n      merged[key] = value;\r\n      continue;\r\n    }\r\n    if (key === \"alias\" && (rootPath === \"resolve\" || rootPath === \"\")) {\r\n      merged[key] = mergeAlias(existing, value);\r\n      continue;\r\n    } else if (key === \"assetsInclude\" && rootPath === \"\") {\r\n      merged[key] = [].concat(existing, value);\r\n      continue;\r\n    } else if (key === \"noExternal\" && rootPath === \"ssr\" && (existing === true || value === true)) {\r\n      merged[key] = true;\r\n      continue;\r\n    } else if (key === \"plugins\" && rootPath === \"worker\") {\r\n      merged[key] = () => [\r\n        ...backwardCompatibleWorkerPlugins(existing),\r\n        ...backwardCompatibleWorkerPlugins(value)\r\n      ];\r\n      continue;\r\n    } else if (key === \"server\" && rootPath === \"server.hmr\") {\r\n      merged[key] = value;\r\n      continue;\r\n    }\r\n    if (Array.isArray(existing) || Array.isArray(value)) {\r\n      merged[key] = [...arraify(existing), ...arraify(value)];\r\n      continue;\r\n    }\r\n    if (isObject$1(existing) && isObject$1(value)) {\r\n      merged[key] = mergeConfigRecursively(\r\n        existing,\r\n        value,\r\n        rootPath ? `${rootPath}.${key}` : key\r\n      );\r\n      continue;\r\n    }\r\n    merged[key] = value;\r\n  }\r\n  return merged;\r\n}\r\nfunction mergeConfig(defaults, overrides, isRoot = true) {\r\n  if (typeof defaults === \"function\" || typeof overrides === \"function\") {\r\n    throw new Error(`Cannot merge config in form of callback`);\r\n  }\r\n  return mergeConfigRecursively(defaults, overrides, isRoot ? \"\" : \".\");\r\n}\r\nfunction mergeAlias(a, b) {\r\n  if (!a) return b;\r\n  if (!b) return a;\r\n  if (isObject$1(a) && isObject$1(b)) {\r\n    return { ...a, ...b };\r\n  }\r\n  return [...normalizeAlias(b), ...normalizeAlias(a)];\r\n}\r\nfunction normalizeAlias(o = []) {\r\n  return Array.isArray(o) ? o.map(normalizeSingleAlias) : Object.keys(o).map(\r\n    (find) => normalizeSingleAlias({\r\n      find,\r\n      replacement: o[find]\r\n    })\r\n  );\r\n}\r\nfunction normalizeSingleAlias({\r\n  find,\r\n  replacement,\r\n  customResolver\r\n}) {\r\n  if (typeof find === \"string\" && find[find.length - 1] === \"/\" && replacement[replacement.length - 1] === \"/\") {\r\n    find = find.slice(0, find.length - 1);\r\n    replacement = replacement.slice(0, replacement.length - 1);\r\n  }\r\n  const alias = {\r\n    find,\r\n    replacement\r\n  };\r\n  if (customResolver) {\r\n    alias.customResolver = customResolver;\r\n  }\r\n  return alias;\r\n}\r\nfunction transformStableResult(s, id, config) {\r\n  return {\r\n    code: s.toString(),\r\n    map: config.command === \"build\" && config.build.sourcemap ? s.generateMap({ hires: \"boundary\", source: id }) : null\r\n  };\r\n}\r\nasync function asyncFlatten(arr) {\r\n  do {\r\n    arr = (await Promise.all(arr)).flat(Infinity);\r\n  } while (arr.some((v) => v?.then));\r\n  return arr;\r\n}\r\nfunction stripBomTag(content) {\r\n  if (content.charCodeAt(0) === 65279) {\r\n    return content.slice(1);\r\n  }\r\n  return content;\r\n}\r\nconst windowsDrivePathPrefixRE = /^[A-Za-z]:[/\\\\]/;\r\nconst isNonDriveRelativeAbsolutePath = (p) => {\r\n  if (!isWindows$3) return p[0] === \"/\";\r\n  return windowsDrivePathPrefixRE.test(p);\r\n};\r\nfunction shouldServeFile(filePath, root) {\r\n  if (!isCaseInsensitiveFS) return true;\r\n  return hasCorrectCase(filePath, root);\r\n}\r\nfunction hasCorrectCase(file, assets) {\r\n  if (file === assets) return true;\r\n  const parent = path$n.dirname(file);\r\n  if (fs__default.readdirSync(parent).includes(path$n.basename(file))) {\r\n    return hasCorrectCase(parent, assets);\r\n  }\r\n  return false;\r\n}\r\nfunction joinUrlSegments(a, b) {\r\n  if (!a || !b) {\r\n    return a || b || \"\";\r\n  }\r\n  if (a[a.length - 1] === \"/\") {\r\n    a = a.substring(0, a.length - 1);\r\n  }\r\n  if (b[0] !== \"/\") {\r\n    b = \"/\" + b;\r\n  }\r\n  return a + b;\r\n}\r\nfunction removeLeadingSlash(str) {\r\n  return str[0] === \"/\" ? str.slice(1) : str;\r\n}\r\nfunction stripBase(path2, base) {\r\n  if (path2 === base) {\r\n    return \"/\";\r\n  }\r\n  const devBase = withTrailingSlash(base);\r\n  return path2.startsWith(devBase) ? path2.slice(devBase.length - 1) : path2;\r\n}\r\nfunction arrayEqual(a, b) {\r\n  if (a === b) return true;\r\n  if (a.length !== b.length) return false;\r\n  for (let i = 0; i < a.length; i++) {\r\n    if (a[i] !== b[i]) return false;\r\n  }\r\n  return true;\r\n}\r\nfunction evalValue(rawValue) {\r\n  const fn = new Function(`\r\n    var console, exports, global, module, process, require\r\n    return (\r\n${rawValue}\r\n)\r\n  `);\r\n  return fn();\r\n}\r\nfunction getNpmPackageName(importPath) {\r\n  const parts = importPath.split(\"/\");\r\n  if (parts[0][0] === \"@\") {\r\n    if (!parts[1]) return null;\r\n    return `${parts[0]}/${parts[1]}`;\r\n  } else {\r\n    return parts[0];\r\n  }\r\n}\r\nconst escapeRegexRE = /[-/\\\\^$*+?.()|[\\]{}]/g;\r\nfunction escapeRegex(str) {\r\n  return str.replace(escapeRegexRE, \"\\\\$&\");\r\n}\r\nfunction getPackageManagerCommand(type = \"install\") {\r\n  const packageManager = process.env.npm_config_user_agent?.split(\" \")[0].split(\"/\")[0] || \"npm\";\r\n  switch (type) {\r\n    case \"install\":\r\n      return packageManager === \"npm\" ? \"npm install\" : `${packageManager} add`;\r\n    case \"uninstall\":\r\n      return packageManager === \"npm\" ? \"npm uninstall\" : `${packageManager} remove`;\r\n    case \"update\":\r\n      return packageManager === \"yarn\" ? \"yarn upgrade\" : `${packageManager} update`;\r\n    default:\r\n      throw new TypeError(`Unknown command type: ${type}`);\r\n  }\r\n}\r\nfunction isDevServer(server) {\r\n  return \"pluginContainer\" in server;\r\n}\r\nfunction promiseWithResolvers() {\r\n  let resolve;\r\n  let reject;\r\n  const promise = new Promise((_resolve, _reject) => {\r\n    resolve = _resolve;\r\n    reject = _reject;\r\n  });\r\n  return { promise, resolve, reject };\r\n}\r\nfunction createSerialPromiseQueue() {\r\n  let previousTask;\r\n  return {\r\n    async run(f) {\r\n      const thisTask = f();\r\n      const depTasks = Promise.all([previousTask, thisTask]);\r\n      previousTask = depTasks;\r\n      const [, result] = await depTasks;\r\n      if (previousTask === depTasks) {\r\n        previousTask = void 0;\r\n      }\r\n      return result;\r\n    }\r\n  };\r\n}\r\nfunction sortObjectKeys(obj) {\r\n  const sorted = {};\r\n  for (const key of Object.keys(obj).sort()) {\r\n    sorted[key] = obj[key];\r\n  }\r\n  return sorted;\r\n}\r\nfunction displayTime(time) {\r\n  if (time < 1e3) {\r\n    return `${time}ms`;\r\n  }\r\n  time = time / 1e3;\r\n  if (time < 60) {\r\n    return `${time.toFixed(2)}s`;\r\n  }\r\n  const mins = parseInt((time / 60).toString());\r\n  const seconds = time % 60;\r\n  return `${mins}m${seconds < 1 ? \"\" : ` ${seconds.toFixed(0)}s`}`;\r\n}\r\nfunction encodeURIPath(uri) {\r\n  if (uri.startsWith(\"data:\")) return uri;\r\n  const filePath = cleanUrl(uri);\r\n  const postfix = filePath !== uri ? uri.slice(filePath.length) : \"\";\r\n  return encodeURI(filePath) + postfix;\r\n}\r\nfunction partialEncodeURIPath(uri) {\r\n  if (uri.startsWith(\"data:\")) return uri;\r\n  const filePath = cleanUrl(uri);\r\n  const postfix = filePath !== uri ? uri.slice(filePath.length) : \"\";\r\n  return filePath.replaceAll(\"%\", \"%25\") + postfix;\r\n}\r\nconst setupSIGTERMListener = (callback) => {\r\n  process.once(\"SIGTERM\", callback);\r\n  if (process.env.CI !== \"true\") {\r\n    process.stdin.on(\"end\", callback);\r\n  }\r\n};\r\nconst teardownSIGTERMListener = (callback) => {\r\n  process.off(\"SIGTERM\", callback);\r\n  if (process.env.CI !== \"true\") {\r\n    process.stdin.off(\"end\", callback);\r\n  }\r\n};\r\n\r\nconst LogLevels = {\r\n  silent: 0,\r\n  error: 1,\r\n  warn: 2,\r\n  info: 3\r\n};\r\nlet lastType;\r\nlet lastMsg;\r\nlet sameCount = 0;\r\nfunction clearScreen() {\r\n  const repeatCount = process.stdout.rows - 2;\r\n  const blank = repeatCount > 0 ? \"\\n\".repeat(repeatCount) : \"\";\r\n  console.log(blank);\r\n  readline.cursorTo(process.stdout, 0, 0);\r\n  readline.clearScreenDown(process.stdout);\r\n}\r\nlet timeFormatter;\r\nfunction getTimeFormatter() {\r\n  timeFormatter ??= new Intl.DateTimeFormat(void 0, {\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n    second: \"numeric\"\r\n  });\r\n  return timeFormatter;\r\n}\r\nfunction createLogger(level = \"info\", options = {}) {\r\n  if (options.customLogger) {\r\n    return options.customLogger;\r\n  }\r\n  const loggedErrors = /* @__PURE__ */ new WeakSet();\r\n  const { prefix = \"[vite]\", allowClearScreen = true } = options;\r\n  const thresh = LogLevels[level];\r\n  const canClearScreen = allowClearScreen && process.stdout.isTTY && !process.env.CI;\r\n  const clear = canClearScreen ? clearScreen : () => {\r\n  };\r\n  function format(type, msg, options2 = {}) {\r\n    if (options2.timestamp) {\r\n      let tag = \"\";\r\n      if (type === \"info\") {\r\n        tag = colors$1.cyan(colors$1.bold(prefix));\r\n      } else if (type === \"warn\") {\r\n        tag = colors$1.yellow(colors$1.bold(prefix));\r\n      } else {\r\n        tag = colors$1.red(colors$1.bold(prefix));\r\n      }\r\n      return `${colors$1.dim(getTimeFormatter().format(/* @__PURE__ */ new Date()))} ${tag} ${msg}`;\r\n    } else {\r\n      return msg;\r\n    }\r\n  }\r\n  function output(type, msg, options2 = {}) {\r\n    if (thresh >= LogLevels[type]) {\r\n      const method = type === \"info\" ? \"log\" : type;\r\n      if (options2.error) {\r\n        loggedErrors.add(options2.error);\r\n      }\r\n      if (canClearScreen) {\r\n        if (type === lastType && msg === lastMsg) {\r\n          sameCount++;\r\n          clear();\r\n          console[method](\r\n            format(type, msg, options2),\r\n            colors$1.yellow(`(x${sameCount + 1})`)\r\n          );\r\n        } else {\r\n          sameCount = 0;\r\n          lastMsg = msg;\r\n          lastType = type;\r\n          if (options2.clear) {\r\n            clear();\r\n          }\r\n          console[method](format(type, msg, options2));\r\n        }\r\n      } else {\r\n        console[method](format(type, msg, options2));\r\n      }\r\n    }\r\n  }\r\n  const warnedMessages = /* @__PURE__ */ new Set();\r\n  const logger = {\r\n    hasWarned: false,\r\n    info(msg, opts) {\r\n      output(\"info\", msg, opts);\r\n    },\r\n    warn(msg, opts) {\r\n      logger.hasWarned = true;\r\n      output(\"warn\", msg, opts);\r\n    },\r\n    warnOnce(msg, opts) {\r\n      if (warnedMessages.has(msg)) return;\r\n      logger.hasWarned = true;\r\n      output(\"warn\", msg, opts);\r\n      warnedMessages.add(msg);\r\n    },\r\n    error(msg, opts) {\r\n      logger.hasWarned = true;\r\n      output(\"error\", msg, opts);\r\n    },\r\n    clearScreen(type) {\r\n      if (thresh >= LogLevels[type]) {\r\n        clear();\r\n      }\r\n    },\r\n    hasErrorLogged(error) {\r\n      return loggedErrors.has(error);\r\n    }\r\n  };\r\n  return logger;\r\n}\r\nfunction printServerUrls(urls, optionsHost, info) {\r\n  const colorUrl = (url) => colors$1.cyan(url.replace(/:(\\d+)\\//, (_, port) => `:${colors$1.bold(port)}/`));\r\n  for (const url of urls.local) {\r\n    info(`  ${colors$1.green(\"\\u279C\")}  ${colors$1.bold(\"Local\")}:   ${colorUrl(url)}`);\r\n  }\r\n  for (const url of urls.network) {\r\n    info(`  ${colors$1.green(\"\\u279C\")}  ${colors$1.bold(\"Network\")}: ${colorUrl(url)}`);\r\n  }\r\n  if (urls.network.length === 0 && optionsHost === void 0) {\r\n    info(\r\n      colors$1.dim(`  ${colors$1.green(\"\\u279C\")}  ${colors$1.bold(\"Network\")}: use `) + colors$1.bold(\"--host\") + colors$1.dim(\" to expose\")\r\n    );\r\n  }\r\n}\r\n\r\nconst groups = [\r\n  { name: \"Assets\", color: colors$1.green },\r\n  { name: \"CSS\", color: colors$1.magenta },\r\n  { name: \"JS\", color: colors$1.cyan }\r\n];\r\nconst COMPRESSIBLE_ASSETS_RE = /\\.(?:html|json|svg|txt|xml|xhtml)$/;\r\nfunction buildReporterPlugin(config) {\r\n  const compress = promisify$4(gzip);\r\n  const chunkLimit = config.build.chunkSizeWarningLimit;\r\n  const numberFormatter = new Intl.NumberFormat(\"en\", {\r\n    maximumFractionDigits: 2,\r\n    minimumFractionDigits: 2\r\n  });\r\n  const displaySize = (bytes) => {\r\n    return `${numberFormatter.format(bytes / 1e3)} kB`;\r\n  };\r\n  const tty = process.stdout.isTTY && !process.env.CI;\r\n  const shouldLogInfo = LogLevels[config.logLevel || \"info\"] >= LogLevels.info;\r\n  let hasTransformed = false;\r\n  let hasRenderedChunk = false;\r\n  let hasCompressChunk = false;\r\n  let transformedCount = 0;\r\n  let chunkCount = 0;\r\n  let compressedCount = 0;\r\n  async function getCompressedSize(code) {\r\n    if (config.build.ssr || !config.build.reportCompressedSize) {\r\n      return null;\r\n    }\r\n    if (shouldLogInfo && !hasCompressChunk) {\r\n      if (!tty) {\r\n        config.logger.info(\"computing gzip size...\");\r\n      } else {\r\n        writeLine(\"computing gzip size (0)...\");\r\n      }\r\n      hasCompressChunk = true;\r\n    }\r\n    const compressed = await compress(\r\n      typeof code === \"string\" ? code : Buffer.from(code)\r\n    );\r\n    compressedCount++;\r\n    if (shouldLogInfo && tty) {\r\n      writeLine(`computing gzip size (${compressedCount})...`);\r\n    }\r\n    return compressed.length;\r\n  }\r\n  const logTransform = throttle((id) => {\r\n    writeLine(\r\n      `transforming (${transformedCount}) ${colors$1.dim(\r\n        path$n.relative(config.root, id)\r\n      )}`\r\n    );\r\n  });\r\n  return {\r\n    name: \"vite:reporter\",\r\n    transform(_, id) {\r\n      transformedCount++;\r\n      if (shouldLogInfo) {\r\n        if (!tty) {\r\n          if (!hasTransformed) {\r\n            config.logger.info(`transforming...`);\r\n          }\r\n        } else {\r\n          if (id.includes(`?`)) return;\r\n          logTransform(id);\r\n        }\r\n        hasTransformed = true;\r\n      }\r\n      return null;\r\n    },\r\n    buildStart() {\r\n      transformedCount = 0;\r\n    },\r\n    buildEnd() {\r\n      if (shouldLogInfo) {\r\n        if (tty) {\r\n          clearLine$1();\r\n        }\r\n        config.logger.info(\r\n          `${colors$1.green(`\\u2713`)} ${transformedCount} modules transformed.`\r\n        );\r\n      }\r\n    },\r\n    renderStart() {\r\n      chunkCount = 0;\r\n      compressedCount = 0;\r\n    },\r\n    renderChunk(code, chunk, options) {\r\n      if (!options.inlineDynamicImports) {\r\n        for (const id of chunk.moduleIds) {\r\n          const module = this.getModuleInfo(id);\r\n          if (!module) continue;\r\n          if (module.importers.length && module.dynamicImporters.length) {\r\n            const detectedIneffectiveDynamicImport = module.dynamicImporters.some(\r\n              (id2) => !isInNodeModules$1(id2) && chunk.moduleIds.includes(id2)\r\n            );\r\n            if (detectedIneffectiveDynamicImport) {\r\n              this.warn(\r\n                `\r\n(!) ${module.id} is dynamically imported by ${module.dynamicImporters.join(\r\n                  \", \"\r\n                )} but also statically imported by ${module.importers.join(\r\n                  \", \"\r\n                )}, dynamic import will not move module into another chunk.\r\n`\r\n              );\r\n            }\r\n          }\r\n        }\r\n      }\r\n      chunkCount++;\r\n      if (shouldLogInfo) {\r\n        if (!tty) {\r\n          if (!hasRenderedChunk) {\r\n            config.logger.info(\"rendering chunks...\");\r\n          }\r\n        } else {\r\n          writeLine(`rendering chunks (${chunkCount})...`);\r\n        }\r\n        hasRenderedChunk = true;\r\n      }\r\n      return null;\r\n    },\r\n    generateBundle() {\r\n      if (shouldLogInfo && tty) clearLine$1();\r\n    },\r\n    async writeBundle({ dir: outDir }, output) {\r\n      let hasLargeChunks = false;\r\n      if (shouldLogInfo) {\r\n        const entries = (await Promise.all(\r\n          Object.values(output).map(\r\n            async (chunk) => {\r\n              if (chunk.type === \"chunk\") {\r\n                return {\r\n                  name: chunk.fileName,\r\n                  group: \"JS\",\r\n                  size: chunk.code.length,\r\n                  compressedSize: await getCompressedSize(chunk.code),\r\n                  mapSize: chunk.map ? chunk.map.toString().length : null\r\n                };\r\n              } else {\r\n                if (chunk.fileName.endsWith(\".map\")) return null;\r\n                const isCSS = chunk.fileName.endsWith(\".css\");\r\n                const isCompressible = isCSS || COMPRESSIBLE_ASSETS_RE.test(chunk.fileName);\r\n                return {\r\n                  name: chunk.fileName,\r\n                  group: isCSS ? \"CSS\" : \"Assets\",\r\n                  size: chunk.source.length,\r\n                  mapSize: null,\r\n                  // Rollup doesn't support CSS maps?\r\n                  compressedSize: isCompressible ? await getCompressedSize(chunk.source) : null\r\n                };\r\n              }\r\n            }\r\n          )\r\n        )).filter(isDefined);\r\n        if (tty) clearLine$1();\r\n        let longest = 0;\r\n        let biggestSize = 0;\r\n        let biggestMap = 0;\r\n        let biggestCompressSize = 0;\r\n        for (const entry of entries) {\r\n          if (entry.name.length > longest) longest = entry.name.length;\r\n          if (entry.size > biggestSize) biggestSize = entry.size;\r\n          if (entry.mapSize && entry.mapSize > biggestMap) {\r\n            biggestMap = entry.mapSize;\r\n          }\r\n          if (entry.compressedSize && entry.compressedSize > biggestCompressSize) {\r\n            biggestCompressSize = entry.compressedSize;\r\n          }\r\n        }\r\n        const sizePad = displaySize(biggestSize).length;\r\n        const mapPad = displaySize(biggestMap).length;\r\n        const compressPad = displaySize(biggestCompressSize).length;\r\n        const relativeOutDir = normalizePath$3(\r\n          path$n.relative(\r\n            config.root,\r\n            path$n.resolve(config.root, outDir ?? config.build.outDir)\r\n          )\r\n        );\r\n        const assetsDir = path$n.join(config.build.assetsDir, \"/\");\r\n        for (const group of groups) {\r\n          const filtered = entries.filter((e) => e.group === group.name);\r\n          if (!filtered.length) continue;\r\n          for (const entry of filtered.sort((a, z) => a.size - z.size)) {\r\n            const isLarge = group.name === \"JS\" && entry.size / 1e3 > chunkLimit;\r\n            if (isLarge) hasLargeChunks = true;\r\n            const sizeColor = isLarge ? colors$1.yellow : colors$1.dim;\r\n            let log = colors$1.dim(withTrailingSlash(relativeOutDir));\r\n            log += !config.build.lib && entry.name.startsWith(withTrailingSlash(assetsDir)) ? colors$1.dim(assetsDir) + group.color(\r\n              entry.name.slice(assetsDir.length).padEnd(longest + 2 - assetsDir.length)\r\n            ) : group.color(entry.name.padEnd(longest + 2));\r\n            log += colors$1.bold(\r\n              sizeColor(displaySize(entry.size).padStart(sizePad))\r\n            );\r\n            if (entry.compressedSize) {\r\n              log += colors$1.dim(\r\n                ` \\u2502 gzip: ${displaySize(entry.compressedSize).padStart(\r\n                  compressPad\r\n                )}`\r\n              );\r\n            }\r\n            if (entry.mapSize) {\r\n              log += colors$1.dim(\r\n                ` \\u2502 map: ${displaySize(entry.mapSize).padStart(mapPad)}`\r\n              );\r\n            }\r\n            config.logger.info(log);\r\n          }\r\n        }\r\n      } else {\r\n        hasLargeChunks = Object.values(output).some((chunk) => {\r\n          return chunk.type === \"chunk\" && chunk.code.length / 1e3 > chunkLimit;\r\n        });\r\n      }\r\n      if (hasLargeChunks && config.build.minify && !config.build.lib && !config.build.ssr) {\r\n        config.logger.warn(\r\n          colors$1.yellow(\r\n            `\r\n(!) Some chunks are larger than ${chunkLimit} kB after minification. Consider:\r\n- Using dynamic import() to code-split the application\r\n- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks\r\n- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.`\r\n          )\r\n        );\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction writeLine(output) {\r\n  clearLine$1();\r\n  if (output.length < process.stdout.columns) {\r\n    process.stdout.write(output);\r\n  } else {\r\n    process.stdout.write(output.substring(0, process.stdout.columns - 1));\r\n  }\r\n}\r\nfunction clearLine$1() {\r\n  process.stdout.clearLine(0);\r\n  process.stdout.cursorTo(0);\r\n}\r\nfunction throttle(fn) {\r\n  let timerHandle = null;\r\n  return (...args) => {\r\n    if (timerHandle) return;\r\n    fn(...args);\r\n    timerHandle = setTimeout(() => {\r\n      timerHandle = null;\r\n    }, 100);\r\n  };\r\n}\r\n\r\nconst POSIX_SEP_RE = new RegExp('\\\\' + path$n.posix.sep, 'g');\r\nconst NATIVE_SEP_RE = new RegExp('\\\\' + path$n.sep, 'g');\r\n/** @type {Map<string,RegExp>}*/\r\nconst PATTERN_REGEX_CACHE = new Map();\r\nconst GLOB_ALL_PATTERN = `**/*`;\r\nconst TS_EXTENSIONS = ['.ts', '.tsx', '.mts', '.cts'];\r\nconst JS_EXTENSIONS = ['.js', '.jsx', '.mjs', '.cjs'];\r\nconst TSJS_EXTENSIONS = TS_EXTENSIONS.concat(JS_EXTENSIONS);\r\nconst TS_EXTENSIONS_RE_GROUP = `\\\\.(?:${TS_EXTENSIONS.map((ext) => ext.substring(1)).join('|')})`;\r\nconst TSJS_EXTENSIONS_RE_GROUP = `\\\\.(?:${TSJS_EXTENSIONS.map((ext) => ext.substring(1)).join(\r\n\t'|'\r\n)})`;\r\nconst IS_POSIX = path$n.posix.sep === path$n.sep;\r\n\r\n/**\r\n * @template T\r\n * @returns {{resolve:(result:T)=>void, reject:(error:any)=>void, promise: Promise<T>}}\r\n */\r\nfunction makePromise() {\r\n\tlet resolve, reject;\r\n\tconst promise = new Promise((res, rej) => {\r\n\t\tresolve = res;\r\n\t\treject = rej;\r\n\t});\r\n\treturn { promise, resolve, reject };\r\n}\r\n\r\n/**\r\n * @param {string} filename\r\n * @param {import('./cache.js').TSConfckCache} [cache]\r\n * @returns {Promise<string|void>}\r\n */\r\nasync function resolveTSConfigJson(filename, cache) {\r\n\tif (path$n.extname(filename) !== '.json') {\r\n\t\treturn; // ignore files that are not json\r\n\t}\r\n\tconst tsconfig = path$n.resolve(filename);\r\n\tif (cache && (cache.hasParseResult(tsconfig) || cache.hasParseResult(filename))) {\r\n\t\treturn tsconfig;\r\n\t}\r\n\treturn promises$1.stat(tsconfig).then((stat) => {\r\n\t\tif (stat.isFile() || stat.isFIFO()) {\r\n\t\t\treturn tsconfig;\r\n\t\t} else {\r\n\t\t\tthrow new Error(`${filename} exists but is not a regular file.`);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} dir an absolute directory path\r\n * @returns {boolean}  if dir path includes a node_modules segment\r\n */\r\nconst isInNodeModules = IS_POSIX\r\n\t? (dir) => dir.includes('/node_modules/')\r\n\t: (dir) => dir.match(/[/\\\\]node_modules[/\\\\]/);\r\n\r\n/**\r\n * convert posix separator to native separator\r\n *\r\n * eg.\r\n * windows: C:/foo/bar -> c:\\foo\\bar\r\n * linux: /foo/bar -> /foo/bar\r\n *\r\n * @param {string} filename with posix separators\r\n * @returns {string} filename with native separators\r\n */\r\nconst posix2native = IS_POSIX\r\n\t? (filename) => filename\r\n\t: (filename) => filename.replace(POSIX_SEP_RE, path$n.sep);\r\n\r\n/**\r\n * convert native separator to posix separator\r\n *\r\n * eg.\r\n * windows: C:\\foo\\bar -> c:/foo/bar\r\n * linux: /foo/bar -> /foo/bar\r\n *\r\n * @param {string} filename - filename with native separators\r\n * @returns {string} filename with posix separators\r\n */\r\nconst native2posix = IS_POSIX\r\n\t? (filename) => filename\r\n\t: (filename) => filename.replace(NATIVE_SEP_RE, path$n.posix.sep);\r\n\r\n/**\r\n * converts params to native separator, resolves path and converts native back to posix\r\n *\r\n * needed on windows to handle posix paths in tsconfig\r\n *\r\n * @param dir {string|null} directory to resolve from\r\n * @param filename {string} filename or pattern to resolve\r\n * @returns string\r\n */\r\nconst resolve2posix = IS_POSIX\r\n\t? (dir, filename) => (dir ? path$n.resolve(dir, filename) : path$n.resolve(filename))\r\n\t: (dir, filename) =>\r\n\t\t\tnative2posix(\r\n\t\t\t\tdir\r\n\t\t\t\t\t? path$n.resolve(posix2native(dir), posix2native(filename))\r\n\t\t\t\t\t: path$n.resolve(posix2native(filename))\r\n\t\t\t);\r\n\r\n/**\r\n *\r\n * @param {import('./public.d.ts').TSConfckParseResult} result\r\n * @param {import('./public.d.ts').TSConfckParseOptions} [options]\r\n * @returns {string[]}\r\n */\r\nfunction resolveReferencedTSConfigFiles(result, options) {\r\n\tconst dir = path$n.dirname(result.tsconfigFile);\r\n\treturn result.tsconfig.references.map((ref) => {\r\n\t\tconst refPath = ref.path.endsWith('.json')\r\n\t\t\t? ref.path\r\n\t\t\t: path$n.join(ref.path, options?.configName ?? 'tsconfig.json');\r\n\t\treturn resolve2posix(dir, refPath);\r\n\t});\r\n}\r\n\r\n/**\r\n * @param {string} filename\r\n * @param {import('./public.d.ts').TSConfckParseResult} result\r\n * @returns {import('./public.d.ts').TSConfckParseResult}\r\n */\r\nfunction resolveSolutionTSConfig(filename, result) {\r\n\tconst allowJs = result.tsconfig.compilerOptions?.allowJs;\r\n\tconst extensions = allowJs ? TSJS_EXTENSIONS : TS_EXTENSIONS;\r\n\tif (\r\n\t\tresult.referenced &&\r\n\t\textensions.some((ext) => filename.endsWith(ext)) &&\r\n\t\t!isIncluded(filename, result)\r\n\t) {\r\n\t\tconst solutionTSConfig = result.referenced.find((referenced) =>\r\n\t\t\tisIncluded(filename, referenced)\r\n\t\t);\r\n\t\tif (solutionTSConfig) {\r\n\t\t\treturn solutionTSConfig;\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} filename\r\n * @param {import('./public.d.ts').TSConfckParseResult} result\r\n * @returns {boolean}\r\n */\r\nfunction isIncluded(filename, result) {\r\n\tconst dir = native2posix(path$n.dirname(result.tsconfigFile));\r\n\tconst files = (result.tsconfig.files || []).map((file) => resolve2posix(dir, file));\r\n\tconst absoluteFilename = resolve2posix(null, filename);\r\n\tif (files.includes(filename)) {\r\n\t\treturn true;\r\n\t}\r\n\tconst allowJs = result.tsconfig.compilerOptions?.allowJs;\r\n\tconst isIncluded = isGlobMatch(\r\n\t\tabsoluteFilename,\r\n\t\tdir,\r\n\t\tresult.tsconfig.include || (result.tsconfig.files ? [] : [GLOB_ALL_PATTERN]),\r\n\t\tallowJs\r\n\t);\r\n\tif (isIncluded) {\r\n\t\tconst isExcluded = isGlobMatch(absoluteFilename, dir, result.tsconfig.exclude || [], allowJs);\r\n\t\treturn !isExcluded;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * test filenames agains glob patterns in tsconfig\r\n *\r\n * @param filename {string} posix style abolute path to filename to test\r\n * @param dir {string} posix style absolute path to directory of tsconfig containing patterns\r\n * @param patterns {string[]} glob patterns to match against\r\n * @param allowJs {boolean} allowJs setting in tsconfig to include js extensions in checks\r\n * @returns {boolean} true when at least one pattern matches filename\r\n */\r\nfunction isGlobMatch(filename, dir, patterns, allowJs) {\r\n\tconst extensions = allowJs ? TSJS_EXTENSIONS : TS_EXTENSIONS;\r\n\treturn patterns.some((pattern) => {\r\n\t\t// filename must end with part of pattern that comes after last wildcard\r\n\t\tlet lastWildcardIndex = pattern.length;\r\n\t\tlet hasWildcard = false;\r\n\t\tlet hasExtension = false;\r\n\t\tlet hasSlash = false;\r\n\t\tlet lastSlashIndex = -1;\r\n\t\tfor (let i = pattern.length - 1; i > -1; i--) {\r\n\t\t\tconst c = pattern[i];\r\n\t\t\tif (!hasWildcard) {\r\n\t\t\t\tif (c === '*' || c === '?') {\r\n\t\t\t\t\tlastWildcardIndex = i;\r\n\t\t\t\t\thasWildcard = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!hasSlash) {\r\n\t\t\t\tif (c === '.') {\r\n\t\t\t\t\thasExtension = true;\r\n\t\t\t\t} else if (c === '/') {\r\n\t\t\t\t\tlastSlashIndex = i;\r\n\t\t\t\t\thasSlash = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (hasWildcard && hasSlash) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!hasExtension && (!hasWildcard || lastWildcardIndex < lastSlashIndex)) {\r\n\t\t\t// add implicit glob\r\n\t\t\tpattern += `${pattern.endsWith('/') ? '' : '/'}${GLOB_ALL_PATTERN}`;\r\n\t\t\tlastWildcardIndex = pattern.length - 1;\r\n\t\t\thasWildcard = true;\r\n\t\t}\r\n\r\n\t\t// if pattern does not end with wildcard, filename must end with pattern after last wildcard\r\n\t\tif (\r\n\t\t\tlastWildcardIndex < pattern.length - 1 &&\r\n\t\t\t!filename.endsWith(pattern.slice(lastWildcardIndex + 1))\r\n\t\t) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// if pattern ends with *, filename must end with a default extension\r\n\t\tif (pattern.endsWith('*') && !extensions.some((ext) => filename.endsWith(ext))) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// for **/* , filename must start with the dir\r\n\t\tif (pattern === GLOB_ALL_PATTERN) {\r\n\t\t\treturn filename.startsWith(`${dir}/`);\r\n\t\t}\r\n\r\n\t\tconst resolvedPattern = resolve2posix(dir, pattern);\r\n\r\n\t\t// filename must start with part of pattern that comes before first wildcard\r\n\t\tlet firstWildcardIndex = -1;\r\n\t\tfor (let i = 0; i < resolvedPattern.length; i++) {\r\n\t\t\tif (resolvedPattern[i] === '*' || resolvedPattern[i] === '?') {\r\n\t\t\t\tfirstWildcardIndex = i;\r\n\t\t\t\thasWildcard = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (\r\n\t\t\tfirstWildcardIndex > 1 &&\r\n\t\t\t!filename.startsWith(resolvedPattern.slice(0, firstWildcardIndex - 1))\r\n\t\t) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (!hasWildcard) {\r\n\t\t\t//  no wildcard in pattern, filename must be equal to resolved pattern\r\n\t\t\treturn filename === resolvedPattern;\r\n\t\t} else if (\r\n\t\t\tfirstWildcardIndex + GLOB_ALL_PATTERN.length ===\r\n\t\t\t\tresolvedPattern.length - (pattern.length - 1 - lastWildcardIndex) &&\r\n\t\t\tresolvedPattern.slice(firstWildcardIndex, firstWildcardIndex + GLOB_ALL_PATTERN.length) ===\r\n\t\t\t\tGLOB_ALL_PATTERN\r\n\t\t) {\r\n\t\t\t// singular glob-all pattern and we already validated prefix and suffix matches\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t// complex pattern, use regex to check it\r\n\t\tif (PATTERN_REGEX_CACHE.has(resolvedPattern)) {\r\n\t\t\treturn PATTERN_REGEX_CACHE.get(resolvedPattern).test(filename);\r\n\t\t}\r\n\t\tconst regex = pattern2regex(resolvedPattern, allowJs);\r\n\t\tPATTERN_REGEX_CACHE.set(resolvedPattern, regex);\r\n\t\treturn regex.test(filename);\r\n\t});\r\n}\r\n\r\n/**\r\n * @param {string} resolvedPattern\r\n * @param {boolean} allowJs\r\n * @returns {RegExp}\r\n */\r\nfunction pattern2regex(resolvedPattern, allowJs) {\r\n\tlet regexStr = '^';\r\n\tfor (let i = 0; i < resolvedPattern.length; i++) {\r\n\t\tconst char = resolvedPattern[i];\r\n\t\tif (char === '?') {\r\n\t\t\tregexStr += '[^\\\\/]';\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (char === '*') {\r\n\t\t\tif (resolvedPattern[i + 1] === '*' && resolvedPattern[i + 2] === '/') {\r\n\t\t\t\ti += 2;\r\n\t\t\t\tregexStr += '(?:[^\\\\/]*\\\\/)*'; // zero or more path segments\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tregexStr += '[^\\\\/]*';\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif ('/.+^${}()|[]\\\\'.includes(char)) {\r\n\t\t\tregexStr += `\\\\`;\r\n\t\t}\r\n\t\tregexStr += char;\r\n\t}\r\n\r\n\t// add known file endings if pattern ends on *\r\n\tif (resolvedPattern.endsWith('*')) {\r\n\t\tregexStr += allowJs ? TSJS_EXTENSIONS_RE_GROUP : TS_EXTENSIONS_RE_GROUP;\r\n\t}\r\n\tregexStr += '$';\r\n\r\n\treturn new RegExp(regexStr);\r\n}\r\n\r\n/**\r\n * replace tokens like ${configDir}\r\n * @param {any} tsconfig\r\n * @param {string} configDir\r\n * @returns {any}\r\n */\r\nfunction replaceTokens(tsconfig, configDir) {\r\n\treturn JSON.parse(\r\n\t\tJSON.stringify(tsconfig)\r\n\t\t\t// replace ${configDir}\r\n\t\t\t.replaceAll(/\"\\${configDir}/g, `\"${native2posix(configDir)}`)\r\n\t);\r\n}\r\n\r\n/**\r\n * find the closest tsconfig.json file\r\n *\r\n * @param {string} filename - path to file to find tsconfig for (absolute or relative to cwd)\r\n * @param {import('./public.d.ts').TSConfckFindOptions} [options] - options\r\n * @returns {Promise<string|null>} absolute path to closest tsconfig.json or null if not found\r\n */\r\nasync function find(filename, options) {\r\n\tlet dir = path$n.dirname(path$n.resolve(filename));\r\n\tif (options?.ignoreNodeModules && isInNodeModules(dir)) {\r\n\t\treturn null;\r\n\t}\r\n\tconst cache = options?.cache;\r\n\tconst configName = options?.configName ?? 'tsconfig.json';\r\n\tif (cache?.hasConfigPath(dir, configName)) {\r\n\t\treturn cache.getConfigPath(dir, configName);\r\n\t}\r\n\tconst { /** @type {Promise<string|null>} */ promise, resolve, reject } = makePromise();\r\n\tif (options?.root && !path$n.isAbsolute(options.root)) {\r\n\t\toptions.root = path$n.resolve(options.root);\r\n\t}\r\n\tfindUp(dir, { promise, resolve, reject }, options);\r\n\treturn promise;\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} dir\r\n * @param {{promise:Promise<string|null>,resolve:(result:string|null)=>void,reject:(err:any)=>void}} madePromise\r\n * @param {import('./public.d.ts').TSConfckFindOptions} [options] - options\r\n */\r\nfunction findUp(dir, { resolve, reject, promise }, options) {\r\n\tconst { cache, root, configName } = options ?? {};\r\n\tif (cache) {\r\n\t\tif (cache.hasConfigPath(dir, configName)) {\r\n\t\t\tlet cached;\r\n\t\t\ttry {\r\n\t\t\t\tcached = cache.getConfigPath(dir, configName);\r\n\t\t\t} catch (e) {\r\n\t\t\t\treject(e);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (cached?.then) {\r\n\t\t\t\tcached.then(resolve).catch(reject);\r\n\t\t\t} else {\r\n\t\t\t\tresolve(cached);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcache.setConfigPath(dir, promise, configName);\r\n\t\t}\r\n\t}\r\n\tconst tsconfig = path$n.join(dir, options?.configName ?? 'tsconfig.json');\r\n\tfs__default.stat(tsconfig, (err, stats) => {\r\n\t\tif (stats && (stats.isFile() || stats.isFIFO())) {\r\n\t\t\tresolve(tsconfig);\r\n\t\t} else if (err?.code !== 'ENOENT') {\r\n\t\t\treject(err);\r\n\t\t} else {\r\n\t\t\tlet parent;\r\n\t\t\tif (root === dir || (parent = path$n.dirname(dir)) === dir) {\r\n\t\t\t\tresolve(null);\r\n\t\t\t} else {\r\n\t\t\t\tfindUp(parent, { promise, resolve, reject }, options);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/*\r\n this file contains code from strip-bom and strip-json-comments by Sindre Sorhus\r\n https://github.com/sindresorhus/strip-json-comments/blob/v4.0.0/index.js\r\n https://github.com/sindresorhus/strip-bom/blob/v5.0.0/index.js\r\n licensed under MIT, see ../LICENSE\r\n*/\r\n\r\n/**\r\n * convert content of tsconfig.json to regular json\r\n *\r\n * @param {string} tsconfigJson - content of tsconfig.json\r\n * @returns {string} content as regular json, comments and dangling commas have been replaced with whitespace\r\n */\r\nfunction toJson(tsconfigJson) {\r\n\tconst stripped = stripDanglingComma(stripJsonComments(stripBom(tsconfigJson)));\r\n\tif (stripped.trim() === '') {\r\n\t\t// only whitespace left after stripping, return empty object so that JSON.parse still works\r\n\t\treturn '{}';\r\n\t} else {\r\n\t\treturn stripped;\r\n\t}\r\n}\r\n\r\n/**\r\n * replace dangling commas from pseudo-json string with single space\r\n * implementation heavily inspired by strip-json-comments\r\n *\r\n * @param {string} pseudoJson\r\n * @returns {string}\r\n */\r\nfunction stripDanglingComma(pseudoJson) {\r\n\tlet insideString = false;\r\n\tlet offset = 0;\r\n\tlet result = '';\r\n\tlet danglingCommaPos = null;\r\n\tfor (let i = 0; i < pseudoJson.length; i++) {\r\n\t\tconst currentCharacter = pseudoJson[i];\r\n\t\tif (currentCharacter === '\"') {\r\n\t\t\tconst escaped = isEscaped(pseudoJson, i);\r\n\t\t\tif (!escaped) {\r\n\t\t\t\tinsideString = !insideString;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (insideString) {\r\n\t\t\tdanglingCommaPos = null;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (currentCharacter === ',') {\r\n\t\t\tdanglingCommaPos = i;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif (danglingCommaPos) {\r\n\t\t\tif (currentCharacter === '}' || currentCharacter === ']') {\r\n\t\t\t\tresult += pseudoJson.slice(offset, danglingCommaPos) + ' ';\r\n\t\t\t\toffset = danglingCommaPos + 1;\r\n\t\t\t\tdanglingCommaPos = null;\r\n\t\t\t} else if (!currentCharacter.match(/\\s/)) {\r\n\t\t\t\tdanglingCommaPos = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn result + pseudoJson.substring(offset);\r\n}\r\n\r\n// start strip-json-comments\r\n/**\r\n *\r\n * @param {string} jsonString\r\n * @param {number} quotePosition\r\n * @returns {boolean}\r\n */\r\nfunction isEscaped(jsonString, quotePosition) {\r\n\tlet index = quotePosition - 1;\r\n\tlet backslashCount = 0;\r\n\r\n\twhile (jsonString[index] === '\\\\') {\r\n\t\tindex -= 1;\r\n\t\tbackslashCount += 1;\r\n\t}\r\n\r\n\treturn Boolean(backslashCount % 2);\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} string\r\n * @param {number?} start\r\n * @param {number?} end\r\n */\r\nfunction strip(string, start, end) {\r\n\treturn string.slice(start, end).replace(/\\S/g, ' ');\r\n}\r\n\r\nconst singleComment = Symbol('singleComment');\r\nconst multiComment = Symbol('multiComment');\r\n\r\n/**\r\n * @param {string} jsonString\r\n * @returns {string}\r\n */\r\nfunction stripJsonComments(jsonString) {\r\n\tlet isInsideString = false;\r\n\t/** @type {false | symbol} */\r\n\tlet isInsideComment = false;\r\n\tlet offset = 0;\r\n\tlet result = '';\r\n\r\n\tfor (let index = 0; index < jsonString.length; index++) {\r\n\t\tconst currentCharacter = jsonString[index];\r\n\t\tconst nextCharacter = jsonString[index + 1];\r\n\r\n\t\tif (!isInsideComment && currentCharacter === '\"') {\r\n\t\t\tconst escaped = isEscaped(jsonString, index);\r\n\t\t\tif (!escaped) {\r\n\t\t\t\tisInsideString = !isInsideString;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isInsideString) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (!isInsideComment && currentCharacter + nextCharacter === '//') {\r\n\t\t\tresult += jsonString.slice(offset, index);\r\n\t\t\toffset = index;\r\n\t\t\tisInsideComment = singleComment;\r\n\t\t\tindex++;\r\n\t\t} else if (isInsideComment === singleComment && currentCharacter + nextCharacter === '\\r\\n') {\r\n\t\t\tindex++;\r\n\t\t\tisInsideComment = false;\r\n\t\t\tresult += strip(jsonString, offset, index);\r\n\t\t\toffset = index;\r\n\t\t} else if (isInsideComment === singleComment && currentCharacter === '\\n') {\r\n\t\t\tisInsideComment = false;\r\n\t\t\tresult += strip(jsonString, offset, index);\r\n\t\t\toffset = index;\r\n\t\t} else if (!isInsideComment && currentCharacter + nextCharacter === '/*') {\r\n\t\t\tresult += jsonString.slice(offset, index);\r\n\t\t\toffset = index;\r\n\t\t\tisInsideComment = multiComment;\r\n\t\t\tindex++;\r\n\t\t} else if (isInsideComment === multiComment && currentCharacter + nextCharacter === '*/') {\r\n\t\t\tindex++;\r\n\t\t\tisInsideComment = false;\r\n\t\t\tresult += strip(jsonString, offset, index + 1);\r\n\t\t\toffset = index + 1;\r\n\t\t}\r\n\t}\r\n\r\n\treturn result + (isInsideComment ? strip(jsonString.slice(offset)) : jsonString.slice(offset));\r\n}\r\n// end strip-json-comments\r\n\r\n// start strip-bom\r\n/**\r\n * @param {string} string\r\n * @returns {string}\r\n */\r\nfunction stripBom(string) {\r\n\t// Catches EFBBBF (UTF-8 BOM) because the buffer-to-string\r\n\t// conversion translates it to FEFF (UTF-16 BOM).\r\n\tif (string.charCodeAt(0) === 0xfeff) {\r\n\t\treturn string.slice(1);\r\n\t}\r\n\treturn string;\r\n}\r\n// end strip-bom\r\n\r\nconst not_found_result = {\r\n\ttsconfigFile: null,\r\n\ttsconfig: {}\r\n};\r\n\r\n/**\r\n * parse the closest tsconfig.json file\r\n *\r\n * @param {string} filename - path to a tsconfig .json or a source file or directory (absolute or relative to cwd)\r\n * @param {import('./public.d.ts').TSConfckParseOptions} [options] - options\r\n * @returns {Promise<import('./public.d.ts').TSConfckParseResult>}\r\n * @throws {TSConfckParseError}\r\n */\r\nasync function parse$e(filename, options) {\r\n\t/** @type {import('./cache.js').TSConfckCache} */\r\n\tconst cache = options?.cache;\r\n\tif (cache?.hasParseResult(filename)) {\r\n\t\treturn getParsedDeep(filename, cache, options);\r\n\t}\r\n\tconst {\r\n\t\tresolve,\r\n\t\treject,\r\n\t\t/** @type {Promise<import('./public.d.ts').TSConfckParseResult>}*/\r\n\t\tpromise\r\n\t} = makePromise();\r\n\tcache?.setParseResult(filename, promise, true);\r\n\ttry {\r\n\t\tlet tsconfigFile =\r\n\t\t\t(await resolveTSConfigJson(filename, cache)) || (await find(filename, options));\r\n\t\tif (!tsconfigFile) {\r\n\t\t\tresolve(not_found_result);\r\n\t\t\treturn promise;\r\n\t\t}\r\n\t\tlet result;\r\n\t\tif (filename !== tsconfigFile && cache?.hasParseResult(tsconfigFile)) {\r\n\t\t\tresult = await getParsedDeep(tsconfigFile, cache, options);\r\n\t\t} else {\r\n\t\t\tresult = await parseFile$1(tsconfigFile, cache, filename === tsconfigFile);\r\n\t\t\tawait Promise.all([parseExtends(result, cache), parseReferences(result, options)]);\r\n\t\t}\r\n\t\tresult.tsconfig = replaceTokens(result.tsconfig, path$n.dirname(tsconfigFile));\r\n\t\tresolve(resolveSolutionTSConfig(filename, result));\r\n\t} catch (e) {\r\n\t\treject(e);\r\n\t}\r\n\treturn promise;\r\n}\r\n\r\n/**\r\n * ensure extends and references are parsed\r\n *\r\n * @param {string} filename - cached file\r\n * @param {import('./cache.js').TSConfckCache} cache - cache\r\n * @param {import('./public.d.ts').TSConfckParseOptions} options - options\r\n */\r\nasync function getParsedDeep(filename, cache, options) {\r\n\tconst result = await cache.getParseResult(filename);\r\n\tif (\r\n\t\t(result.tsconfig.extends && !result.extended) ||\r\n\t\t(result.tsconfig.references && !result.referenced)\r\n\t) {\r\n\t\tconst promise = Promise.all([\r\n\t\t\tparseExtends(result, cache),\r\n\t\t\tparseReferences(result, options)\r\n\t\t]).then(() => result);\r\n\t\tcache.setParseResult(filename, promise, true);\r\n\t\treturn promise;\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} tsconfigFile - path to tsconfig file\r\n * @param {import('./cache.js').TSConfckCache} [cache] - cache\r\n * @param {boolean} [skipCache] - skip cache\r\n * @returns {Promise<import('./public.d.ts').TSConfckParseResult>}\r\n */\r\nasync function parseFile$1(tsconfigFile, cache, skipCache) {\r\n\tif (\r\n\t\t!skipCache &&\r\n\t\tcache?.hasParseResult(tsconfigFile) &&\r\n\t\t!cache.getParseResult(tsconfigFile)._isRootFile_\r\n\t) {\r\n\t\treturn cache.getParseResult(tsconfigFile);\r\n\t}\r\n\tconst promise = promises$1\r\n\t\t.readFile(tsconfigFile, 'utf-8')\r\n\t\t.then(toJson)\r\n\t\t.then((json) => {\r\n\t\t\tconst parsed = JSON.parse(json);\r\n\t\t\tapplyDefaults(parsed, tsconfigFile);\r\n\t\t\treturn {\r\n\t\t\t\ttsconfigFile,\r\n\t\t\t\ttsconfig: normalizeTSConfig(parsed, path$n.dirname(tsconfigFile))\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch((e) => {\r\n\t\t\tthrow new TSConfckParseError(\r\n\t\t\t\t`parsing ${tsconfigFile} failed: ${e}`,\r\n\t\t\t\t'PARSE_FILE',\r\n\t\t\t\ttsconfigFile,\r\n\t\t\t\te\r\n\t\t\t);\r\n\t\t});\r\n\tif (\r\n\t\t!skipCache &&\r\n\t\t(!cache?.hasParseResult(tsconfigFile) || !cache.getParseResult(tsconfigFile)._isRootFile_)\r\n\t) {\r\n\t\tcache?.setParseResult(tsconfigFile, promise);\r\n\t}\r\n\treturn promise;\r\n}\r\n\r\n/**\r\n * normalize to match the output of ts.parseJsonConfigFileContent\r\n *\r\n * @param {any} tsconfig - typescript tsconfig output\r\n * @param {string} dir - directory\r\n */\r\nfunction normalizeTSConfig(tsconfig, dir) {\r\n\t// set baseUrl to absolute path\r\n\tconst baseUrl = tsconfig.compilerOptions?.baseUrl;\r\n\tif (baseUrl && !baseUrl.startsWith('${') && !path$n.isAbsolute(baseUrl)) {\r\n\t\ttsconfig.compilerOptions.baseUrl = resolve2posix(dir, baseUrl);\r\n\t}\r\n\treturn tsconfig;\r\n}\r\n\r\n/**\r\n *\r\n * @param {import('./public.d.ts').TSConfckParseResult} result\r\n * @param {import('./public.d.ts').TSConfckParseOptions} [options]\r\n * @returns {Promise<void>}\r\n */\r\nasync function parseReferences(result, options) {\r\n\tif (!result.tsconfig.references) {\r\n\t\treturn;\r\n\t}\r\n\tconst referencedFiles = resolveReferencedTSConfigFiles(result, options);\r\n\tconst referenced = await Promise.all(\r\n\t\treferencedFiles.map((file) => parseFile$1(file, options?.cache))\r\n\t);\r\n\tawait Promise.all(referenced.map((ref) => parseExtends(ref, options?.cache)));\r\n\treferenced.forEach((ref) => {\r\n\t\tref.solution = result;\r\n\t});\r\n\tresult.referenced = referenced;\r\n}\r\n\r\n/**\r\n * @param {import('./public.d.ts').TSConfckParseResult} result\r\n * @param {import('./cache.js').TSConfckCache}[cache]\r\n * @returns {Promise<void>}\r\n */\r\nasync function parseExtends(result, cache) {\r\n\tif (!result.tsconfig.extends) {\r\n\t\treturn;\r\n\t}\r\n\t// use result as first element in extended\r\n\t// but dereference tsconfig so that mergeExtended can modify the original without affecting extended[0]\r\n\t/** @type {import('./public.d.ts').TSConfckParseResult[]} */\r\n\tconst extended = [\r\n\t\t{ tsconfigFile: result.tsconfigFile, tsconfig: JSON.parse(JSON.stringify(result.tsconfig)) }\r\n\t];\r\n\r\n\t// flatten extends graph into extended\r\n\tlet pos = 0;\r\n\t/** @type {string[]} */\r\n\tconst extendsPath = [];\r\n\tlet currentBranchDepth = 0;\r\n\twhile (pos < extended.length) {\r\n\t\tconst extending = extended[pos];\r\n\t\textendsPath.push(extending.tsconfigFile);\r\n\t\tif (extending.tsconfig.extends) {\r\n\t\t\t// keep following this branch\r\n\t\t\tcurrentBranchDepth += 1;\r\n\t\t\t/** @type {string[]} */\r\n\t\t\tlet resolvedExtends;\r\n\t\t\tif (!Array.isArray(extending.tsconfig.extends)) {\r\n\t\t\t\tresolvedExtends = [resolveExtends(extending.tsconfig.extends, extending.tsconfigFile)];\r\n\t\t\t} else {\r\n\t\t\t\t// reverse because typescript 5.0 treats ['a','b','c'] as c extends b extends a\r\n\t\t\t\tresolvedExtends = extending.tsconfig.extends\r\n\t\t\t\t\t.reverse()\r\n\t\t\t\t\t.map((ex) => resolveExtends(ex, extending.tsconfigFile));\r\n\t\t\t}\r\n\r\n\t\t\tconst circularExtends = resolvedExtends.find((tsconfigFile) =>\r\n\t\t\t\textendsPath.includes(tsconfigFile)\r\n\t\t\t);\r\n\t\t\tif (circularExtends) {\r\n\t\t\t\tconst circle = extendsPath.concat([circularExtends]).join(' -> ');\r\n\t\t\t\tthrow new TSConfckParseError(\r\n\t\t\t\t\t`Circular dependency in \"extends\": ${circle}`,\r\n\t\t\t\t\t'EXTENDS_CIRCULAR',\r\n\t\t\t\t\tresult.tsconfigFile\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t// add new extends to the list directly after current\r\n\t\t\textended.splice(\r\n\t\t\t\tpos + 1,\r\n\t\t\t\t0,\r\n\t\t\t\t...(await Promise.all(resolvedExtends.map((file) => parseFile$1(file, cache))))\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\t// reached a leaf, backtrack to the last branching point and continue\r\n\t\t\textendsPath.splice(-currentBranchDepth);\r\n\t\t\tcurrentBranchDepth = 0;\r\n\t\t}\r\n\t\tpos = pos + 1;\r\n\t}\r\n\tresult.extended = extended;\r\n\t// skip first as it is the original config\r\n\tfor (const ext of result.extended.slice(1)) {\r\n\t\textendTSConfig(result, ext);\r\n\t}\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} extended\r\n * @param {string} from\r\n * @returns {string}\r\n */\r\nfunction resolveExtends(extended, from) {\r\n\tif (extended === '..') {\r\n\t\t// see #149\r\n\t\textended = '../tsconfig.json';\r\n\t}\r\n\tconst req = createRequire$2(from);\r\n\tlet error;\r\n\ttry {\r\n\t\treturn req.resolve(extended);\r\n\t} catch (e) {\r\n\t\terror = e;\r\n\t}\r\n\tif (extended[0] !== '.' && !path$n.isAbsolute(extended)) {\r\n\t\ttry {\r\n\t\t\treturn req.resolve(`${extended}/tsconfig.json`);\r\n\t\t} catch (e) {\r\n\t\t\terror = e;\r\n\t\t}\r\n\t}\r\n\r\n\tthrow new TSConfckParseError(\r\n\t\t`failed to resolve \"extends\":\"${extended}\" in ${from}`,\r\n\t\t'EXTENDS_RESOLVE',\r\n\t\tfrom,\r\n\t\terror\r\n\t);\r\n}\r\n\r\n// references, extends and custom keys are not carried over\r\nconst EXTENDABLE_KEYS = [\r\n\t'compilerOptions',\r\n\t'files',\r\n\t'include',\r\n\t'exclude',\r\n\t'watchOptions',\r\n\t'compileOnSave',\r\n\t'typeAcquisition',\r\n\t'buildOptions'\r\n];\r\n\r\n/**\r\n *\r\n * @param {import('./public.d.ts').TSConfckParseResult} extending\r\n * @param {import('./public.d.ts').TSConfckParseResult} extended\r\n * @returns void\r\n */\r\nfunction extendTSConfig(extending, extended) {\r\n\tconst extendingConfig = extending.tsconfig;\r\n\tconst extendedConfig = extended.tsconfig;\r\n\tconst relativePath = native2posix(\r\n\t\tpath$n.relative(path$n.dirname(extending.tsconfigFile), path$n.dirname(extended.tsconfigFile))\r\n\t);\r\n\tfor (const key of Object.keys(extendedConfig).filter((key) => EXTENDABLE_KEYS.includes(key))) {\r\n\t\tif (key === 'compilerOptions') {\r\n\t\t\tif (!extendingConfig.compilerOptions) {\r\n\t\t\t\textendingConfig.compilerOptions = {};\r\n\t\t\t}\r\n\t\t\tfor (const option of Object.keys(extendedConfig.compilerOptions)) {\r\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(extendingConfig.compilerOptions, option)) {\r\n\t\t\t\t\tcontinue; // already set\r\n\t\t\t\t}\r\n\t\t\t\textendingConfig.compilerOptions[option] = rebaseRelative(\r\n\t\t\t\t\toption,\r\n\t\t\t\t\textendedConfig.compilerOptions[option],\r\n\t\t\t\t\trelativePath\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else if (extendingConfig[key] === undefined) {\r\n\t\t\tif (key === 'watchOptions') {\r\n\t\t\t\textendingConfig.watchOptions = {};\r\n\t\t\t\tfor (const option of Object.keys(extendedConfig.watchOptions)) {\r\n\t\t\t\t\textendingConfig.watchOptions[option] = rebaseRelative(\r\n\t\t\t\t\t\toption,\r\n\t\t\t\t\t\textendedConfig.watchOptions[option],\r\n\t\t\t\t\t\trelativePath\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\textendingConfig[key] = rebaseRelative(key, extendedConfig[key], relativePath);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst REBASE_KEYS = [\r\n\t// root\r\n\t'files',\r\n\t'include',\r\n\t'exclude',\r\n\t// compilerOptions\r\n\t'baseUrl',\r\n\t'rootDir',\r\n\t'rootDirs',\r\n\t'typeRoots',\r\n\t'outDir',\r\n\t'outFile',\r\n\t'declarationDir',\r\n\t// watchOptions\r\n\t'excludeDirectories',\r\n\t'excludeFiles'\r\n];\r\n\r\n/** @typedef {string | string[]} PathValue */\r\n\r\n/**\r\n *\r\n * @param {string} key\r\n * @param {PathValue} value\r\n * @param {string} prependPath\r\n * @returns {PathValue}\r\n */\r\nfunction rebaseRelative(key, value, prependPath) {\r\n\tif (!REBASE_KEYS.includes(key)) {\r\n\t\treturn value;\r\n\t}\r\n\tif (Array.isArray(value)) {\r\n\t\treturn value.map((x) => rebasePath(x, prependPath));\r\n\t} else {\r\n\t\treturn rebasePath(value, prependPath);\r\n\t}\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} value\r\n * @param {string} prependPath\r\n * @returns {string}\r\n */\r\nfunction rebasePath(value, prependPath) {\r\n\tif (path$n.isAbsolute(value) || value.startsWith('${configDir}')) {\r\n\t\treturn value;\r\n\t} else {\r\n\t\t// relative paths use posix syntax in tsconfig\r\n\t\treturn path$n.posix.normalize(path$n.posix.join(prependPath, value));\r\n\t}\r\n}\r\n\r\nclass TSConfckParseError extends Error {\r\n\t/**\r\n\t * error code\r\n\t * @type {string}\r\n\t */\r\n\tcode;\r\n\t/**\r\n\t * error cause\r\n\t * @type { Error | undefined}\r\n\t */\r\n\tcause;\r\n\r\n\t/**\r\n\t * absolute path of tsconfig file where the error happened\r\n\t * @type {string}\r\n\t */\r\n\ttsconfigFile;\r\n\t/**\r\n\t *\r\n\t * @param {string} message - error message\r\n\t * @param {string} code - error code\r\n\t * @param {string} tsconfigFile - path to tsconfig file\r\n\t * @param {Error?} cause - cause of this error\r\n\t */\r\n\tconstructor(message, code, tsconfigFile, cause) {\r\n\t\tsuper(message);\r\n\t\t// Set the prototype explicitly.\r\n\t\tObject.setPrototypeOf(this, TSConfckParseError.prototype);\r\n\t\tthis.name = TSConfckParseError.name;\r\n\t\tthis.code = code;\r\n\t\tthis.cause = cause;\r\n\t\tthis.tsconfigFile = tsconfigFile;\r\n\t}\r\n}\r\n\r\n/**\r\n *\r\n * @param {any} tsconfig\r\n * @param {string} tsconfigFile\r\n */\r\nfunction applyDefaults(tsconfig, tsconfigFile) {\r\n\tif (isJSConfig(tsconfigFile)) {\r\n\t\ttsconfig.compilerOptions = {\r\n\t\t\t...DEFAULT_JSCONFIG_COMPILER_OPTIONS,\r\n\t\t\t...tsconfig.compilerOptions\r\n\t\t};\r\n\t}\r\n}\r\n\r\nconst DEFAULT_JSCONFIG_COMPILER_OPTIONS = {\r\n\tallowJs: true,\r\n\tmaxNodeModuleJsDepth: 2,\r\n\tallowSyntheticDefaultImports: true,\r\n\tskipLibCheck: true,\r\n\tnoEmit: true\r\n};\r\n\r\n/**\r\n * @param {string} configFileName\r\n */\r\nfunction isJSConfig(configFileName) {\r\n\treturn path$n.basename(configFileName) === 'jsconfig.json';\r\n}\r\n\r\n/** @template T */\r\nclass TSConfckCache {\r\n\t/**\r\n\t * clear cache, use this if you have a long running process and tsconfig files have been added,changed or deleted\r\n\t */\r\n\tclear() {\r\n\t\tthis.#configPaths.clear();\r\n\t\tthis.#parsed.clear();\r\n\t}\r\n\r\n\t/**\r\n\t * has cached closest config for files in dir\r\n\t * @param {string} dir\r\n\t * @param {string} [configName=tsconfig.json]\r\n\t * @returns {boolean}\r\n\t */\r\n\thasConfigPath(dir, configName = 'tsconfig.json') {\r\n\t\treturn this.#configPaths.has(`${dir}/${configName}`);\r\n\t}\r\n\r\n\t/**\r\n\t * get cached closest tsconfig for files in dir\r\n\t * @param {string} dir\r\n\t * @param {string} [configName=tsconfig.json]\r\n\t * @returns {Promise<string|null>|string|null}\r\n\t * @throws {unknown} if cached value is an error\r\n\t */\r\n\tgetConfigPath(dir, configName = 'tsconfig.json') {\r\n\t\tconst key = `${dir}/${configName}`;\r\n\t\tconst value = this.#configPaths.get(key);\r\n\t\tif (value == null || value.length || value.then) {\r\n\t\t\treturn value;\r\n\t\t} else {\r\n\t\t\tthrow value;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * has parsed tsconfig for file\r\n\t * @param {string} file\r\n\t * @returns {boolean}\r\n\t */\r\n\thasParseResult(file) {\r\n\t\treturn this.#parsed.has(file);\r\n\t}\r\n\r\n\t/**\r\n\t * get parsed tsconfig for file\r\n\t * @param {string} file\r\n\t * @returns {Promise<T>|T}\r\n\t * @throws {unknown} if cached value is an error\r\n\t */\r\n\tgetParseResult(file) {\r\n\t\tconst value = this.#parsed.get(file);\r\n\t\tif (value.then || value.tsconfig) {\r\n\t\t\treturn value;\r\n\t\t} else {\r\n\t\t\tthrow value; // cached error, rethrow\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @internal\r\n\t * @private\r\n\t * @param file\r\n\t * @param {boolean} isRootFile a flag to check if current file which involking the parse() api, used to distinguish the normal cache which only parsed by parseFile()\r\n\t * @param {Promise<T>} result\r\n\t */\r\n\tsetParseResult(file, result, isRootFile = false) {\r\n\t\t// _isRootFile_ is a temporary property for Promise result, used to prevent deadlock with cache\r\n\t\tObject.defineProperty(result, '_isRootFile_', {\r\n\t\t\tvalue: isRootFile,\r\n\t\t\twritable: false,\r\n\t\t\tenumerable: false,\r\n\t\t\tconfigurable: false\r\n\t\t});\r\n\t\tthis.#parsed.set(file, result);\r\n\t\tresult\r\n\t\t\t.then((parsed) => {\r\n\t\t\t\tif (this.#parsed.get(file) === result) {\r\n\t\t\t\t\tthis.#parsed.set(file, parsed);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (this.#parsed.get(file) === result) {\r\n\t\t\t\t\tthis.#parsed.set(file, e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @internal\r\n\t * @private\r\n\t * @param {string} dir\r\n\t * @param {Promise<string|null>} configPath\r\n\t * @param {string} [configName=tsconfig.json]\r\n\t */\r\n\tsetConfigPath(dir, configPath, configName = 'tsconfig.json') {\r\n\t\tconst key = `${dir}/${configName}`;\r\n\t\tthis.#configPaths.set(key, configPath);\r\n\t\tconfigPath\r\n\t\t\t.then((path) => {\r\n\t\t\t\tif (this.#configPaths.get(key) === configPath) {\r\n\t\t\t\t\tthis.#configPaths.set(key, path);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (this.#configPaths.get(key) === configPath) {\r\n\t\t\t\t\tthis.#configPaths.set(key, e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * map directories to their closest tsconfig.json\r\n\t * @internal\r\n\t * @private\r\n\t * @type{Map<string,(Promise<string|null>|string|null)>}\r\n\t */\r\n\t#configPaths = new Map();\r\n\r\n\t/**\r\n\t * map files to their parsed tsconfig result\r\n\t * @internal\r\n\t * @private\r\n\t * @type {Map<string,(Promise<T>|T)> }\r\n\t */\r\n\t#parsed = new Map();\r\n}\r\n\r\nconst debug$h = createDebugger(\"vite:esbuild\");\r\nconst IIFE_BEGIN_RE = /(?:const|var)\\s+\\S+\\s*=\\s*function\\([^()]*\\)\\s*\\{\\s*\"use strict\";/;\r\nconst validExtensionRE = /\\.\\w+$/;\r\nconst jsxExtensionsRE = /\\.(?:j|t)sx\\b/;\r\nconst defaultEsbuildSupported = {\r\n  \"dynamic-import\": true,\r\n  \"import-meta\": true\r\n};\r\nlet server;\r\nasync function transformWithEsbuild(code, filename, options, inMap) {\r\n  let loader = options?.loader;\r\n  if (!loader) {\r\n    const ext = path$n.extname(validExtensionRE.test(filename) ? filename : cleanUrl(filename)).slice(1);\r\n    if (ext === \"cjs\" || ext === \"mjs\") {\r\n      loader = \"js\";\r\n    } else if (ext === \"cts\" || ext === \"mts\") {\r\n      loader = \"ts\";\r\n    } else {\r\n      loader = ext;\r\n    }\r\n  }\r\n  let tsconfigRaw = options?.tsconfigRaw;\r\n  if (typeof tsconfigRaw !== \"string\") {\r\n    const meaningfulFields = [\r\n      \"alwaysStrict\",\r\n      \"experimentalDecorators\",\r\n      \"importsNotUsedAsValues\",\r\n      \"jsx\",\r\n      \"jsxFactory\",\r\n      \"jsxFragmentFactory\",\r\n      \"jsxImportSource\",\r\n      \"preserveValueImports\",\r\n      \"target\",\r\n      \"useDefineForClassFields\",\r\n      \"verbatimModuleSyntax\"\r\n    ];\r\n    const compilerOptionsForFile = {};\r\n    if (loader === \"ts\" || loader === \"tsx\") {\r\n      const loadedTsconfig = await loadTsconfigJsonForFile(filename);\r\n      const loadedCompilerOptions = loadedTsconfig.compilerOptions ?? {};\r\n      for (const field of meaningfulFields) {\r\n        if (field in loadedCompilerOptions) {\r\n          compilerOptionsForFile[field] = loadedCompilerOptions[field];\r\n        }\r\n      }\r\n    }\r\n    const compilerOptions = {\r\n      ...compilerOptionsForFile,\r\n      ...tsconfigRaw?.compilerOptions\r\n    };\r\n    if (compilerOptions.useDefineForClassFields === void 0 && compilerOptions.target === void 0) {\r\n      compilerOptions.useDefineForClassFields = false;\r\n    }\r\n    if (options) {\r\n      options.jsx && (compilerOptions.jsx = void 0);\r\n      options.jsxFactory && (compilerOptions.jsxFactory = void 0);\r\n      options.jsxFragment && (compilerOptions.jsxFragmentFactory = void 0);\r\n      options.jsxImportSource && (compilerOptions.jsxImportSource = void 0);\r\n    }\r\n    tsconfigRaw = {\r\n      ...tsconfigRaw,\r\n      compilerOptions\r\n    };\r\n  }\r\n  const resolvedOptions = {\r\n    sourcemap: true,\r\n    // ensure source file name contains full query\r\n    sourcefile: filename,\r\n    ...options,\r\n    loader,\r\n    tsconfigRaw\r\n  };\r\n  delete resolvedOptions.include;\r\n  delete resolvedOptions.exclude;\r\n  delete resolvedOptions.jsxInject;\r\n  try {\r\n    const result = await transform$1(code, resolvedOptions);\r\n    let map;\r\n    if (inMap && resolvedOptions.sourcemap) {\r\n      const nextMap = JSON.parse(result.map);\r\n      nextMap.sourcesContent = [];\r\n      map = combineSourcemaps(filename, [\r\n        nextMap,\r\n        inMap\r\n      ]);\r\n    } else {\r\n      map = resolvedOptions.sourcemap && resolvedOptions.sourcemap !== \"inline\" ? JSON.parse(result.map) : { mappings: \"\" };\r\n    }\r\n    return {\r\n      ...result,\r\n      map\r\n    };\r\n  } catch (e) {\r\n    debug$h?.(`esbuild error with options used: `, resolvedOptions);\r\n    if (e.errors) {\r\n      e.frame = \"\";\r\n      e.errors.forEach((m) => {\r\n        if (m.text === \"Experimental decorators are not currently enabled\" || m.text === \"Parameter decorators only work when experimental decorators are enabled\") {\r\n          m.text += '. Vite 5 now uses esbuild 0.18 and you need to enable them by adding \"experimentalDecorators\": true in your \"tsconfig.json\" file.';\r\n        }\r\n        e.frame += `\r\n` + prettifyMessage(m, code);\r\n      });\r\n      e.loc = e.errors[0].location;\r\n    }\r\n    throw e;\r\n  }\r\n}\r\nfunction esbuildPlugin(config) {\r\n  const options = config.esbuild;\r\n  const { jsxInject, include, exclude, ...esbuildTransformOptions } = options;\r\n  const filter = createFilter(include || /\\.(m?ts|[jt]sx)$/, exclude || /\\.js$/);\r\n  const transformOptions = {\r\n    target: \"esnext\",\r\n    charset: \"utf8\",\r\n    ...esbuildTransformOptions,\r\n    minify: false,\r\n    minifyIdentifiers: false,\r\n    minifySyntax: false,\r\n    minifyWhitespace: false,\r\n    treeShaking: false,\r\n    // keepNames is not needed when minify is disabled.\r\n    // Also transforming multiple times with keepNames enabled breaks\r\n    // tree-shaking. (#9164)\r\n    keepNames: false,\r\n    supported: {\r\n      ...defaultEsbuildSupported,\r\n      ...esbuildTransformOptions.supported\r\n    }\r\n  };\r\n  return {\r\n    name: \"vite:esbuild\",\r\n    configureServer(_server) {\r\n      server = _server;\r\n      server.watcher.on(\"add\", reloadOnTsconfigChange).on(\"change\", reloadOnTsconfigChange).on(\"unlink\", reloadOnTsconfigChange);\r\n    },\r\n    buildEnd() {\r\n      server = null;\r\n    },\r\n    async transform(code, id) {\r\n      if (filter(id) || filter(cleanUrl(id))) {\r\n        const result = await transformWithEsbuild(code, id, transformOptions);\r\n        if (result.warnings.length) {\r\n          result.warnings.forEach((m) => {\r\n            this.warn(prettifyMessage(m, code));\r\n          });\r\n        }\r\n        if (jsxInject && jsxExtensionsRE.test(id)) {\r\n          result.code = jsxInject + \";\" + result.code;\r\n        }\r\n        return {\r\n          code: result.code,\r\n          map: result.map\r\n        };\r\n      }\r\n    }\r\n  };\r\n}\r\nconst rollupToEsbuildFormatMap = {\r\n  es: \"esm\",\r\n  cjs: \"cjs\",\r\n  // passing `var Lib = (() => {})()` to esbuild with format = \"iife\"\r\n  // will turn it to `(() => { var Lib = (() => {})() })()`,\r\n  // so we remove the format config to tell esbuild not doing this\r\n  //\r\n  // although esbuild doesn't change format, there is still possibility\r\n  // that `{ treeShaking: true }` removes a top-level no-side-effect variable\r\n  // like: `var Lib = 1`, which becomes `` after esbuild transforming,\r\n  // but thankfully rollup does not do this optimization now\r\n  iife: void 0\r\n};\r\nconst buildEsbuildPlugin = (config) => {\r\n  return {\r\n    name: \"vite:esbuild-transpile\",\r\n    async renderChunk(code, chunk, opts) {\r\n      if (opts.__vite_skip_esbuild__) {\r\n        return null;\r\n      }\r\n      const options = resolveEsbuildTranspileOptions(config, opts.format);\r\n      if (!options) {\r\n        return null;\r\n      }\r\n      const res = await transformWithEsbuild(code, chunk.fileName, options);\r\n      if (config.build.lib) {\r\n        const esbuildCode = res.code;\r\n        const contentIndex = opts.format === \"iife\" ? Math.max(esbuildCode.search(IIFE_BEGIN_RE), 0) : opts.format === \"umd\" ? esbuildCode.indexOf(`(function(`) : 0;\r\n        if (contentIndex > 0) {\r\n          const esbuildHelpers = esbuildCode.slice(0, contentIndex);\r\n          res.code = esbuildCode.slice(contentIndex).replace(`\"use strict\";`, `\"use strict\";` + esbuildHelpers);\r\n        }\r\n      }\r\n      return res;\r\n    }\r\n  };\r\n};\r\nfunction resolveEsbuildTranspileOptions(config, format) {\r\n  const target = config.build.target;\r\n  const minify = config.build.minify === \"esbuild\";\r\n  if ((!target || target === \"esnext\") && !minify) {\r\n    return null;\r\n  }\r\n  const isEsLibBuild = config.build.lib && format === \"es\";\r\n  const esbuildOptions = config.esbuild || {};\r\n  const options = {\r\n    charset: \"utf8\",\r\n    ...esbuildOptions,\r\n    loader: \"js\",\r\n    target: target || void 0,\r\n    format: rollupToEsbuildFormatMap[format],\r\n    supported: {\r\n      ...defaultEsbuildSupported,\r\n      ...esbuildOptions.supported\r\n    }\r\n  };\r\n  if (!minify) {\r\n    return {\r\n      ...options,\r\n      minify: false,\r\n      minifyIdentifiers: false,\r\n      minifySyntax: false,\r\n      minifyWhitespace: false,\r\n      treeShaking: false\r\n    };\r\n  }\r\n  if (options.minifyIdentifiers != null || options.minifySyntax != null || options.minifyWhitespace != null) {\r\n    if (isEsLibBuild) {\r\n      return {\r\n        ...options,\r\n        minify: false,\r\n        minifyIdentifiers: options.minifyIdentifiers ?? true,\r\n        minifySyntax: options.minifySyntax ?? true,\r\n        minifyWhitespace: false,\r\n        treeShaking: true\r\n      };\r\n    } else {\r\n      return {\r\n        ...options,\r\n        minify: false,\r\n        minifyIdentifiers: options.minifyIdentifiers ?? true,\r\n        minifySyntax: options.minifySyntax ?? true,\r\n        minifyWhitespace: options.minifyWhitespace ?? true,\r\n        treeShaking: true\r\n      };\r\n    }\r\n  }\r\n  if (isEsLibBuild) {\r\n    return {\r\n      ...options,\r\n      minify: false,\r\n      minifyIdentifiers: true,\r\n      minifySyntax: true,\r\n      minifyWhitespace: false,\r\n      treeShaking: true\r\n    };\r\n  } else {\r\n    return {\r\n      ...options,\r\n      minify: true,\r\n      treeShaking: true\r\n    };\r\n  }\r\n}\r\nfunction prettifyMessage(m, code) {\r\n  let res = colors$1.yellow(m.text);\r\n  if (m.location) {\r\n    res += `\r\n` + generateCodeFrame(code, m.location);\r\n  }\r\n  return res + `\r\n`;\r\n}\r\nlet tsconfckCache;\r\nasync function loadTsconfigJsonForFile(filename) {\r\n  try {\r\n    if (!tsconfckCache) {\r\n      tsconfckCache = new TSConfckCache();\r\n    }\r\n    const result = await parse$e(filename, {\r\n      cache: tsconfckCache,\r\n      ignoreNodeModules: true\r\n    });\r\n    if (server && result.tsconfigFile) {\r\n      ensureWatchedFile(server.watcher, result.tsconfigFile, server.config.root);\r\n    }\r\n    return result.tsconfig;\r\n  } catch (e) {\r\n    if (e instanceof TSConfckParseError) {\r\n      if (server && e.tsconfigFile) {\r\n        ensureWatchedFile(server.watcher, e.tsconfigFile, server.config.root);\r\n      }\r\n    }\r\n    throw e;\r\n  }\r\n}\r\nasync function reloadOnTsconfigChange(changedFile) {\r\n  if (!server) return;\r\n  if (path$n.basename(changedFile) === \"tsconfig.json\" || changedFile.endsWith(\".json\") && tsconfckCache?.hasParseResult(changedFile)) {\r\n    server.config.logger.info(\r\n      `changed tsconfig file detected: ${changedFile} - Clearing cache and forcing full-reload to ensure TypeScript is compiled with updated config values.`,\r\n      { clear: server.config.clearScreen, timestamp: true }\r\n    );\r\n    server.moduleGraph.invalidateAll();\r\n    tsconfckCache?.clear();\r\n    if (server) {\r\n      server.hot.send({\r\n        type: \"full-reload\",\r\n        path: \"*\"\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n// src/realWorker.ts\r\nvar Worker = class {\r\n  /** @internal */\r\n  _code;\r\n  /** @internal */\r\n  _parentFunctions;\r\n  /** @internal */\r\n  _max;\r\n  /** @internal */\r\n  _pool;\r\n  /** @internal */\r\n  _idlePool;\r\n  /** @internal */\r\n  _queue;\r\n  constructor(fn, options = {}) {\r\n    this._code = genWorkerCode(fn, options.parentFunctions ?? {});\r\n    this._parentFunctions = options.parentFunctions ?? {};\r\n    const defaultMax = Math.max(\r\n      1,\r\n      // os.availableParallelism is available from Node.js 18.14.0\r\n      (os$5.availableParallelism?.() ?? os$5.cpus().length) - 1\r\n    );\r\n    this._max = options.max || defaultMax;\r\n    this._pool = [];\r\n    this._idlePool = [];\r\n    this._queue = [];\r\n  }\r\n  async run(...args) {\r\n    const worker = await this._getAvailableWorker();\r\n    return new Promise((resolve, reject) => {\r\n      worker.currentResolve = resolve;\r\n      worker.currentReject = reject;\r\n      worker.postMessage({ type: \"run\", args });\r\n    });\r\n  }\r\n  stop() {\r\n    this._pool.forEach((w) => w.unref());\r\n    this._queue.forEach(\r\n      ([, reject]) => reject(\r\n        new Error(\"Main worker pool stopped before a worker was available.\")\r\n      )\r\n    );\r\n    this._pool = [];\r\n    this._idlePool = [];\r\n    this._queue = [];\r\n  }\r\n  /** @internal */\r\n  async _getAvailableWorker() {\r\n    if (this._idlePool.length) {\r\n      return this._idlePool.shift();\r\n    }\r\n    if (this._pool.length < this._max) {\r\n      const worker = new Worker$1(this._code, { eval: true });\r\n      worker.on(\"message\", async (args) => {\r\n        if (args.type === \"run\") {\r\n          if (\"result\" in args) {\r\n            worker.currentResolve && worker.currentResolve(args.result);\r\n            worker.currentResolve = null;\r\n          } else {\r\n            if (args.error instanceof ReferenceError) {\r\n              args.error.message += \". Maybe you forgot to pass the function to parentFunction?\";\r\n            }\r\n            worker.currentReject && worker.currentReject(args.error);\r\n            worker.currentReject = null;\r\n          }\r\n          this._assignDoneWorker(worker);\r\n        } else if (args.type === \"parentFunction\") {\r\n          try {\r\n            const result = await this._parentFunctions[args.name](...args.args);\r\n            worker.postMessage({ type: \"parentFunction\", id: args.id, result });\r\n          } catch (e) {\r\n            worker.postMessage({\r\n              type: \"parentFunction\",\r\n              id: args.id,\r\n              error: e\r\n            });\r\n          }\r\n        }\r\n      });\r\n      worker.on(\"error\", (err) => {\r\n        worker.currentReject && worker.currentReject(err);\r\n        worker.currentReject = null;\r\n      });\r\n      worker.on(\"exit\", (code) => {\r\n        const i = this._pool.indexOf(worker);\r\n        if (i > -1)\r\n          this._pool.splice(i, 1);\r\n        if (code !== 0 && worker.currentReject) {\r\n          worker.currentReject(\r\n            new Error(`Worker stopped with non-0 exit code ${code}`)\r\n          );\r\n          worker.currentReject = null;\r\n        }\r\n      });\r\n      this._pool.push(worker);\r\n      return worker;\r\n    }\r\n    let resolve;\r\n    let reject;\r\n    const onWorkerAvailablePromise = new Promise((r, rj) => {\r\n      resolve = r;\r\n      reject = rj;\r\n    });\r\n    this._queue.push([resolve, reject]);\r\n    return onWorkerAvailablePromise;\r\n  }\r\n  /** @internal */\r\n  _assignDoneWorker(worker) {\r\n    if (this._queue.length) {\r\n      const [resolve] = this._queue.shift();\r\n      resolve(worker);\r\n      return;\r\n    }\r\n    this._idlePool.push(worker);\r\n  }\r\n};\r\nfunction genWorkerCode(fn, parentFunctions) {\r\n  const createParentFunctionCaller = (parentPort) => {\r\n    let id = 0;\r\n    const resolvers = /* @__PURE__ */ new Map();\r\n    const call = (key) => async (...args) => {\r\n      id++;\r\n      let resolve, reject;\r\n      const promise = new Promise((res, rej) => {\r\n        resolve = res;\r\n        reject = rej;\r\n      });\r\n      resolvers.set(id, { resolve, reject });\r\n      parentPort.postMessage({ type: \"parentFunction\", id, name: key, args });\r\n      return await promise;\r\n    };\r\n    const receive = (id2, args) => {\r\n      if (resolvers.has(id2)) {\r\n        const { resolve, reject } = resolvers.get(id2);\r\n        resolvers.delete(id2);\r\n        if (\"result\" in args) {\r\n          resolve(args.result);\r\n        } else {\r\n          reject(args.error);\r\n        }\r\n      }\r\n    };\r\n    return { call, receive };\r\n  };\r\n  return `\r\nconst { parentPort } = require('worker_threads')\r\nconst parentFunctionCaller = (${createParentFunctionCaller.toString()})(parentPort)\r\n\r\nconst doWork = (() => {\r\n  ${Object.keys(parentFunctions).map(\r\n    (key) => `const ${key} = parentFunctionCaller.call(${JSON.stringify(key)});`\r\n  ).join(\"\\n\")}\r\n  return (${fn.toString()})()\r\n})()\r\n\r\nparentPort.on('message', async (args) => {\r\n  if (args.type === 'run') {\r\n    try {\r\n      const res = await doWork(...args.args)\r\n      parentPort.postMessage({ type: 'run', result: res })\r\n    } catch (e) {\r\n      parentPort.postMessage({ type: 'run', error: e })\r\n    }\r\n  } else if (args.type === 'parentFunction') {\r\n    parentFunctionCaller.receive(args.id, args)\r\n  }\r\n})\r\n  `;\r\n}\r\nvar FakeWorker = class {\r\n  /** @internal */\r\n  _fn;\r\n  constructor(fn, options = {}) {\r\n    const argsAndCode = genFakeWorkerArgsAndCode(\r\n      fn,\r\n      options.parentFunctions ?? {}\r\n    );\r\n    const require2 = createRequire$1(import.meta.url);\r\n    this._fn = new Function(...argsAndCode)(require2, options.parentFunctions);\r\n  }\r\n  async run(...args) {\r\n    try {\r\n      return await this._fn(...args);\r\n    } catch (err) {\r\n      if (err instanceof ReferenceError) {\r\n        err.message += \". Maybe you forgot to pass the function to parentFunction?\";\r\n      }\r\n      throw err;\r\n    }\r\n  }\r\n  stop() {\r\n  }\r\n};\r\nfunction genFakeWorkerArgsAndCode(fn, parentFunctions) {\r\n  return [\r\n    \"require\",\r\n    \"parentFunctions\",\r\n    `\r\n${Object.keys(parentFunctions).map((key) => `const ${key} = parentFunctions[${JSON.stringify(key)}];`).join(\"\\n\")}\r\nreturn (${fn.toString()})()\r\n  `\r\n  ];\r\n}\r\n\r\n// src/workerWithFallback.ts\r\nvar WorkerWithFallback = class {\r\n  /** @internal */\r\n  _disableReal;\r\n  /** @internal */\r\n  _realWorker;\r\n  /** @internal */\r\n  _fakeWorker;\r\n  /** @internal */\r\n  _shouldUseFake;\r\n  constructor(fn, options) {\r\n    this._disableReal = options.max !== void 0 && options.max <= 0;\r\n    this._realWorker = new Worker(fn, options);\r\n    this._fakeWorker = new FakeWorker(fn, options);\r\n    this._shouldUseFake = options.shouldUseFake;\r\n  }\r\n  async run(...args) {\r\n    const useFake = this._disableReal || this._shouldUseFake(...args);\r\n    return this[useFake ? \"_fakeWorker\" : \"_realWorker\"].run(...args);\r\n  }\r\n  stop() {\r\n    this._realWorker.stop();\r\n    this._fakeWorker.stop();\r\n  }\r\n};\r\n\r\nlet terserPath;\r\nconst loadTerserPath = (root) => {\r\n  if (terserPath) return terserPath;\r\n  try {\r\n    terserPath = requireResolveFromRootWithFallback(root, \"terser\");\r\n  } catch (e) {\r\n    if (e.code === \"MODULE_NOT_FOUND\") {\r\n      throw new Error(\r\n        \"terser not found. Since Vite v3, terser has become an optional dependency. You need to install it.\"\r\n      );\r\n    } else {\r\n      const message = new Error(`terser failed to load:\r\n${e.message}`);\r\n      message.stack = e.stack + \"\\n\" + message.stack;\r\n      throw message;\r\n    }\r\n  }\r\n  return terserPath;\r\n};\r\nfunction terserPlugin(config) {\r\n  const { maxWorkers, ...terserOptions } = config.build.terserOptions;\r\n  const makeWorker = () => new Worker(\r\n    () => async (terserPath2, code, options) => {\r\n      const terser = require(terserPath2);\r\n      return terser.minify(code, options);\r\n    },\r\n    {\r\n      max: maxWorkers\r\n    }\r\n  );\r\n  let worker;\r\n  return {\r\n    name: \"vite:terser\",\r\n    async renderChunk(code, _chunk, outputOptions) {\r\n      if (config.build.minify !== \"terser\" && // @ts-expect-error injected by @vitejs/plugin-legacy\r\n      !outputOptions.__vite_force_terser__) {\r\n        return null;\r\n      }\r\n      if (config.build.lib && outputOptions.format === \"es\") {\r\n        return null;\r\n      }\r\n      worker ||= makeWorker();\r\n      const terserPath2 = loadTerserPath(config.root);\r\n      const res = await worker.run(terserPath2, code, {\r\n        safari10: true,\r\n        ...terserOptions,\r\n        sourceMap: !!outputOptions.sourcemap,\r\n        module: outputOptions.format.startsWith(\"es\"),\r\n        toplevel: outputOptions.format === \"cjs\"\r\n      });\r\n      return {\r\n        code: res.code,\r\n        map: res.map\r\n      };\r\n    },\r\n    closeBundle() {\r\n      worker?.stop();\r\n    }\r\n  };\r\n}\r\n\r\nconst mimes = {\r\n  \"3g2\": \"video/3gpp2\",\r\n  \"3gp\": \"video/3gpp\",\r\n  \"3gpp\": \"video/3gpp\",\r\n  \"3mf\": \"model/3mf\",\r\n  \"aac\": \"audio/aac\",\r\n  \"ac\": \"application/pkix-attr-cert\",\r\n  \"adp\": \"audio/adpcm\",\r\n  \"adts\": \"audio/aac\",\r\n  \"ai\": \"application/postscript\",\r\n  \"aml\": \"application/automationml-aml+xml\",\r\n  \"amlx\": \"application/automationml-amlx+zip\",\r\n  \"amr\": \"audio/amr\",\r\n  \"apng\": \"image/apng\",\r\n  \"appcache\": \"text/cache-manifest\",\r\n  \"appinstaller\": \"application/appinstaller\",\r\n  \"appx\": \"application/appx\",\r\n  \"appxbundle\": \"application/appxbundle\",\r\n  \"asc\": \"application/pgp-keys\",\r\n  \"atom\": \"application/atom+xml\",\r\n  \"atomcat\": \"application/atomcat+xml\",\r\n  \"atomdeleted\": \"application/atomdeleted+xml\",\r\n  \"atomsvc\": \"application/atomsvc+xml\",\r\n  \"au\": \"audio/basic\",\r\n  \"avci\": \"image/avci\",\r\n  \"avcs\": \"image/avcs\",\r\n  \"avif\": \"image/avif\",\r\n  \"aw\": \"application/applixware\",\r\n  \"bdoc\": \"application/bdoc\",\r\n  \"bin\": \"application/octet-stream\",\r\n  \"bmp\": \"image/bmp\",\r\n  \"bpk\": \"application/octet-stream\",\r\n  \"btf\": \"image/prs.btif\",\r\n  \"btif\": \"image/prs.btif\",\r\n  \"buffer\": \"application/octet-stream\",\r\n  \"ccxml\": \"application/ccxml+xml\",\r\n  \"cdfx\": \"application/cdfx+xml\",\r\n  \"cdmia\": \"application/cdmi-capability\",\r\n  \"cdmic\": \"application/cdmi-container\",\r\n  \"cdmid\": \"application/cdmi-domain\",\r\n  \"cdmio\": \"application/cdmi-object\",\r\n  \"cdmiq\": \"application/cdmi-queue\",\r\n  \"cer\": \"application/pkix-cert\",\r\n  \"cgm\": \"image/cgm\",\r\n  \"cjs\": \"application/node\",\r\n  \"class\": \"application/java-vm\",\r\n  \"coffee\": \"text/coffeescript\",\r\n  \"conf\": \"text/plain\",\r\n  \"cpl\": \"application/cpl+xml\",\r\n  \"cpt\": \"application/mac-compactpro\",\r\n  \"crl\": \"application/pkix-crl\",\r\n  \"css\": \"text/css\",\r\n  \"csv\": \"text/csv\",\r\n  \"cu\": \"application/cu-seeme\",\r\n  \"cwl\": \"application/cwl\",\r\n  \"cww\": \"application/prs.cww\",\r\n  \"davmount\": \"application/davmount+xml\",\r\n  \"dbk\": \"application/docbook+xml\",\r\n  \"deb\": \"application/octet-stream\",\r\n  \"def\": \"text/plain\",\r\n  \"deploy\": \"application/octet-stream\",\r\n  \"dib\": \"image/bmp\",\r\n  \"disposition-notification\": \"message/disposition-notification\",\r\n  \"dist\": \"application/octet-stream\",\r\n  \"distz\": \"application/octet-stream\",\r\n  \"dll\": \"application/octet-stream\",\r\n  \"dmg\": \"application/octet-stream\",\r\n  \"dms\": \"application/octet-stream\",\r\n  \"doc\": \"application/msword\",\r\n  \"dot\": \"application/msword\",\r\n  \"dpx\": \"image/dpx\",\r\n  \"drle\": \"image/dicom-rle\",\r\n  \"dsc\": \"text/prs.lines.tag\",\r\n  \"dssc\": \"application/dssc+der\",\r\n  \"dtd\": \"application/xml-dtd\",\r\n  \"dump\": \"application/octet-stream\",\r\n  \"dwd\": \"application/atsc-dwd+xml\",\r\n  \"ear\": \"application/java-archive\",\r\n  \"ecma\": \"application/ecmascript\",\r\n  \"elc\": \"application/octet-stream\",\r\n  \"emf\": \"image/emf\",\r\n  \"eml\": \"message/rfc822\",\r\n  \"emma\": \"application/emma+xml\",\r\n  \"emotionml\": \"application/emotionml+xml\",\r\n  \"eps\": \"application/postscript\",\r\n  \"epub\": \"application/epub+zip\",\r\n  \"exe\": \"application/octet-stream\",\r\n  \"exi\": \"application/exi\",\r\n  \"exp\": \"application/express\",\r\n  \"exr\": \"image/aces\",\r\n  \"ez\": \"application/andrew-inset\",\r\n  \"fdf\": \"application/fdf\",\r\n  \"fdt\": \"application/fdt+xml\",\r\n  \"fits\": \"image/fits\",\r\n  \"g3\": \"image/g3fax\",\r\n  \"gbr\": \"application/rpki-ghostbusters\",\r\n  \"geojson\": \"application/geo+json\",\r\n  \"gif\": \"image/gif\",\r\n  \"glb\": \"model/gltf-binary\",\r\n  \"gltf\": \"model/gltf+json\",\r\n  \"gml\": \"application/gml+xml\",\r\n  \"gpx\": \"application/gpx+xml\",\r\n  \"gram\": \"application/srgs\",\r\n  \"grxml\": \"application/srgs+xml\",\r\n  \"gxf\": \"application/gxf\",\r\n  \"gz\": \"application/gzip\",\r\n  \"h261\": \"video/h261\",\r\n  \"h263\": \"video/h263\",\r\n  \"h264\": \"video/h264\",\r\n  \"heic\": \"image/heic\",\r\n  \"heics\": \"image/heic-sequence\",\r\n  \"heif\": \"image/heif\",\r\n  \"heifs\": \"image/heif-sequence\",\r\n  \"hej2\": \"image/hej2k\",\r\n  \"held\": \"application/atsc-held+xml\",\r\n  \"hjson\": \"application/hjson\",\r\n  \"hlp\": \"application/winhlp\",\r\n  \"hqx\": \"application/mac-binhex40\",\r\n  \"hsj2\": \"image/hsj2\",\r\n  \"htm\": \"text/html\",\r\n  \"html\": \"text/html\",\r\n  \"ics\": \"text/calendar\",\r\n  \"ief\": \"image/ief\",\r\n  \"ifb\": \"text/calendar\",\r\n  \"iges\": \"model/iges\",\r\n  \"igs\": \"model/iges\",\r\n  \"img\": \"application/octet-stream\",\r\n  \"in\": \"text/plain\",\r\n  \"ini\": \"text/plain\",\r\n  \"ink\": \"application/inkml+xml\",\r\n  \"inkml\": \"application/inkml+xml\",\r\n  \"ipfix\": \"application/ipfix\",\r\n  \"iso\": \"application/octet-stream\",\r\n  \"its\": \"application/its+xml\",\r\n  \"jade\": \"text/jade\",\r\n  \"jar\": \"application/java-archive\",\r\n  \"jhc\": \"image/jphc\",\r\n  \"jls\": \"image/jls\",\r\n  \"jp2\": \"image/jp2\",\r\n  \"jpe\": \"image/jpeg\",\r\n  \"jpeg\": \"image/jpeg\",\r\n  \"jpf\": \"image/jpx\",\r\n  \"jpg\": \"image/jpeg\",\r\n  \"jpg2\": \"image/jp2\",\r\n  \"jpgm\": \"image/jpm\",\r\n  \"jpgv\": \"video/jpeg\",\r\n  \"jph\": \"image/jph\",\r\n  \"jpm\": \"image/jpm\",\r\n  \"jpx\": \"image/jpx\",\r\n  \"js\": \"text/javascript\",\r\n  \"json\": \"application/json\",\r\n  \"json5\": \"application/json5\",\r\n  \"jsonld\": \"application/ld+json\",\r\n  \"jsonml\": \"application/jsonml+json\",\r\n  \"jsx\": \"text/jsx\",\r\n  \"jt\": \"model/jt\",\r\n  \"jxr\": \"image/jxr\",\r\n  \"jxra\": \"image/jxra\",\r\n  \"jxrs\": \"image/jxrs\",\r\n  \"jxs\": \"image/jxs\",\r\n  \"jxsc\": \"image/jxsc\",\r\n  \"jxsi\": \"image/jxsi\",\r\n  \"jxss\": \"image/jxss\",\r\n  \"kar\": \"audio/midi\",\r\n  \"ktx\": \"image/ktx\",\r\n  \"ktx2\": \"image/ktx2\",\r\n  \"less\": \"text/less\",\r\n  \"lgr\": \"application/lgr+xml\",\r\n  \"list\": \"text/plain\",\r\n  \"litcoffee\": \"text/coffeescript\",\r\n  \"log\": \"text/plain\",\r\n  \"lostxml\": \"application/lost+xml\",\r\n  \"lrf\": \"application/octet-stream\",\r\n  \"m1v\": \"video/mpeg\",\r\n  \"m21\": \"application/mp21\",\r\n  \"m2a\": \"audio/mpeg\",\r\n  \"m2v\": \"video/mpeg\",\r\n  \"m3a\": \"audio/mpeg\",\r\n  \"m4a\": \"audio/mp4\",\r\n  \"m4p\": \"application/mp4\",\r\n  \"m4s\": \"video/iso.segment\",\r\n  \"ma\": \"application/mathematica\",\r\n  \"mads\": \"application/mads+xml\",\r\n  \"maei\": \"application/mmt-aei+xml\",\r\n  \"man\": \"text/troff\",\r\n  \"manifest\": \"text/cache-manifest\",\r\n  \"map\": \"application/json\",\r\n  \"mar\": \"application/octet-stream\",\r\n  \"markdown\": \"text/markdown\",\r\n  \"mathml\": \"application/mathml+xml\",\r\n  \"mb\": \"application/mathematica\",\r\n  \"mbox\": \"application/mbox\",\r\n  \"md\": \"text/markdown\",\r\n  \"mdx\": \"text/mdx\",\r\n  \"me\": \"text/troff\",\r\n  \"mesh\": \"model/mesh\",\r\n  \"meta4\": \"application/metalink4+xml\",\r\n  \"metalink\": \"application/metalink+xml\",\r\n  \"mets\": \"application/mets+xml\",\r\n  \"mft\": \"application/rpki-manifest\",\r\n  \"mid\": \"audio/midi\",\r\n  \"midi\": \"audio/midi\",\r\n  \"mime\": \"message/rfc822\",\r\n  \"mj2\": \"video/mj2\",\r\n  \"mjp2\": \"video/mj2\",\r\n  \"mjs\": \"text/javascript\",\r\n  \"mml\": \"text/mathml\",\r\n  \"mods\": \"application/mods+xml\",\r\n  \"mov\": \"video/quicktime\",\r\n  \"mp2\": \"audio/mpeg\",\r\n  \"mp21\": \"application/mp21\",\r\n  \"mp2a\": \"audio/mpeg\",\r\n  \"mp3\": \"audio/mpeg\",\r\n  \"mp4\": \"video/mp4\",\r\n  \"mp4a\": \"audio/mp4\",\r\n  \"mp4s\": \"application/mp4\",\r\n  \"mp4v\": \"video/mp4\",\r\n  \"mpd\": \"application/dash+xml\",\r\n  \"mpe\": \"video/mpeg\",\r\n  \"mpeg\": \"video/mpeg\",\r\n  \"mpf\": \"application/media-policy-dataset+xml\",\r\n  \"mpg\": \"video/mpeg\",\r\n  \"mpg4\": \"video/mp4\",\r\n  \"mpga\": \"audio/mpeg\",\r\n  \"mpp\": \"application/dash-patch+xml\",\r\n  \"mrc\": \"application/marc\",\r\n  \"mrcx\": \"application/marcxml+xml\",\r\n  \"ms\": \"text/troff\",\r\n  \"mscml\": \"application/mediaservercontrol+xml\",\r\n  \"msh\": \"model/mesh\",\r\n  \"msi\": \"application/octet-stream\",\r\n  \"msix\": \"application/msix\",\r\n  \"msixbundle\": \"application/msixbundle\",\r\n  \"msm\": \"application/octet-stream\",\r\n  \"msp\": \"application/octet-stream\",\r\n  \"mtl\": \"model/mtl\",\r\n  \"musd\": \"application/mmt-usd+xml\",\r\n  \"mxf\": \"application/mxf\",\r\n  \"mxmf\": \"audio/mobile-xmf\",\r\n  \"mxml\": \"application/xv+xml\",\r\n  \"n3\": \"text/n3\",\r\n  \"nb\": \"application/mathematica\",\r\n  \"nq\": \"application/n-quads\",\r\n  \"nt\": \"application/n-triples\",\r\n  \"obj\": \"model/obj\",\r\n  \"oda\": \"application/oda\",\r\n  \"oga\": \"audio/ogg\",\r\n  \"ogg\": \"audio/ogg\",\r\n  \"ogv\": \"video/ogg\",\r\n  \"ogx\": \"application/ogg\",\r\n  \"omdoc\": \"application/omdoc+xml\",\r\n  \"onepkg\": \"application/onenote\",\r\n  \"onetmp\": \"application/onenote\",\r\n  \"onetoc\": \"application/onenote\",\r\n  \"onetoc2\": \"application/onenote\",\r\n  \"opf\": \"application/oebps-package+xml\",\r\n  \"opus\": \"audio/ogg\",\r\n  \"otf\": \"font/otf\",\r\n  \"owl\": \"application/rdf+xml\",\r\n  \"oxps\": \"application/oxps\",\r\n  \"p10\": \"application/pkcs10\",\r\n  \"p7c\": \"application/pkcs7-mime\",\r\n  \"p7m\": \"application/pkcs7-mime\",\r\n  \"p7s\": \"application/pkcs7-signature\",\r\n  \"p8\": \"application/pkcs8\",\r\n  \"pdf\": \"application/pdf\",\r\n  \"pfr\": \"application/font-tdpfr\",\r\n  \"pgp\": \"application/pgp-encrypted\",\r\n  \"pkg\": \"application/octet-stream\",\r\n  \"pki\": \"application/pkixcmp\",\r\n  \"pkipath\": \"application/pkix-pkipath\",\r\n  \"pls\": \"application/pls+xml\",\r\n  \"png\": \"image/png\",\r\n  \"prc\": \"model/prc\",\r\n  \"prf\": \"application/pics-rules\",\r\n  \"provx\": \"application/provenance+xml\",\r\n  \"ps\": \"application/postscript\",\r\n  \"pskcxml\": \"application/pskc+xml\",\r\n  \"pti\": \"image/prs.pti\",\r\n  \"qt\": \"video/quicktime\",\r\n  \"raml\": \"application/raml+yaml\",\r\n  \"rapd\": \"application/route-apd+xml\",\r\n  \"rdf\": \"application/rdf+xml\",\r\n  \"relo\": \"application/p2p-overlay+xml\",\r\n  \"rif\": \"application/reginfo+xml\",\r\n  \"rl\": \"application/resource-lists+xml\",\r\n  \"rld\": \"application/resource-lists-diff+xml\",\r\n  \"rmi\": \"audio/midi\",\r\n  \"rnc\": \"application/relax-ng-compact-syntax\",\r\n  \"rng\": \"application/xml\",\r\n  \"roa\": \"application/rpki-roa\",\r\n  \"roff\": \"text/troff\",\r\n  \"rq\": \"application/sparql-query\",\r\n  \"rs\": \"application/rls-services+xml\",\r\n  \"rsat\": \"application/atsc-rsat+xml\",\r\n  \"rsd\": \"application/rsd+xml\",\r\n  \"rsheet\": \"application/urc-ressheet+xml\",\r\n  \"rss\": \"application/rss+xml\",\r\n  \"rtf\": \"text/rtf\",\r\n  \"rtx\": \"text/richtext\",\r\n  \"rusd\": \"application/route-usd+xml\",\r\n  \"s3m\": \"audio/s3m\",\r\n  \"sbml\": \"application/sbml+xml\",\r\n  \"scq\": \"application/scvp-cv-request\",\r\n  \"scs\": \"application/scvp-cv-response\",\r\n  \"sdp\": \"application/sdp\",\r\n  \"senmlx\": \"application/senml+xml\",\r\n  \"sensmlx\": \"application/sensml+xml\",\r\n  \"ser\": \"application/java-serialized-object\",\r\n  \"setpay\": \"application/set-payment-initiation\",\r\n  \"setreg\": \"application/set-registration-initiation\",\r\n  \"sgi\": \"image/sgi\",\r\n  \"sgm\": \"text/sgml\",\r\n  \"sgml\": \"text/sgml\",\r\n  \"shex\": \"text/shex\",\r\n  \"shf\": \"application/shf+xml\",\r\n  \"shtml\": \"text/html\",\r\n  \"sieve\": \"application/sieve\",\r\n  \"sig\": \"application/pgp-signature\",\r\n  \"sil\": \"audio/silk\",\r\n  \"silo\": \"model/mesh\",\r\n  \"siv\": \"application/sieve\",\r\n  \"slim\": \"text/slim\",\r\n  \"slm\": \"text/slim\",\r\n  \"sls\": \"application/route-s-tsid+xml\",\r\n  \"smi\": \"application/smil+xml\",\r\n  \"smil\": \"application/smil+xml\",\r\n  \"snd\": \"audio/basic\",\r\n  \"so\": \"application/octet-stream\",\r\n  \"spdx\": \"text/spdx\",\r\n  \"spp\": \"application/scvp-vp-response\",\r\n  \"spq\": \"application/scvp-vp-request\",\r\n  \"spx\": \"audio/ogg\",\r\n  \"sql\": \"application/sql\",\r\n  \"sru\": \"application/sru+xml\",\r\n  \"srx\": \"application/sparql-results+xml\",\r\n  \"ssdl\": \"application/ssdl+xml\",\r\n  \"ssml\": \"application/ssml+xml\",\r\n  \"stk\": \"application/hyperstudio\",\r\n  \"stl\": \"model/stl\",\r\n  \"stpx\": \"model/step+xml\",\r\n  \"stpxz\": \"model/step-xml+zip\",\r\n  \"stpz\": \"model/step+zip\",\r\n  \"styl\": \"text/stylus\",\r\n  \"stylus\": \"text/stylus\",\r\n  \"svg\": \"image/svg+xml\",\r\n  \"svgz\": \"image/svg+xml\",\r\n  \"swidtag\": \"application/swid+xml\",\r\n  \"t\": \"text/troff\",\r\n  \"t38\": \"image/t38\",\r\n  \"td\": \"application/urc-targetdesc+xml\",\r\n  \"tei\": \"application/tei+xml\",\r\n  \"teicorpus\": \"application/tei+xml\",\r\n  \"text\": \"text/plain\",\r\n  \"tfi\": \"application/thraud+xml\",\r\n  \"tfx\": \"image/tiff-fx\",\r\n  \"tif\": \"image/tiff\",\r\n  \"tiff\": \"image/tiff\",\r\n  \"toml\": \"application/toml\",\r\n  \"tr\": \"text/troff\",\r\n  \"trig\": \"application/trig\",\r\n  \"ts\": \"video/mp2t\",\r\n  \"tsd\": \"application/timestamped-data\",\r\n  \"tsv\": \"text/tab-separated-values\",\r\n  \"ttc\": \"font/collection\",\r\n  \"ttf\": \"font/ttf\",\r\n  \"ttl\": \"text/turtle\",\r\n  \"ttml\": \"application/ttml+xml\",\r\n  \"txt\": \"text/plain\",\r\n  \"u3d\": \"model/u3d\",\r\n  \"u8dsn\": \"message/global-delivery-status\",\r\n  \"u8hdr\": \"message/global-headers\",\r\n  \"u8mdn\": \"message/global-disposition-notification\",\r\n  \"u8msg\": \"message/global\",\r\n  \"ubj\": \"application/ubjson\",\r\n  \"uri\": \"text/uri-list\",\r\n  \"uris\": \"text/uri-list\",\r\n  \"urls\": \"text/uri-list\",\r\n  \"vcard\": \"text/vcard\",\r\n  \"vrml\": \"model/vrml\",\r\n  \"vtt\": \"text/vtt\",\r\n  \"vxml\": \"application/voicexml+xml\",\r\n  \"war\": \"application/java-archive\",\r\n  \"wasm\": \"application/wasm\",\r\n  \"wav\": \"audio/wav\",\r\n  \"weba\": \"audio/webm\",\r\n  \"webm\": \"video/webm\",\r\n  \"webmanifest\": \"application/manifest+json\",\r\n  \"webp\": \"image/webp\",\r\n  \"wgsl\": \"text/wgsl\",\r\n  \"wgt\": \"application/widget\",\r\n  \"wif\": \"application/watcherinfo+xml\",\r\n  \"wmf\": \"image/wmf\",\r\n  \"woff\": \"font/woff\",\r\n  \"woff2\": \"font/woff2\",\r\n  \"wrl\": \"model/vrml\",\r\n  \"wsdl\": \"application/wsdl+xml\",\r\n  \"wspolicy\": \"application/wspolicy+xml\",\r\n  \"x3d\": \"model/x3d+xml\",\r\n  \"x3db\": \"model/x3d+fastinfoset\",\r\n  \"x3dbz\": \"model/x3d+binary\",\r\n  \"x3dv\": \"model/x3d-vrml\",\r\n  \"x3dvz\": \"model/x3d+vrml\",\r\n  \"x3dz\": \"model/x3d+xml\",\r\n  \"xaml\": \"application/xaml+xml\",\r\n  \"xav\": \"application/xcap-att+xml\",\r\n  \"xca\": \"application/xcap-caps+xml\",\r\n  \"xcs\": \"application/calendar+xml\",\r\n  \"xdf\": \"application/xcap-diff+xml\",\r\n  \"xdssc\": \"application/dssc+xml\",\r\n  \"xel\": \"application/xcap-el+xml\",\r\n  \"xenc\": \"application/xenc+xml\",\r\n  \"xer\": \"application/patch-ops-error+xml\",\r\n  \"xfdf\": \"application/xfdf\",\r\n  \"xht\": \"application/xhtml+xml\",\r\n  \"xhtml\": \"application/xhtml+xml\",\r\n  \"xhvml\": \"application/xv+xml\",\r\n  \"xlf\": \"application/xliff+xml\",\r\n  \"xm\": \"audio/xm\",\r\n  \"xml\": \"text/xml\",\r\n  \"xns\": \"application/xcap-ns+xml\",\r\n  \"xop\": \"application/xop+xml\",\r\n  \"xpl\": \"application/xproc+xml\",\r\n  \"xsd\": \"application/xml\",\r\n  \"xsf\": \"application/prs.xsf+xml\",\r\n  \"xsl\": \"application/xml\",\r\n  \"xslt\": \"application/xml\",\r\n  \"xspf\": \"application/xspf+xml\",\r\n  \"xvm\": \"application/xv+xml\",\r\n  \"xvml\": \"application/xv+xml\",\r\n  \"yaml\": \"text/yaml\",\r\n  \"yang\": \"application/yang\",\r\n  \"yin\": \"application/yin+xml\",\r\n  \"yml\": \"text/yaml\",\r\n  \"zip\": \"application/zip\"\r\n};\r\n\r\nfunction lookup(extn) {\r\n\tlet tmp = ('' + extn).trim().toLowerCase();\r\n\tlet idx = tmp.lastIndexOf('.');\r\n\treturn mimes[!~idx ? tmp : tmp.substring(++idx)];\r\n}\r\n\r\nconst publicFilesMap = /* @__PURE__ */ new WeakMap();\r\nasync function initPublicFiles(config) {\r\n  let fileNames;\r\n  try {\r\n    fileNames = await recursiveReaddir(config.publicDir);\r\n  } catch (e) {\r\n    if (e.code === ERR_SYMLINK_IN_RECURSIVE_READDIR) {\r\n      return;\r\n    }\r\n    throw e;\r\n  }\r\n  const publicFiles = new Set(\r\n    fileNames.map((fileName) => fileName.slice(config.publicDir.length))\r\n  );\r\n  publicFilesMap.set(config, publicFiles);\r\n  return publicFiles;\r\n}\r\nfunction getPublicFiles(config) {\r\n  return publicFilesMap.get(config);\r\n}\r\nfunction checkPublicFile(url, config) {\r\n  const { publicDir } = config;\r\n  if (!publicDir || url[0] !== \"/\") {\r\n    return;\r\n  }\r\n  const fileName = cleanUrl(url);\r\n  const publicFiles = getPublicFiles(config);\r\n  if (publicFiles) {\r\n    return publicFiles.has(fileName) ? normalizePath$3(path$n.join(publicDir, fileName)) : void 0;\r\n  }\r\n  const publicFile = normalizePath$3(path$n.join(publicDir, fileName));\r\n  if (!publicFile.startsWith(withTrailingSlash(publicDir))) {\r\n    return;\r\n  }\r\n  return fs__default.existsSync(publicFile) ? publicFile : void 0;\r\n}\r\n\r\nconst assetUrlRE = /__VITE_ASSET__([\\w$]+)__(?:\\$_(.*?)__)?/g;\r\nconst jsSourceMapRE = /\\.[cm]?js\\.map$/;\r\nconst assetCache = /* @__PURE__ */ new WeakMap();\r\nconst generatedAssets = /* @__PURE__ */ new WeakMap();\r\nfunction registerCustomMime() {\r\n  mimes[\"ico\"] = \"image/x-icon\";\r\n  mimes[\"flac\"] = \"audio/flac\";\r\n  mimes[\"eot\"] = \"application/vnd.ms-fontobject\";\r\n}\r\nfunction renderAssetUrlInJS(ctx, config, chunk, opts, code) {\r\n  const toRelativeRuntime = createToImportMetaURLBasedRelativeRuntime(\r\n    opts.format,\r\n    config.isWorker\r\n  );\r\n  let match;\r\n  let s;\r\n  assetUrlRE.lastIndex = 0;\r\n  while (match = assetUrlRE.exec(code)) {\r\n    s ||= new MagicString(code);\r\n    const [full, referenceId, postfix = \"\"] = match;\r\n    const file = ctx.getFileName(referenceId);\r\n    chunk.viteMetadata.importedAssets.add(cleanUrl(file));\r\n    const filename = file + postfix;\r\n    const replacement = toOutputFilePathInJS(\r\n      filename,\r\n      \"asset\",\r\n      chunk.fileName,\r\n      \"js\",\r\n      config,\r\n      toRelativeRuntime\r\n    );\r\n    const replacementString = typeof replacement === \"string\" ? JSON.stringify(encodeURIPath(replacement)).slice(1, -1) : `\"+${replacement.runtime}+\"`;\r\n    s.update(match.index, match.index + full.length, replacementString);\r\n  }\r\n  const publicAssetUrlMap = publicAssetUrlCache.get(config);\r\n  publicAssetUrlRE.lastIndex = 0;\r\n  while (match = publicAssetUrlRE.exec(code)) {\r\n    s ||= new MagicString(code);\r\n    const [full, hash] = match;\r\n    const publicUrl = publicAssetUrlMap.get(hash).slice(1);\r\n    const replacement = toOutputFilePathInJS(\r\n      publicUrl,\r\n      \"public\",\r\n      chunk.fileName,\r\n      \"js\",\r\n      config,\r\n      toRelativeRuntime\r\n    );\r\n    const replacementString = typeof replacement === \"string\" ? JSON.stringify(encodeURIPath(replacement)).slice(1, -1) : `\"+${replacement.runtime}+\"`;\r\n    s.update(match.index, match.index + full.length, replacementString);\r\n  }\r\n  return s;\r\n}\r\nfunction assetPlugin(config) {\r\n  registerCustomMime();\r\n  let moduleGraph;\r\n  return {\r\n    name: \"vite:asset\",\r\n    buildStart() {\r\n      assetCache.set(config, /* @__PURE__ */ new Map());\r\n      generatedAssets.set(config, /* @__PURE__ */ new Map());\r\n    },\r\n    configureServer(server) {\r\n      moduleGraph = server.moduleGraph;\r\n    },\r\n    resolveId(id) {\r\n      if (!config.assetsInclude(cleanUrl(id)) && !urlRE.test(id)) {\r\n        return;\r\n      }\r\n      const publicFile = checkPublicFile(id, config);\r\n      if (publicFile) {\r\n        return id;\r\n      }\r\n    },\r\n    async load(id) {\r\n      if (id[0] === \"\\0\") {\r\n        return;\r\n      }\r\n      if (rawRE.test(id)) {\r\n        const file = checkPublicFile(id, config) || cleanUrl(id);\r\n        this.addWatchFile(file);\r\n        return `export default ${JSON.stringify(\r\n          await fsp.readFile(file, \"utf-8\")\r\n        )}`;\r\n      }\r\n      if (!urlRE.test(id) && !config.assetsInclude(cleanUrl(id))) {\r\n        return;\r\n      }\r\n      id = removeUrlQuery(id);\r\n      let url = await fileToUrl$1(id, config, this);\r\n      if (moduleGraph) {\r\n        const mod = moduleGraph.getModuleById(id);\r\n        if (mod && mod.lastHMRTimestamp > 0) {\r\n          url = injectQuery(url, `t=${mod.lastHMRTimestamp}`);\r\n        }\r\n      }\r\n      return {\r\n        code: `export default ${JSON.stringify(encodeURIPath(url))}`,\r\n        // Force rollup to keep this module from being shared between other entry points if it's an entrypoint.\r\n        // If the resulting chunk is empty, it will be removed in generateBundle.\r\n        moduleSideEffects: config.command === \"build\" && this.getModuleInfo(id)?.isEntry ? \"no-treeshake\" : false,\r\n        meta: config.command === \"build\" ? { \"vite:asset\": true } : void 0\r\n      };\r\n    },\r\n    renderChunk(code, chunk, opts) {\r\n      const s = renderAssetUrlInJS(this, config, chunk, opts, code);\r\n      if (s) {\r\n        return {\r\n          code: s.toString(),\r\n          map: config.build.sourcemap ? s.generateMap({ hires: \"boundary\" }) : null\r\n        };\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n    generateBundle(_, bundle) {\r\n      for (const file in bundle) {\r\n        const chunk = bundle[file];\r\n        if (chunk.type === \"chunk\" && chunk.isEntry && chunk.moduleIds.length === 1 && config.assetsInclude(chunk.moduleIds[0]) && this.getModuleInfo(chunk.moduleIds[0])?.meta[\"vite:asset\"]) {\r\n          delete bundle[file];\r\n        }\r\n      }\r\n      if (config.command === \"build\" && config.build.ssr && !config.build.ssrEmitAssets) {\r\n        for (const file in bundle) {\r\n          if (bundle[file].type === \"asset\" && !file.endsWith(\"ssr-manifest.json\") && !jsSourceMapRE.test(file)) {\r\n            delete bundle[file];\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\nasync function fileToUrl$1(id, config, ctx) {\r\n  if (config.command === \"serve\") {\r\n    return fileToDevUrl(id, config);\r\n  } else {\r\n    return fileToBuiltUrl(id, config, ctx);\r\n  }\r\n}\r\nfunction fileToDevUrl(id, config, skipBase = false) {\r\n  let rtn;\r\n  if (checkPublicFile(id, config)) {\r\n    rtn = id;\r\n  } else if (id.startsWith(withTrailingSlash(config.root))) {\r\n    rtn = \"/\" + path$n.posix.relative(config.root, id);\r\n  } else {\r\n    rtn = path$n.posix.join(FS_PREFIX, id);\r\n  }\r\n  if (skipBase) {\r\n    return rtn;\r\n  }\r\n  const base = joinUrlSegments(config.server?.origin ?? \"\", config.decodedBase);\r\n  return joinUrlSegments(base, removeLeadingSlash(rtn));\r\n}\r\nfunction getPublicAssetFilename(hash, config) {\r\n  return publicAssetUrlCache.get(config)?.get(hash);\r\n}\r\nconst publicAssetUrlCache = /* @__PURE__ */ new WeakMap();\r\nconst publicAssetUrlRE = /__VITE_PUBLIC_ASSET__([a-z\\d]{8})__/g;\r\nfunction publicFileToBuiltUrl(url, config) {\r\n  if (config.command !== \"build\") {\r\n    return joinUrlSegments(config.decodedBase, url);\r\n  }\r\n  const hash = getHash(url);\r\n  let cache = publicAssetUrlCache.get(config);\r\n  if (!cache) {\r\n    cache = /* @__PURE__ */ new Map();\r\n    publicAssetUrlCache.set(config, cache);\r\n  }\r\n  if (!cache.get(hash)) {\r\n    cache.set(hash, url);\r\n  }\r\n  return `__VITE_PUBLIC_ASSET__${hash}__`;\r\n}\r\nconst GIT_LFS_PREFIX = Buffer$1.from(\"version https://git-lfs.github.com\");\r\nfunction isGitLfsPlaceholder(content) {\r\n  if (content.length < GIT_LFS_PREFIX.length) return false;\r\n  return GIT_LFS_PREFIX.compare(content, 0, GIT_LFS_PREFIX.length) === 0;\r\n}\r\nasync function fileToBuiltUrl(id, config, pluginContext, skipPublicCheck = false, forceInline) {\r\n  if (!skipPublicCheck && checkPublicFile(id, config)) {\r\n    return publicFileToBuiltUrl(id, config);\r\n  }\r\n  const cache = assetCache.get(config);\r\n  const cached = cache.get(id);\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  const file = cleanUrl(id);\r\n  const content = await fsp.readFile(file);\r\n  let url;\r\n  if (shouldInline(config, file, id, content, pluginContext, forceInline)) {\r\n    if (config.build.lib && isGitLfsPlaceholder(content)) {\r\n      config.logger.warn(\r\n        colors$1.yellow(`Inlined file ${id} was not downloaded via Git LFS`)\r\n      );\r\n    }\r\n    if (file.endsWith(\".svg\")) {\r\n      url = svgToDataURL(content);\r\n    } else {\r\n      const mimeType = lookup(file) ?? \"application/octet-stream\";\r\n      url = `data:${mimeType};base64,${content.toString(\"base64\")}`;\r\n    }\r\n  } else {\r\n    const { search, hash } = parse$h(id);\r\n    const postfix = (search || \"\") + (hash || \"\");\r\n    const originalFileName = normalizePath$3(path$n.relative(config.root, file));\r\n    const referenceId = pluginContext.emitFile({\r\n      type: \"asset\",\r\n      // Ignore directory structure for asset file names\r\n      name: path$n.basename(file),\r\n      originalFileName,\r\n      source: content\r\n    });\r\n    generatedAssets.get(config).set(referenceId, { originalFileName });\r\n    url = `__VITE_ASSET__${referenceId}__${postfix ? `$_${postfix}__` : ``}`;\r\n  }\r\n  cache.set(id, url);\r\n  return url;\r\n}\r\nasync function urlToBuiltUrl(url, importer, config, pluginContext, forceInline) {\r\n  if (checkPublicFile(url, config)) {\r\n    return publicFileToBuiltUrl(url, config);\r\n  }\r\n  const file = url[0] === \"/\" ? path$n.join(config.root, url) : path$n.join(path$n.dirname(importer), url);\r\n  return fileToBuiltUrl(\r\n    file,\r\n    config,\r\n    pluginContext,\r\n    // skip public check since we just did it above\r\n    true,\r\n    forceInline\r\n  );\r\n}\r\nconst shouldInline = (config, file, id, content, pluginContext, forceInline) => {\r\n  if (config.build.lib) return true;\r\n  if (pluginContext.getModuleInfo(id)?.isEntry) return false;\r\n  if (forceInline !== void 0) return forceInline;\r\n  let limit;\r\n  if (typeof config.build.assetsInlineLimit === \"function\") {\r\n    const userShouldInline = config.build.assetsInlineLimit(file, content);\r\n    if (userShouldInline != null) return userShouldInline;\r\n    limit = DEFAULT_ASSETS_INLINE_LIMIT;\r\n  } else {\r\n    limit = Number(config.build.assetsInlineLimit);\r\n  }\r\n  if (file.endsWith(\".html\")) return false;\r\n  if (file.endsWith(\".svg\") && id.includes(\"#\")) return false;\r\n  return content.length < limit && !isGitLfsPlaceholder(content);\r\n};\r\nconst nestedQuotesRE = /\"[^\"']*'[^\"]*\"|'[^'\"]*\"[^']*'/;\r\nfunction svgToDataURL(content) {\r\n  const stringContent = content.toString();\r\n  if (stringContent.includes(\"<text\") || stringContent.includes(\"<foreignObject\") || nestedQuotesRE.test(stringContent)) {\r\n    return `data:image/svg+xml;base64,${content.toString(\"base64\")}`;\r\n  } else {\r\n    return \"data:image/svg+xml,\" + stringContent.trim().replaceAll(/>\\s+</g, \"><\").replaceAll('\"', \"'\").replaceAll(\"%\", \"%25\").replaceAll(\"#\", \"%23\").replaceAll(\"<\", \"%3c\").replaceAll(\">\", \"%3e\").replaceAll(/\\s+/g, \"%20\");\r\n  }\r\n}\r\n\r\nconst endsWithJSRE = /\\.[cm]?js$/;\r\nfunction manifestPlugin(config) {\r\n  const manifest = {};\r\n  let outputCount;\r\n  return {\r\n    name: \"vite:manifest\",\r\n    buildStart() {\r\n      outputCount = 0;\r\n    },\r\n    generateBundle({ format }, bundle) {\r\n      function getChunkName(chunk) {\r\n        return getChunkOriginalFileName(chunk, config.root, format);\r\n      }\r\n      function getInternalImports(imports) {\r\n        const filteredImports = [];\r\n        for (const file of imports) {\r\n          if (bundle[file] === void 0) {\r\n            continue;\r\n          }\r\n          filteredImports.push(getChunkName(bundle[file]));\r\n        }\r\n        return filteredImports;\r\n      }\r\n      function createChunk(chunk) {\r\n        const manifestChunk = {\r\n          file: chunk.fileName,\r\n          name: chunk.name\r\n        };\r\n        if (chunk.facadeModuleId) {\r\n          manifestChunk.src = getChunkName(chunk);\r\n        }\r\n        if (chunk.isEntry) {\r\n          manifestChunk.isEntry = true;\r\n        }\r\n        if (chunk.isDynamicEntry) {\r\n          manifestChunk.isDynamicEntry = true;\r\n        }\r\n        if (chunk.imports.length) {\r\n          const internalImports = getInternalImports(chunk.imports);\r\n          if (internalImports.length > 0) {\r\n            manifestChunk.imports = internalImports;\r\n          }\r\n        }\r\n        if (chunk.dynamicImports.length) {\r\n          const internalImports = getInternalImports(chunk.dynamicImports);\r\n          if (internalImports.length > 0) {\r\n            manifestChunk.dynamicImports = internalImports;\r\n          }\r\n        }\r\n        if (chunk.viteMetadata?.importedCss.size) {\r\n          manifestChunk.css = [...chunk.viteMetadata.importedCss];\r\n        }\r\n        if (chunk.viteMetadata?.importedAssets.size) {\r\n          manifestChunk.assets = [...chunk.viteMetadata.importedAssets];\r\n        }\r\n        return manifestChunk;\r\n      }\r\n      function createAsset(asset, src, isEntry) {\r\n        const manifestChunk = {\r\n          file: asset.fileName,\r\n          src\r\n        };\r\n        if (isEntry) manifestChunk.isEntry = true;\r\n        return manifestChunk;\r\n      }\r\n      const assets = generatedAssets.get(config);\r\n      const entryCssAssetFileNames = /* @__PURE__ */ new Set();\r\n      for (const [id, asset] of assets.entries()) {\r\n        if (asset.isEntry) {\r\n          try {\r\n            const fileName = this.getFileName(id);\r\n            entryCssAssetFileNames.add(fileName);\r\n          } catch (error) {\r\n            assets.delete(id);\r\n          }\r\n        }\r\n      }\r\n      const fileNameToAsset = /* @__PURE__ */ new Map();\r\n      for (const file in bundle) {\r\n        const chunk = bundle[file];\r\n        if (chunk.type === \"chunk\") {\r\n          manifest[getChunkName(chunk)] = createChunk(chunk);\r\n        } else if (chunk.type === \"asset\" && typeof chunk.name === \"string\") {\r\n          const src = chunk.originalFileName ?? chunk.name;\r\n          const isEntry = entryCssAssetFileNames.has(chunk.fileName);\r\n          const asset = createAsset(chunk, src, isEntry);\r\n          const file2 = manifest[src]?.file;\r\n          if (file2 && endsWithJSRE.test(file2)) continue;\r\n          manifest[src] = asset;\r\n          fileNameToAsset.set(chunk.fileName, asset);\r\n        }\r\n      }\r\n      for (const [referenceId, { originalFileName }] of assets.entries()) {\r\n        if (!manifest[originalFileName]) {\r\n          const fileName = this.getFileName(referenceId);\r\n          const asset = fileNameToAsset.get(fileName);\r\n          if (asset) {\r\n            manifest[originalFileName] = asset;\r\n          }\r\n        }\r\n      }\r\n      outputCount++;\r\n      const output = config.build.rollupOptions?.output;\r\n      const outputLength = Array.isArray(output) ? output.length : 1;\r\n      if (outputCount >= outputLength) {\r\n        this.emitFile({\r\n          fileName: typeof config.build.manifest === \"string\" ? config.build.manifest : \".vite/manifest.json\",\r\n          type: \"asset\",\r\n          source: JSON.stringify(sortObjectKeys(manifest), void 0, 2)\r\n        });\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction getChunkOriginalFileName(chunk, root, format) {\r\n  if (chunk.facadeModuleId) {\r\n    let name = normalizePath$3(path$n.relative(root, chunk.facadeModuleId));\r\n    if (format === \"system\" && !chunk.name.includes(\"-legacy\")) {\r\n      const ext = path$n.extname(name);\r\n      const endPos = ext.length !== 0 ? -ext.length : void 0;\r\n      name = name.slice(0, endPos) + `-legacy` + ext;\r\n    }\r\n    return name.replace(/\\0/g, \"\");\r\n  } else {\r\n    return `_` + path$n.basename(chunk.fileName);\r\n  }\r\n}\r\n\r\nconst dataUriRE = /^([^/]+\\/[^;,]+)(;base64)?,([\\s\\S]*)$/;\r\nconst base64RE = /base64/i;\r\nconst dataUriPrefix = `\\0/@data-uri/`;\r\nfunction dataURIPlugin() {\r\n  let resolved;\r\n  return {\r\n    name: \"vite:data-uri\",\r\n    buildStart() {\r\n      resolved = /* @__PURE__ */ new Map();\r\n    },\r\n    resolveId(id) {\r\n      if (!id.trimStart().startsWith(\"data:\")) {\r\n        return;\r\n      }\r\n      const uri = new URL$3(id);\r\n      if (uri.protocol !== \"data:\") {\r\n        return;\r\n      }\r\n      const match = dataUriRE.exec(uri.pathname);\r\n      if (!match) {\r\n        return;\r\n      }\r\n      const [, mime, format, data] = match;\r\n      if (mime !== \"text/javascript\") {\r\n        throw new Error(\r\n          `data URI with non-JavaScript mime type is not supported. If you're using legacy JavaScript MIME types (such as 'application/javascript'), please use 'text/javascript' instead.`\r\n        );\r\n      }\r\n      const base64 = format && base64RE.test(format.substring(1));\r\n      const content = base64 ? Buffer.from(data, \"base64\").toString(\"utf-8\") : data;\r\n      resolved.set(id, content);\r\n      return dataUriPrefix + id;\r\n    },\r\n    load(id) {\r\n      if (id.startsWith(dataUriPrefix)) {\r\n        return resolved.get(id.slice(dataUriPrefix.length));\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n/* es-module-lexer 1.5.4 */\r\nvar ImportType;!function(A){A[A.Static=1]=\"Static\",A[A.Dynamic=2]=\"Dynamic\",A[A.ImportMeta=3]=\"ImportMeta\",A[A.StaticSourcePhase=4]=\"StaticSourcePhase\",A[A.DynamicSourcePhase=5]=\"DynamicSourcePhase\";}(ImportType||(ImportType={}));const A=1===new Uint8Array(new Uint16Array([1]).buffer)[0];function parse$d(E,g=\"@\"){if(!C)return init.then((()=>parse$d(E)));const I=E.length+1,w=(C.__heap_base.value||C.__heap_base)+4*I-C.memory.buffer.byteLength;w>0&&C.memory.grow(Math.ceil(w/65536));const K=C.sa(I-1);if((A?B:Q)(E,new Uint16Array(C.memory.buffer,K,I)),!C.parse())throw Object.assign(new Error(`Parse error ${g}:${E.slice(0,C.e()).split(\"\\n\").length}:${C.e()-E.lastIndexOf(\"\\n\",C.e()-1)}`),{idx:C.e()});const D=[],o=[];for(;C.ri();){const A=C.is(),Q=C.ie(),B=C.it(),g=C.ai(),I=C.id(),w=C.ss(),K=C.se();let o;C.ip()&&(o=k(E.slice(-1===I?A-1:A,-1===I?Q+1:Q))),D.push({n:o,t:B,s:A,e:Q,ss:w,se:K,d:I,a:g});}for(;C.re();){const A=C.es(),Q=C.ee(),B=C.els(),g=C.ele(),I=E.slice(A,Q),w=I[0],K=B<0?void 0:E.slice(B,g),D=K?K[0]:\"\";o.push({s:A,e:Q,ls:B,le:g,n:'\"'===w||\"'\"===w?k(I):I,ln:'\"'===D||\"'\"===D?k(K):K});}function k(A){try{return (0, eval)(A)}catch(A){}}return [D,o,!!C.f(),!!C.ms()]}function Q(A,Q){const B=A.length;let C=0;for(;C<B;){const B=A.charCodeAt(C);Q[C++]=(255&B)<<8|B>>>8;}}function B(A,Q){const B=A.length;let C=0;for(;C<B;)Q[C]=A.charCodeAt(C++);}let C;const init=WebAssembly.compile((E=\"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\",\"undefined\"!=typeof Buffer?Buffer.from(E,\"base64\"):Uint8Array.from(atob(E),(A=>A.charCodeAt(0))))).then(WebAssembly.instantiate).then((({exports:A})=>{C=A;}));var E;\r\n\r\nvar convertSourceMap$1 = {};\r\n\r\n(function (exports) {\r\n\r\n\tObject.defineProperty(exports, 'commentRegex', {\r\n\t  get: function getCommentRegex () {\r\n\t    // Groups: 1: media type, 2: MIME type, 3: charset, 4: encoding, 5: data.\r\n\t    return /^\\s*?\\/[\\/\\*][@#]\\s+?sourceMappingURL=data:(((?:application|text)\\/json)(?:;charset=([^;,]+?)?)?)?(?:;(base64))?,(.*?)$/mg;\r\n\t  }\r\n\t});\r\n\r\n\r\n\tObject.defineProperty(exports, 'mapFileCommentRegex', {\r\n\t  get: function getMapFileCommentRegex () {\r\n\t    // Matches sourceMappingURL in either // or /* comment styles.\r\n\t    return /(?:\\/\\/[@#][ \\t]+?sourceMappingURL=([^\\s'\"`]+?)[ \\t]*?$)|(?:\\/\\*[@#][ \\t]+sourceMappingURL=([^*]+?)[ \\t]*?(?:\\*\\/){1}[ \\t]*?$)/mg;\r\n\t  }\r\n\t});\r\n\r\n\tvar decodeBase64;\r\n\tif (typeof Buffer !== 'undefined') {\r\n\t  if (typeof Buffer.from === 'function') {\r\n\t    decodeBase64 = decodeBase64WithBufferFrom;\r\n\t  } else {\r\n\t    decodeBase64 = decodeBase64WithNewBuffer;\r\n\t  }\r\n\t} else {\r\n\t  decodeBase64 = decodeBase64WithAtob;\r\n\t}\r\n\r\n\tfunction decodeBase64WithBufferFrom(base64) {\r\n\t  return Buffer.from(base64, 'base64').toString();\r\n\t}\r\n\r\n\tfunction decodeBase64WithNewBuffer(base64) {\r\n\t  if (typeof value === 'number') {\r\n\t    throw new TypeError('The value to decode must not be of type number.');\r\n\t  }\r\n\t  return new Buffer(base64, 'base64').toString();\r\n\t}\r\n\r\n\tfunction decodeBase64WithAtob(base64) {\r\n\t  return decodeURIComponent(escape(atob(base64)));\r\n\t}\r\n\r\n\tfunction stripComment(sm) {\r\n\t  return sm.split(',').pop();\r\n\t}\r\n\r\n\tfunction readFromFileMap(sm, read) {\r\n\t  var r = exports.mapFileCommentRegex.exec(sm);\r\n\t  // for some odd reason //# .. captures in 1 and /* .. */ in 2\r\n\t  var filename = r[1] || r[2];\r\n\r\n\t  try {\r\n\t    var sm = read(filename);\r\n\t    if (sm != null && typeof sm.catch === 'function') {\r\n\t      return sm.catch(throwError);\r\n\t    } else {\r\n\t      return sm;\r\n\t    }\r\n\t  } catch (e) {\r\n\t    throwError(e);\r\n\t  }\r\n\r\n\t  function throwError(e) {\r\n\t    throw new Error('An error occurred while trying to read the map file at ' + filename + '\\n' + e.stack);\r\n\t  }\r\n\t}\r\n\r\n\tfunction Converter (sm, opts) {\r\n\t  opts = opts || {};\r\n\r\n\t  if (opts.hasComment) {\r\n\t    sm = stripComment(sm);\r\n\t  }\r\n\r\n\t  if (opts.encoding === 'base64') {\r\n\t    sm = decodeBase64(sm);\r\n\t  } else if (opts.encoding === 'uri') {\r\n\t    sm = decodeURIComponent(sm);\r\n\t  }\r\n\r\n\t  if (opts.isJSON || opts.encoding) {\r\n\t    sm = JSON.parse(sm);\r\n\t  }\r\n\r\n\t  this.sourcemap = sm;\r\n\t}\r\n\r\n\tConverter.prototype.toJSON = function (space) {\r\n\t  return JSON.stringify(this.sourcemap, null, space);\r\n\t};\r\n\r\n\tif (typeof Buffer !== 'undefined') {\r\n\t  if (typeof Buffer.from === 'function') {\r\n\t    Converter.prototype.toBase64 = encodeBase64WithBufferFrom;\r\n\t  } else {\r\n\t    Converter.prototype.toBase64 = encodeBase64WithNewBuffer;\r\n\t  }\r\n\t} else {\r\n\t  Converter.prototype.toBase64 = encodeBase64WithBtoa;\r\n\t}\r\n\r\n\tfunction encodeBase64WithBufferFrom() {\r\n\t  var json = this.toJSON();\r\n\t  return Buffer.from(json, 'utf8').toString('base64');\r\n\t}\r\n\r\n\tfunction encodeBase64WithNewBuffer() {\r\n\t  var json = this.toJSON();\r\n\t  if (typeof json === 'number') {\r\n\t    throw new TypeError('The json to encode must not be of type number.');\r\n\t  }\r\n\t  return new Buffer(json, 'utf8').toString('base64');\r\n\t}\r\n\r\n\tfunction encodeBase64WithBtoa() {\r\n\t  var json = this.toJSON();\r\n\t  return btoa(unescape(encodeURIComponent(json)));\r\n\t}\r\n\r\n\tConverter.prototype.toURI = function () {\r\n\t  var json = this.toJSON();\r\n\t  return encodeURIComponent(json);\r\n\t};\r\n\r\n\tConverter.prototype.toComment = function (options) {\r\n\t  var encoding, content, data;\r\n\t  if (options != null && options.encoding === 'uri') {\r\n\t    encoding = '';\r\n\t    content = this.toURI();\r\n\t  } else {\r\n\t    encoding = ';base64';\r\n\t    content = this.toBase64();\r\n\t  }\r\n\t  data = 'sourceMappingURL=data:application/json;charset=utf-8' + encoding + ',' + content;\r\n\t  return options != null && options.multiline ? '/*# ' + data + ' */' : '//# ' + data;\r\n\t};\r\n\r\n\t// returns copy instead of original\r\n\tConverter.prototype.toObject = function () {\r\n\t  return JSON.parse(this.toJSON());\r\n\t};\r\n\r\n\tConverter.prototype.addProperty = function (key, value) {\r\n\t  if (this.sourcemap.hasOwnProperty(key)) throw new Error('property \"' + key + '\" already exists on the sourcemap, use set property instead');\r\n\t  return this.setProperty(key, value);\r\n\t};\r\n\r\n\tConverter.prototype.setProperty = function (key, value) {\r\n\t  this.sourcemap[key] = value;\r\n\t  return this;\r\n\t};\r\n\r\n\tConverter.prototype.getProperty = function (key) {\r\n\t  return this.sourcemap[key];\r\n\t};\r\n\r\n\texports.fromObject = function (obj) {\r\n\t  return new Converter(obj);\r\n\t};\r\n\r\n\texports.fromJSON = function (json) {\r\n\t  return new Converter(json, { isJSON: true });\r\n\t};\r\n\r\n\texports.fromURI = function (uri) {\r\n\t  return new Converter(uri, { encoding: 'uri' });\r\n\t};\r\n\r\n\texports.fromBase64 = function (base64) {\r\n\t  return new Converter(base64, { encoding: 'base64' });\r\n\t};\r\n\r\n\texports.fromComment = function (comment) {\r\n\t  var m, encoding;\r\n\t  comment = comment\r\n\t    .replace(/^\\/\\*/g, '//')\r\n\t    .replace(/\\*\\/$/g, '');\r\n\t  m = exports.commentRegex.exec(comment);\r\n\t  encoding = m && m[4] || 'uri';\r\n\t  return new Converter(comment, { encoding: encoding, hasComment: true });\r\n\t};\r\n\r\n\tfunction makeConverter(sm) {\r\n\t  return new Converter(sm, { isJSON: true });\r\n\t}\r\n\r\n\texports.fromMapFileComment = function (comment, read) {\r\n\t  if (typeof read === 'string') {\r\n\t    throw new Error(\r\n\t      'String directory paths are no longer supported with `fromMapFileComment`\\n' +\r\n\t      'Please review the Upgrading documentation at https://github.com/thlorenz/convert-source-map#upgrading'\r\n\t    )\r\n\t  }\r\n\r\n\t  var sm = readFromFileMap(comment, read);\r\n\t  if (sm != null && typeof sm.then === 'function') {\r\n\t    return sm.then(makeConverter);\r\n\t  } else {\r\n\t    return makeConverter(sm);\r\n\t  }\r\n\t};\r\n\r\n\t// Finds last sourcemap comment in file or returns null if none was found\r\n\texports.fromSource = function (content) {\r\n\t  var m = content.match(exports.commentRegex);\r\n\t  return m ? exports.fromComment(m.pop()) : null;\r\n\t};\r\n\r\n\t// Finds last sourcemap comment in file or returns null if none was found\r\n\texports.fromMapFileSource = function (content, read) {\r\n\t  if (typeof read === 'string') {\r\n\t    throw new Error(\r\n\t      'String directory paths are no longer supported with `fromMapFileSource`\\n' +\r\n\t      'Please review the Upgrading documentation at https://github.com/thlorenz/convert-source-map#upgrading'\r\n\t    )\r\n\t  }\r\n\t  var m = content.match(exports.mapFileCommentRegex);\r\n\t  return m ? exports.fromMapFileComment(m.pop(), read) : null;\r\n\t};\r\n\r\n\texports.removeComments = function (src) {\r\n\t  return src.replace(exports.commentRegex, '');\r\n\t};\r\n\r\n\texports.removeMapFileComments = function (src) {\r\n\t  return src.replace(exports.mapFileCommentRegex, '');\r\n\t};\r\n\r\n\texports.generateMapFileComment = function (file, options) {\r\n\t  var data = 'sourceMappingURL=' + file;\r\n\t  return options && options.multiline ? '/*# ' + data + ' */' : '//# ' + data;\r\n\t}; \r\n} (convertSourceMap$1));\r\n\r\nvar convertSourceMap = /*@__PURE__*/getDefaultExportFromCjs(convertSourceMap$1);\r\n\r\nconst debug$g = createDebugger(\"vite:sourcemap\", {\r\n  onlyWhenFocused: true\r\n});\r\nconst virtualSourceRE = /^(?:dep:|browser-external:|virtual:)|\\0/;\r\nasync function computeSourceRoute(map, file) {\r\n  let sourceRoot;\r\n  try {\r\n    sourceRoot = await fsp.realpath(\r\n      path$n.resolve(path$n.dirname(file), map.sourceRoot || \"\")\r\n    );\r\n  } catch {\r\n  }\r\n  return sourceRoot;\r\n}\r\nasync function injectSourcesContent(map, file, logger) {\r\n  let sourceRootPromise;\r\n  const missingSources = [];\r\n  const sourcesContent = map.sourcesContent || [];\r\n  const sourcesContentPromises = [];\r\n  for (let index = 0; index < map.sources.length; index++) {\r\n    const sourcePath = map.sources[index];\r\n    if (sourcesContent[index] == null && sourcePath && !virtualSourceRE.test(sourcePath)) {\r\n      sourcesContentPromises.push(\r\n        (async () => {\r\n          sourceRootPromise ??= computeSourceRoute(map, file);\r\n          const sourceRoot = await sourceRootPromise;\r\n          let resolvedSourcePath = cleanUrl(decodeURI(sourcePath));\r\n          if (sourceRoot) {\r\n            resolvedSourcePath = path$n.resolve(sourceRoot, resolvedSourcePath);\r\n          }\r\n          sourcesContent[index] = await fsp.readFile(resolvedSourcePath, \"utf-8\").catch(() => {\r\n            missingSources.push(resolvedSourcePath);\r\n            return null;\r\n          });\r\n        })()\r\n      );\r\n    }\r\n  }\r\n  await Promise.all(sourcesContentPromises);\r\n  map.sourcesContent = sourcesContent;\r\n  if (missingSources.length) {\r\n    logger.warnOnce(`Sourcemap for \"${file}\" points to missing source files`);\r\n    debug$g?.(`Missing sources:\r\n  ` + missingSources.join(`\r\n  `));\r\n  }\r\n}\r\nfunction genSourceMapUrl(map) {\r\n  if (typeof map !== \"string\") {\r\n    map = JSON.stringify(map);\r\n  }\r\n  return `data:application/json;base64,${Buffer.from(map).toString(\"base64\")}`;\r\n}\r\nfunction getCodeWithSourcemap(type, code, map) {\r\n  if (debug$g) {\r\n    code += `\r\n/*${JSON.stringify(map, null, 2).replace(/\\*\\//g, \"*\\\\/\")}*/\r\n`;\r\n  }\r\n  if (type === \"js\") {\r\n    code += `\r\n//# sourceMappingURL=${genSourceMapUrl(map)}`;\r\n  } else if (type === \"css\") {\r\n    code += `\r\n/*# sourceMappingURL=${genSourceMapUrl(map)} */`;\r\n  }\r\n  return code;\r\n}\r\nfunction applySourcemapIgnoreList(map, sourcemapPath, sourcemapIgnoreList, logger) {\r\n  let { x_google_ignoreList } = map;\r\n  if (x_google_ignoreList === void 0) {\r\n    x_google_ignoreList = [];\r\n  }\r\n  for (let sourcesIndex = 0; sourcesIndex < map.sources.length; ++sourcesIndex) {\r\n    const sourcePath = map.sources[sourcesIndex];\r\n    if (!sourcePath) continue;\r\n    const ignoreList = sourcemapIgnoreList(\r\n      path$n.isAbsolute(sourcePath) ? sourcePath : path$n.resolve(path$n.dirname(sourcemapPath), sourcePath),\r\n      sourcemapPath\r\n    );\r\n    if (logger && typeof ignoreList !== \"boolean\") {\r\n      logger.warn(\"sourcemapIgnoreList function must return a boolean.\");\r\n    }\r\n    if (ignoreList && !x_google_ignoreList.includes(sourcesIndex)) {\r\n      x_google_ignoreList.push(sourcesIndex);\r\n    }\r\n  }\r\n  if (x_google_ignoreList.length > 0) {\r\n    if (!map.x_google_ignoreList) map.x_google_ignoreList = x_google_ignoreList;\r\n  }\r\n}\r\nasync function extractSourcemapFromFile(code, filePath) {\r\n  const map = (convertSourceMap.fromSource(code) || await convertSourceMap.fromMapFileSource(\r\n    code,\r\n    createConvertSourceMapReadMap(filePath)\r\n  ))?.toObject();\r\n  if (map) {\r\n    return {\r\n      code: code.replace(convertSourceMap.mapFileCommentRegex, blankReplacer),\r\n      map\r\n    };\r\n  }\r\n}\r\nfunction createConvertSourceMapReadMap(originalFileName) {\r\n  return (filename) => {\r\n    return fsp.readFile(\r\n      path$n.resolve(path$n.dirname(originalFileName), filename),\r\n      \"utf-8\"\r\n    );\r\n  };\r\n}\r\n\r\nvar tasks = {};\r\n\r\nvar utils$g = {};\r\n\r\nvar array$1 = {};\r\n\r\nObject.defineProperty(array$1, \"__esModule\", { value: true });\r\narray$1.splitWhen = array$1.flatten = void 0;\r\nfunction flatten$1(items) {\r\n    return items.reduce((collection, item) => [].concat(collection, item), []);\r\n}\r\narray$1.flatten = flatten$1;\r\nfunction splitWhen(items, predicate) {\r\n    const result = [[]];\r\n    let groupIndex = 0;\r\n    for (const item of items) {\r\n        if (predicate(item)) {\r\n            groupIndex++;\r\n            result[groupIndex] = [];\r\n        }\r\n        else {\r\n            result[groupIndex].push(item);\r\n        }\r\n    }\r\n    return result;\r\n}\r\narray$1.splitWhen = splitWhen;\r\n\r\nvar errno$1 = {};\r\n\r\nObject.defineProperty(errno$1, \"__esModule\", { value: true });\r\nerrno$1.isEnoentCodeError = void 0;\r\nfunction isEnoentCodeError(error) {\r\n    return error.code === 'ENOENT';\r\n}\r\nerrno$1.isEnoentCodeError = isEnoentCodeError;\r\n\r\nvar fs$i = {};\r\n\r\nObject.defineProperty(fs$i, \"__esModule\", { value: true });\r\nfs$i.createDirentFromStats = void 0;\r\nlet DirentFromStats$1 = class DirentFromStats {\r\n    constructor(name, stats) {\r\n        this.name = name;\r\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\r\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\r\n        this.isDirectory = stats.isDirectory.bind(stats);\r\n        this.isFIFO = stats.isFIFO.bind(stats);\r\n        this.isFile = stats.isFile.bind(stats);\r\n        this.isSocket = stats.isSocket.bind(stats);\r\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\r\n    }\r\n};\r\nfunction createDirentFromStats$1(name, stats) {\r\n    return new DirentFromStats$1(name, stats);\r\n}\r\nfs$i.createDirentFromStats = createDirentFromStats$1;\r\n\r\nvar path$i = {};\r\n\r\nObject.defineProperty(path$i, \"__esModule\", { value: true });\r\npath$i.convertPosixPathToPattern = path$i.convertWindowsPathToPattern = path$i.convertPathToPattern = path$i.escapePosixPath = path$i.escapeWindowsPath = path$i.escape = path$i.removeLeadingDotSegment = path$i.makeAbsolute = path$i.unixify = void 0;\r\nconst os$4 = require$$2;\r\nconst path$h = require$$0$4;\r\nconst IS_WINDOWS_PLATFORM = os$4.platform() === 'win32';\r\nconst LEADING_DOT_SEGMENT_CHARACTERS_COUNT = 2; // ./ or .\\\\\r\n/**\r\n * All non-escaped special characters.\r\n * Posix: ()*?[]{|}, !+@ before (, ! at the beginning, \\\\ before non-special characters.\r\n * Windows: (){}[], !+@ before (, ! at the beginning.\r\n */\r\nconst POSIX_UNESCAPED_GLOB_SYMBOLS_RE = /(\\\\?)([()*?[\\]{|}]|^!|[!+@](?=\\()|\\\\(?![!()*+?@[\\]{|}]))/g;\r\nconst WINDOWS_UNESCAPED_GLOB_SYMBOLS_RE = /(\\\\?)([()[\\]{}]|^!|[!+@](?=\\())/g;\r\n/**\r\n * The device path (\\\\.\\ or \\\\?\\).\r\n * https://learn.microsoft.com/en-us/dotnet/standard/io/file-path-formats#dos-device-paths\r\n */\r\nconst DOS_DEVICE_PATH_RE = /^\\\\\\\\([.?])/;\r\n/**\r\n * All backslashes except those escaping special characters.\r\n * Windows: !()+@{}\r\n * https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file#naming-conventions\r\n */\r\nconst WINDOWS_BACKSLASHES_RE = /\\\\(?![!()+@[\\]{}])/g;\r\n/**\r\n * Designed to work only with simple paths: `dir\\\\file`.\r\n */\r\nfunction unixify(filepath) {\r\n    return filepath.replace(/\\\\/g, '/');\r\n}\r\npath$i.unixify = unixify;\r\nfunction makeAbsolute(cwd, filepath) {\r\n    return path$h.resolve(cwd, filepath);\r\n}\r\npath$i.makeAbsolute = makeAbsolute;\r\nfunction removeLeadingDotSegment(entry) {\r\n    // We do not use `startsWith` because this is 10x slower than current implementation for some cases.\r\n    // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\r\n    if (entry.charAt(0) === '.') {\r\n        const secondCharactery = entry.charAt(1);\r\n        if (secondCharactery === '/' || secondCharactery === '\\\\') {\r\n            return entry.slice(LEADING_DOT_SEGMENT_CHARACTERS_COUNT);\r\n        }\r\n    }\r\n    return entry;\r\n}\r\npath$i.removeLeadingDotSegment = removeLeadingDotSegment;\r\npath$i.escape = IS_WINDOWS_PLATFORM ? escapeWindowsPath : escapePosixPath;\r\nfunction escapeWindowsPath(pattern) {\r\n    return pattern.replace(WINDOWS_UNESCAPED_GLOB_SYMBOLS_RE, '\\\\$2');\r\n}\r\npath$i.escapeWindowsPath = escapeWindowsPath;\r\nfunction escapePosixPath(pattern) {\r\n    return pattern.replace(POSIX_UNESCAPED_GLOB_SYMBOLS_RE, '\\\\$2');\r\n}\r\npath$i.escapePosixPath = escapePosixPath;\r\npath$i.convertPathToPattern = IS_WINDOWS_PLATFORM ? convertWindowsPathToPattern : convertPosixPathToPattern;\r\nfunction convertWindowsPathToPattern(filepath) {\r\n    return escapeWindowsPath(filepath)\r\n        .replace(DOS_DEVICE_PATH_RE, '//$1')\r\n        .replace(WINDOWS_BACKSLASHES_RE, '/');\r\n}\r\npath$i.convertWindowsPathToPattern = convertWindowsPathToPattern;\r\nfunction convertPosixPathToPattern(filepath) {\r\n    return escapePosixPath(filepath);\r\n}\r\npath$i.convertPosixPathToPattern = convertPosixPathToPattern;\r\n\r\nvar pattern$1 = {};\r\n\r\n/*!\r\n * is-extglob <https://github.com/jonschlinkert/is-extglob>\r\n *\r\n * Copyright (c) 2014-2016, Jon Schlinkert.\r\n * Licensed under the MIT License.\r\n */\r\n\r\nvar isExtglob$1 = function isExtglob(str) {\r\n  if (typeof str !== 'string' || str === '') {\r\n    return false;\r\n  }\r\n\r\n  var match;\r\n  while ((match = /(\\\\).|([@?!+*]\\(.*\\))/g.exec(str))) {\r\n    if (match[2]) return true;\r\n    str = str.slice(match.index + match[0].length);\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\n/*!\r\n * is-glob <https://github.com/jonschlinkert/is-glob>\r\n *\r\n * Copyright (c) 2014-2017, Jon Schlinkert.\r\n * Released under the MIT License.\r\n */\r\n\r\nvar isExtglob = isExtglob$1;\r\nvar chars = { '{': '}', '(': ')', '[': ']'};\r\nvar strictCheck = function(str) {\r\n  if (str[0] === '!') {\r\n    return true;\r\n  }\r\n  var index = 0;\r\n  var pipeIndex = -2;\r\n  var closeSquareIndex = -2;\r\n  var closeCurlyIndex = -2;\r\n  var closeParenIndex = -2;\r\n  var backSlashIndex = -2;\r\n  while (index < str.length) {\r\n    if (str[index] === '*') {\r\n      return true;\r\n    }\r\n\r\n    if (str[index + 1] === '?' && /[\\].+)]/.test(str[index])) {\r\n      return true;\r\n    }\r\n\r\n    if (closeSquareIndex !== -1 && str[index] === '[' && str[index + 1] !== ']') {\r\n      if (closeSquareIndex < index) {\r\n        closeSquareIndex = str.indexOf(']', index);\r\n      }\r\n      if (closeSquareIndex > index) {\r\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\r\n          return true;\r\n        }\r\n        backSlashIndex = str.indexOf('\\\\', index);\r\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (closeCurlyIndex !== -1 && str[index] === '{' && str[index + 1] !== '}') {\r\n      closeCurlyIndex = str.indexOf('}', index);\r\n      if (closeCurlyIndex > index) {\r\n        backSlashIndex = str.indexOf('\\\\', index);\r\n        if (backSlashIndex === -1 || backSlashIndex > closeCurlyIndex) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (closeParenIndex !== -1 && str[index] === '(' && str[index + 1] === '?' && /[:!=]/.test(str[index + 2]) && str[index + 3] !== ')') {\r\n      closeParenIndex = str.indexOf(')', index);\r\n      if (closeParenIndex > index) {\r\n        backSlashIndex = str.indexOf('\\\\', index);\r\n        if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (pipeIndex !== -1 && str[index] === '(' && str[index + 1] !== '|') {\r\n      if (pipeIndex < index) {\r\n        pipeIndex = str.indexOf('|', index);\r\n      }\r\n      if (pipeIndex !== -1 && str[pipeIndex + 1] !== ')') {\r\n        closeParenIndex = str.indexOf(')', pipeIndex);\r\n        if (closeParenIndex > pipeIndex) {\r\n          backSlashIndex = str.indexOf('\\\\', pipeIndex);\r\n          if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (str[index] === '\\\\') {\r\n      var open = str[index + 1];\r\n      index += 2;\r\n      var close = chars[open];\r\n\r\n      if (close) {\r\n        var n = str.indexOf(close, index);\r\n        if (n !== -1) {\r\n          index = n + 1;\r\n        }\r\n      }\r\n\r\n      if (str[index] === '!') {\r\n        return true;\r\n      }\r\n    } else {\r\n      index++;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nvar relaxedCheck = function(str) {\r\n  if (str[0] === '!') {\r\n    return true;\r\n  }\r\n  var index = 0;\r\n  while (index < str.length) {\r\n    if (/[*?{}()[\\]]/.test(str[index])) {\r\n      return true;\r\n    }\r\n\r\n    if (str[index] === '\\\\') {\r\n      var open = str[index + 1];\r\n      index += 2;\r\n      var close = chars[open];\r\n\r\n      if (close) {\r\n        var n = str.indexOf(close, index);\r\n        if (n !== -1) {\r\n          index = n + 1;\r\n        }\r\n      }\r\n\r\n      if (str[index] === '!') {\r\n        return true;\r\n      }\r\n    } else {\r\n      index++;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nvar isGlob$2 = function isGlob(str, options) {\r\n  if (typeof str !== 'string' || str === '') {\r\n    return false;\r\n  }\r\n\r\n  if (isExtglob(str)) {\r\n    return true;\r\n  }\r\n\r\n  var check = strictCheck;\r\n\r\n  // optionally relax check\r\n  if (options && options.strict === false) {\r\n    check = relaxedCheck;\r\n  }\r\n\r\n  return check(str);\r\n};\r\n\r\nvar isGlob$1 = isGlob$2;\r\nvar pathPosixDirname = require$$0$4.posix.dirname;\r\nvar isWin32 = require$$2.platform() === 'win32';\r\n\r\nvar slash = '/';\r\nvar backslash = /\\\\/g;\r\nvar enclosure = /[\\{\\[].*[\\}\\]]$/;\r\nvar globby = /(^|[^\\\\])([\\{\\[]|\\([^\\)]+$)/;\r\nvar escaped = /\\\\([\\!\\*\\?\\|\\[\\]\\(\\)\\{\\}])/g;\r\n\r\n/**\r\n * @param {string} str\r\n * @param {Object} opts\r\n * @param {boolean} [opts.flipBackslashes=true]\r\n * @returns {string}\r\n */\r\nvar globParent$2 = function globParent(str, opts) {\r\n  var options = Object.assign({ flipBackslashes: true }, opts);\r\n\r\n  // flip windows path separators\r\n  if (options.flipBackslashes && isWin32 && str.indexOf(slash) < 0) {\r\n    str = str.replace(backslash, slash);\r\n  }\r\n\r\n  // special case for strings ending in enclosure containing path separator\r\n  if (enclosure.test(str)) {\r\n    str += slash;\r\n  }\r\n\r\n  // preserves full path in case of trailing path separator\r\n  str += 'a';\r\n\r\n  // remove path parts that are globby\r\n  do {\r\n    str = pathPosixDirname(str);\r\n  } while (isGlob$1(str) || globby.test(str));\r\n\r\n  // remove escape chars and return result\r\n  return str.replace(escaped, '$1');\r\n};\r\n\r\nvar utils$f = {};\r\n\r\n(function (exports) {\r\n\r\n\texports.isInteger = num => {\r\n\t  if (typeof num === 'number') {\r\n\t    return Number.isInteger(num);\r\n\t  }\r\n\t  if (typeof num === 'string' && num.trim() !== '') {\r\n\t    return Number.isInteger(Number(num));\r\n\t  }\r\n\t  return false;\r\n\t};\r\n\r\n\t/**\r\n\t * Find a node of the given type\r\n\t */\r\n\r\n\texports.find = (node, type) => node.nodes.find(node => node.type === type);\r\n\r\n\t/**\r\n\t * Find a node of the given type\r\n\t */\r\n\r\n\texports.exceedsLimit = (min, max, step = 1, limit) => {\r\n\t  if (limit === false) return false;\r\n\t  if (!exports.isInteger(min) || !exports.isInteger(max)) return false;\r\n\t  return ((Number(max) - Number(min)) / Number(step)) >= limit;\r\n\t};\r\n\r\n\t/**\r\n\t * Escape the given node with '\\\\' before node.value\r\n\t */\r\n\r\n\texports.escapeNode = (block, n = 0, type) => {\r\n\t  const node = block.nodes[n];\r\n\t  if (!node) return;\r\n\r\n\t  if ((type && node.type === type) || node.type === 'open' || node.type === 'close') {\r\n\t    if (node.escaped !== true) {\r\n\t      node.value = '\\\\' + node.value;\r\n\t      node.escaped = true;\r\n\t    }\r\n\t  }\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true if the given brace node should be enclosed in literal braces\r\n\t */\r\n\r\n\texports.encloseBrace = node => {\r\n\t  if (node.type !== 'brace') return false;\r\n\t  if ((node.commas >> 0 + node.ranges >> 0) === 0) {\r\n\t    node.invalid = true;\r\n\t    return true;\r\n\t  }\r\n\t  return false;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true if a brace node is invalid.\r\n\t */\r\n\r\n\texports.isInvalidBrace = block => {\r\n\t  if (block.type !== 'brace') return false;\r\n\t  if (block.invalid === true || block.dollar) return true;\r\n\t  if ((block.commas >> 0 + block.ranges >> 0) === 0) {\r\n\t    block.invalid = true;\r\n\t    return true;\r\n\t  }\r\n\t  if (block.open !== true || block.close !== true) {\r\n\t    block.invalid = true;\r\n\t    return true;\r\n\t  }\r\n\t  return false;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true if a node is an open or close node\r\n\t */\r\n\r\n\texports.isOpenOrClose = node => {\r\n\t  if (node.type === 'open' || node.type === 'close') {\r\n\t    return true;\r\n\t  }\r\n\t  return node.open === true || node.close === true;\r\n\t};\r\n\r\n\t/**\r\n\t * Reduce an array of text nodes.\r\n\t */\r\n\r\n\texports.reduce = nodes => nodes.reduce((acc, node) => {\r\n\t  if (node.type === 'text') acc.push(node.value);\r\n\t  if (node.type === 'range') node.type = 'text';\r\n\t  return acc;\r\n\t}, []);\r\n\r\n\t/**\r\n\t * Flatten an array\r\n\t */\r\n\r\n\texports.flatten = (...args) => {\r\n\t  const result = [];\r\n\r\n\t  const flat = arr => {\r\n\t    for (let i = 0; i < arr.length; i++) {\r\n\t      const ele = arr[i];\r\n\r\n\t      if (Array.isArray(ele)) {\r\n\t        flat(ele);\r\n\t        continue;\r\n\t      }\r\n\r\n\t      if (ele !== undefined) {\r\n\t        result.push(ele);\r\n\t      }\r\n\t    }\r\n\t    return result;\r\n\t  };\r\n\r\n\t  flat(args);\r\n\t  return result;\r\n\t}; \r\n} (utils$f));\r\n\r\nconst utils$e = utils$f;\r\n\r\nvar stringify$7 = (ast, options = {}) => {\r\n  const stringify = (node, parent = {}) => {\r\n    const invalidBlock = options.escapeInvalid && utils$e.isInvalidBrace(parent);\r\n    const invalidNode = node.invalid === true && options.escapeInvalid === true;\r\n    let output = '';\r\n\r\n    if (node.value) {\r\n      if ((invalidBlock || invalidNode) && utils$e.isOpenOrClose(node)) {\r\n        return '\\\\' + node.value;\r\n      }\r\n      return node.value;\r\n    }\r\n\r\n    if (node.value) {\r\n      return node.value;\r\n    }\r\n\r\n    if (node.nodes) {\r\n      for (const child of node.nodes) {\r\n        output += stringify(child);\r\n      }\r\n    }\r\n    return output;\r\n  };\r\n\r\n  return stringify(ast);\r\n};\r\n\r\n/*!\r\n * is-number <https://github.com/jonschlinkert/is-number>\r\n *\r\n * Copyright (c) 2014-present, Jon Schlinkert.\r\n * Released under the MIT License.\r\n */\r\n\r\nvar isNumber$2 = function(num) {\r\n  if (typeof num === 'number') {\r\n    return num - num === 0;\r\n  }\r\n  if (typeof num === 'string' && num.trim() !== '') {\r\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\r\n  }\r\n  return false;\r\n};\r\n\r\n/*!\r\n * to-regex-range <https://github.com/micromatch/to-regex-range>\r\n *\r\n * Copyright (c) 2015-present, Jon Schlinkert.\r\n * Released under the MIT License.\r\n */\r\n\r\nconst isNumber$1 = isNumber$2;\r\n\r\nconst toRegexRange$1 = (min, max, options) => {\r\n  if (isNumber$1(min) === false) {\r\n    throw new TypeError('toRegexRange: expected the first argument to be a number');\r\n  }\r\n\r\n  if (max === void 0 || min === max) {\r\n    return String(min);\r\n  }\r\n\r\n  if (isNumber$1(max) === false) {\r\n    throw new TypeError('toRegexRange: expected the second argument to be a number.');\r\n  }\r\n\r\n  let opts = { relaxZeros: true, ...options };\r\n  if (typeof opts.strictZeros === 'boolean') {\r\n    opts.relaxZeros = opts.strictZeros === false;\r\n  }\r\n\r\n  let relax = String(opts.relaxZeros);\r\n  let shorthand = String(opts.shorthand);\r\n  let capture = String(opts.capture);\r\n  let wrap = String(opts.wrap);\r\n  let cacheKey = min + ':' + max + '=' + relax + shorthand + capture + wrap;\r\n\r\n  if (toRegexRange$1.cache.hasOwnProperty(cacheKey)) {\r\n    return toRegexRange$1.cache[cacheKey].result;\r\n  }\r\n\r\n  let a = Math.min(min, max);\r\n  let b = Math.max(min, max);\r\n\r\n  if (Math.abs(a - b) === 1) {\r\n    let result = min + '|' + max;\r\n    if (opts.capture) {\r\n      return `(${result})`;\r\n    }\r\n    if (opts.wrap === false) {\r\n      return result;\r\n    }\r\n    return `(?:${result})`;\r\n  }\r\n\r\n  let isPadded = hasPadding(min) || hasPadding(max);\r\n  let state = { min, max, a, b };\r\n  let positives = [];\r\n  let negatives = [];\r\n\r\n  if (isPadded) {\r\n    state.isPadded = isPadded;\r\n    state.maxLen = String(state.max).length;\r\n  }\r\n\r\n  if (a < 0) {\r\n    let newMin = b < 0 ? Math.abs(b) : 1;\r\n    negatives = splitToPatterns(newMin, Math.abs(a), state, opts);\r\n    a = state.a = 0;\r\n  }\r\n\r\n  if (b >= 0) {\r\n    positives = splitToPatterns(a, b, state, opts);\r\n  }\r\n\r\n  state.negatives = negatives;\r\n  state.positives = positives;\r\n  state.result = collatePatterns(negatives, positives);\r\n\r\n  if (opts.capture === true) {\r\n    state.result = `(${state.result})`;\r\n  } else if (opts.wrap !== false && (positives.length + negatives.length) > 1) {\r\n    state.result = `(?:${state.result})`;\r\n  }\r\n\r\n  toRegexRange$1.cache[cacheKey] = state;\r\n  return state.result;\r\n};\r\n\r\nfunction collatePatterns(neg, pos, options) {\r\n  let onlyNegative = filterPatterns(neg, pos, '-', false) || [];\r\n  let onlyPositive = filterPatterns(pos, neg, '', false) || [];\r\n  let intersected = filterPatterns(neg, pos, '-?', true) || [];\r\n  let subpatterns = onlyNegative.concat(intersected).concat(onlyPositive);\r\n  return subpatterns.join('|');\r\n}\r\n\r\nfunction splitToRanges(min, max) {\r\n  let nines = 1;\r\n  let zeros = 1;\r\n\r\n  let stop = countNines(min, nines);\r\n  let stops = new Set([max]);\r\n\r\n  while (min <= stop && stop <= max) {\r\n    stops.add(stop);\r\n    nines += 1;\r\n    stop = countNines(min, nines);\r\n  }\r\n\r\n  stop = countZeros(max + 1, zeros) - 1;\r\n\r\n  while (min < stop && stop <= max) {\r\n    stops.add(stop);\r\n    zeros += 1;\r\n    stop = countZeros(max + 1, zeros) - 1;\r\n  }\r\n\r\n  stops = [...stops];\r\n  stops.sort(compare);\r\n  return stops;\r\n}\r\n\r\n/**\r\n * Convert a range to a regex pattern\r\n * @param {Number} `start`\r\n * @param {Number} `stop`\r\n * @return {String}\r\n */\r\n\r\nfunction rangeToPattern(start, stop, options) {\r\n  if (start === stop) {\r\n    return { pattern: start, count: [], digits: 0 };\r\n  }\r\n\r\n  let zipped = zip(start, stop);\r\n  let digits = zipped.length;\r\n  let pattern = '';\r\n  let count = 0;\r\n\r\n  for (let i = 0; i < digits; i++) {\r\n    let [startDigit, stopDigit] = zipped[i];\r\n\r\n    if (startDigit === stopDigit) {\r\n      pattern += startDigit;\r\n\r\n    } else if (startDigit !== '0' || stopDigit !== '9') {\r\n      pattern += toCharacterClass(startDigit, stopDigit);\r\n\r\n    } else {\r\n      count++;\r\n    }\r\n  }\r\n\r\n  if (count) {\r\n    pattern += options.shorthand === true ? '\\\\d' : '[0-9]';\r\n  }\r\n\r\n  return { pattern, count: [count], digits };\r\n}\r\n\r\nfunction splitToPatterns(min, max, tok, options) {\r\n  let ranges = splitToRanges(min, max);\r\n  let tokens = [];\r\n  let start = min;\r\n  let prev;\r\n\r\n  for (let i = 0; i < ranges.length; i++) {\r\n    let max = ranges[i];\r\n    let obj = rangeToPattern(String(start), String(max), options);\r\n    let zeros = '';\r\n\r\n    if (!tok.isPadded && prev && prev.pattern === obj.pattern) {\r\n      if (prev.count.length > 1) {\r\n        prev.count.pop();\r\n      }\r\n\r\n      prev.count.push(obj.count[0]);\r\n      prev.string = prev.pattern + toQuantifier(prev.count);\r\n      start = max + 1;\r\n      continue;\r\n    }\r\n\r\n    if (tok.isPadded) {\r\n      zeros = padZeros(max, tok, options);\r\n    }\r\n\r\n    obj.string = zeros + obj.pattern + toQuantifier(obj.count);\r\n    tokens.push(obj);\r\n    start = max + 1;\r\n    prev = obj;\r\n  }\r\n\r\n  return tokens;\r\n}\r\n\r\nfunction filterPatterns(arr, comparison, prefix, intersection, options) {\r\n  let result = [];\r\n\r\n  for (let ele of arr) {\r\n    let { string } = ele;\r\n\r\n    // only push if _both_ are negative...\r\n    if (!intersection && !contains(comparison, 'string', string)) {\r\n      result.push(prefix + string);\r\n    }\r\n\r\n    // or _both_ are positive\r\n    if (intersection && contains(comparison, 'string', string)) {\r\n      result.push(prefix + string);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Zip strings\r\n */\r\n\r\nfunction zip(a, b) {\r\n  let arr = [];\r\n  for (let i = 0; i < a.length; i++) arr.push([a[i], b[i]]);\r\n  return arr;\r\n}\r\n\r\nfunction compare(a, b) {\r\n  return a > b ? 1 : b > a ? -1 : 0;\r\n}\r\n\r\nfunction contains(arr, key, val) {\r\n  return arr.some(ele => ele[key] === val);\r\n}\r\n\r\nfunction countNines(min, len) {\r\n  return Number(String(min).slice(0, -len) + '9'.repeat(len));\r\n}\r\n\r\nfunction countZeros(integer, zeros) {\r\n  return integer - (integer % Math.pow(10, zeros));\r\n}\r\n\r\nfunction toQuantifier(digits) {\r\n  let [start = 0, stop = ''] = digits;\r\n  if (stop || start > 1) {\r\n    return `{${start + (stop ? ',' + stop : '')}}`;\r\n  }\r\n  return '';\r\n}\r\n\r\nfunction toCharacterClass(a, b, options) {\r\n  return `[${a}${(b - a === 1) ? '' : '-'}${b}]`;\r\n}\r\n\r\nfunction hasPadding(str) {\r\n  return /^-?(0+)\\d/.test(str);\r\n}\r\n\r\nfunction padZeros(value, tok, options) {\r\n  if (!tok.isPadded) {\r\n    return value;\r\n  }\r\n\r\n  let diff = Math.abs(tok.maxLen - String(value).length);\r\n  let relax = options.relaxZeros !== false;\r\n\r\n  switch (diff) {\r\n    case 0:\r\n      return '';\r\n    case 1:\r\n      return relax ? '0?' : '0';\r\n    case 2:\r\n      return relax ? '0{0,2}' : '00';\r\n    default: {\r\n      return relax ? `0{0,${diff}}` : `0{${diff}}`;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Cache\r\n */\r\n\r\ntoRegexRange$1.cache = {};\r\ntoRegexRange$1.clearCache = () => (toRegexRange$1.cache = {});\r\n\r\n/**\r\n * Expose `toRegexRange`\r\n */\r\n\r\nvar toRegexRange_1 = toRegexRange$1;\r\n\r\n/*!\r\n * fill-range <https://github.com/jonschlinkert/fill-range>\r\n *\r\n * Copyright (c) 2014-present, Jon Schlinkert.\r\n * Licensed under the MIT License.\r\n */\r\n\r\nconst util$1 = require$$0$5;\r\nconst toRegexRange = toRegexRange_1;\r\n\r\nconst isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\r\n\r\nconst transform = toNumber => {\r\n  return value => toNumber === true ? Number(value) : String(value);\r\n};\r\n\r\nconst isValidValue = value => {\r\n  return typeof value === 'number' || (typeof value === 'string' && value !== '');\r\n};\r\n\r\nconst isNumber = num => Number.isInteger(+num);\r\n\r\nconst zeros = input => {\r\n  let value = `${input}`;\r\n  let index = -1;\r\n  if (value[0] === '-') value = value.slice(1);\r\n  if (value === '0') return false;\r\n  while (value[++index] === '0');\r\n  return index > 0;\r\n};\r\n\r\nconst stringify$6 = (start, end, options) => {\r\n  if (typeof start === 'string' || typeof end === 'string') {\r\n    return true;\r\n  }\r\n  return options.stringify === true;\r\n};\r\n\r\nconst pad = (input, maxLength, toNumber) => {\r\n  if (maxLength > 0) {\r\n    let dash = input[0] === '-' ? '-' : '';\r\n    if (dash) input = input.slice(1);\r\n    input = (dash + input.padStart(dash ? maxLength - 1 : maxLength, '0'));\r\n  }\r\n  if (toNumber === false) {\r\n    return String(input);\r\n  }\r\n  return input;\r\n};\r\n\r\nconst toMaxLen = (input, maxLength) => {\r\n  let negative = input[0] === '-' ? '-' : '';\r\n  if (negative) {\r\n    input = input.slice(1);\r\n    maxLength--;\r\n  }\r\n  while (input.length < maxLength) input = '0' + input;\r\n  return negative ? ('-' + input) : input;\r\n};\r\n\r\nconst toSequence = (parts, options, maxLen) => {\r\n  parts.negatives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\r\n  parts.positives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\r\n\r\n  let prefix = options.capture ? '' : '?:';\r\n  let positives = '';\r\n  let negatives = '';\r\n  let result;\r\n\r\n  if (parts.positives.length) {\r\n    positives = parts.positives.map(v => toMaxLen(String(v), maxLen)).join('|');\r\n  }\r\n\r\n  if (parts.negatives.length) {\r\n    negatives = `-(${prefix}${parts.negatives.map(v => toMaxLen(String(v), maxLen)).join('|')})`;\r\n  }\r\n\r\n  if (positives && negatives) {\r\n    result = `${positives}|${negatives}`;\r\n  } else {\r\n    result = positives || negatives;\r\n  }\r\n\r\n  if (options.wrap) {\r\n    return `(${prefix}${result})`;\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst toRange = (a, b, isNumbers, options) => {\r\n  if (isNumbers) {\r\n    return toRegexRange(a, b, { wrap: false, ...options });\r\n  }\r\n\r\n  let start = String.fromCharCode(a);\r\n  if (a === b) return start;\r\n\r\n  let stop = String.fromCharCode(b);\r\n  return `[${start}-${stop}]`;\r\n};\r\n\r\nconst toRegex = (start, end, options) => {\r\n  if (Array.isArray(start)) {\r\n    let wrap = options.wrap === true;\r\n    let prefix = options.capture ? '' : '?:';\r\n    return wrap ? `(${prefix}${start.join('|')})` : start.join('|');\r\n  }\r\n  return toRegexRange(start, end, options);\r\n};\r\n\r\nconst rangeError = (...args) => {\r\n  return new RangeError('Invalid range arguments: ' + util$1.inspect(...args));\r\n};\r\n\r\nconst invalidRange = (start, end, options) => {\r\n  if (options.strictRanges === true) throw rangeError([start, end]);\r\n  return [];\r\n};\r\n\r\nconst invalidStep = (step, options) => {\r\n  if (options.strictRanges === true) {\r\n    throw new TypeError(`Expected step \"${step}\" to be a number`);\r\n  }\r\n  return [];\r\n};\r\n\r\nconst fillNumbers = (start, end, step = 1, options = {}) => {\r\n  let a = Number(start);\r\n  let b = Number(end);\r\n\r\n  if (!Number.isInteger(a) || !Number.isInteger(b)) {\r\n    if (options.strictRanges === true) throw rangeError([start, end]);\r\n    return [];\r\n  }\r\n\r\n  // fix negative zero\r\n  if (a === 0) a = 0;\r\n  if (b === 0) b = 0;\r\n\r\n  let descending = a > b;\r\n  let startString = String(start);\r\n  let endString = String(end);\r\n  let stepString = String(step);\r\n  step = Math.max(Math.abs(step), 1);\r\n\r\n  let padded = zeros(startString) || zeros(endString) || zeros(stepString);\r\n  let maxLen = padded ? Math.max(startString.length, endString.length, stepString.length) : 0;\r\n  let toNumber = padded === false && stringify$6(start, end, options) === false;\r\n  let format = options.transform || transform(toNumber);\r\n\r\n  if (options.toRegex && step === 1) {\r\n    return toRange(toMaxLen(start, maxLen), toMaxLen(end, maxLen), true, options);\r\n  }\r\n\r\n  let parts = { negatives: [], positives: [] };\r\n  let push = num => parts[num < 0 ? 'negatives' : 'positives'].push(Math.abs(num));\r\n  let range = [];\r\n  let index = 0;\r\n\r\n  while (descending ? a >= b : a <= b) {\r\n    if (options.toRegex === true && step > 1) {\r\n      push(a);\r\n    } else {\r\n      range.push(pad(format(a, index), maxLen, toNumber));\r\n    }\r\n    a = descending ? a - step : a + step;\r\n    index++;\r\n  }\r\n\r\n  if (options.toRegex === true) {\r\n    return step > 1\r\n      ? toSequence(parts, options, maxLen)\r\n      : toRegex(range, null, { wrap: false, ...options });\r\n  }\r\n\r\n  return range;\r\n};\r\n\r\nconst fillLetters = (start, end, step = 1, options = {}) => {\r\n  if ((!isNumber(start) && start.length > 1) || (!isNumber(end) && end.length > 1)) {\r\n    return invalidRange(start, end, options);\r\n  }\r\n\r\n  let format = options.transform || (val => String.fromCharCode(val));\r\n  let a = `${start}`.charCodeAt(0);\r\n  let b = `${end}`.charCodeAt(0);\r\n\r\n  let descending = a > b;\r\n  let min = Math.min(a, b);\r\n  let max = Math.max(a, b);\r\n\r\n  if (options.toRegex && step === 1) {\r\n    return toRange(min, max, false, options);\r\n  }\r\n\r\n  let range = [];\r\n  let index = 0;\r\n\r\n  while (descending ? a >= b : a <= b) {\r\n    range.push(format(a, index));\r\n    a = descending ? a - step : a + step;\r\n    index++;\r\n  }\r\n\r\n  if (options.toRegex === true) {\r\n    return toRegex(range, null, { wrap: false, options });\r\n  }\r\n\r\n  return range;\r\n};\r\n\r\nconst fill$2 = (start, end, step, options = {}) => {\r\n  if (end == null && isValidValue(start)) {\r\n    return [start];\r\n  }\r\n\r\n  if (!isValidValue(start) || !isValidValue(end)) {\r\n    return invalidRange(start, end, options);\r\n  }\r\n\r\n  if (typeof step === 'function') {\r\n    return fill$2(start, end, 1, { transform: step });\r\n  }\r\n\r\n  if (isObject(step)) {\r\n    return fill$2(start, end, 0, step);\r\n  }\r\n\r\n  let opts = { ...options };\r\n  if (opts.capture === true) opts.wrap = true;\r\n  step = step || opts.step || 1;\r\n\r\n  if (!isNumber(step)) {\r\n    if (step != null && !isObject(step)) return invalidStep(step, opts);\r\n    return fill$2(start, end, 1, step);\r\n  }\r\n\r\n  if (isNumber(start) && isNumber(end)) {\r\n    return fillNumbers(start, end, step, opts);\r\n  }\r\n\r\n  return fillLetters(start, end, Math.max(Math.abs(step), 1), opts);\r\n};\r\n\r\nvar fillRange = fill$2;\r\n\r\nconst fill$1 = fillRange;\r\nconst utils$d = utils$f;\r\n\r\nconst compile$1 = (ast, options = {}) => {\r\n  const walk = (node, parent = {}) => {\r\n    const invalidBlock = utils$d.isInvalidBrace(parent);\r\n    const invalidNode = node.invalid === true && options.escapeInvalid === true;\r\n    const invalid = invalidBlock === true || invalidNode === true;\r\n    const prefix = options.escapeInvalid === true ? '\\\\' : '';\r\n    let output = '';\r\n\r\n    if (node.isOpen === true) {\r\n      return prefix + node.value;\r\n    }\r\n\r\n    if (node.isClose === true) {\r\n      console.log('node.isClose', prefix, node.value);\r\n      return prefix + node.value;\r\n    }\r\n\r\n    if (node.type === 'open') {\r\n      return invalid ? prefix + node.value : '(';\r\n    }\r\n\r\n    if (node.type === 'close') {\r\n      return invalid ? prefix + node.value : ')';\r\n    }\r\n\r\n    if (node.type === 'comma') {\r\n      return node.prev.type === 'comma' ? '' : invalid ? node.value : '|';\r\n    }\r\n\r\n    if (node.value) {\r\n      return node.value;\r\n    }\r\n\r\n    if (node.nodes && node.ranges > 0) {\r\n      const args = utils$d.reduce(node.nodes);\r\n      const range = fill$1(...args, { ...options, wrap: false, toRegex: true, strictZeros: true });\r\n\r\n      if (range.length !== 0) {\r\n        return args.length > 1 && range.length > 1 ? `(${range})` : range;\r\n      }\r\n    }\r\n\r\n    if (node.nodes) {\r\n      for (const child of node.nodes) {\r\n        output += walk(child, node);\r\n      }\r\n    }\r\n\r\n    return output;\r\n  };\r\n\r\n  return walk(ast);\r\n};\r\n\r\nvar compile_1 = compile$1;\r\n\r\nconst fill = fillRange;\r\nconst stringify$5 = stringify$7;\r\nconst utils$c = utils$f;\r\n\r\nconst append$1 = (queue = '', stash = '', enclose = false) => {\r\n  const result = [];\r\n\r\n  queue = [].concat(queue);\r\n  stash = [].concat(stash);\r\n\r\n  if (!stash.length) return queue;\r\n  if (!queue.length) {\r\n    return enclose ? utils$c.flatten(stash).map(ele => `{${ele}}`) : stash;\r\n  }\r\n\r\n  for (const item of queue) {\r\n    if (Array.isArray(item)) {\r\n      for (const value of item) {\r\n        result.push(append$1(value, stash, enclose));\r\n      }\r\n    } else {\r\n      for (let ele of stash) {\r\n        if (enclose === true && typeof ele === 'string') ele = `{${ele}}`;\r\n        result.push(Array.isArray(ele) ? append$1(item, ele, enclose) : item + ele);\r\n      }\r\n    }\r\n  }\r\n  return utils$c.flatten(result);\r\n};\r\n\r\nconst expand$2 = (ast, options = {}) => {\r\n  const rangeLimit = options.rangeLimit === undefined ? 1000 : options.rangeLimit;\r\n\r\n  const walk = (node, parent = {}) => {\r\n    node.queue = [];\r\n\r\n    let p = parent;\r\n    let q = parent.queue;\r\n\r\n    while (p.type !== 'brace' && p.type !== 'root' && p.parent) {\r\n      p = p.parent;\r\n      q = p.queue;\r\n    }\r\n\r\n    if (node.invalid || node.dollar) {\r\n      q.push(append$1(q.pop(), stringify$5(node, options)));\r\n      return;\r\n    }\r\n\r\n    if (node.type === 'brace' && node.invalid !== true && node.nodes.length === 2) {\r\n      q.push(append$1(q.pop(), ['{}']));\r\n      return;\r\n    }\r\n\r\n    if (node.nodes && node.ranges > 0) {\r\n      const args = utils$c.reduce(node.nodes);\r\n\r\n      if (utils$c.exceedsLimit(...args, options.step, rangeLimit)) {\r\n        throw new RangeError('expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.');\r\n      }\r\n\r\n      let range = fill(...args, options);\r\n      if (range.length === 0) {\r\n        range = stringify$5(node, options);\r\n      }\r\n\r\n      q.push(append$1(q.pop(), range));\r\n      node.nodes = [];\r\n      return;\r\n    }\r\n\r\n    const enclose = utils$c.encloseBrace(node);\r\n    let queue = node.queue;\r\n    let block = node;\r\n\r\n    while (block.type !== 'brace' && block.type !== 'root' && block.parent) {\r\n      block = block.parent;\r\n      queue = block.queue;\r\n    }\r\n\r\n    for (let i = 0; i < node.nodes.length; i++) {\r\n      const child = node.nodes[i];\r\n\r\n      if (child.type === 'comma' && node.type === 'brace') {\r\n        if (i === 1) queue.push('');\r\n        queue.push('');\r\n        continue;\r\n      }\r\n\r\n      if (child.type === 'close') {\r\n        q.push(append$1(q.pop(), queue, enclose));\r\n        continue;\r\n      }\r\n\r\n      if (child.value && child.type !== 'open') {\r\n        queue.push(append$1(queue.pop(), child.value));\r\n        continue;\r\n      }\r\n\r\n      if (child.nodes) {\r\n        walk(child, node);\r\n      }\r\n    }\r\n\r\n    return queue;\r\n  };\r\n\r\n  return utils$c.flatten(walk(ast));\r\n};\r\n\r\nvar expand_1$1 = expand$2;\r\n\r\nvar constants$3 = {\r\n  MAX_LENGTH: 10000,\r\n\r\n  // Digits\r\n  CHAR_0: '0', /* 0 */\r\n  CHAR_9: '9', /* 9 */\r\n\r\n  // Alphabet chars.\r\n  CHAR_UPPERCASE_A: 'A', /* A */\r\n  CHAR_LOWERCASE_A: 'a', /* a */\r\n  CHAR_UPPERCASE_Z: 'Z', /* Z */\r\n  CHAR_LOWERCASE_Z: 'z', /* z */\r\n\r\n  CHAR_LEFT_PARENTHESES: '(', /* ( */\r\n  CHAR_RIGHT_PARENTHESES: ')', /* ) */\r\n\r\n  CHAR_ASTERISK: '*', /* * */\r\n\r\n  // Non-alphabetic chars.\r\n  CHAR_AMPERSAND: '&', /* & */\r\n  CHAR_AT: '@', /* @ */\r\n  CHAR_BACKSLASH: '\\\\', /* \\ */\r\n  CHAR_BACKTICK: '`', /* ` */\r\n  CHAR_CARRIAGE_RETURN: '\\r', /* \\r */\r\n  CHAR_CIRCUMFLEX_ACCENT: '^', /* ^ */\r\n  CHAR_COLON: ':', /* : */\r\n  CHAR_COMMA: ',', /* , */\r\n  CHAR_DOLLAR: '$', /* . */\r\n  CHAR_DOT: '.', /* . */\r\n  CHAR_DOUBLE_QUOTE: '\"', /* \" */\r\n  CHAR_EQUAL: '=', /* = */\r\n  CHAR_EXCLAMATION_MARK: '!', /* ! */\r\n  CHAR_FORM_FEED: '\\f', /* \\f */\r\n  CHAR_FORWARD_SLASH: '/', /* / */\r\n  CHAR_HASH: '#', /* # */\r\n  CHAR_HYPHEN_MINUS: '-', /* - */\r\n  CHAR_LEFT_ANGLE_BRACKET: '<', /* < */\r\n  CHAR_LEFT_CURLY_BRACE: '{', /* { */\r\n  CHAR_LEFT_SQUARE_BRACKET: '[', /* [ */\r\n  CHAR_LINE_FEED: '\\n', /* \\n */\r\n  CHAR_NO_BREAK_SPACE: '\\u00A0', /* \\u00A0 */\r\n  CHAR_PERCENT: '%', /* % */\r\n  CHAR_PLUS: '+', /* + */\r\n  CHAR_QUESTION_MARK: '?', /* ? */\r\n  CHAR_RIGHT_ANGLE_BRACKET: '>', /* > */\r\n  CHAR_RIGHT_CURLY_BRACE: '}', /* } */\r\n  CHAR_RIGHT_SQUARE_BRACKET: ']', /* ] */\r\n  CHAR_SEMICOLON: ';', /* ; */\r\n  CHAR_SINGLE_QUOTE: '\\'', /* ' */\r\n  CHAR_SPACE: ' ', /*   */\r\n  CHAR_TAB: '\\t', /* \\t */\r\n  CHAR_UNDERSCORE: '_', /* _ */\r\n  CHAR_VERTICAL_LINE: '|', /* | */\r\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: '\\uFEFF' /* \\uFEFF */\r\n};\r\n\r\nconst stringify$4 = stringify$7;\r\n\r\n/**\r\n * Constants\r\n */\r\n\r\nconst {\r\n  MAX_LENGTH,\r\n  CHAR_BACKSLASH, /* \\ */\r\n  CHAR_BACKTICK, /* ` */\r\n  CHAR_COMMA, /* , */\r\n  CHAR_DOT, /* . */\r\n  CHAR_LEFT_PARENTHESES, /* ( */\r\n  CHAR_RIGHT_PARENTHESES, /* ) */\r\n  CHAR_LEFT_CURLY_BRACE, /* { */\r\n  CHAR_RIGHT_CURLY_BRACE, /* } */\r\n  CHAR_LEFT_SQUARE_BRACKET, /* [ */\r\n  CHAR_RIGHT_SQUARE_BRACKET, /* ] */\r\n  CHAR_DOUBLE_QUOTE, /* \" */\r\n  CHAR_SINGLE_QUOTE, /* ' */\r\n  CHAR_NO_BREAK_SPACE,\r\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE\r\n} = constants$3;\r\n\r\n/**\r\n * parse\r\n */\r\n\r\nconst parse$c = (input, options = {}) => {\r\n  if (typeof input !== 'string') {\r\n    throw new TypeError('Expected a string');\r\n  }\r\n\r\n  const opts = options || {};\r\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\r\n  if (input.length > max) {\r\n    throw new SyntaxError(`Input length (${input.length}), exceeds max characters (${max})`);\r\n  }\r\n\r\n  const ast = { type: 'root', input, nodes: [] };\r\n  const stack = [ast];\r\n  let block = ast;\r\n  let prev = ast;\r\n  let brackets = 0;\r\n  const length = input.length;\r\n  let index = 0;\r\n  let depth = 0;\r\n  let value;\r\n\r\n  /**\r\n   * Helpers\r\n   */\r\n\r\n  const advance = () => input[index++];\r\n  const push = node => {\r\n    if (node.type === 'text' && prev.type === 'dot') {\r\n      prev.type = 'text';\r\n    }\r\n\r\n    if (prev && prev.type === 'text' && node.type === 'text') {\r\n      prev.value += node.value;\r\n      return;\r\n    }\r\n\r\n    block.nodes.push(node);\r\n    node.parent = block;\r\n    node.prev = prev;\r\n    prev = node;\r\n    return node;\r\n  };\r\n\r\n  push({ type: 'bos' });\r\n\r\n  while (index < length) {\r\n    block = stack[stack.length - 1];\r\n    value = advance();\r\n\r\n    /**\r\n     * Invalid chars\r\n     */\r\n\r\n    if (value === CHAR_ZERO_WIDTH_NOBREAK_SPACE || value === CHAR_NO_BREAK_SPACE) {\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Escaped chars\r\n     */\r\n\r\n    if (value === CHAR_BACKSLASH) {\r\n      push({ type: 'text', value: (options.keepEscaping ? value : '') + advance() });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Right square bracket (literal): ']'\r\n     */\r\n\r\n    if (value === CHAR_RIGHT_SQUARE_BRACKET) {\r\n      push({ type: 'text', value: '\\\\' + value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Left square bracket: '['\r\n     */\r\n\r\n    if (value === CHAR_LEFT_SQUARE_BRACKET) {\r\n      brackets++;\r\n\r\n      let next;\r\n\r\n      while (index < length && (next = advance())) {\r\n        value += next;\r\n\r\n        if (next === CHAR_LEFT_SQUARE_BRACKET) {\r\n          brackets++;\r\n          continue;\r\n        }\r\n\r\n        if (next === CHAR_BACKSLASH) {\r\n          value += advance();\r\n          continue;\r\n        }\r\n\r\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\r\n          brackets--;\r\n\r\n          if (brackets === 0) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Parentheses\r\n     */\r\n\r\n    if (value === CHAR_LEFT_PARENTHESES) {\r\n      block = push({ type: 'paren', nodes: [] });\r\n      stack.push(block);\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    if (value === CHAR_RIGHT_PARENTHESES) {\r\n      if (block.type !== 'paren') {\r\n        push({ type: 'text', value });\r\n        continue;\r\n      }\r\n      block = stack.pop();\r\n      push({ type: 'text', value });\r\n      block = stack[stack.length - 1];\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Quotes: '|\"|`\r\n     */\r\n\r\n    if (value === CHAR_DOUBLE_QUOTE || value === CHAR_SINGLE_QUOTE || value === CHAR_BACKTICK) {\r\n      const open = value;\r\n      let next;\r\n\r\n      if (options.keepQuotes !== true) {\r\n        value = '';\r\n      }\r\n\r\n      while (index < length && (next = advance())) {\r\n        if (next === CHAR_BACKSLASH) {\r\n          value += next + advance();\r\n          continue;\r\n        }\r\n\r\n        if (next === open) {\r\n          if (options.keepQuotes === true) value += next;\r\n          break;\r\n        }\r\n\r\n        value += next;\r\n      }\r\n\r\n      push({ type: 'text', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Left curly brace: '{'\r\n     */\r\n\r\n    if (value === CHAR_LEFT_CURLY_BRACE) {\r\n      depth++;\r\n\r\n      const dollar = prev.value && prev.value.slice(-1) === '$' || block.dollar === true;\r\n      const brace = {\r\n        type: 'brace',\r\n        open: true,\r\n        close: false,\r\n        dollar,\r\n        depth,\r\n        commas: 0,\r\n        ranges: 0,\r\n        nodes: []\r\n      };\r\n\r\n      block = push(brace);\r\n      stack.push(block);\r\n      push({ type: 'open', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Right curly brace: '}'\r\n     */\r\n\r\n    if (value === CHAR_RIGHT_CURLY_BRACE) {\r\n      if (block.type !== 'brace') {\r\n        push({ type: 'text', value });\r\n        continue;\r\n      }\r\n\r\n      const type = 'close';\r\n      block = stack.pop();\r\n      block.close = true;\r\n\r\n      push({ type, value });\r\n      depth--;\r\n\r\n      block = stack[stack.length - 1];\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Comma: ','\r\n     */\r\n\r\n    if (value === CHAR_COMMA && depth > 0) {\r\n      if (block.ranges > 0) {\r\n        block.ranges = 0;\r\n        const open = block.nodes.shift();\r\n        block.nodes = [open, { type: 'text', value: stringify$4(block) }];\r\n      }\r\n\r\n      push({ type: 'comma', value });\r\n      block.commas++;\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Dot: '.'\r\n     */\r\n\r\n    if (value === CHAR_DOT && depth > 0 && block.commas === 0) {\r\n      const siblings = block.nodes;\r\n\r\n      if (depth === 0 || siblings.length === 0) {\r\n        push({ type: 'text', value });\r\n        continue;\r\n      }\r\n\r\n      if (prev.type === 'dot') {\r\n        block.range = [];\r\n        prev.value += value;\r\n        prev.type = 'range';\r\n\r\n        if (block.nodes.length !== 3 && block.nodes.length !== 5) {\r\n          block.invalid = true;\r\n          block.ranges = 0;\r\n          prev.type = 'text';\r\n          continue;\r\n        }\r\n\r\n        block.ranges++;\r\n        block.args = [];\r\n        continue;\r\n      }\r\n\r\n      if (prev.type === 'range') {\r\n        siblings.pop();\r\n\r\n        const before = siblings[siblings.length - 1];\r\n        before.value += prev.value + value;\r\n        prev = before;\r\n        block.ranges--;\r\n        continue;\r\n      }\r\n\r\n      push({ type: 'dot', value });\r\n      continue;\r\n    }\r\n\r\n    /**\r\n     * Text\r\n     */\r\n\r\n    push({ type: 'text', value });\r\n  }\r\n\r\n  // Mark imbalanced braces and brackets as invalid\r\n  do {\r\n    block = stack.pop();\r\n\r\n    if (block.type !== 'root') {\r\n      block.nodes.forEach(node => {\r\n        if (!node.nodes) {\r\n          if (node.type === 'open') node.isOpen = true;\r\n          if (node.type === 'close') node.isClose = true;\r\n          if (!node.nodes) node.type = 'text';\r\n          node.invalid = true;\r\n        }\r\n      });\r\n\r\n      // get the location of the block on parent.nodes (block's siblings)\r\n      const parent = stack[stack.length - 1];\r\n      const index = parent.nodes.indexOf(block);\r\n      // replace the (invalid) block with it's nodes\r\n      parent.nodes.splice(index, 1, ...block.nodes);\r\n    }\r\n  } while (stack.length > 0);\r\n\r\n  push({ type: 'eos' });\r\n  return ast;\r\n};\r\n\r\nvar parse_1$2 = parse$c;\r\n\r\nconst stringify$3 = stringify$7;\r\nconst compile = compile_1;\r\nconst expand$1 = expand_1$1;\r\nconst parse$b = parse_1$2;\r\n\r\n/**\r\n * Expand the given pattern or create a regex-compatible string.\r\n *\r\n * ```js\r\n * const braces = require('braces');\r\n * console.log(braces('{a,b,c}', { compile: true })); //=> ['(a|b|c)']\r\n * console.log(braces('{a,b,c}')); //=> ['a', 'b', 'c']\r\n * ```\r\n * @param {String} `str`\r\n * @param {Object} `options`\r\n * @return {String}\r\n * @api public\r\n */\r\n\r\nconst braces$2 = (input, options = {}) => {\r\n  let output = [];\r\n\r\n  if (Array.isArray(input)) {\r\n    for (const pattern of input) {\r\n      const result = braces$2.create(pattern, options);\r\n      if (Array.isArray(result)) {\r\n        output.push(...result);\r\n      } else {\r\n        output.push(result);\r\n      }\r\n    }\r\n  } else {\r\n    output = [].concat(braces$2.create(input, options));\r\n  }\r\n\r\n  if (options && options.expand === true && options.nodupes === true) {\r\n    output = [...new Set(output)];\r\n  }\r\n  return output;\r\n};\r\n\r\n/**\r\n * Parse the given `str` with the given `options`.\r\n *\r\n * ```js\r\n * // braces.parse(pattern, [, options]);\r\n * const ast = braces.parse('a/{b,c}/d');\r\n * console.log(ast);\r\n * ```\r\n * @param {String} pattern Brace pattern to parse\r\n * @param {Object} options\r\n * @return {Object} Returns an AST\r\n * @api public\r\n */\r\n\r\nbraces$2.parse = (input, options = {}) => parse$b(input, options);\r\n\r\n/**\r\n * Creates a braces string from an AST, or an AST node.\r\n *\r\n * ```js\r\n * const braces = require('braces');\r\n * let ast = braces.parse('foo/{a,b}/bar');\r\n * console.log(stringify(ast.nodes[2])); //=> '{a,b}'\r\n * ```\r\n * @param {String} `input` Brace pattern or AST.\r\n * @param {Object} `options`\r\n * @return {Array} Returns an array of expanded values.\r\n * @api public\r\n */\r\n\r\nbraces$2.stringify = (input, options = {}) => {\r\n  if (typeof input === 'string') {\r\n    return stringify$3(braces$2.parse(input, options), options);\r\n  }\r\n  return stringify$3(input, options);\r\n};\r\n\r\n/**\r\n * Compiles a brace pattern into a regex-compatible, optimized string.\r\n * This method is called by the main [braces](#braces) function by default.\r\n *\r\n * ```js\r\n * const braces = require('braces');\r\n * console.log(braces.compile('a/{b,c}/d'));\r\n * //=> ['a/(b|c)/d']\r\n * ```\r\n * @param {String} `input` Brace pattern or AST.\r\n * @param {Object} `options`\r\n * @return {Array} Returns an array of expanded values.\r\n * @api public\r\n */\r\n\r\nbraces$2.compile = (input, options = {}) => {\r\n  if (typeof input === 'string') {\r\n    input = braces$2.parse(input, options);\r\n  }\r\n  return compile(input, options);\r\n};\r\n\r\n/**\r\n * Expands a brace pattern into an array. This method is called by the\r\n * main [braces](#braces) function when `options.expand` is true. Before\r\n * using this method it's recommended that you read the [performance notes](#performance))\r\n * and advantages of using [.compile](#compile) instead.\r\n *\r\n * ```js\r\n * const braces = require('braces');\r\n * console.log(braces.expand('a/{b,c}/d'));\r\n * //=> ['a/b/d', 'a/c/d'];\r\n * ```\r\n * @param {String} `pattern` Brace pattern\r\n * @param {Object} `options`\r\n * @return {Array} Returns an array of expanded values.\r\n * @api public\r\n */\r\n\r\nbraces$2.expand = (input, options = {}) => {\r\n  if (typeof input === 'string') {\r\n    input = braces$2.parse(input, options);\r\n  }\r\n\r\n  let result = expand$1(input, options);\r\n\r\n  // filter out empty strings if specified\r\n  if (options.noempty === true) {\r\n    result = result.filter(Boolean);\r\n  }\r\n\r\n  // filter out duplicates if specified\r\n  if (options.nodupes === true) {\r\n    result = [...new Set(result)];\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\n/**\r\n * Processes a brace pattern and returns either an expanded array\r\n * (if `options.expand` is true), a highly optimized regex-compatible string.\r\n * This method is called by the main [braces](#braces) function.\r\n *\r\n * ```js\r\n * const braces = require('braces');\r\n * console.log(braces.create('user-{200..300}/project-{a,b,c}-{1..10}'))\r\n * //=> 'user-(20[0-9]|2[1-9][0-9]|300)/project-(a|b|c)-([1-9]|10)'\r\n * ```\r\n * @param {String} `pattern` Brace pattern\r\n * @param {Object} `options`\r\n * @return {Array} Returns an array of expanded values.\r\n * @api public\r\n */\r\n\r\nbraces$2.create = (input, options = {}) => {\r\n  if (input === '' || input.length < 3) {\r\n    return [input];\r\n  }\r\n\r\n  return options.expand !== true\r\n    ? braces$2.compile(input, options)\r\n    : braces$2.expand(input, options);\r\n};\r\n\r\n/**\r\n * Expose \"braces\"\r\n */\r\n\r\nvar braces_1 = braces$2;\r\n\r\nconst util = require$$0$5;\r\nconst braces$1 = braces_1;\r\nconst picomatch$2 = picomatch$3;\r\nconst utils$b = utils$k;\r\n\r\nconst isEmptyString = v => v === '' || v === './';\r\nconst hasBraces = v => {\r\n  const index = v.indexOf('{');\r\n  return index > -1 && v.indexOf('}', index) > -1;\r\n};\r\n\r\n/**\r\n * Returns an array of strings that match one or more glob patterns.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm(list, patterns[, options]);\r\n *\r\n * console.log(mm(['a.js', 'a.txt'], ['*.js']));\r\n * //=> [ 'a.js' ]\r\n * ```\r\n * @param {String|Array<string>} `list` List of strings to match.\r\n * @param {String|Array<string>} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `options` See available [options](#options)\r\n * @return {Array} Returns an array of matches\r\n * @summary false\r\n * @api public\r\n */\r\n\r\nconst micromatch$1 = (list, patterns, options) => {\r\n  patterns = [].concat(patterns);\r\n  list = [].concat(list);\r\n\r\n  let omit = new Set();\r\n  let keep = new Set();\r\n  let items = new Set();\r\n  let negatives = 0;\r\n\r\n  let onResult = state => {\r\n    items.add(state.output);\r\n    if (options && options.onResult) {\r\n      options.onResult(state);\r\n    }\r\n  };\r\n\r\n  for (let i = 0; i < patterns.length; i++) {\r\n    let isMatch = picomatch$2(String(patterns[i]), { ...options, onResult }, true);\r\n    let negated = isMatch.state.negated || isMatch.state.negatedExtglob;\r\n    if (negated) negatives++;\r\n\r\n    for (let item of list) {\r\n      let matched = isMatch(item, true);\r\n\r\n      let match = negated ? !matched.isMatch : matched.isMatch;\r\n      if (!match) continue;\r\n\r\n      if (negated) {\r\n        omit.add(matched.output);\r\n      } else {\r\n        omit.delete(matched.output);\r\n        keep.add(matched.output);\r\n      }\r\n    }\r\n  }\r\n\r\n  let result = negatives === patterns.length ? [...items] : [...keep];\r\n  let matches = result.filter(item => !omit.has(item));\r\n\r\n  if (options && matches.length === 0) {\r\n    if (options.failglob === true) {\r\n      throw new Error(`No matches found for \"${patterns.join(', ')}\"`);\r\n    }\r\n\r\n    if (options.nonull === true || options.nullglob === true) {\r\n      return options.unescape ? patterns.map(p => p.replace(/\\\\/g, '')) : patterns;\r\n    }\r\n  }\r\n\r\n  return matches;\r\n};\r\n\r\n/**\r\n * Backwards compatibility\r\n */\r\n\r\nmicromatch$1.match = micromatch$1;\r\n\r\n/**\r\n * Returns a matcher function from the given glob `pattern` and `options`.\r\n * The returned function takes a string to match as its only argument and returns\r\n * true if the string is a match.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.matcher(pattern[, options]);\r\n *\r\n * const isMatch = mm.matcher('*.!(*a)');\r\n * console.log(isMatch('a.a')); //=> false\r\n * console.log(isMatch('a.b')); //=> true\r\n * ```\r\n * @param {String} `pattern` Glob pattern\r\n * @param {Object} `options`\r\n * @return {Function} Returns a matcher function.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.matcher = (pattern, options) => picomatch$2(pattern, options);\r\n\r\n/**\r\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.isMatch(string, patterns[, options]);\r\n *\r\n * console.log(mm.isMatch('a.a', ['b.*', '*.a'])); //=> true\r\n * console.log(mm.isMatch('a.a', 'b.*')); //=> false\r\n * ```\r\n * @param {String} `str` The string to test.\r\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `[options]` See available [options](#options).\r\n * @return {Boolean} Returns true if any patterns match `str`\r\n * @api public\r\n */\r\n\r\nmicromatch$1.isMatch = (str, patterns, options) => picomatch$2(patterns, options)(str);\r\n\r\n/**\r\n * Backwards compatibility\r\n */\r\n\r\nmicromatch$1.any = micromatch$1.isMatch;\r\n\r\n/**\r\n * Returns a list of strings that _**do not match any**_ of the given `patterns`.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.not(list, patterns[, options]);\r\n *\r\n * console.log(mm.not(['a.a', 'b.b', 'c.c'], '*.a'));\r\n * //=> ['b.b', 'c.c']\r\n * ```\r\n * @param {Array} `list` Array of strings to match.\r\n * @param {String|Array} `patterns` One or more glob pattern to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Array} Returns an array of strings that **do not match** the given patterns.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.not = (list, patterns, options = {}) => {\r\n  patterns = [].concat(patterns).map(String);\r\n  let result = new Set();\r\n  let items = [];\r\n\r\n  let onResult = state => {\r\n    if (options.onResult) options.onResult(state);\r\n    items.push(state.output);\r\n  };\r\n\r\n  let matches = new Set(micromatch$1(list, patterns, { ...options, onResult }));\r\n\r\n  for (let item of items) {\r\n    if (!matches.has(item)) {\r\n      result.add(item);\r\n    }\r\n  }\r\n  return [...result];\r\n};\r\n\r\n/**\r\n * Returns true if the given `string` contains the given pattern. Similar\r\n * to [.isMatch](#isMatch) but the pattern can match any part of the string.\r\n *\r\n * ```js\r\n * var mm = require('micromatch');\r\n * // mm.contains(string, pattern[, options]);\r\n *\r\n * console.log(mm.contains('aa/bb/cc', '*b'));\r\n * //=> true\r\n * console.log(mm.contains('aa/bb/cc', '*d'));\r\n * //=> false\r\n * ```\r\n * @param {String} `str` The string to match.\r\n * @param {String|Array} `patterns` Glob pattern to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Boolean} Returns true if any of the patterns matches any part of `str`.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.contains = (str, pattern, options) => {\r\n  if (typeof str !== 'string') {\r\n    throw new TypeError(`Expected a string: \"${util.inspect(str)}\"`);\r\n  }\r\n\r\n  if (Array.isArray(pattern)) {\r\n    return pattern.some(p => micromatch$1.contains(str, p, options));\r\n  }\r\n\r\n  if (typeof pattern === 'string') {\r\n    if (isEmptyString(str) || isEmptyString(pattern)) {\r\n      return false;\r\n    }\r\n\r\n    if (str.includes(pattern) || (str.startsWith('./') && str.slice(2).includes(pattern))) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return micromatch$1.isMatch(str, pattern, { ...options, contains: true });\r\n};\r\n\r\n/**\r\n * Filter the keys of the given object with the given `glob` pattern\r\n * and `options`. Does not attempt to match nested keys. If you need this feature,\r\n * use [glob-object][] instead.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.matchKeys(object, patterns[, options]);\r\n *\r\n * const obj = { aa: 'a', ab: 'b', ac: 'c' };\r\n * console.log(mm.matchKeys(obj, '*b'));\r\n * //=> { ab: 'b' }\r\n * ```\r\n * @param {Object} `object` The object with keys to filter.\r\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Object} Returns an object with only keys that match the given patterns.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.matchKeys = (obj, patterns, options) => {\r\n  if (!utils$b.isObject(obj)) {\r\n    throw new TypeError('Expected the first argument to be an object');\r\n  }\r\n  let keys = micromatch$1(Object.keys(obj), patterns, options);\r\n  let res = {};\r\n  for (let key of keys) res[key] = obj[key];\r\n  return res;\r\n};\r\n\r\n/**\r\n * Returns true if some of the strings in the given `list` match any of the given glob `patterns`.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.some(list, patterns[, options]);\r\n *\r\n * console.log(mm.some(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\r\n * // true\r\n * console.log(mm.some(['foo.js'], ['*.js', '!foo.js']));\r\n * // false\r\n * ```\r\n * @param {String|Array} `list` The string or array of strings to test. Returns as soon as the first match is found.\r\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Boolean} Returns true if any `patterns` matches any of the strings in `list`\r\n * @api public\r\n */\r\n\r\nmicromatch$1.some = (list, patterns, options) => {\r\n  let items = [].concat(list);\r\n\r\n  for (let pattern of [].concat(patterns)) {\r\n    let isMatch = picomatch$2(String(pattern), options);\r\n    if (items.some(item => isMatch(item))) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\n/**\r\n * Returns true if every string in the given `list` matches\r\n * any of the given glob `patterns`.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.every(list, patterns[, options]);\r\n *\r\n * console.log(mm.every('foo.js', ['foo.js']));\r\n * // true\r\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js']));\r\n * // true\r\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\r\n * // false\r\n * console.log(mm.every(['foo.js'], ['*.js', '!foo.js']));\r\n * // false\r\n * ```\r\n * @param {String|Array} `list` The string or array of strings to test.\r\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Boolean} Returns true if all `patterns` matches all of the strings in `list`\r\n * @api public\r\n */\r\n\r\nmicromatch$1.every = (list, patterns, options) => {\r\n  let items = [].concat(list);\r\n\r\n  for (let pattern of [].concat(patterns)) {\r\n    let isMatch = picomatch$2(String(pattern), options);\r\n    if (!items.every(item => isMatch(item))) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\n/**\r\n * Returns true if **all** of the given `patterns` match\r\n * the specified string.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.all(string, patterns[, options]);\r\n *\r\n * console.log(mm.all('foo.js', ['foo.js']));\r\n * // true\r\n *\r\n * console.log(mm.all('foo.js', ['*.js', '!foo.js']));\r\n * // false\r\n *\r\n * console.log(mm.all('foo.js', ['*.js', 'foo.js']));\r\n * // true\r\n *\r\n * console.log(mm.all('foo.js', ['*.js', 'f*', '*o*', '*o.js']));\r\n * // true\r\n * ```\r\n * @param {String|Array} `str` The string to test.\r\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Boolean} Returns true if any patterns match `str`\r\n * @api public\r\n */\r\n\r\nmicromatch$1.all = (str, patterns, options) => {\r\n  if (typeof str !== 'string') {\r\n    throw new TypeError(`Expected a string: \"${util.inspect(str)}\"`);\r\n  }\r\n\r\n  return [].concat(patterns).every(p => picomatch$2(p, options)(str));\r\n};\r\n\r\n/**\r\n * Returns an array of matches captured by `pattern` in `string, or `null` if the pattern did not match.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.capture(pattern, string[, options]);\r\n *\r\n * console.log(mm.capture('test/*.js', 'test/foo.js'));\r\n * //=> ['foo']\r\n * console.log(mm.capture('test/*.js', 'foo/bar.css'));\r\n * //=> null\r\n * ```\r\n * @param {String} `glob` Glob pattern to use for matching.\r\n * @param {String} `input` String to match\r\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\r\n * @return {Array|null} Returns an array of captures if the input matches the glob pattern, otherwise `null`.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.capture = (glob, input, options) => {\r\n  let posix = utils$b.isWindows(options);\r\n  let regex = picomatch$2.makeRe(String(glob), { ...options, capture: true });\r\n  let match = regex.exec(posix ? utils$b.toPosixSlashes(input) : input);\r\n\r\n  if (match) {\r\n    return match.slice(1).map(v => v === void 0 ? '' : v);\r\n  }\r\n};\r\n\r\n/**\r\n * Create a regular expression from the given glob `pattern`.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * // mm.makeRe(pattern[, options]);\r\n *\r\n * console.log(mm.makeRe('*.js'));\r\n * //=> /^(?:(\\.[\\\\\\/])?(?!\\.)(?=.)[^\\/]*?\\.js)$/\r\n * ```\r\n * @param {String} `pattern` A glob pattern to convert to regex.\r\n * @param {Object} `options`\r\n * @return {RegExp} Returns a regex created from the given pattern.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.makeRe = (...args) => picomatch$2.makeRe(...args);\r\n\r\n/**\r\n * Scan a glob pattern to separate the pattern into segments. Used\r\n * by the [split](#split) method.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * const state = mm.scan(pattern[, options]);\r\n * ```\r\n * @param {String} `pattern`\r\n * @param {Object} `options`\r\n * @return {Object} Returns an object with\r\n * @api public\r\n */\r\n\r\nmicromatch$1.scan = (...args) => picomatch$2.scan(...args);\r\n\r\n/**\r\n * Parse a glob pattern to create the source string for a regular\r\n * expression.\r\n *\r\n * ```js\r\n * const mm = require('micromatch');\r\n * const state = mm.parse(pattern[, options]);\r\n * ```\r\n * @param {String} `glob`\r\n * @param {Object} `options`\r\n * @return {Object} Returns an object with useful properties and output to be used as regex source string.\r\n * @api public\r\n */\r\n\r\nmicromatch$1.parse = (patterns, options) => {\r\n  let res = [];\r\n  for (let pattern of [].concat(patterns || [])) {\r\n    for (let str of braces$1(String(pattern), options)) {\r\n      res.push(picomatch$2.parse(str, options));\r\n    }\r\n  }\r\n  return res;\r\n};\r\n\r\n/**\r\n * Process the given brace `pattern`.\r\n *\r\n * ```js\r\n * const { braces } = require('micromatch');\r\n * console.log(braces('foo/{a,b,c}/bar'));\r\n * //=> [ 'foo/(a|b|c)/bar' ]\r\n *\r\n * console.log(braces('foo/{a,b,c}/bar', { expand: true }));\r\n * //=> [ 'foo/a/bar', 'foo/b/bar', 'foo/c/bar' ]\r\n * ```\r\n * @param {String} `pattern` String with brace pattern to process.\r\n * @param {Object} `options` Any [options](#options) to change how expansion is performed. See the [braces][] library for all available options.\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nmicromatch$1.braces = (pattern, options) => {\r\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\r\n  if ((options && options.nobrace === true) || !hasBraces(pattern)) {\r\n    return [pattern];\r\n  }\r\n  return braces$1(pattern, options);\r\n};\r\n\r\n/**\r\n * Expand braces\r\n */\r\n\r\nmicromatch$1.braceExpand = (pattern, options) => {\r\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\r\n  return micromatch$1.braces(pattern, { ...options, expand: true });\r\n};\r\n\r\n/**\r\n * Expose micromatch\r\n */\r\n\r\n// exposed for tests\r\nmicromatch$1.hasBraces = hasBraces;\r\nvar micromatch_1 = micromatch$1;\r\n\r\nvar micromatch$2 = /*@__PURE__*/getDefaultExportFromCjs(micromatch_1);\r\n\r\nObject.defineProperty(pattern$1, \"__esModule\", { value: true });\r\npattern$1.removeDuplicateSlashes = pattern$1.matchAny = pattern$1.convertPatternsToRe = pattern$1.makeRe = pattern$1.getPatternParts = pattern$1.expandBraceExpansion = pattern$1.expandPatternsWithBraceExpansion = pattern$1.isAffectDepthOfReadingPattern = pattern$1.endsWithSlashGlobStar = pattern$1.hasGlobStar = pattern$1.getBaseDirectory = pattern$1.isPatternRelatedToParentDirectory = pattern$1.getPatternsOutsideCurrentDirectory = pattern$1.getPatternsInsideCurrentDirectory = pattern$1.getPositivePatterns = pattern$1.getNegativePatterns = pattern$1.isPositivePattern = pattern$1.isNegativePattern = pattern$1.convertToNegativePattern = pattern$1.convertToPositivePattern = pattern$1.isDynamicPattern = pattern$1.isStaticPattern = void 0;\r\nconst path$g = require$$0$4;\r\nconst globParent$1 = globParent$2;\r\nconst micromatch = micromatch_1;\r\nconst GLOBSTAR$1 = '**';\r\nconst ESCAPE_SYMBOL = '\\\\';\r\nconst COMMON_GLOB_SYMBOLS_RE = /[*?]|^!/;\r\nconst REGEX_CHARACTER_CLASS_SYMBOLS_RE = /\\[[^[]*]/;\r\nconst REGEX_GROUP_SYMBOLS_RE = /(?:^|[^!*+?@])\\([^(]*\\|[^|]*\\)/;\r\nconst GLOB_EXTENSION_SYMBOLS_RE = /[!*+?@]\\([^(]*\\)/;\r\nconst BRACE_EXPANSION_SEPARATORS_RE = /,|\\.\\./;\r\n/**\r\n * Matches a sequence of two or more consecutive slashes, excluding the first two slashes at the beginning of the string.\r\n * The latter is due to the presence of the device path at the beginning of the UNC path.\r\n */\r\nconst DOUBLE_SLASH_RE$1 = /(?!^)\\/{2,}/g;\r\nfunction isStaticPattern(pattern, options = {}) {\r\n    return !isDynamicPattern(pattern, options);\r\n}\r\npattern$1.isStaticPattern = isStaticPattern;\r\nfunction isDynamicPattern(pattern, options = {}) {\r\n    /**\r\n     * A special case with an empty string is necessary for matching patterns that start with a forward slash.\r\n     * An empty string cannot be a dynamic pattern.\r\n     * For example, the pattern `/lib/*` will be spread into parts: '', 'lib', '*'.\r\n     */\r\n    if (pattern === '') {\r\n        return false;\r\n    }\r\n    /**\r\n     * When the `caseSensitiveMatch` option is disabled, all patterns must be marked as dynamic, because we cannot check\r\n     * filepath directly (without read directory).\r\n     */\r\n    if (options.caseSensitiveMatch === false || pattern.includes(ESCAPE_SYMBOL)) {\r\n        return true;\r\n    }\r\n    if (COMMON_GLOB_SYMBOLS_RE.test(pattern) || REGEX_CHARACTER_CLASS_SYMBOLS_RE.test(pattern) || REGEX_GROUP_SYMBOLS_RE.test(pattern)) {\r\n        return true;\r\n    }\r\n    if (options.extglob !== false && GLOB_EXTENSION_SYMBOLS_RE.test(pattern)) {\r\n        return true;\r\n    }\r\n    if (options.braceExpansion !== false && hasBraceExpansion(pattern)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\npattern$1.isDynamicPattern = isDynamicPattern;\r\nfunction hasBraceExpansion(pattern) {\r\n    const openingBraceIndex = pattern.indexOf('{');\r\n    if (openingBraceIndex === -1) {\r\n        return false;\r\n    }\r\n    const closingBraceIndex = pattern.indexOf('}', openingBraceIndex + 1);\r\n    if (closingBraceIndex === -1) {\r\n        return false;\r\n    }\r\n    const braceContent = pattern.slice(openingBraceIndex, closingBraceIndex);\r\n    return BRACE_EXPANSION_SEPARATORS_RE.test(braceContent);\r\n}\r\nfunction convertToPositivePattern(pattern) {\r\n    return isNegativePattern(pattern) ? pattern.slice(1) : pattern;\r\n}\r\npattern$1.convertToPositivePattern = convertToPositivePattern;\r\nfunction convertToNegativePattern(pattern) {\r\n    return '!' + pattern;\r\n}\r\npattern$1.convertToNegativePattern = convertToNegativePattern;\r\nfunction isNegativePattern(pattern) {\r\n    return pattern.startsWith('!') && pattern[1] !== '(';\r\n}\r\npattern$1.isNegativePattern = isNegativePattern;\r\nfunction isPositivePattern(pattern) {\r\n    return !isNegativePattern(pattern);\r\n}\r\npattern$1.isPositivePattern = isPositivePattern;\r\nfunction getNegativePatterns(patterns) {\r\n    return patterns.filter(isNegativePattern);\r\n}\r\npattern$1.getNegativePatterns = getNegativePatterns;\r\nfunction getPositivePatterns$1(patterns) {\r\n    return patterns.filter(isPositivePattern);\r\n}\r\npattern$1.getPositivePatterns = getPositivePatterns$1;\r\n/**\r\n * Returns patterns that can be applied inside the current directory.\r\n *\r\n * @example\r\n * // ['./*', '*', 'a/*']\r\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\r\n */\r\nfunction getPatternsInsideCurrentDirectory(patterns) {\r\n    return patterns.filter((pattern) => !isPatternRelatedToParentDirectory(pattern));\r\n}\r\npattern$1.getPatternsInsideCurrentDirectory = getPatternsInsideCurrentDirectory;\r\n/**\r\n * Returns patterns to be expanded relative to (outside) the current directory.\r\n *\r\n * @example\r\n * // ['../*', './../*']\r\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\r\n */\r\nfunction getPatternsOutsideCurrentDirectory(patterns) {\r\n    return patterns.filter(isPatternRelatedToParentDirectory);\r\n}\r\npattern$1.getPatternsOutsideCurrentDirectory = getPatternsOutsideCurrentDirectory;\r\nfunction isPatternRelatedToParentDirectory(pattern) {\r\n    return pattern.startsWith('..') || pattern.startsWith('./..');\r\n}\r\npattern$1.isPatternRelatedToParentDirectory = isPatternRelatedToParentDirectory;\r\nfunction getBaseDirectory(pattern) {\r\n    return globParent$1(pattern, { flipBackslashes: false });\r\n}\r\npattern$1.getBaseDirectory = getBaseDirectory;\r\nfunction hasGlobStar(pattern) {\r\n    return pattern.includes(GLOBSTAR$1);\r\n}\r\npattern$1.hasGlobStar = hasGlobStar;\r\nfunction endsWithSlashGlobStar(pattern) {\r\n    return pattern.endsWith('/' + GLOBSTAR$1);\r\n}\r\npattern$1.endsWithSlashGlobStar = endsWithSlashGlobStar;\r\nfunction isAffectDepthOfReadingPattern(pattern) {\r\n    const basename = path$g.basename(pattern);\r\n    return endsWithSlashGlobStar(pattern) || isStaticPattern(basename);\r\n}\r\npattern$1.isAffectDepthOfReadingPattern = isAffectDepthOfReadingPattern;\r\nfunction expandPatternsWithBraceExpansion(patterns) {\r\n    return patterns.reduce((collection, pattern) => {\r\n        return collection.concat(expandBraceExpansion(pattern));\r\n    }, []);\r\n}\r\npattern$1.expandPatternsWithBraceExpansion = expandPatternsWithBraceExpansion;\r\nfunction expandBraceExpansion(pattern) {\r\n    const patterns = micromatch.braces(pattern, { expand: true, nodupes: true, keepEscaping: true });\r\n    /**\r\n     * Sort the patterns by length so that the same depth patterns are processed side by side.\r\n     * `a/{b,}/{c,}/*` – `['a///*', 'a/b//*', 'a//c/*', 'a/b/c/*']`\r\n     */\r\n    patterns.sort((a, b) => a.length - b.length);\r\n    /**\r\n     * Micromatch can return an empty string in the case of patterns like `{a,}`.\r\n     */\r\n    return patterns.filter((pattern) => pattern !== '');\r\n}\r\npattern$1.expandBraceExpansion = expandBraceExpansion;\r\nfunction getPatternParts(pattern, options) {\r\n    let { parts } = micromatch.scan(pattern, Object.assign(Object.assign({}, options), { parts: true }));\r\n    /**\r\n     * The scan method returns an empty array in some cases.\r\n     * See micromatch/picomatch#58 for more details.\r\n     */\r\n    if (parts.length === 0) {\r\n        parts = [pattern];\r\n    }\r\n    /**\r\n     * The scan method does not return an empty part for the pattern with a forward slash.\r\n     * This is another part of micromatch/picomatch#58.\r\n     */\r\n    if (parts[0].startsWith('/')) {\r\n        parts[0] = parts[0].slice(1);\r\n        parts.unshift('');\r\n    }\r\n    return parts;\r\n}\r\npattern$1.getPatternParts = getPatternParts;\r\nfunction makeRe(pattern, options) {\r\n    return micromatch.makeRe(pattern, options);\r\n}\r\npattern$1.makeRe = makeRe;\r\nfunction convertPatternsToRe(patterns, options) {\r\n    return patterns.map((pattern) => makeRe(pattern, options));\r\n}\r\npattern$1.convertPatternsToRe = convertPatternsToRe;\r\nfunction matchAny(entry, patternsRe) {\r\n    return patternsRe.some((patternRe) => patternRe.test(entry));\r\n}\r\npattern$1.matchAny = matchAny;\r\n/**\r\n * This package only works with forward slashes as a path separator.\r\n * Because of this, we cannot use the standard `path.normalize` method, because on Windows platform it will use of backslashes.\r\n */\r\nfunction removeDuplicateSlashes(pattern) {\r\n    return pattern.replace(DOUBLE_SLASH_RE$1, '/');\r\n}\r\npattern$1.removeDuplicateSlashes = removeDuplicateSlashes;\r\n\r\nvar stream$4 = {};\r\n\r\n/*\r\n * merge2\r\n * https://github.com/teambition/merge2\r\n *\r\n * Copyright (c) 2014-2020 Teambition\r\n * Licensed under the MIT license.\r\n */\r\nconst Stream = require$$0$6;\r\nconst PassThrough = Stream.PassThrough;\r\nconst slice = Array.prototype.slice;\r\n\r\nvar merge2_1 = merge2$1;\r\n\r\nfunction merge2$1 () {\r\n  const streamsQueue = [];\r\n  const args = slice.call(arguments);\r\n  let merging = false;\r\n  let options = args[args.length - 1];\r\n\r\n  if (options && !Array.isArray(options) && options.pipe == null) {\r\n    args.pop();\r\n  } else {\r\n    options = {};\r\n  }\r\n\r\n  const doEnd = options.end !== false;\r\n  const doPipeError = options.pipeError === true;\r\n  if (options.objectMode == null) {\r\n    options.objectMode = true;\r\n  }\r\n  if (options.highWaterMark == null) {\r\n    options.highWaterMark = 64 * 1024;\r\n  }\r\n  const mergedStream = PassThrough(options);\r\n\r\n  function addStream () {\r\n    for (let i = 0, len = arguments.length; i < len; i++) {\r\n      streamsQueue.push(pauseStreams(arguments[i], options));\r\n    }\r\n    mergeStream();\r\n    return this\r\n  }\r\n\r\n  function mergeStream () {\r\n    if (merging) {\r\n      return\r\n    }\r\n    merging = true;\r\n\r\n    let streams = streamsQueue.shift();\r\n    if (!streams) {\r\n      process.nextTick(endStream);\r\n      return\r\n    }\r\n    if (!Array.isArray(streams)) {\r\n      streams = [streams];\r\n    }\r\n\r\n    let pipesCount = streams.length + 1;\r\n\r\n    function next () {\r\n      if (--pipesCount > 0) {\r\n        return\r\n      }\r\n      merging = false;\r\n      mergeStream();\r\n    }\r\n\r\n    function pipe (stream) {\r\n      function onend () {\r\n        stream.removeListener('merge2UnpipeEnd', onend);\r\n        stream.removeListener('end', onend);\r\n        if (doPipeError) {\r\n          stream.removeListener('error', onerror);\r\n        }\r\n        next();\r\n      }\r\n      function onerror (err) {\r\n        mergedStream.emit('error', err);\r\n      }\r\n      // skip ended stream\r\n      if (stream._readableState.endEmitted) {\r\n        return next()\r\n      }\r\n\r\n      stream.on('merge2UnpipeEnd', onend);\r\n      stream.on('end', onend);\r\n\r\n      if (doPipeError) {\r\n        stream.on('error', onerror);\r\n      }\r\n\r\n      stream.pipe(mergedStream, { end: false });\r\n      // compatible for old stream\r\n      stream.resume();\r\n    }\r\n\r\n    for (let i = 0; i < streams.length; i++) {\r\n      pipe(streams[i]);\r\n    }\r\n\r\n    next();\r\n  }\r\n\r\n  function endStream () {\r\n    merging = false;\r\n    // emit 'queueDrain' when all streams merged.\r\n    mergedStream.emit('queueDrain');\r\n    if (doEnd) {\r\n      mergedStream.end();\r\n    }\r\n  }\r\n\r\n  mergedStream.setMaxListeners(0);\r\n  mergedStream.add = addStream;\r\n  mergedStream.on('unpipe', function (stream) {\r\n    stream.emit('merge2UnpipeEnd');\r\n  });\r\n\r\n  if (args.length) {\r\n    addStream.apply(null, args);\r\n  }\r\n  return mergedStream\r\n}\r\n\r\n// check and pause streams for pipe.\r\nfunction pauseStreams (streams, options) {\r\n  if (!Array.isArray(streams)) {\r\n    // Backwards-compat with old-style streams\r\n    if (!streams._readableState && streams.pipe) {\r\n      streams = streams.pipe(PassThrough(options));\r\n    }\r\n    if (!streams._readableState || !streams.pause || !streams.pipe) {\r\n      throw new Error('Only readable stream can be merged.')\r\n    }\r\n    streams.pause();\r\n  } else {\r\n    for (let i = 0, len = streams.length; i < len; i++) {\r\n      streams[i] = pauseStreams(streams[i], options);\r\n    }\r\n  }\r\n  return streams\r\n}\r\n\r\nObject.defineProperty(stream$4, \"__esModule\", { value: true });\r\nstream$4.merge = void 0;\r\nconst merge2 = merge2_1;\r\nfunction merge$1(streams) {\r\n    const mergedStream = merge2(streams);\r\n    streams.forEach((stream) => {\r\n        stream.once('error', (error) => mergedStream.emit('error', error));\r\n    });\r\n    mergedStream.once('close', () => propagateCloseEventToSources(streams));\r\n    mergedStream.once('end', () => propagateCloseEventToSources(streams));\r\n    return mergedStream;\r\n}\r\nstream$4.merge = merge$1;\r\nfunction propagateCloseEventToSources(streams) {\r\n    streams.forEach((stream) => stream.emit('close'));\r\n}\r\n\r\nvar string$2 = {};\r\n\r\nObject.defineProperty(string$2, \"__esModule\", { value: true });\r\nstring$2.isEmpty = string$2.isString = void 0;\r\nfunction isString$1(input) {\r\n    return typeof input === 'string';\r\n}\r\nstring$2.isString = isString$1;\r\nfunction isEmpty$1(input) {\r\n    return input === '';\r\n}\r\nstring$2.isEmpty = isEmpty$1;\r\n\r\nObject.defineProperty(utils$g, \"__esModule\", { value: true });\r\nutils$g.string = utils$g.stream = utils$g.pattern = utils$g.path = utils$g.fs = utils$g.errno = utils$g.array = void 0;\r\nconst array = array$1;\r\nutils$g.array = array;\r\nconst errno = errno$1;\r\nutils$g.errno = errno;\r\nconst fs$h = fs$i;\r\nutils$g.fs = fs$h;\r\nconst path$f = path$i;\r\nutils$g.path = path$f;\r\nconst pattern = pattern$1;\r\nutils$g.pattern = pattern;\r\nconst stream$3 = stream$4;\r\nutils$g.stream = stream$3;\r\nconst string$1 = string$2;\r\nutils$g.string = string$1;\r\n\r\nObject.defineProperty(tasks, \"__esModule\", { value: true });\r\ntasks.convertPatternGroupToTask = tasks.convertPatternGroupsToTasks = tasks.groupPatternsByBaseDirectory = tasks.getNegativePatternsAsPositive = tasks.getPositivePatterns = tasks.convertPatternsToTasks = tasks.generate = void 0;\r\nconst utils$a = utils$g;\r\nfunction generate(input, settings) {\r\n    const patterns = processPatterns(input, settings);\r\n    const ignore = processPatterns(settings.ignore, settings);\r\n    const positivePatterns = getPositivePatterns(patterns);\r\n    const negativePatterns = getNegativePatternsAsPositive(patterns, ignore);\r\n    const staticPatterns = positivePatterns.filter((pattern) => utils$a.pattern.isStaticPattern(pattern, settings));\r\n    const dynamicPatterns = positivePatterns.filter((pattern) => utils$a.pattern.isDynamicPattern(pattern, settings));\r\n    const staticTasks = convertPatternsToTasks(staticPatterns, negativePatterns, /* dynamic */ false);\r\n    const dynamicTasks = convertPatternsToTasks(dynamicPatterns, negativePatterns, /* dynamic */ true);\r\n    return staticTasks.concat(dynamicTasks);\r\n}\r\ntasks.generate = generate;\r\nfunction processPatterns(input, settings) {\r\n    let patterns = input;\r\n    /**\r\n     * The original pattern like `{,*,**,a/*}` can lead to problems checking the depth when matching entry\r\n     * and some problems with the micromatch package (see fast-glob issues: #365, #394).\r\n     *\r\n     * To solve this problem, we expand all patterns containing brace expansion. This can lead to a slight slowdown\r\n     * in matching in the case of a large set of patterns after expansion.\r\n     */\r\n    if (settings.braceExpansion) {\r\n        patterns = utils$a.pattern.expandPatternsWithBraceExpansion(patterns);\r\n    }\r\n    /**\r\n     * If the `baseNameMatch` option is enabled, we must add globstar to patterns, so that they can be used\r\n     * at any nesting level.\r\n     *\r\n     * We do this here, because otherwise we have to complicate the filtering logic. For example, we need to change\r\n     * the pattern in the filter before creating a regular expression. There is no need to change the patterns\r\n     * in the application. Only on the input.\r\n     */\r\n    if (settings.baseNameMatch) {\r\n        patterns = patterns.map((pattern) => pattern.includes('/') ? pattern : `**/${pattern}`);\r\n    }\r\n    /**\r\n     * This method also removes duplicate slashes that may have been in the pattern or formed as a result of expansion.\r\n     */\r\n    return patterns.map((pattern) => utils$a.pattern.removeDuplicateSlashes(pattern));\r\n}\r\n/**\r\n * Returns tasks grouped by basic pattern directories.\r\n *\r\n * Patterns that can be found inside (`./`) and outside (`../`) the current directory are handled separately.\r\n * This is necessary because directory traversal starts at the base directory and goes deeper.\r\n */\r\nfunction convertPatternsToTasks(positive, negative, dynamic) {\r\n    const tasks = [];\r\n    const patternsOutsideCurrentDirectory = utils$a.pattern.getPatternsOutsideCurrentDirectory(positive);\r\n    const patternsInsideCurrentDirectory = utils$a.pattern.getPatternsInsideCurrentDirectory(positive);\r\n    const outsideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsOutsideCurrentDirectory);\r\n    const insideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsInsideCurrentDirectory);\r\n    tasks.push(...convertPatternGroupsToTasks(outsideCurrentDirectoryGroup, negative, dynamic));\r\n    /*\r\n     * For the sake of reducing future accesses to the file system, we merge all tasks within the current directory\r\n     * into a global task, if at least one pattern refers to the root (`.`). In this case, the global task covers the rest.\r\n     */\r\n    if ('.' in insideCurrentDirectoryGroup) {\r\n        tasks.push(convertPatternGroupToTask('.', patternsInsideCurrentDirectory, negative, dynamic));\r\n    }\r\n    else {\r\n        tasks.push(...convertPatternGroupsToTasks(insideCurrentDirectoryGroup, negative, dynamic));\r\n    }\r\n    return tasks;\r\n}\r\ntasks.convertPatternsToTasks = convertPatternsToTasks;\r\nfunction getPositivePatterns(patterns) {\r\n    return utils$a.pattern.getPositivePatterns(patterns);\r\n}\r\ntasks.getPositivePatterns = getPositivePatterns;\r\nfunction getNegativePatternsAsPositive(patterns, ignore) {\r\n    const negative = utils$a.pattern.getNegativePatterns(patterns).concat(ignore);\r\n    const positive = negative.map(utils$a.pattern.convertToPositivePattern);\r\n    return positive;\r\n}\r\ntasks.getNegativePatternsAsPositive = getNegativePatternsAsPositive;\r\nfunction groupPatternsByBaseDirectory(patterns) {\r\n    const group = {};\r\n    return patterns.reduce((collection, pattern) => {\r\n        const base = utils$a.pattern.getBaseDirectory(pattern);\r\n        if (base in collection) {\r\n            collection[base].push(pattern);\r\n        }\r\n        else {\r\n            collection[base] = [pattern];\r\n        }\r\n        return collection;\r\n    }, group);\r\n}\r\ntasks.groupPatternsByBaseDirectory = groupPatternsByBaseDirectory;\r\nfunction convertPatternGroupsToTasks(positive, negative, dynamic) {\r\n    return Object.keys(positive).map((base) => {\r\n        return convertPatternGroupToTask(base, positive[base], negative, dynamic);\r\n    });\r\n}\r\ntasks.convertPatternGroupsToTasks = convertPatternGroupsToTasks;\r\nfunction convertPatternGroupToTask(base, positive, negative, dynamic) {\r\n    return {\r\n        dynamic,\r\n        positive,\r\n        negative,\r\n        base,\r\n        patterns: [].concat(positive, negative.map(utils$a.pattern.convertToNegativePattern))\r\n    };\r\n}\r\ntasks.convertPatternGroupToTask = convertPatternGroupToTask;\r\n\r\nvar async$7 = {};\r\n\r\nvar async$6 = {};\r\n\r\nvar out$3 = {};\r\n\r\nvar async$5 = {};\r\n\r\nvar async$4 = {};\r\n\r\nvar out$2 = {};\r\n\r\nvar async$3 = {};\r\n\r\nvar out$1 = {};\r\n\r\nvar async$2 = {};\r\n\r\nObject.defineProperty(async$2, \"__esModule\", { value: true });\r\nasync$2.read = void 0;\r\nfunction read$3(path, settings, callback) {\r\n    settings.fs.lstat(path, (lstatError, lstat) => {\r\n        if (lstatError !== null) {\r\n            callFailureCallback$2(callback, lstatError);\r\n            return;\r\n        }\r\n        if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\r\n            callSuccessCallback$2(callback, lstat);\r\n            return;\r\n        }\r\n        settings.fs.stat(path, (statError, stat) => {\r\n            if (statError !== null) {\r\n                if (settings.throwErrorOnBrokenSymbolicLink) {\r\n                    callFailureCallback$2(callback, statError);\r\n                    return;\r\n                }\r\n                callSuccessCallback$2(callback, lstat);\r\n                return;\r\n            }\r\n            if (settings.markSymbolicLink) {\r\n                stat.isSymbolicLink = () => true;\r\n            }\r\n            callSuccessCallback$2(callback, stat);\r\n        });\r\n    });\r\n}\r\nasync$2.read = read$3;\r\nfunction callFailureCallback$2(callback, error) {\r\n    callback(error);\r\n}\r\nfunction callSuccessCallback$2(callback, result) {\r\n    callback(null, result);\r\n}\r\n\r\nvar sync$8 = {};\r\n\r\nObject.defineProperty(sync$8, \"__esModule\", { value: true });\r\nsync$8.read = void 0;\r\nfunction read$2(path, settings) {\r\n    const lstat = settings.fs.lstatSync(path);\r\n    if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\r\n        return lstat;\r\n    }\r\n    try {\r\n        const stat = settings.fs.statSync(path);\r\n        if (settings.markSymbolicLink) {\r\n            stat.isSymbolicLink = () => true;\r\n        }\r\n        return stat;\r\n    }\r\n    catch (error) {\r\n        if (!settings.throwErrorOnBrokenSymbolicLink) {\r\n            return lstat;\r\n        }\r\n        throw error;\r\n    }\r\n}\r\nsync$8.read = read$2;\r\n\r\nvar settings$3 = {};\r\n\r\nvar fs$g = {};\r\n\r\n(function (exports) {\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\texports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\r\n\tconst fs = require$$0__default;\r\n\texports.FILE_SYSTEM_ADAPTER = {\r\n\t    lstat: fs.lstat,\r\n\t    stat: fs.stat,\r\n\t    lstatSync: fs.lstatSync,\r\n\t    statSync: fs.statSync\r\n\t};\r\n\tfunction createFileSystemAdapter(fsMethods) {\r\n\t    if (fsMethods === undefined) {\r\n\t        return exports.FILE_SYSTEM_ADAPTER;\r\n\t    }\r\n\t    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\r\n\t}\r\n\texports.createFileSystemAdapter = createFileSystemAdapter; \r\n} (fs$g));\r\n\r\nObject.defineProperty(settings$3, \"__esModule\", { value: true });\r\nconst fs$f = fs$g;\r\nlet Settings$2 = class Settings {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.followSymbolicLink = this._getValue(this._options.followSymbolicLink, true);\r\n        this.fs = fs$f.createFileSystemAdapter(this._options.fs);\r\n        this.markSymbolicLink = this._getValue(this._options.markSymbolicLink, false);\r\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\r\n    }\r\n    _getValue(option, value) {\r\n        return option !== null && option !== void 0 ? option : value;\r\n    }\r\n};\r\nsettings$3.default = Settings$2;\r\n\r\nObject.defineProperty(out$1, \"__esModule\", { value: true });\r\nout$1.statSync = out$1.stat = out$1.Settings = void 0;\r\nconst async$1 = async$2;\r\nconst sync$7 = sync$8;\r\nconst settings_1$3 = settings$3;\r\nout$1.Settings = settings_1$3.default;\r\nfunction stat$4(path, optionsOrSettingsOrCallback, callback) {\r\n    if (typeof optionsOrSettingsOrCallback === 'function') {\r\n        async$1.read(path, getSettings$2(), optionsOrSettingsOrCallback);\r\n        return;\r\n    }\r\n    async$1.read(path, getSettings$2(optionsOrSettingsOrCallback), callback);\r\n}\r\nout$1.stat = stat$4;\r\nfunction statSync(path, optionsOrSettings) {\r\n    const settings = getSettings$2(optionsOrSettings);\r\n    return sync$7.read(path, settings);\r\n}\r\nout$1.statSync = statSync;\r\nfunction getSettings$2(settingsOrOptions = {}) {\r\n    if (settingsOrOptions instanceof settings_1$3.default) {\r\n        return settingsOrOptions;\r\n    }\r\n    return new settings_1$3.default(settingsOrOptions);\r\n}\r\n\r\n/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\r\n\r\nlet promise;\r\n\r\nvar queueMicrotask_1 = typeof queueMicrotask === 'function'\r\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : commonjsGlobal)\r\n  // reuse resolved promise, and allocate it lazily\r\n  : cb => (promise || (promise = Promise.resolve()))\r\n    .then(cb)\r\n    .catch(err => setTimeout(() => { throw err }, 0));\r\n\r\n/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\r\n\r\nvar runParallel_1 = runParallel;\r\n\r\nconst queueMicrotask$1 = queueMicrotask_1;\r\n\r\nfunction runParallel (tasks, cb) {\r\n  let results, pending, keys;\r\n  let isSync = true;\r\n\r\n  if (Array.isArray(tasks)) {\r\n    results = [];\r\n    pending = tasks.length;\r\n  } else {\r\n    keys = Object.keys(tasks);\r\n    results = {};\r\n    pending = keys.length;\r\n  }\r\n\r\n  function done (err) {\r\n    function end () {\r\n      if (cb) cb(err, results);\r\n      cb = null;\r\n    }\r\n    if (isSync) queueMicrotask$1(end);\r\n    else end();\r\n  }\r\n\r\n  function each (i, err, result) {\r\n    results[i] = result;\r\n    if (--pending === 0 || err) {\r\n      done(err);\r\n    }\r\n  }\r\n\r\n  if (!pending) {\r\n    // empty\r\n    done(null);\r\n  } else if (keys) {\r\n    // object\r\n    keys.forEach(function (key) {\r\n      tasks[key](function (err, result) { each(key, err, result); });\r\n    });\r\n  } else {\r\n    // array\r\n    tasks.forEach(function (task, i) {\r\n      task(function (err, result) { each(i, err, result); });\r\n    });\r\n  }\r\n\r\n  isSync = false;\r\n}\r\n\r\nvar constants$2 = {};\r\n\r\nObject.defineProperty(constants$2, \"__esModule\", { value: true });\r\nconstants$2.IS_SUPPORT_READDIR_WITH_FILE_TYPES = void 0;\r\nconst NODE_PROCESS_VERSION_PARTS = process.versions.node.split('.');\r\nif (NODE_PROCESS_VERSION_PARTS[0] === undefined || NODE_PROCESS_VERSION_PARTS[1] === undefined) {\r\n    throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);\r\n}\r\nconst MAJOR_VERSION = Number.parseInt(NODE_PROCESS_VERSION_PARTS[0], 10);\r\nconst MINOR_VERSION = Number.parseInt(NODE_PROCESS_VERSION_PARTS[1], 10);\r\nconst SUPPORTED_MAJOR_VERSION = 10;\r\nconst SUPPORTED_MINOR_VERSION = 10;\r\nconst IS_MATCHED_BY_MAJOR = MAJOR_VERSION > SUPPORTED_MAJOR_VERSION;\r\nconst IS_MATCHED_BY_MAJOR_AND_MINOR = MAJOR_VERSION === SUPPORTED_MAJOR_VERSION && MINOR_VERSION >= SUPPORTED_MINOR_VERSION;\r\n/**\r\n * IS `true` for Node.js 10.10 and greater.\r\n */\r\nconstants$2.IS_SUPPORT_READDIR_WITH_FILE_TYPES = IS_MATCHED_BY_MAJOR || IS_MATCHED_BY_MAJOR_AND_MINOR;\r\n\r\nvar utils$9 = {};\r\n\r\nvar fs$e = {};\r\n\r\nObject.defineProperty(fs$e, \"__esModule\", { value: true });\r\nfs$e.createDirentFromStats = void 0;\r\nclass DirentFromStats {\r\n    constructor(name, stats) {\r\n        this.name = name;\r\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\r\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\r\n        this.isDirectory = stats.isDirectory.bind(stats);\r\n        this.isFIFO = stats.isFIFO.bind(stats);\r\n        this.isFile = stats.isFile.bind(stats);\r\n        this.isSocket = stats.isSocket.bind(stats);\r\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\r\n    }\r\n}\r\nfunction createDirentFromStats(name, stats) {\r\n    return new DirentFromStats(name, stats);\r\n}\r\nfs$e.createDirentFromStats = createDirentFromStats;\r\n\r\nObject.defineProperty(utils$9, \"__esModule\", { value: true });\r\nutils$9.fs = void 0;\r\nconst fs$d = fs$e;\r\nutils$9.fs = fs$d;\r\n\r\nvar common$a = {};\r\n\r\nObject.defineProperty(common$a, \"__esModule\", { value: true });\r\ncommon$a.joinPathSegments = void 0;\r\nfunction joinPathSegments$1(a, b, separator) {\r\n    /**\r\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\r\n     */\r\n    if (a.endsWith(separator)) {\r\n        return a + b;\r\n    }\r\n    return a + separator + b;\r\n}\r\ncommon$a.joinPathSegments = joinPathSegments$1;\r\n\r\nObject.defineProperty(async$3, \"__esModule\", { value: true });\r\nasync$3.readdir = async$3.readdirWithFileTypes = async$3.read = void 0;\r\nconst fsStat$5 = out$1;\r\nconst rpl = runParallel_1;\r\nconst constants_1$1 = constants$2;\r\nconst utils$8 = utils$9;\r\nconst common$9 = common$a;\r\nfunction read$1(directory, settings, callback) {\r\n    if (!settings.stats && constants_1$1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\r\n        readdirWithFileTypes$1(directory, settings, callback);\r\n        return;\r\n    }\r\n    readdir$3(directory, settings, callback);\r\n}\r\nasync$3.read = read$1;\r\nfunction readdirWithFileTypes$1(directory, settings, callback) {\r\n    settings.fs.readdir(directory, { withFileTypes: true }, (readdirError, dirents) => {\r\n        if (readdirError !== null) {\r\n            callFailureCallback$1(callback, readdirError);\r\n            return;\r\n        }\r\n        const entries = dirents.map((dirent) => ({\r\n            dirent,\r\n            name: dirent.name,\r\n            path: common$9.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\r\n        }));\r\n        if (!settings.followSymbolicLinks) {\r\n            callSuccessCallback$1(callback, entries);\r\n            return;\r\n        }\r\n        const tasks = entries.map((entry) => makeRplTaskEntry(entry, settings));\r\n        rpl(tasks, (rplError, rplEntries) => {\r\n            if (rplError !== null) {\r\n                callFailureCallback$1(callback, rplError);\r\n                return;\r\n            }\r\n            callSuccessCallback$1(callback, rplEntries);\r\n        });\r\n    });\r\n}\r\nasync$3.readdirWithFileTypes = readdirWithFileTypes$1;\r\nfunction makeRplTaskEntry(entry, settings) {\r\n    return (done) => {\r\n        if (!entry.dirent.isSymbolicLink()) {\r\n            done(null, entry);\r\n            return;\r\n        }\r\n        settings.fs.stat(entry.path, (statError, stats) => {\r\n            if (statError !== null) {\r\n                if (settings.throwErrorOnBrokenSymbolicLink) {\r\n                    done(statError);\r\n                    return;\r\n                }\r\n                done(null, entry);\r\n                return;\r\n            }\r\n            entry.dirent = utils$8.fs.createDirentFromStats(entry.name, stats);\r\n            done(null, entry);\r\n        });\r\n    };\r\n}\r\nfunction readdir$3(directory, settings, callback) {\r\n    settings.fs.readdir(directory, (readdirError, names) => {\r\n        if (readdirError !== null) {\r\n            callFailureCallback$1(callback, readdirError);\r\n            return;\r\n        }\r\n        const tasks = names.map((name) => {\r\n            const path = common$9.joinPathSegments(directory, name, settings.pathSegmentSeparator);\r\n            return (done) => {\r\n                fsStat$5.stat(path, settings.fsStatSettings, (error, stats) => {\r\n                    if (error !== null) {\r\n                        done(error);\r\n                        return;\r\n                    }\r\n                    const entry = {\r\n                        name,\r\n                        path,\r\n                        dirent: utils$8.fs.createDirentFromStats(name, stats)\r\n                    };\r\n                    if (settings.stats) {\r\n                        entry.stats = stats;\r\n                    }\r\n                    done(null, entry);\r\n                });\r\n            };\r\n        });\r\n        rpl(tasks, (rplError, entries) => {\r\n            if (rplError !== null) {\r\n                callFailureCallback$1(callback, rplError);\r\n                return;\r\n            }\r\n            callSuccessCallback$1(callback, entries);\r\n        });\r\n    });\r\n}\r\nasync$3.readdir = readdir$3;\r\nfunction callFailureCallback$1(callback, error) {\r\n    callback(error);\r\n}\r\nfunction callSuccessCallback$1(callback, result) {\r\n    callback(null, result);\r\n}\r\n\r\nvar sync$6 = {};\r\n\r\nObject.defineProperty(sync$6, \"__esModule\", { value: true });\r\nsync$6.readdir = sync$6.readdirWithFileTypes = sync$6.read = void 0;\r\nconst fsStat$4 = out$1;\r\nconst constants_1 = constants$2;\r\nconst utils$7 = utils$9;\r\nconst common$8 = common$a;\r\nfunction read(directory, settings) {\r\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\r\n        return readdirWithFileTypes(directory, settings);\r\n    }\r\n    return readdir$2(directory, settings);\r\n}\r\nsync$6.read = read;\r\nfunction readdirWithFileTypes(directory, settings) {\r\n    const dirents = settings.fs.readdirSync(directory, { withFileTypes: true });\r\n    return dirents.map((dirent) => {\r\n        const entry = {\r\n            dirent,\r\n            name: dirent.name,\r\n            path: common$8.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\r\n        };\r\n        if (entry.dirent.isSymbolicLink() && settings.followSymbolicLinks) {\r\n            try {\r\n                const stats = settings.fs.statSync(entry.path);\r\n                entry.dirent = utils$7.fs.createDirentFromStats(entry.name, stats);\r\n            }\r\n            catch (error) {\r\n                if (settings.throwErrorOnBrokenSymbolicLink) {\r\n                    throw error;\r\n                }\r\n            }\r\n        }\r\n        return entry;\r\n    });\r\n}\r\nsync$6.readdirWithFileTypes = readdirWithFileTypes;\r\nfunction readdir$2(directory, settings) {\r\n    const names = settings.fs.readdirSync(directory);\r\n    return names.map((name) => {\r\n        const entryPath = common$8.joinPathSegments(directory, name, settings.pathSegmentSeparator);\r\n        const stats = fsStat$4.statSync(entryPath, settings.fsStatSettings);\r\n        const entry = {\r\n            name,\r\n            path: entryPath,\r\n            dirent: utils$7.fs.createDirentFromStats(name, stats)\r\n        };\r\n        if (settings.stats) {\r\n            entry.stats = stats;\r\n        }\r\n        return entry;\r\n    });\r\n}\r\nsync$6.readdir = readdir$2;\r\n\r\nvar settings$2 = {};\r\n\r\nvar fs$c = {};\r\n\r\n(function (exports) {\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\texports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\r\n\tconst fs = require$$0__default;\r\n\texports.FILE_SYSTEM_ADAPTER = {\r\n\t    lstat: fs.lstat,\r\n\t    stat: fs.stat,\r\n\t    lstatSync: fs.lstatSync,\r\n\t    statSync: fs.statSync,\r\n\t    readdir: fs.readdir,\r\n\t    readdirSync: fs.readdirSync\r\n\t};\r\n\tfunction createFileSystemAdapter(fsMethods) {\r\n\t    if (fsMethods === undefined) {\r\n\t        return exports.FILE_SYSTEM_ADAPTER;\r\n\t    }\r\n\t    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\r\n\t}\r\n\texports.createFileSystemAdapter = createFileSystemAdapter; \r\n} (fs$c));\r\n\r\nObject.defineProperty(settings$2, \"__esModule\", { value: true });\r\nconst path$e = require$$0$4;\r\nconst fsStat$3 = out$1;\r\nconst fs$b = fs$c;\r\nlet Settings$1 = class Settings {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, false);\r\n        this.fs = fs$b.createFileSystemAdapter(this._options.fs);\r\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path$e.sep);\r\n        this.stats = this._getValue(this._options.stats, false);\r\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\r\n        this.fsStatSettings = new fsStat$3.Settings({\r\n            followSymbolicLink: this.followSymbolicLinks,\r\n            fs: this.fs,\r\n            throwErrorOnBrokenSymbolicLink: this.throwErrorOnBrokenSymbolicLink\r\n        });\r\n    }\r\n    _getValue(option, value) {\r\n        return option !== null && option !== void 0 ? option : value;\r\n    }\r\n};\r\nsettings$2.default = Settings$1;\r\n\r\nObject.defineProperty(out$2, \"__esModule\", { value: true });\r\nout$2.Settings = out$2.scandirSync = out$2.scandir = void 0;\r\nconst async = async$3;\r\nconst sync$5 = sync$6;\r\nconst settings_1$2 = settings$2;\r\nout$2.Settings = settings_1$2.default;\r\nfunction scandir(path, optionsOrSettingsOrCallback, callback) {\r\n    if (typeof optionsOrSettingsOrCallback === 'function') {\r\n        async.read(path, getSettings$1(), optionsOrSettingsOrCallback);\r\n        return;\r\n    }\r\n    async.read(path, getSettings$1(optionsOrSettingsOrCallback), callback);\r\n}\r\nout$2.scandir = scandir;\r\nfunction scandirSync(path, optionsOrSettings) {\r\n    const settings = getSettings$1(optionsOrSettings);\r\n    return sync$5.read(path, settings);\r\n}\r\nout$2.scandirSync = scandirSync;\r\nfunction getSettings$1(settingsOrOptions = {}) {\r\n    if (settingsOrOptions instanceof settings_1$2.default) {\r\n        return settingsOrOptions;\r\n    }\r\n    return new settings_1$2.default(settingsOrOptions);\r\n}\r\n\r\nvar queue = {exports: {}};\r\n\r\nfunction reusify$1 (Constructor) {\r\n  var head = new Constructor();\r\n  var tail = head;\r\n\r\n  function get () {\r\n    var current = head;\r\n\r\n    if (current.next) {\r\n      head = current.next;\r\n    } else {\r\n      head = new Constructor();\r\n      tail = head;\r\n    }\r\n\r\n    current.next = null;\r\n\r\n    return current\r\n  }\r\n\r\n  function release (obj) {\r\n    tail.next = obj;\r\n    tail = obj;\r\n  }\r\n\r\n  return {\r\n    get: get,\r\n    release: release\r\n  }\r\n}\r\n\r\nvar reusify_1 = reusify$1;\r\n\r\n/* eslint-disable no-var */\r\n\r\nvar reusify = reusify_1;\r\n\r\nfunction fastqueue (context, worker, _concurrency) {\r\n  if (typeof context === 'function') {\r\n    _concurrency = worker;\r\n    worker = context;\r\n    context = null;\r\n  }\r\n\r\n  if (!(_concurrency >= 1)) {\r\n    throw new Error('fastqueue concurrency must be equal to or greater than 1')\r\n  }\r\n\r\n  var cache = reusify(Task);\r\n  var queueHead = null;\r\n  var queueTail = null;\r\n  var _running = 0;\r\n  var errorHandler = null;\r\n\r\n  var self = {\r\n    push: push,\r\n    drain: noop$4,\r\n    saturated: noop$4,\r\n    pause: pause,\r\n    paused: false,\r\n\r\n    get concurrency () {\r\n      return _concurrency\r\n    },\r\n    set concurrency (value) {\r\n      if (!(value >= 1)) {\r\n        throw new Error('fastqueue concurrency must be equal to or greater than 1')\r\n      }\r\n      _concurrency = value;\r\n\r\n      if (self.paused) return\r\n      for (; queueHead && _running < _concurrency;) {\r\n        _running++;\r\n        release();\r\n      }\r\n    },\r\n\r\n    running: running,\r\n    resume: resume,\r\n    idle: idle,\r\n    length: length,\r\n    getQueue: getQueue,\r\n    unshift: unshift,\r\n    empty: noop$4,\r\n    kill: kill,\r\n    killAndDrain: killAndDrain,\r\n    error: error\r\n  };\r\n\r\n  return self\r\n\r\n  function running () {\r\n    return _running\r\n  }\r\n\r\n  function pause () {\r\n    self.paused = true;\r\n  }\r\n\r\n  function length () {\r\n    var current = queueHead;\r\n    var counter = 0;\r\n\r\n    while (current) {\r\n      current = current.next;\r\n      counter++;\r\n    }\r\n\r\n    return counter\r\n  }\r\n\r\n  function getQueue () {\r\n    var current = queueHead;\r\n    var tasks = [];\r\n\r\n    while (current) {\r\n      tasks.push(current.value);\r\n      current = current.next;\r\n    }\r\n\r\n    return tasks\r\n  }\r\n\r\n  function resume () {\r\n    if (!self.paused) return\r\n    self.paused = false;\r\n    if (queueHead === null) {\r\n      _running++;\r\n      release();\r\n      return\r\n    }\r\n    for (; queueHead && _running < _concurrency;) {\r\n      _running++;\r\n      release();\r\n    }\r\n  }\r\n\r\n  function idle () {\r\n    return _running === 0 && self.length() === 0\r\n  }\r\n\r\n  function push (value, done) {\r\n    var current = cache.get();\r\n\r\n    current.context = context;\r\n    current.release = release;\r\n    current.value = value;\r\n    current.callback = done || noop$4;\r\n    current.errorHandler = errorHandler;\r\n\r\n    if (_running >= _concurrency || self.paused) {\r\n      if (queueTail) {\r\n        queueTail.next = current;\r\n        queueTail = current;\r\n      } else {\r\n        queueHead = current;\r\n        queueTail = current;\r\n        self.saturated();\r\n      }\r\n    } else {\r\n      _running++;\r\n      worker.call(context, current.value, current.worked);\r\n    }\r\n  }\r\n\r\n  function unshift (value, done) {\r\n    var current = cache.get();\r\n\r\n    current.context = context;\r\n    current.release = release;\r\n    current.value = value;\r\n    current.callback = done || noop$4;\r\n    current.errorHandler = errorHandler;\r\n\r\n    if (_running >= _concurrency || self.paused) {\r\n      if (queueHead) {\r\n        current.next = queueHead;\r\n        queueHead = current;\r\n      } else {\r\n        queueHead = current;\r\n        queueTail = current;\r\n        self.saturated();\r\n      }\r\n    } else {\r\n      _running++;\r\n      worker.call(context, current.value, current.worked);\r\n    }\r\n  }\r\n\r\n  function release (holder) {\r\n    if (holder) {\r\n      cache.release(holder);\r\n    }\r\n    var next = queueHead;\r\n    if (next && _running <= _concurrency) {\r\n      if (!self.paused) {\r\n        if (queueTail === queueHead) {\r\n          queueTail = null;\r\n        }\r\n        queueHead = next.next;\r\n        next.next = null;\r\n        worker.call(context, next.value, next.worked);\r\n        if (queueTail === null) {\r\n          self.empty();\r\n        }\r\n      } else {\r\n        _running--;\r\n      }\r\n    } else if (--_running === 0) {\r\n      self.drain();\r\n    }\r\n  }\r\n\r\n  function kill () {\r\n    queueHead = null;\r\n    queueTail = null;\r\n    self.drain = noop$4;\r\n  }\r\n\r\n  function killAndDrain () {\r\n    queueHead = null;\r\n    queueTail = null;\r\n    self.drain();\r\n    self.drain = noop$4;\r\n  }\r\n\r\n  function error (handler) {\r\n    errorHandler = handler;\r\n  }\r\n}\r\n\r\nfunction noop$4 () {}\r\n\r\nfunction Task () {\r\n  this.value = null;\r\n  this.callback = noop$4;\r\n  this.next = null;\r\n  this.release = noop$4;\r\n  this.context = null;\r\n  this.errorHandler = null;\r\n\r\n  var self = this;\r\n\r\n  this.worked = function worked (err, result) {\r\n    var callback = self.callback;\r\n    var errorHandler = self.errorHandler;\r\n    var val = self.value;\r\n    self.value = null;\r\n    self.callback = noop$4;\r\n    if (self.errorHandler) {\r\n      errorHandler(err, val);\r\n    }\r\n    callback.call(self.context, err, result);\r\n    self.release(self);\r\n  };\r\n}\r\n\r\nfunction queueAsPromised (context, worker, _concurrency) {\r\n  if (typeof context === 'function') {\r\n    _concurrency = worker;\r\n    worker = context;\r\n    context = null;\r\n  }\r\n\r\n  function asyncWrapper (arg, cb) {\r\n    worker.call(this, arg)\r\n      .then(function (res) {\r\n        cb(null, res);\r\n      }, cb);\r\n  }\r\n\r\n  var queue = fastqueue(context, asyncWrapper, _concurrency);\r\n\r\n  var pushCb = queue.push;\r\n  var unshiftCb = queue.unshift;\r\n\r\n  queue.push = push;\r\n  queue.unshift = unshift;\r\n  queue.drained = drained;\r\n\r\n  return queue\r\n\r\n  function push (value) {\r\n    var p = new Promise(function (resolve, reject) {\r\n      pushCb(value, function (err, result) {\r\n        if (err) {\r\n          reject(err);\r\n          return\r\n        }\r\n        resolve(result);\r\n      });\r\n    });\r\n\r\n    // Let's fork the promise chain to\r\n    // make the error bubble up to the user but\r\n    // not lead to a unhandledRejection\r\n    p.catch(noop$4);\r\n\r\n    return p\r\n  }\r\n\r\n  function unshift (value) {\r\n    var p = new Promise(function (resolve, reject) {\r\n      unshiftCb(value, function (err, result) {\r\n        if (err) {\r\n          reject(err);\r\n          return\r\n        }\r\n        resolve(result);\r\n      });\r\n    });\r\n\r\n    // Let's fork the promise chain to\r\n    // make the error bubble up to the user but\r\n    // not lead to a unhandledRejection\r\n    p.catch(noop$4);\r\n\r\n    return p\r\n  }\r\n\r\n  function drained () {\r\n    if (queue.idle()) {\r\n      return new Promise(function (resolve) {\r\n        resolve();\r\n      })\r\n    }\r\n\r\n    var previousDrain = queue.drain;\r\n\r\n    var p = new Promise(function (resolve) {\r\n      queue.drain = function () {\r\n        previousDrain();\r\n        resolve();\r\n      };\r\n    });\r\n\r\n    return p\r\n  }\r\n}\r\n\r\nqueue.exports = fastqueue;\r\nqueue.exports.promise = queueAsPromised;\r\n\r\nvar queueExports = queue.exports;\r\n\r\nvar common$7 = {};\r\n\r\nObject.defineProperty(common$7, \"__esModule\", { value: true });\r\ncommon$7.joinPathSegments = common$7.replacePathSegmentSeparator = common$7.isAppliedFilter = common$7.isFatalError = void 0;\r\nfunction isFatalError(settings, error) {\r\n    if (settings.errorFilter === null) {\r\n        return true;\r\n    }\r\n    return !settings.errorFilter(error);\r\n}\r\ncommon$7.isFatalError = isFatalError;\r\nfunction isAppliedFilter(filter, value) {\r\n    return filter === null || filter(value);\r\n}\r\ncommon$7.isAppliedFilter = isAppliedFilter;\r\nfunction replacePathSegmentSeparator(filepath, separator) {\r\n    return filepath.split(/[/\\\\]/).join(separator);\r\n}\r\ncommon$7.replacePathSegmentSeparator = replacePathSegmentSeparator;\r\nfunction joinPathSegments(a, b, separator) {\r\n    if (a === '') {\r\n        return b;\r\n    }\r\n    /**\r\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\r\n     */\r\n    if (a.endsWith(separator)) {\r\n        return a + b;\r\n    }\r\n    return a + separator + b;\r\n}\r\ncommon$7.joinPathSegments = joinPathSegments;\r\n\r\nvar reader$1 = {};\r\n\r\nObject.defineProperty(reader$1, \"__esModule\", { value: true });\r\nconst common$6 = common$7;\r\nlet Reader$1 = class Reader {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._root = common$6.replacePathSegmentSeparator(_root, _settings.pathSegmentSeparator);\r\n    }\r\n};\r\nreader$1.default = Reader$1;\r\n\r\nObject.defineProperty(async$4, \"__esModule\", { value: true });\r\nconst events_1 = require$$0$7;\r\nconst fsScandir$2 = out$2;\r\nconst fastq = queueExports;\r\nconst common$5 = common$7;\r\nconst reader_1$4 = reader$1;\r\nclass AsyncReader extends reader_1$4.default {\r\n    constructor(_root, _settings) {\r\n        super(_root, _settings);\r\n        this._settings = _settings;\r\n        this._scandir = fsScandir$2.scandir;\r\n        this._emitter = new events_1.EventEmitter();\r\n        this._queue = fastq(this._worker.bind(this), this._settings.concurrency);\r\n        this._isFatalError = false;\r\n        this._isDestroyed = false;\r\n        this._queue.drain = () => {\r\n            if (!this._isFatalError) {\r\n                this._emitter.emit('end');\r\n            }\r\n        };\r\n    }\r\n    read() {\r\n        this._isFatalError = false;\r\n        this._isDestroyed = false;\r\n        setImmediate(() => {\r\n            this._pushToQueue(this._root, this._settings.basePath);\r\n        });\r\n        return this._emitter;\r\n    }\r\n    get isDestroyed() {\r\n        return this._isDestroyed;\r\n    }\r\n    destroy() {\r\n        if (this._isDestroyed) {\r\n            throw new Error('The reader is already destroyed');\r\n        }\r\n        this._isDestroyed = true;\r\n        this._queue.killAndDrain();\r\n    }\r\n    onEntry(callback) {\r\n        this._emitter.on('entry', callback);\r\n    }\r\n    onError(callback) {\r\n        this._emitter.once('error', callback);\r\n    }\r\n    onEnd(callback) {\r\n        this._emitter.once('end', callback);\r\n    }\r\n    _pushToQueue(directory, base) {\r\n        const queueItem = { directory, base };\r\n        this._queue.push(queueItem, (error) => {\r\n            if (error !== null) {\r\n                this._handleError(error);\r\n            }\r\n        });\r\n    }\r\n    _worker(item, done) {\r\n        this._scandir(item.directory, this._settings.fsScandirSettings, (error, entries) => {\r\n            if (error !== null) {\r\n                done(error, undefined);\r\n                return;\r\n            }\r\n            for (const entry of entries) {\r\n                this._handleEntry(entry, item.base);\r\n            }\r\n            done(null, undefined);\r\n        });\r\n    }\r\n    _handleError(error) {\r\n        if (this._isDestroyed || !common$5.isFatalError(this._settings, error)) {\r\n            return;\r\n        }\r\n        this._isFatalError = true;\r\n        this._isDestroyed = true;\r\n        this._emitter.emit('error', error);\r\n    }\r\n    _handleEntry(entry, base) {\r\n        if (this._isDestroyed || this._isFatalError) {\r\n            return;\r\n        }\r\n        const fullpath = entry.path;\r\n        if (base !== undefined) {\r\n            entry.path = common$5.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\r\n        }\r\n        if (common$5.isAppliedFilter(this._settings.entryFilter, entry)) {\r\n            this._emitEntry(entry);\r\n        }\r\n        if (entry.dirent.isDirectory() && common$5.isAppliedFilter(this._settings.deepFilter, entry)) {\r\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\r\n        }\r\n    }\r\n    _emitEntry(entry) {\r\n        this._emitter.emit('entry', entry);\r\n    }\r\n}\r\nasync$4.default = AsyncReader;\r\n\r\nObject.defineProperty(async$5, \"__esModule\", { value: true });\r\nconst async_1$4 = async$4;\r\nclass AsyncProvider {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._reader = new async_1$4.default(this._root, this._settings);\r\n        this._storage = [];\r\n    }\r\n    read(callback) {\r\n        this._reader.onError((error) => {\r\n            callFailureCallback(callback, error);\r\n        });\r\n        this._reader.onEntry((entry) => {\r\n            this._storage.push(entry);\r\n        });\r\n        this._reader.onEnd(() => {\r\n            callSuccessCallback(callback, this._storage);\r\n        });\r\n        this._reader.read();\r\n    }\r\n}\r\nasync$5.default = AsyncProvider;\r\nfunction callFailureCallback(callback, error) {\r\n    callback(error);\r\n}\r\nfunction callSuccessCallback(callback, entries) {\r\n    callback(null, entries);\r\n}\r\n\r\nvar stream$2 = {};\r\n\r\nObject.defineProperty(stream$2, \"__esModule\", { value: true });\r\nconst stream_1$5 = require$$0$6;\r\nconst async_1$3 = async$4;\r\nclass StreamProvider {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._reader = new async_1$3.default(this._root, this._settings);\r\n        this._stream = new stream_1$5.Readable({\r\n            objectMode: true,\r\n            read: () => { },\r\n            destroy: () => {\r\n                if (!this._reader.isDestroyed) {\r\n                    this._reader.destroy();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    read() {\r\n        this._reader.onError((error) => {\r\n            this._stream.emit('error', error);\r\n        });\r\n        this._reader.onEntry((entry) => {\r\n            this._stream.push(entry);\r\n        });\r\n        this._reader.onEnd(() => {\r\n            this._stream.push(null);\r\n        });\r\n        this._reader.read();\r\n        return this._stream;\r\n    }\r\n}\r\nstream$2.default = StreamProvider;\r\n\r\nvar sync$4 = {};\r\n\r\nvar sync$3 = {};\r\n\r\nObject.defineProperty(sync$3, \"__esModule\", { value: true });\r\nconst fsScandir$1 = out$2;\r\nconst common$4 = common$7;\r\nconst reader_1$3 = reader$1;\r\nclass SyncReader extends reader_1$3.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._scandir = fsScandir$1.scandirSync;\r\n        this._storage = [];\r\n        this._queue = new Set();\r\n    }\r\n    read() {\r\n        this._pushToQueue(this._root, this._settings.basePath);\r\n        this._handleQueue();\r\n        return this._storage;\r\n    }\r\n    _pushToQueue(directory, base) {\r\n        this._queue.add({ directory, base });\r\n    }\r\n    _handleQueue() {\r\n        for (const item of this._queue.values()) {\r\n            this._handleDirectory(item.directory, item.base);\r\n        }\r\n    }\r\n    _handleDirectory(directory, base) {\r\n        try {\r\n            const entries = this._scandir(directory, this._settings.fsScandirSettings);\r\n            for (const entry of entries) {\r\n                this._handleEntry(entry, base);\r\n            }\r\n        }\r\n        catch (error) {\r\n            this._handleError(error);\r\n        }\r\n    }\r\n    _handleError(error) {\r\n        if (!common$4.isFatalError(this._settings, error)) {\r\n            return;\r\n        }\r\n        throw error;\r\n    }\r\n    _handleEntry(entry, base) {\r\n        const fullpath = entry.path;\r\n        if (base !== undefined) {\r\n            entry.path = common$4.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\r\n        }\r\n        if (common$4.isAppliedFilter(this._settings.entryFilter, entry)) {\r\n            this._pushToStorage(entry);\r\n        }\r\n        if (entry.dirent.isDirectory() && common$4.isAppliedFilter(this._settings.deepFilter, entry)) {\r\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\r\n        }\r\n    }\r\n    _pushToStorage(entry) {\r\n        this._storage.push(entry);\r\n    }\r\n}\r\nsync$3.default = SyncReader;\r\n\r\nObject.defineProperty(sync$4, \"__esModule\", { value: true });\r\nconst sync_1$3 = sync$3;\r\nclass SyncProvider {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._reader = new sync_1$3.default(this._root, this._settings);\r\n    }\r\n    read() {\r\n        return this._reader.read();\r\n    }\r\n}\r\nsync$4.default = SyncProvider;\r\n\r\nvar settings$1 = {};\r\n\r\nObject.defineProperty(settings$1, \"__esModule\", { value: true });\r\nconst path$d = require$$0$4;\r\nconst fsScandir = out$2;\r\nclass Settings {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.basePath = this._getValue(this._options.basePath, undefined);\r\n        this.concurrency = this._getValue(this._options.concurrency, Number.POSITIVE_INFINITY);\r\n        this.deepFilter = this._getValue(this._options.deepFilter, null);\r\n        this.entryFilter = this._getValue(this._options.entryFilter, null);\r\n        this.errorFilter = this._getValue(this._options.errorFilter, null);\r\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path$d.sep);\r\n        this.fsScandirSettings = new fsScandir.Settings({\r\n            followSymbolicLinks: this._options.followSymbolicLinks,\r\n            fs: this._options.fs,\r\n            pathSegmentSeparator: this._options.pathSegmentSeparator,\r\n            stats: this._options.stats,\r\n            throwErrorOnBrokenSymbolicLink: this._options.throwErrorOnBrokenSymbolicLink\r\n        });\r\n    }\r\n    _getValue(option, value) {\r\n        return option !== null && option !== void 0 ? option : value;\r\n    }\r\n}\r\nsettings$1.default = Settings;\r\n\r\nObject.defineProperty(out$3, \"__esModule\", { value: true });\r\nout$3.Settings = out$3.walkStream = out$3.walkSync = out$3.walk = void 0;\r\nconst async_1$2 = async$5;\r\nconst stream_1$4 = stream$2;\r\nconst sync_1$2 = sync$4;\r\nconst settings_1$1 = settings$1;\r\nout$3.Settings = settings_1$1.default;\r\nfunction walk$2(directory, optionsOrSettingsOrCallback, callback) {\r\n    if (typeof optionsOrSettingsOrCallback === 'function') {\r\n        new async_1$2.default(directory, getSettings()).read(optionsOrSettingsOrCallback);\r\n        return;\r\n    }\r\n    new async_1$2.default(directory, getSettings(optionsOrSettingsOrCallback)).read(callback);\r\n}\r\nout$3.walk = walk$2;\r\nfunction walkSync(directory, optionsOrSettings) {\r\n    const settings = getSettings(optionsOrSettings);\r\n    const provider = new sync_1$2.default(directory, settings);\r\n    return provider.read();\r\n}\r\nout$3.walkSync = walkSync;\r\nfunction walkStream(directory, optionsOrSettings) {\r\n    const settings = getSettings(optionsOrSettings);\r\n    const provider = new stream_1$4.default(directory, settings);\r\n    return provider.read();\r\n}\r\nout$3.walkStream = walkStream;\r\nfunction getSettings(settingsOrOptions = {}) {\r\n    if (settingsOrOptions instanceof settings_1$1.default) {\r\n        return settingsOrOptions;\r\n    }\r\n    return new settings_1$1.default(settingsOrOptions);\r\n}\r\n\r\nvar reader = {};\r\n\r\nObject.defineProperty(reader, \"__esModule\", { value: true });\r\nconst path$c = require$$0$4;\r\nconst fsStat$2 = out$1;\r\nconst utils$6 = utils$g;\r\nclass Reader {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n        this._fsStatSettings = new fsStat$2.Settings({\r\n            followSymbolicLink: this._settings.followSymbolicLinks,\r\n            fs: this._settings.fs,\r\n            throwErrorOnBrokenSymbolicLink: this._settings.followSymbolicLinks\r\n        });\r\n    }\r\n    _getFullEntryPath(filepath) {\r\n        return path$c.resolve(this._settings.cwd, filepath);\r\n    }\r\n    _makeEntry(stats, pattern) {\r\n        const entry = {\r\n            name: pattern,\r\n            path: pattern,\r\n            dirent: utils$6.fs.createDirentFromStats(pattern, stats)\r\n        };\r\n        if (this._settings.stats) {\r\n            entry.stats = stats;\r\n        }\r\n        return entry;\r\n    }\r\n    _isFatalError(error) {\r\n        return !utils$6.errno.isEnoentCodeError(error) && !this._settings.suppressErrors;\r\n    }\r\n}\r\nreader.default = Reader;\r\n\r\nvar stream$1 = {};\r\n\r\nObject.defineProperty(stream$1, \"__esModule\", { value: true });\r\nconst stream_1$3 = require$$0$6;\r\nconst fsStat$1 = out$1;\r\nconst fsWalk$2 = out$3;\r\nconst reader_1$2 = reader;\r\nclass ReaderStream extends reader_1$2.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkStream = fsWalk$2.walkStream;\r\n        this._stat = fsStat$1.stat;\r\n    }\r\n    dynamic(root, options) {\r\n        return this._walkStream(root, options);\r\n    }\r\n    static(patterns, options) {\r\n        const filepaths = patterns.map(this._getFullEntryPath, this);\r\n        const stream = new stream_1$3.PassThrough({ objectMode: true });\r\n        stream._write = (index, _enc, done) => {\r\n            return this._getEntry(filepaths[index], patterns[index], options)\r\n                .then((entry) => {\r\n                if (entry !== null && options.entryFilter(entry)) {\r\n                    stream.push(entry);\r\n                }\r\n                if (index === filepaths.length - 1) {\r\n                    stream.end();\r\n                }\r\n                done();\r\n            })\r\n                .catch(done);\r\n        };\r\n        for (let i = 0; i < filepaths.length; i++) {\r\n            stream.write(i);\r\n        }\r\n        return stream;\r\n    }\r\n    _getEntry(filepath, pattern, options) {\r\n        return this._getStat(filepath)\r\n            .then((stats) => this._makeEntry(stats, pattern))\r\n            .catch((error) => {\r\n            if (options.errorFilter(error)) {\r\n                return null;\r\n            }\r\n            throw error;\r\n        });\r\n    }\r\n    _getStat(filepath) {\r\n        return new Promise((resolve, reject) => {\r\n            this._stat(filepath, this._fsStatSettings, (error, stats) => {\r\n                return error === null ? resolve(stats) : reject(error);\r\n            });\r\n        });\r\n    }\r\n}\r\nstream$1.default = ReaderStream;\r\n\r\nObject.defineProperty(async$6, \"__esModule\", { value: true });\r\nconst fsWalk$1 = out$3;\r\nconst reader_1$1 = reader;\r\nconst stream_1$2 = stream$1;\r\nclass ReaderAsync extends reader_1$1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkAsync = fsWalk$1.walk;\r\n        this._readerStream = new stream_1$2.default(this._settings);\r\n    }\r\n    dynamic(root, options) {\r\n        return new Promise((resolve, reject) => {\r\n            this._walkAsync(root, options, (error, entries) => {\r\n                if (error === null) {\r\n                    resolve(entries);\r\n                }\r\n                else {\r\n                    reject(error);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    async static(patterns, options) {\r\n        const entries = [];\r\n        const stream = this._readerStream.static(patterns, options);\r\n        // After #235, replace it with an asynchronous iterator.\r\n        return new Promise((resolve, reject) => {\r\n            stream.once('error', reject);\r\n            stream.on('data', (entry) => entries.push(entry));\r\n            stream.once('end', () => resolve(entries));\r\n        });\r\n    }\r\n}\r\nasync$6.default = ReaderAsync;\r\n\r\nvar provider = {};\r\n\r\nvar deep = {};\r\n\r\nvar partial = {};\r\n\r\nvar matcher = {};\r\n\r\nObject.defineProperty(matcher, \"__esModule\", { value: true });\r\nconst utils$5 = utils$g;\r\nclass Matcher {\r\n    constructor(_patterns, _settings, _micromatchOptions) {\r\n        this._patterns = _patterns;\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n        this._storage = [];\r\n        this._fillStorage();\r\n    }\r\n    _fillStorage() {\r\n        for (const pattern of this._patterns) {\r\n            const segments = this._getPatternSegments(pattern);\r\n            const sections = this._splitSegmentsIntoSections(segments);\r\n            this._storage.push({\r\n                complete: sections.length <= 1,\r\n                pattern,\r\n                segments,\r\n                sections\r\n            });\r\n        }\r\n    }\r\n    _getPatternSegments(pattern) {\r\n        const parts = utils$5.pattern.getPatternParts(pattern, this._micromatchOptions);\r\n        return parts.map((part) => {\r\n            const dynamic = utils$5.pattern.isDynamicPattern(part, this._settings);\r\n            if (!dynamic) {\r\n                return {\r\n                    dynamic: false,\r\n                    pattern: part\r\n                };\r\n            }\r\n            return {\r\n                dynamic: true,\r\n                pattern: part,\r\n                patternRe: utils$5.pattern.makeRe(part, this._micromatchOptions)\r\n            };\r\n        });\r\n    }\r\n    _splitSegmentsIntoSections(segments) {\r\n        return utils$5.array.splitWhen(segments, (segment) => segment.dynamic && utils$5.pattern.hasGlobStar(segment.pattern));\r\n    }\r\n}\r\nmatcher.default = Matcher;\r\n\r\nObject.defineProperty(partial, \"__esModule\", { value: true });\r\nconst matcher_1 = matcher;\r\nclass PartialMatcher extends matcher_1.default {\r\n    match(filepath) {\r\n        const parts = filepath.split('/');\r\n        const levels = parts.length;\r\n        const patterns = this._storage.filter((info) => !info.complete || info.segments.length > levels);\r\n        for (const pattern of patterns) {\r\n            const section = pattern.sections[0];\r\n            /**\r\n             * In this case, the pattern has a globstar and we must read all directories unconditionally,\r\n             * but only if the level has reached the end of the first group.\r\n             *\r\n             * fixtures/{a,b}/**\r\n             *  ^ true/false  ^ always true\r\n            */\r\n            if (!pattern.complete && levels > section.length) {\r\n                return true;\r\n            }\r\n            const match = parts.every((part, index) => {\r\n                const segment = pattern.segments[index];\r\n                if (segment.dynamic && segment.patternRe.test(part)) {\r\n                    return true;\r\n                }\r\n                if (!segment.dynamic && segment.pattern === part) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if (match) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\npartial.default = PartialMatcher;\r\n\r\nObject.defineProperty(deep, \"__esModule\", { value: true });\r\nconst utils$4 = utils$g;\r\nconst partial_1 = partial;\r\nclass DeepFilter {\r\n    constructor(_settings, _micromatchOptions) {\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n    }\r\n    getFilter(basePath, positive, negative) {\r\n        const matcher = this._getMatcher(positive);\r\n        const negativeRe = this._getNegativePatternsRe(negative);\r\n        return (entry) => this._filter(basePath, entry, matcher, negativeRe);\r\n    }\r\n    _getMatcher(patterns) {\r\n        return new partial_1.default(patterns, this._settings, this._micromatchOptions);\r\n    }\r\n    _getNegativePatternsRe(patterns) {\r\n        const affectDepthOfReadingPatterns = patterns.filter(utils$4.pattern.isAffectDepthOfReadingPattern);\r\n        return utils$4.pattern.convertPatternsToRe(affectDepthOfReadingPatterns, this._micromatchOptions);\r\n    }\r\n    _filter(basePath, entry, matcher, negativeRe) {\r\n        if (this._isSkippedByDeep(basePath, entry.path)) {\r\n            return false;\r\n        }\r\n        if (this._isSkippedSymbolicLink(entry)) {\r\n            return false;\r\n        }\r\n        const filepath = utils$4.path.removeLeadingDotSegment(entry.path);\r\n        if (this._isSkippedByPositivePatterns(filepath, matcher)) {\r\n            return false;\r\n        }\r\n        return this._isSkippedByNegativePatterns(filepath, negativeRe);\r\n    }\r\n    _isSkippedByDeep(basePath, entryPath) {\r\n        /**\r\n         * Avoid unnecessary depth calculations when it doesn't matter.\r\n         */\r\n        if (this._settings.deep === Infinity) {\r\n            return false;\r\n        }\r\n        return this._getEntryLevel(basePath, entryPath) >= this._settings.deep;\r\n    }\r\n    _getEntryLevel(basePath, entryPath) {\r\n        const entryPathDepth = entryPath.split('/').length;\r\n        if (basePath === '') {\r\n            return entryPathDepth;\r\n        }\r\n        const basePathDepth = basePath.split('/').length;\r\n        return entryPathDepth - basePathDepth;\r\n    }\r\n    _isSkippedSymbolicLink(entry) {\r\n        return !this._settings.followSymbolicLinks && entry.dirent.isSymbolicLink();\r\n    }\r\n    _isSkippedByPositivePatterns(entryPath, matcher) {\r\n        return !this._settings.baseNameMatch && !matcher.match(entryPath);\r\n    }\r\n    _isSkippedByNegativePatterns(entryPath, patternsRe) {\r\n        return !utils$4.pattern.matchAny(entryPath, patternsRe);\r\n    }\r\n}\r\ndeep.default = DeepFilter;\r\n\r\nvar entry$1 = {};\r\n\r\nObject.defineProperty(entry$1, \"__esModule\", { value: true });\r\nconst utils$3 = utils$g;\r\nclass EntryFilter {\r\n    constructor(_settings, _micromatchOptions) {\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n        this.index = new Map();\r\n    }\r\n    getFilter(positive, negative) {\r\n        const positiveRe = utils$3.pattern.convertPatternsToRe(positive, this._micromatchOptions);\r\n        const negativeRe = utils$3.pattern.convertPatternsToRe(negative, Object.assign(Object.assign({}, this._micromatchOptions), { dot: true }));\r\n        return (entry) => this._filter(entry, positiveRe, negativeRe);\r\n    }\r\n    _filter(entry, positiveRe, negativeRe) {\r\n        const filepath = utils$3.path.removeLeadingDotSegment(entry.path);\r\n        if (this._settings.unique && this._isDuplicateEntry(filepath)) {\r\n            return false;\r\n        }\r\n        if (this._onlyFileFilter(entry) || this._onlyDirectoryFilter(entry)) {\r\n            return false;\r\n        }\r\n        if (this._isSkippedByAbsoluteNegativePatterns(filepath, negativeRe)) {\r\n            return false;\r\n        }\r\n        const isDirectory = entry.dirent.isDirectory();\r\n        const isMatched = this._isMatchToPatterns(filepath, positiveRe, isDirectory) && !this._isMatchToPatterns(filepath, negativeRe, isDirectory);\r\n        if (this._settings.unique && isMatched) {\r\n            this._createIndexRecord(filepath);\r\n        }\r\n        return isMatched;\r\n    }\r\n    _isDuplicateEntry(filepath) {\r\n        return this.index.has(filepath);\r\n    }\r\n    _createIndexRecord(filepath) {\r\n        this.index.set(filepath, undefined);\r\n    }\r\n    _onlyFileFilter(entry) {\r\n        return this._settings.onlyFiles && !entry.dirent.isFile();\r\n    }\r\n    _onlyDirectoryFilter(entry) {\r\n        return this._settings.onlyDirectories && !entry.dirent.isDirectory();\r\n    }\r\n    _isSkippedByAbsoluteNegativePatterns(entryPath, patternsRe) {\r\n        if (!this._settings.absolute) {\r\n            return false;\r\n        }\r\n        const fullpath = utils$3.path.makeAbsolute(this._settings.cwd, entryPath);\r\n        return utils$3.pattern.matchAny(fullpath, patternsRe);\r\n    }\r\n    _isMatchToPatterns(filepath, patternsRe, isDirectory) {\r\n        // Trying to match files and directories by patterns.\r\n        const isMatched = utils$3.pattern.matchAny(filepath, patternsRe);\r\n        // A pattern with a trailling slash can be used for directory matching.\r\n        // To apply such pattern, we need to add a tralling slash to the path.\r\n        if (!isMatched && isDirectory) {\r\n            return utils$3.pattern.matchAny(filepath + '/', patternsRe);\r\n        }\r\n        return isMatched;\r\n    }\r\n}\r\nentry$1.default = EntryFilter;\r\n\r\nvar error$1 = {};\r\n\r\nObject.defineProperty(error$1, \"__esModule\", { value: true });\r\nconst utils$2 = utils$g;\r\nclass ErrorFilter {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n    }\r\n    getFilter() {\r\n        return (error) => this._isNonFatalError(error);\r\n    }\r\n    _isNonFatalError(error) {\r\n        return utils$2.errno.isEnoentCodeError(error) || this._settings.suppressErrors;\r\n    }\r\n}\r\nerror$1.default = ErrorFilter;\r\n\r\nvar entry = {};\r\n\r\nObject.defineProperty(entry, \"__esModule\", { value: true });\r\nconst utils$1 = utils$g;\r\nclass EntryTransformer {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n    }\r\n    getTransformer() {\r\n        return (entry) => this._transform(entry);\r\n    }\r\n    _transform(entry) {\r\n        let filepath = entry.path;\r\n        if (this._settings.absolute) {\r\n            filepath = utils$1.path.makeAbsolute(this._settings.cwd, filepath);\r\n            filepath = utils$1.path.unixify(filepath);\r\n        }\r\n        if (this._settings.markDirectories && entry.dirent.isDirectory()) {\r\n            filepath += '/';\r\n        }\r\n        if (!this._settings.objectMode) {\r\n            return filepath;\r\n        }\r\n        return Object.assign(Object.assign({}, entry), { path: filepath });\r\n    }\r\n}\r\nentry.default = EntryTransformer;\r\n\r\nObject.defineProperty(provider, \"__esModule\", { value: true });\r\nconst path$b = require$$0$4;\r\nconst deep_1 = deep;\r\nconst entry_1 = entry$1;\r\nconst error_1 = error$1;\r\nconst entry_2 = entry;\r\nclass Provider {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n        this.errorFilter = new error_1.default(this._settings);\r\n        this.entryFilter = new entry_1.default(this._settings, this._getMicromatchOptions());\r\n        this.deepFilter = new deep_1.default(this._settings, this._getMicromatchOptions());\r\n        this.entryTransformer = new entry_2.default(this._settings);\r\n    }\r\n    _getRootDirectory(task) {\r\n        return path$b.resolve(this._settings.cwd, task.base);\r\n    }\r\n    _getReaderOptions(task) {\r\n        const basePath = task.base === '.' ? '' : task.base;\r\n        return {\r\n            basePath,\r\n            pathSegmentSeparator: '/',\r\n            concurrency: this._settings.concurrency,\r\n            deepFilter: this.deepFilter.getFilter(basePath, task.positive, task.negative),\r\n            entryFilter: this.entryFilter.getFilter(task.positive, task.negative),\r\n            errorFilter: this.errorFilter.getFilter(),\r\n            followSymbolicLinks: this._settings.followSymbolicLinks,\r\n            fs: this._settings.fs,\r\n            stats: this._settings.stats,\r\n            throwErrorOnBrokenSymbolicLink: this._settings.throwErrorOnBrokenSymbolicLink,\r\n            transform: this.entryTransformer.getTransformer()\r\n        };\r\n    }\r\n    _getMicromatchOptions() {\r\n        return {\r\n            dot: this._settings.dot,\r\n            matchBase: this._settings.baseNameMatch,\r\n            nobrace: !this._settings.braceExpansion,\r\n            nocase: !this._settings.caseSensitiveMatch,\r\n            noext: !this._settings.extglob,\r\n            noglobstar: !this._settings.globstar,\r\n            posix: true,\r\n            strictSlashes: false\r\n        };\r\n    }\r\n}\r\nprovider.default = Provider;\r\n\r\nObject.defineProperty(async$7, \"__esModule\", { value: true });\r\nconst async_1$1 = async$6;\r\nconst provider_1$2 = provider;\r\nclass ProviderAsync extends provider_1$2.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new async_1$1.default(this._settings);\r\n    }\r\n    async read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const entries = await this.api(root, task, options);\r\n        return entries.map((entry) => options.transform(entry));\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nasync$7.default = ProviderAsync;\r\n\r\nvar stream = {};\r\n\r\nObject.defineProperty(stream, \"__esModule\", { value: true });\r\nconst stream_1$1 = require$$0$6;\r\nconst stream_2 = stream$1;\r\nconst provider_1$1 = provider;\r\nclass ProviderStream extends provider_1$1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new stream_2.default(this._settings);\r\n    }\r\n    read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const source = this.api(root, task, options);\r\n        const destination = new stream_1$1.Readable({ objectMode: true, read: () => { } });\r\n        source\r\n            .once('error', (error) => destination.emit('error', error))\r\n            .on('data', (entry) => destination.emit('data', options.transform(entry)))\r\n            .once('end', () => destination.emit('end'));\r\n        destination\r\n            .once('close', () => source.destroy());\r\n        return destination;\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nstream.default = ProviderStream;\r\n\r\nvar sync$2 = {};\r\n\r\nvar sync$1 = {};\r\n\r\nObject.defineProperty(sync$1, \"__esModule\", { value: true });\r\nconst fsStat = out$1;\r\nconst fsWalk = out$3;\r\nconst reader_1 = reader;\r\nclass ReaderSync extends reader_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkSync = fsWalk.walkSync;\r\n        this._statSync = fsStat.statSync;\r\n    }\r\n    dynamic(root, options) {\r\n        return this._walkSync(root, options);\r\n    }\r\n    static(patterns, options) {\r\n        const entries = [];\r\n        for (const pattern of patterns) {\r\n            const filepath = this._getFullEntryPath(pattern);\r\n            const entry = this._getEntry(filepath, pattern, options);\r\n            if (entry === null || !options.entryFilter(entry)) {\r\n                continue;\r\n            }\r\n            entries.push(entry);\r\n        }\r\n        return entries;\r\n    }\r\n    _getEntry(filepath, pattern, options) {\r\n        try {\r\n            const stats = this._getStat(filepath);\r\n            return this._makeEntry(stats, pattern);\r\n        }\r\n        catch (error) {\r\n            if (options.errorFilter(error)) {\r\n                return null;\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n    _getStat(filepath) {\r\n        return this._statSync(filepath, this._fsStatSettings);\r\n    }\r\n}\r\nsync$1.default = ReaderSync;\r\n\r\nObject.defineProperty(sync$2, \"__esModule\", { value: true });\r\nconst sync_1$1 = sync$1;\r\nconst provider_1 = provider;\r\nclass ProviderSync extends provider_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new sync_1$1.default(this._settings);\r\n    }\r\n    read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const entries = this.api(root, task, options);\r\n        return entries.map(options.transform);\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nsync$2.default = ProviderSync;\r\n\r\nvar settings = {};\r\n\r\n(function (exports) {\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\texports.DEFAULT_FILE_SYSTEM_ADAPTER = void 0;\r\n\tconst fs = require$$0__default;\r\n\tconst os = require$$2;\r\n\t/**\r\n\t * The `os.cpus` method can return zero. We expect the number of cores to be greater than zero.\r\n\t * https://github.com/nodejs/node/blob/7faeddf23a98c53896f8b574a6e66589e8fb1eb8/lib/os.js#L106-L107\r\n\t */\r\n\tconst CPU_COUNT = Math.max(os.cpus().length, 1);\r\n\texports.DEFAULT_FILE_SYSTEM_ADAPTER = {\r\n\t    lstat: fs.lstat,\r\n\t    lstatSync: fs.lstatSync,\r\n\t    stat: fs.stat,\r\n\t    statSync: fs.statSync,\r\n\t    readdir: fs.readdir,\r\n\t    readdirSync: fs.readdirSync\r\n\t};\r\n\tclass Settings {\r\n\t    constructor(_options = {}) {\r\n\t        this._options = _options;\r\n\t        this.absolute = this._getValue(this._options.absolute, false);\r\n\t        this.baseNameMatch = this._getValue(this._options.baseNameMatch, false);\r\n\t        this.braceExpansion = this._getValue(this._options.braceExpansion, true);\r\n\t        this.caseSensitiveMatch = this._getValue(this._options.caseSensitiveMatch, true);\r\n\t        this.concurrency = this._getValue(this._options.concurrency, CPU_COUNT);\r\n\t        this.cwd = this._getValue(this._options.cwd, process.cwd());\r\n\t        this.deep = this._getValue(this._options.deep, Infinity);\r\n\t        this.dot = this._getValue(this._options.dot, false);\r\n\t        this.extglob = this._getValue(this._options.extglob, true);\r\n\t        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, true);\r\n\t        this.fs = this._getFileSystemMethods(this._options.fs);\r\n\t        this.globstar = this._getValue(this._options.globstar, true);\r\n\t        this.ignore = this._getValue(this._options.ignore, []);\r\n\t        this.markDirectories = this._getValue(this._options.markDirectories, false);\r\n\t        this.objectMode = this._getValue(this._options.objectMode, false);\r\n\t        this.onlyDirectories = this._getValue(this._options.onlyDirectories, false);\r\n\t        this.onlyFiles = this._getValue(this._options.onlyFiles, true);\r\n\t        this.stats = this._getValue(this._options.stats, false);\r\n\t        this.suppressErrors = this._getValue(this._options.suppressErrors, false);\r\n\t        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, false);\r\n\t        this.unique = this._getValue(this._options.unique, true);\r\n\t        if (this.onlyDirectories) {\r\n\t            this.onlyFiles = false;\r\n\t        }\r\n\t        if (this.stats) {\r\n\t            this.objectMode = true;\r\n\t        }\r\n\t        // Remove the cast to the array in the next major (#404).\r\n\t        this.ignore = [].concat(this.ignore);\r\n\t    }\r\n\t    _getValue(option, value) {\r\n\t        return option === undefined ? value : option;\r\n\t    }\r\n\t    _getFileSystemMethods(methods = {}) {\r\n\t        return Object.assign(Object.assign({}, exports.DEFAULT_FILE_SYSTEM_ADAPTER), methods);\r\n\t    }\r\n\t}\r\n\texports.default = Settings; \r\n} (settings));\r\n\r\nconst taskManager = tasks;\r\nconst async_1 = async$7;\r\nconst stream_1 = stream;\r\nconst sync_1 = sync$2;\r\nconst settings_1 = settings;\r\nconst utils = utils$g;\r\nasync function FastGlob(source, options) {\r\n    assertPatternsInput(source);\r\n    const works = getWorks(source, async_1.default, options);\r\n    const result = await Promise.all(works);\r\n    return utils.array.flatten(result);\r\n}\r\n// https://github.com/typescript-eslint/typescript-eslint/issues/60\r\n// eslint-disable-next-line no-redeclare\r\n(function (FastGlob) {\r\n    FastGlob.glob = FastGlob;\r\n    FastGlob.globSync = sync;\r\n    FastGlob.globStream = stream;\r\n    FastGlob.async = FastGlob;\r\n    function sync(source, options) {\r\n        assertPatternsInput(source);\r\n        const works = getWorks(source, sync_1.default, options);\r\n        return utils.array.flatten(works);\r\n    }\r\n    FastGlob.sync = sync;\r\n    function stream(source, options) {\r\n        assertPatternsInput(source);\r\n        const works = getWorks(source, stream_1.default, options);\r\n        /**\r\n         * The stream returned by the provider cannot work with an asynchronous iterator.\r\n         * To support asynchronous iterators, regardless of the number of tasks, we always multiplex streams.\r\n         * This affects performance (+25%). I don't see best solution right now.\r\n         */\r\n        return utils.stream.merge(works);\r\n    }\r\n    FastGlob.stream = stream;\r\n    function generateTasks(source, options) {\r\n        assertPatternsInput(source);\r\n        const patterns = [].concat(source);\r\n        const settings = new settings_1.default(options);\r\n        return taskManager.generate(patterns, settings);\r\n    }\r\n    FastGlob.generateTasks = generateTasks;\r\n    function isDynamicPattern(source, options) {\r\n        assertPatternsInput(source);\r\n        const settings = new settings_1.default(options);\r\n        return utils.pattern.isDynamicPattern(source, settings);\r\n    }\r\n    FastGlob.isDynamicPattern = isDynamicPattern;\r\n    function escapePath(source) {\r\n        assertPatternsInput(source);\r\n        return utils.path.escape(source);\r\n    }\r\n    FastGlob.escapePath = escapePath;\r\n    function convertPathToPattern(source) {\r\n        assertPatternsInput(source);\r\n        return utils.path.convertPathToPattern(source);\r\n    }\r\n    FastGlob.convertPathToPattern = convertPathToPattern;\r\n    (function (posix) {\r\n        function escapePath(source) {\r\n            assertPatternsInput(source);\r\n            return utils.path.escapePosixPath(source);\r\n        }\r\n        posix.escapePath = escapePath;\r\n        function convertPathToPattern(source) {\r\n            assertPatternsInput(source);\r\n            return utils.path.convertPosixPathToPattern(source);\r\n        }\r\n        posix.convertPathToPattern = convertPathToPattern;\r\n    })(FastGlob.posix || (FastGlob.posix = {}));\r\n    (function (win32) {\r\n        function escapePath(source) {\r\n            assertPatternsInput(source);\r\n            return utils.path.escapeWindowsPath(source);\r\n        }\r\n        win32.escapePath = escapePath;\r\n        function convertPathToPattern(source) {\r\n            assertPatternsInput(source);\r\n            return utils.path.convertWindowsPathToPattern(source);\r\n        }\r\n        win32.convertPathToPattern = convertPathToPattern;\r\n    })(FastGlob.win32 || (FastGlob.win32 = {}));\r\n})(FastGlob || (FastGlob = {}));\r\nfunction getWorks(source, _Provider, options) {\r\n    const patterns = [].concat(source);\r\n    const settings = new settings_1.default(options);\r\n    const tasks = taskManager.generate(patterns, settings);\r\n    const provider = new _Provider(settings);\r\n    return tasks.map(provider.read, provider);\r\n}\r\nfunction assertPatternsInput(input) {\r\n    const source = [].concat(input);\r\n    const isValidSource = source.every((item) => utils.string.isString(item) && !utils.string.isEmpty(item));\r\n    if (!isValidSource) {\r\n        throw new TypeError('Patterns must be a string (non empty) or an array of strings');\r\n    }\r\n}\r\nvar out = FastGlob;\r\n\r\nvar glob = /*@__PURE__*/getDefaultExportFromCjs(out);\r\n\r\nvar src$2 = {};\r\n\r\n// @ts-check\r\nconst path$a = require$$0$4;\r\nconst fs$a = require$$0__default;\r\nconst os$3 = require$$2;\r\n\r\nconst fsReadFileAsync = fs$a.promises.readFile;\r\n\r\n/** @type {(name: string, sync: boolean) => string[]} */\r\nfunction getDefaultSearchPlaces(name, sync) {\r\n\treturn [\r\n\t\t'package.json',\r\n\t\t`.${name}rc.json`,\r\n\t\t`.${name}rc.js`,\r\n\t\t`.${name}rc.cjs`,\r\n\t\t...(sync ? [] : [`.${name}rc.mjs`]),\r\n\t\t`.config/${name}rc`,\r\n\t\t`.config/${name}rc.json`,\r\n\t\t`.config/${name}rc.js`,\r\n\t\t`.config/${name}rc.cjs`,\r\n\t\t...(sync ? [] : [`.config/${name}rc.mjs`]),\r\n\t\t`${name}.config.js`,\r\n\t\t`${name}.config.cjs`,\r\n\t\t...(sync ? [] : [`${name}.config.mjs`]),\r\n\t];\r\n}\r\n\r\n/**\r\n * @type {(p: string) => string}\r\n *\r\n * see #17\r\n * On *nix, if cwd is not under homedir,\r\n * the last path will be '', ('/build' -> '')\r\n * but it should be '/' actually.\r\n * And on Windows, this will never happen. ('C:\\build' -> 'C:')\r\n */\r\nfunction parentDir(p) {\r\n\treturn path$a.dirname(p) || path$a.sep;\r\n}\r\n\r\n/** @type {import('./index').LoaderSync} */\r\nconst jsonLoader = (_, content) => JSON.parse(content);\r\n// Use plain require in webpack context for dynamic import\r\nconst requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : __require;\r\n/** @type {import('./index').LoadersSync} */\r\nconst defaultLoadersSync = Object.freeze({\r\n\t'.js': requireFunc,\r\n\t'.json': requireFunc,\r\n\t'.cjs': requireFunc,\r\n\tnoExt: jsonLoader,\r\n});\r\nsrc$2.defaultLoadersSync = defaultLoadersSync;\r\n\r\n/** @type {import('./index').Loader} */\r\nconst dynamicImport = async id => {\r\n\ttry {\r\n\t\tconst mod = await import(/* webpackIgnore: true */ id);\r\n\r\n\t\treturn mod.default;\r\n\t} catch (e) {\r\n\t\ttry {\r\n\t\t\treturn requireFunc(id);\r\n\t\t} catch (/** @type {any} */ requireE) {\r\n\t\t\tif (\r\n\t\t\t\trequireE.code === 'ERR_REQUIRE_ESM' ||\r\n\t\t\t\t(requireE instanceof SyntaxError &&\r\n\t\t\t\t\trequireE\r\n\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t.includes('Cannot use import statement outside a module'))\r\n\t\t\t) {\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t\tthrow requireE;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/** @type {import('./index').Loaders} */\r\nconst defaultLoaders = Object.freeze({\r\n\t'.js': dynamicImport,\r\n\t'.mjs': dynamicImport,\r\n\t'.cjs': dynamicImport,\r\n\t'.json': jsonLoader,\r\n\tnoExt: jsonLoader,\r\n});\r\nsrc$2.defaultLoaders = defaultLoaders;\r\n\r\n/**\r\n * @param {string} name\r\n * @param {import('./index').Options | import('./index').OptionsSync} options\r\n * @param {boolean} sync\r\n * @returns {Required<import('./index').Options | import('./index').OptionsSync>}\r\n */\r\nfunction getOptions(name, options, sync) {\r\n\t/** @type {Required<import('./index').Options>} */\r\n\tconst conf = {\r\n\t\tstopDir: os$3.homedir(),\r\n\t\tsearchPlaces: getDefaultSearchPlaces(name, sync),\r\n\t\tignoreEmptySearchPlaces: true,\r\n\t\tcache: true,\r\n\t\ttransform: x => x,\r\n\t\tpackageProp: [name],\r\n\t\t...options,\r\n\t\tloaders: {\r\n\t\t\t...(sync ? defaultLoadersSync : defaultLoaders),\r\n\t\t\t...options.loaders,\r\n\t\t},\r\n\t};\r\n\tconf.searchPlaces.forEach(place => {\r\n\t\tconst key = path$a.extname(place) || 'noExt';\r\n\t\tconst loader = conf.loaders[key];\r\n\t\tif (!loader) {\r\n\t\t\tthrow new Error(`Missing loader for extension \"${place}\"`);\r\n\t\t}\r\n\r\n\t\tif (typeof loader !== 'function') {\r\n\t\t\tthrow new Error(\r\n\t\t\t\t`Loader for extension \"${place}\" is not a function: Received ${typeof loader}.`,\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\treturn conf;\r\n}\r\n\r\n/** @type {(props: string | string[], obj: Record<string, any>) => unknown} */\r\nfunction getPackageProp(props, obj) {\r\n\tif (typeof props === 'string' && props in obj) return obj[props];\r\n\treturn (\r\n\t\t(Array.isArray(props) ? props : props.split('.')).reduce(\r\n\t\t\t(acc, prop) => (acc === undefined ? acc : acc[prop]),\r\n\t\t\tobj,\r\n\t\t) || null\r\n\t);\r\n}\r\n\r\n/** @param {string} filepath */\r\nfunction validateFilePath(filepath) {\r\n\tif (!filepath) throw new Error('load must pass a non-empty string');\r\n}\r\n\r\n/** @type {(loader: import('./index').Loader, ext: string) => void} */\r\nfunction validateLoader(loader, ext) {\r\n\tif (!loader) throw new Error(`No loader specified for extension \"${ext}\"`);\r\n\tif (typeof loader !== 'function') throw new Error('loader is not a function');\r\n}\r\n\r\n/** @type {(enableCache: boolean) => <T>(c: Map<string, T>, filepath: string, res: T) => T} */\r\nconst makeEmplace = enableCache => (c, filepath, res) => {\r\n\tif (enableCache) c.set(filepath, res);\r\n\treturn res;\r\n};\r\n\r\n/** @type {import('./index').lilconfig} */\r\nsrc$2.lilconfig = function lilconfig(name, options) {\r\n\tconst {\r\n\t\tignoreEmptySearchPlaces,\r\n\t\tloaders,\r\n\t\tpackageProp,\r\n\t\tsearchPlaces,\r\n\t\tstopDir,\r\n\t\ttransform,\r\n\t\tcache,\r\n\t} = getOptions(name, options ?? {}, false);\r\n\tconst searchCache = new Map();\r\n\tconst loadCache = new Map();\r\n\tconst emplace = makeEmplace(cache);\r\n\r\n\treturn {\r\n\t\tasync search(searchFrom = process.cwd()) {\r\n\t\t\t/** @type {import('./index').LilconfigResult} */\r\n\t\t\tconst result = {\r\n\t\t\t\tconfig: null,\r\n\t\t\t\tfilepath: '',\r\n\t\t\t};\r\n\r\n\t\t\t/** @type {Set<string>} */\r\n\t\t\tconst visited = new Set();\r\n\t\t\tlet dir = searchFrom;\r\n\t\t\tdirLoop: while (true) {\r\n\t\t\t\tif (cache) {\r\n\t\t\t\t\tconst r = searchCache.get(dir);\r\n\t\t\t\t\tif (r !== undefined) {\r\n\t\t\t\t\t\tfor (const p of visited) searchCache.set(p, r);\r\n\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvisited.add(dir);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (const searchPlace of searchPlaces) {\r\n\t\t\t\t\tconst filepath = path$a.join(dir, searchPlace);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait fs$a.promises.access(filepath);\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst content = String(await fsReadFileAsync(filepath));\r\n\t\t\t\t\tconst loaderKey = path$a.extname(searchPlace) || 'noExt';\r\n\t\t\t\t\tconst loader = loaders[loaderKey];\r\n\r\n\t\t\t\t\t// handle package.json\r\n\t\t\t\t\tif (searchPlace === 'package.json') {\r\n\t\t\t\t\t\tconst pkg = await loader(filepath, content);\r\n\t\t\t\t\t\tconst maybeConfig = getPackageProp(packageProp, pkg);\r\n\t\t\t\t\t\tif (maybeConfig != null) {\r\n\t\t\t\t\t\t\tresult.config = maybeConfig;\r\n\t\t\t\t\t\t\tresult.filepath = filepath;\r\n\t\t\t\t\t\t\tbreak dirLoop;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// handle other type of configs\r\n\t\t\t\t\tconst isEmpty = content.trim() === '';\r\n\t\t\t\t\tif (isEmpty && ignoreEmptySearchPlaces) continue;\r\n\r\n\t\t\t\t\tif (isEmpty) {\r\n\t\t\t\t\t\tresult.isEmpty = true;\r\n\t\t\t\t\t\tresult.config = undefined;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvalidateLoader(loader, loaderKey);\r\n\t\t\t\t\t\tresult.config = await loader(filepath, content);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult.filepath = filepath;\r\n\t\t\t\t\tbreak dirLoop;\r\n\t\t\t\t}\r\n\t\t\t\tif (dir === stopDir || dir === parentDir(dir)) break dirLoop;\r\n\t\t\t\tdir = parentDir(dir);\r\n\t\t\t}\r\n\r\n\t\t\tconst transformed =\r\n\t\t\t\t// not found\r\n\t\t\t\tresult.filepath === '' && result.config === null\r\n\t\t\t\t\t? transform(null)\r\n\t\t\t\t\t: transform(result);\r\n\r\n\t\t\tif (cache) {\r\n\t\t\t\tfor (const p of visited) searchCache.set(p, transformed);\r\n\t\t\t}\r\n\r\n\t\t\treturn transformed;\r\n\t\t},\r\n\t\tasync load(filepath) {\r\n\t\t\tvalidateFilePath(filepath);\r\n\t\t\tconst absPath = path$a.resolve(process.cwd(), filepath);\r\n\t\t\tif (cache && loadCache.has(absPath)) {\r\n\t\t\t\treturn loadCache.get(absPath);\r\n\t\t\t}\r\n\t\t\tconst {base, ext} = path$a.parse(absPath);\r\n\t\t\tconst loaderKey = ext || 'noExt';\r\n\t\t\tconst loader = loaders[loaderKey];\r\n\t\t\tvalidateLoader(loader, loaderKey);\r\n\t\t\tconst content = String(await fsReadFileAsync(absPath));\r\n\r\n\t\t\tif (base === 'package.json') {\r\n\t\t\t\tconst pkg = await loader(absPath, content);\r\n\t\t\t\treturn emplace(\r\n\t\t\t\t\tloadCache,\r\n\t\t\t\t\tabsPath,\r\n\t\t\t\t\ttransform({\r\n\t\t\t\t\t\tconfig: getPackageProp(packageProp, pkg),\r\n\t\t\t\t\t\tfilepath: absPath,\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t/** @type {import('./index').LilconfigResult} */\r\n\t\t\tconst result = {\r\n\t\t\t\tconfig: null,\r\n\t\t\t\tfilepath: absPath,\r\n\t\t\t};\r\n\t\t\t// handle other type of configs\r\n\t\t\tconst isEmpty = content.trim() === '';\r\n\t\t\tif (isEmpty && ignoreEmptySearchPlaces)\r\n\t\t\t\treturn emplace(\r\n\t\t\t\t\tloadCache,\r\n\t\t\t\t\tabsPath,\r\n\t\t\t\t\ttransform({\r\n\t\t\t\t\t\tconfig: undefined,\r\n\t\t\t\t\t\tfilepath: absPath,\r\n\t\t\t\t\t\tisEmpty: true,\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\r\n\t\t\t// cosmiconfig returns undefined for empty files\r\n\t\t\tresult.config = isEmpty ? undefined : await loader(absPath, content);\r\n\r\n\t\t\treturn emplace(\r\n\t\t\t\tloadCache,\r\n\t\t\t\tabsPath,\r\n\t\t\t\ttransform(isEmpty ? {...result, isEmpty, config: undefined} : result),\r\n\t\t\t);\r\n\t\t},\r\n\t\tclearLoadCache() {\r\n\t\t\tif (cache) loadCache.clear();\r\n\t\t},\r\n\t\tclearSearchCache() {\r\n\t\t\tif (cache) searchCache.clear();\r\n\t\t},\r\n\t\tclearCaches() {\r\n\t\t\tif (cache) {\r\n\t\t\t\tloadCache.clear();\r\n\t\t\t\tsearchCache.clear();\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n};\r\n\r\n/** @type {import('./index').lilconfigSync} */\r\nsrc$2.lilconfigSync = function lilconfigSync(name, options) {\r\n\tconst {\r\n\t\tignoreEmptySearchPlaces,\r\n\t\tloaders,\r\n\t\tpackageProp,\r\n\t\tsearchPlaces,\r\n\t\tstopDir,\r\n\t\ttransform,\r\n\t\tcache,\r\n\t} = getOptions(name, options ?? {}, true);\r\n\tconst searchCache = new Map();\r\n\tconst loadCache = new Map();\r\n\tconst emplace = makeEmplace(cache);\r\n\r\n\treturn {\r\n\t\tsearch(searchFrom = process.cwd()) {\r\n\t\t\t/** @type {import('./index').LilconfigResult} */\r\n\t\t\tconst result = {\r\n\t\t\t\tconfig: null,\r\n\t\t\t\tfilepath: '',\r\n\t\t\t};\r\n\r\n\t\t\t/** @type {Set<string>} */\r\n\t\t\tconst visited = new Set();\r\n\t\t\tlet dir = searchFrom;\r\n\t\t\tdirLoop: while (true) {\r\n\t\t\t\tif (cache) {\r\n\t\t\t\t\tconst r = searchCache.get(dir);\r\n\t\t\t\t\tif (r !== undefined) {\r\n\t\t\t\t\t\tfor (const p of visited) searchCache.set(p, r);\r\n\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvisited.add(dir);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (const searchPlace of searchPlaces) {\r\n\t\t\t\t\tconst filepath = path$a.join(dir, searchPlace);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tfs$a.accessSync(filepath);\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst loaderKey = path$a.extname(searchPlace) || 'noExt';\r\n\t\t\t\t\tconst loader = loaders[loaderKey];\r\n\t\t\t\t\tconst content = String(fs$a.readFileSync(filepath));\r\n\r\n\t\t\t\t\t// handle package.json\r\n\t\t\t\t\tif (searchPlace === 'package.json') {\r\n\t\t\t\t\t\tconst pkg = loader(filepath, content);\r\n\t\t\t\t\t\tconst maybeConfig = getPackageProp(packageProp, pkg);\r\n\t\t\t\t\t\tif (maybeConfig != null) {\r\n\t\t\t\t\t\t\tresult.config = maybeConfig;\r\n\t\t\t\t\t\t\tresult.filepath = filepath;\r\n\t\t\t\t\t\t\tbreak dirLoop;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// handle other type of configs\r\n\t\t\t\t\tconst isEmpty = content.trim() === '';\r\n\t\t\t\t\tif (isEmpty && ignoreEmptySearchPlaces) continue;\r\n\r\n\t\t\t\t\tif (isEmpty) {\r\n\t\t\t\t\t\tresult.isEmpty = true;\r\n\t\t\t\t\t\tresult.config = undefined;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvalidateLoader(loader, loaderKey);\r\n\t\t\t\t\t\tresult.config = loader(filepath, content);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult.filepath = filepath;\r\n\t\t\t\t\tbreak dirLoop;\r\n\t\t\t\t}\r\n\t\t\t\tif (dir === stopDir || dir === parentDir(dir)) break dirLoop;\r\n\t\t\t\tdir = parentDir(dir);\r\n\t\t\t}\r\n\r\n\t\t\tconst transformed =\r\n\t\t\t\t// not found\r\n\t\t\t\tresult.filepath === '' && result.config === null\r\n\t\t\t\t\t? transform(null)\r\n\t\t\t\t\t: transform(result);\r\n\r\n\t\t\tif (cache) {\r\n\t\t\t\tfor (const p of visited) searchCache.set(p, transformed);\r\n\t\t\t}\r\n\r\n\t\t\treturn transformed;\r\n\t\t},\r\n\t\tload(filepath) {\r\n\t\t\tvalidateFilePath(filepath);\r\n\t\t\tconst absPath = path$a.resolve(process.cwd(), filepath);\r\n\t\t\tif (cache && loadCache.has(absPath)) {\r\n\t\t\t\treturn loadCache.get(absPath);\r\n\t\t\t}\r\n\t\t\tconst {base, ext} = path$a.parse(absPath);\r\n\t\t\tconst loaderKey = ext || 'noExt';\r\n\t\t\tconst loader = loaders[loaderKey];\r\n\t\t\tvalidateLoader(loader, loaderKey);\r\n\r\n\t\t\tconst content = String(fs$a.readFileSync(absPath));\r\n\r\n\t\t\tif (base === 'package.json') {\r\n\t\t\t\tconst pkg = loader(absPath, content);\r\n\t\t\t\treturn transform({\r\n\t\t\t\t\tconfig: getPackageProp(packageProp, pkg),\r\n\t\t\t\t\tfilepath: absPath,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst result = {\r\n\t\t\t\tconfig: null,\r\n\t\t\t\tfilepath: absPath,\r\n\t\t\t};\r\n\t\t\t// handle other type of configs\r\n\t\t\tconst isEmpty = content.trim() === '';\r\n\t\t\tif (isEmpty && ignoreEmptySearchPlaces)\r\n\t\t\t\treturn emplace(\r\n\t\t\t\t\tloadCache,\r\n\t\t\t\t\tabsPath,\r\n\t\t\t\t\ttransform({\r\n\t\t\t\t\t\tfilepath: absPath,\r\n\t\t\t\t\t\tconfig: undefined,\r\n\t\t\t\t\t\tisEmpty: true,\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\r\n\t\t\t// cosmiconfig returns undefined for empty files\r\n\t\t\tresult.config = isEmpty ? undefined : loader(absPath, content);\r\n\r\n\t\t\treturn emplace(\r\n\t\t\t\tloadCache,\r\n\t\t\t\tabsPath,\r\n\t\t\t\ttransform(isEmpty ? {...result, isEmpty, config: undefined} : result),\r\n\t\t\t);\r\n\t\t},\r\n\t\tclearLoadCache() {\r\n\t\t\tif (cache) loadCache.clear();\r\n\t\t},\r\n\t\tclearSearchCache() {\r\n\t\t\tif (cache) searchCache.clear();\r\n\t\t},\r\n\t\tclearCaches() {\r\n\t\t\tif (cache) {\r\n\t\t\t\tloadCache.clear();\r\n\t\t\t\tsearchCache.clear();\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n};\r\n\r\nconst ALIAS = Symbol.for('yaml.alias');\r\nconst DOC = Symbol.for('yaml.document');\r\nconst MAP = Symbol.for('yaml.map');\r\nconst PAIR = Symbol.for('yaml.pair');\r\nconst SCALAR$1 = Symbol.for('yaml.scalar');\r\nconst SEQ = Symbol.for('yaml.seq');\r\nconst NODE_TYPE = Symbol.for('yaml.node.type');\r\nconst isAlias = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === ALIAS;\r\nconst isDocument = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === DOC;\r\nconst isMap = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === MAP;\r\nconst isPair = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === PAIR;\r\nconst isScalar$1 = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SCALAR$1;\r\nconst isSeq = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SEQ;\r\nfunction isCollection$1(node) {\r\n    if (node && typeof node === 'object')\r\n        switch (node[NODE_TYPE]) {\r\n            case MAP:\r\n            case SEQ:\r\n                return true;\r\n        }\r\n    return false;\r\n}\r\nfunction isNode$1(node) {\r\n    if (node && typeof node === 'object')\r\n        switch (node[NODE_TYPE]) {\r\n            case ALIAS:\r\n            case MAP:\r\n            case SCALAR$1:\r\n            case SEQ:\r\n                return true;\r\n        }\r\n    return false;\r\n}\r\nconst hasAnchor = (node) => (isScalar$1(node) || isCollection$1(node)) && !!node.anchor;\r\n\r\nconst BREAK$1 = Symbol('break visit');\r\nconst SKIP$1 = Symbol('skip children');\r\nconst REMOVE$1 = Symbol('remove node');\r\n/**\r\n * Apply a visitor to an AST node or document.\r\n *\r\n * Walks through the tree (depth-first) starting from `node`, calling a\r\n * `visitor` function with three arguments:\r\n *   - `key`: For sequence values and map `Pair`, the node's index in the\r\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\r\n *     `null` for the root node.\r\n *   - `node`: The current node.\r\n *   - `path`: The ancestry of the current node.\r\n *\r\n * The return value of the visitor may be used to control the traversal:\r\n *   - `undefined` (default): Do nothing and continue\r\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\r\n *     sibling\r\n *   - `visit.BREAK`: Terminate traversal completely\r\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\r\n *   - `Node`: Replace the current node, then continue by visiting it\r\n *   - `number`: While iterating the items of a sequence or map, set the index\r\n *     of the next step. This is useful especially if the index of the current\r\n *     node has changed.\r\n *\r\n * If `visitor` is a single function, it will be called with all values\r\n * encountered in the tree, including e.g. `null` values. Alternatively,\r\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\r\n * `Alias` and `Scalar` node. To define the same visitor function for more than\r\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\r\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\r\n * specific defined one will be used for each node.\r\n */\r\nfunction visit$1(node, visitor) {\r\n    const visitor_ = initVisitor(visitor);\r\n    if (isDocument(node)) {\r\n        const cd = visit_(null, node.contents, visitor_, Object.freeze([node]));\r\n        if (cd === REMOVE$1)\r\n            node.contents = null;\r\n    }\r\n    else\r\n        visit_(null, node, visitor_, Object.freeze([]));\r\n}\r\n// Without the `as symbol` casts, TS declares these in the `visit`\r\n// namespace using `var`, but then complains about that because\r\n// `unique symbol` must be `const`.\r\n/** Terminate visit traversal completely */\r\nvisit$1.BREAK = BREAK$1;\r\n/** Do not visit the children of the current node */\r\nvisit$1.SKIP = SKIP$1;\r\n/** Remove the current node */\r\nvisit$1.REMOVE = REMOVE$1;\r\nfunction visit_(key, node, visitor, path) {\r\n    const ctrl = callVisitor(key, node, visitor, path);\r\n    if (isNode$1(ctrl) || isPair(ctrl)) {\r\n        replaceNode(key, path, ctrl);\r\n        return visit_(key, ctrl, visitor, path);\r\n    }\r\n    if (typeof ctrl !== 'symbol') {\r\n        if (isCollection$1(node)) {\r\n            path = Object.freeze(path.concat(node));\r\n            for (let i = 0; i < node.items.length; ++i) {\r\n                const ci = visit_(i, node.items[i], visitor, path);\r\n                if (typeof ci === 'number')\r\n                    i = ci - 1;\r\n                else if (ci === BREAK$1)\r\n                    return BREAK$1;\r\n                else if (ci === REMOVE$1) {\r\n                    node.items.splice(i, 1);\r\n                    i -= 1;\r\n                }\r\n            }\r\n        }\r\n        else if (isPair(node)) {\r\n            path = Object.freeze(path.concat(node));\r\n            const ck = visit_('key', node.key, visitor, path);\r\n            if (ck === BREAK$1)\r\n                return BREAK$1;\r\n            else if (ck === REMOVE$1)\r\n                node.key = null;\r\n            const cv = visit_('value', node.value, visitor, path);\r\n            if (cv === BREAK$1)\r\n                return BREAK$1;\r\n            else if (cv === REMOVE$1)\r\n                node.value = null;\r\n        }\r\n    }\r\n    return ctrl;\r\n}\r\n/**\r\n * Apply an async visitor to an AST node or document.\r\n *\r\n * Walks through the tree (depth-first) starting from `node`, calling a\r\n * `visitor` function with three arguments:\r\n *   - `key`: For sequence values and map `Pair`, the node's index in the\r\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\r\n *     `null` for the root node.\r\n *   - `node`: The current node.\r\n *   - `path`: The ancestry of the current node.\r\n *\r\n * The return value of the visitor may be used to control the traversal:\r\n *   - `Promise`: Must resolve to one of the following values\r\n *   - `undefined` (default): Do nothing and continue\r\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\r\n *     sibling\r\n *   - `visit.BREAK`: Terminate traversal completely\r\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\r\n *   - `Node`: Replace the current node, then continue by visiting it\r\n *   - `number`: While iterating the items of a sequence or map, set the index\r\n *     of the next step. This is useful especially if the index of the current\r\n *     node has changed.\r\n *\r\n * If `visitor` is a single function, it will be called with all values\r\n * encountered in the tree, including e.g. `null` values. Alternatively,\r\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\r\n * `Alias` and `Scalar` node. To define the same visitor function for more than\r\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\r\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\r\n * specific defined one will be used for each node.\r\n */\r\nasync function visitAsync(node, visitor) {\r\n    const visitor_ = initVisitor(visitor);\r\n    if (isDocument(node)) {\r\n        const cd = await visitAsync_(null, node.contents, visitor_, Object.freeze([node]));\r\n        if (cd === REMOVE$1)\r\n            node.contents = null;\r\n    }\r\n    else\r\n        await visitAsync_(null, node, visitor_, Object.freeze([]));\r\n}\r\n// Without the `as symbol` casts, TS declares these in the `visit`\r\n// namespace using `var`, but then complains about that because\r\n// `unique symbol` must be `const`.\r\n/** Terminate visit traversal completely */\r\nvisitAsync.BREAK = BREAK$1;\r\n/** Do not visit the children of the current node */\r\nvisitAsync.SKIP = SKIP$1;\r\n/** Remove the current node */\r\nvisitAsync.REMOVE = REMOVE$1;\r\nasync function visitAsync_(key, node, visitor, path) {\r\n    const ctrl = await callVisitor(key, node, visitor, path);\r\n    if (isNode$1(ctrl) || isPair(ctrl)) {\r\n        replaceNode(key, path, ctrl);\r\n        return visitAsync_(key, ctrl, visitor, path);\r\n    }\r\n    if (typeof ctrl !== 'symbol') {\r\n        if (isCollection$1(node)) {\r\n            path = Object.freeze(path.concat(node));\r\n            for (let i = 0; i < node.items.length; ++i) {\r\n                const ci = await visitAsync_(i, node.items[i], visitor, path);\r\n                if (typeof ci === 'number')\r\n                    i = ci - 1;\r\n                else if (ci === BREAK$1)\r\n                    return BREAK$1;\r\n                else if (ci === REMOVE$1) {\r\n                    node.items.splice(i, 1);\r\n                    i -= 1;\r\n                }\r\n            }\r\n        }\r\n        else if (isPair(node)) {\r\n            path = Object.freeze(path.concat(node));\r\n            const ck = await visitAsync_('key', node.key, visitor, path);\r\n            if (ck === BREAK$1)\r\n                return BREAK$1;\r\n            else if (ck === REMOVE$1)\r\n                node.key = null;\r\n            const cv = await visitAsync_('value', node.value, visitor, path);\r\n            if (cv === BREAK$1)\r\n                return BREAK$1;\r\n            else if (cv === REMOVE$1)\r\n                node.value = null;\r\n        }\r\n    }\r\n    return ctrl;\r\n}\r\nfunction initVisitor(visitor) {\r\n    if (typeof visitor === 'object' &&\r\n        (visitor.Collection || visitor.Node || visitor.Value)) {\r\n        return Object.assign({\r\n            Alias: visitor.Node,\r\n            Map: visitor.Node,\r\n            Scalar: visitor.Node,\r\n            Seq: visitor.Node\r\n        }, visitor.Value && {\r\n            Map: visitor.Value,\r\n            Scalar: visitor.Value,\r\n            Seq: visitor.Value\r\n        }, visitor.Collection && {\r\n            Map: visitor.Collection,\r\n            Seq: visitor.Collection\r\n        }, visitor);\r\n    }\r\n    return visitor;\r\n}\r\nfunction callVisitor(key, node, visitor, path) {\r\n    if (typeof visitor === 'function')\r\n        return visitor(key, node, path);\r\n    if (isMap(node))\r\n        return visitor.Map?.(key, node, path);\r\n    if (isSeq(node))\r\n        return visitor.Seq?.(key, node, path);\r\n    if (isPair(node))\r\n        return visitor.Pair?.(key, node, path);\r\n    if (isScalar$1(node))\r\n        return visitor.Scalar?.(key, node, path);\r\n    if (isAlias(node))\r\n        return visitor.Alias?.(key, node, path);\r\n    return undefined;\r\n}\r\nfunction replaceNode(key, path, node) {\r\n    const parent = path[path.length - 1];\r\n    if (isCollection$1(parent)) {\r\n        parent.items[key] = node;\r\n    }\r\n    else if (isPair(parent)) {\r\n        if (key === 'key')\r\n            parent.key = node;\r\n        else\r\n            parent.value = node;\r\n    }\r\n    else if (isDocument(parent)) {\r\n        parent.contents = node;\r\n    }\r\n    else {\r\n        const pt = isAlias(parent) ? 'alias' : 'scalar';\r\n        throw new Error(`Cannot replace node with ${pt} parent`);\r\n    }\r\n}\r\n\r\nconst escapeChars = {\r\n    '!': '%21',\r\n    ',': '%2C',\r\n    '[': '%5B',\r\n    ']': '%5D',\r\n    '{': '%7B',\r\n    '}': '%7D'\r\n};\r\nconst escapeTagName = (tn) => tn.replace(/[!,[\\]{}]/g, ch => escapeChars[ch]);\r\nclass Directives {\r\n    constructor(yaml, tags) {\r\n        /**\r\n         * The directives-end/doc-start marker `---`. If `null`, a marker may still be\r\n         * included in the document's stringified representation.\r\n         */\r\n        this.docStart = null;\r\n        /** The doc-end marker `...`.  */\r\n        this.docEnd = false;\r\n        this.yaml = Object.assign({}, Directives.defaultYaml, yaml);\r\n        this.tags = Object.assign({}, Directives.defaultTags, tags);\r\n    }\r\n    clone() {\r\n        const copy = new Directives(this.yaml, this.tags);\r\n        copy.docStart = this.docStart;\r\n        return copy;\r\n    }\r\n    /**\r\n     * During parsing, get a Directives instance for the current document and\r\n     * update the stream state according to the current version's spec.\r\n     */\r\n    atDocument() {\r\n        const res = new Directives(this.yaml, this.tags);\r\n        switch (this.yaml.version) {\r\n            case '1.1':\r\n                this.atNextDocument = true;\r\n                break;\r\n            case '1.2':\r\n                this.atNextDocument = false;\r\n                this.yaml = {\r\n                    explicit: Directives.defaultYaml.explicit,\r\n                    version: '1.2'\r\n                };\r\n                this.tags = Object.assign({}, Directives.defaultTags);\r\n                break;\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * @param onError - May be called even if the action was successful\r\n     * @returns `true` on success\r\n     */\r\n    add(line, onError) {\r\n        if (this.atNextDocument) {\r\n            this.yaml = { explicit: Directives.defaultYaml.explicit, version: '1.1' };\r\n            this.tags = Object.assign({}, Directives.defaultTags);\r\n            this.atNextDocument = false;\r\n        }\r\n        const parts = line.trim().split(/[ \\t]+/);\r\n        const name = parts.shift();\r\n        switch (name) {\r\n            case '%TAG': {\r\n                if (parts.length !== 2) {\r\n                    onError(0, '%TAG directive should contain exactly two parts');\r\n                    if (parts.length < 2)\r\n                        return false;\r\n                }\r\n                const [handle, prefix] = parts;\r\n                this.tags[handle] = prefix;\r\n                return true;\r\n            }\r\n            case '%YAML': {\r\n                this.yaml.explicit = true;\r\n                if (parts.length !== 1) {\r\n                    onError(0, '%YAML directive should contain exactly one part');\r\n                    return false;\r\n                }\r\n                const [version] = parts;\r\n                if (version === '1.1' || version === '1.2') {\r\n                    this.yaml.version = version;\r\n                    return true;\r\n                }\r\n                else {\r\n                    const isValid = /^\\d+\\.\\d+$/.test(version);\r\n                    onError(6, `Unsupported YAML version ${version}`, isValid);\r\n                    return false;\r\n                }\r\n            }\r\n            default:\r\n                onError(0, `Unknown directive ${name}`, true);\r\n                return false;\r\n        }\r\n    }\r\n    /**\r\n     * Resolves a tag, matching handles to those defined in %TAG directives.\r\n     *\r\n     * @returns Resolved tag, which may also be the non-specific tag `'!'` or a\r\n     *   `'!local'` tag, or `null` if unresolvable.\r\n     */\r\n    tagName(source, onError) {\r\n        if (source === '!')\r\n            return '!'; // non-specific tag\r\n        if (source[0] !== '!') {\r\n            onError(`Not a valid tag: ${source}`);\r\n            return null;\r\n        }\r\n        if (source[1] === '<') {\r\n            const verbatim = source.slice(2, -1);\r\n            if (verbatim === '!' || verbatim === '!!') {\r\n                onError(`Verbatim tags aren't resolved, so ${source} is invalid.`);\r\n                return null;\r\n            }\r\n            if (source[source.length - 1] !== '>')\r\n                onError('Verbatim tags must end with a >');\r\n            return verbatim;\r\n        }\r\n        const [, handle, suffix] = source.match(/^(.*!)([^!]*)$/s);\r\n        if (!suffix)\r\n            onError(`The ${source} tag has no suffix`);\r\n        const prefix = this.tags[handle];\r\n        if (prefix) {\r\n            try {\r\n                return prefix + decodeURIComponent(suffix);\r\n            }\r\n            catch (error) {\r\n                onError(String(error));\r\n                return null;\r\n            }\r\n        }\r\n        if (handle === '!')\r\n            return source; // local tag\r\n        onError(`Could not resolve tag: ${source}`);\r\n        return null;\r\n    }\r\n    /**\r\n     * Given a fully resolved tag, returns its printable string form,\r\n     * taking into account current tag prefixes and defaults.\r\n     */\r\n    tagString(tag) {\r\n        for (const [handle, prefix] of Object.entries(this.tags)) {\r\n            if (tag.startsWith(prefix))\r\n                return handle + escapeTagName(tag.substring(prefix.length));\r\n        }\r\n        return tag[0] === '!' ? tag : `!<${tag}>`;\r\n    }\r\n    toString(doc) {\r\n        const lines = this.yaml.explicit\r\n            ? [`%YAML ${this.yaml.version || '1.2'}`]\r\n            : [];\r\n        const tagEntries = Object.entries(this.tags);\r\n        let tagNames;\r\n        if (doc && tagEntries.length > 0 && isNode$1(doc.contents)) {\r\n            const tags = {};\r\n            visit$1(doc.contents, (_key, node) => {\r\n                if (isNode$1(node) && node.tag)\r\n                    tags[node.tag] = true;\r\n            });\r\n            tagNames = Object.keys(tags);\r\n        }\r\n        else\r\n            tagNames = [];\r\n        for (const [handle, prefix] of tagEntries) {\r\n            if (handle === '!!' && prefix === 'tag:yaml.org,2002:')\r\n                continue;\r\n            if (!doc || tagNames.some(tn => tn.startsWith(prefix)))\r\n                lines.push(`%TAG ${handle} ${prefix}`);\r\n        }\r\n        return lines.join('\\n');\r\n    }\r\n}\r\nDirectives.defaultYaml = { explicit: false, version: '1.2' };\r\nDirectives.defaultTags = { '!!': 'tag:yaml.org,2002:' };\r\n\r\n/**\r\n * Verify that the input string is a valid anchor.\r\n *\r\n * Will throw on errors.\r\n */\r\nfunction anchorIsValid(anchor) {\r\n    if (/[\\x00-\\x19\\s,[\\]{}]/.test(anchor)) {\r\n        const sa = JSON.stringify(anchor);\r\n        const msg = `Anchor must not contain whitespace or control characters: ${sa}`;\r\n        throw new Error(msg);\r\n    }\r\n    return true;\r\n}\r\nfunction anchorNames(root) {\r\n    const anchors = new Set();\r\n    visit$1(root, {\r\n        Value(_key, node) {\r\n            if (node.anchor)\r\n                anchors.add(node.anchor);\r\n        }\r\n    });\r\n    return anchors;\r\n}\r\n/** Find a new anchor name with the given `prefix` and a one-indexed suffix. */\r\nfunction findNewAnchor(prefix, exclude) {\r\n    for (let i = 1; true; ++i) {\r\n        const name = `${prefix}${i}`;\r\n        if (!exclude.has(name))\r\n            return name;\r\n    }\r\n}\r\nfunction createNodeAnchors(doc, prefix) {\r\n    const aliasObjects = [];\r\n    const sourceObjects = new Map();\r\n    let prevAnchors = null;\r\n    return {\r\n        onAnchor: (source) => {\r\n            aliasObjects.push(source);\r\n            if (!prevAnchors)\r\n                prevAnchors = anchorNames(doc);\r\n            const anchor = findNewAnchor(prefix, prevAnchors);\r\n            prevAnchors.add(anchor);\r\n            return anchor;\r\n        },\r\n        /**\r\n         * With circular references, the source node is only resolved after all\r\n         * of its child nodes are. This is why anchors are set only after all of\r\n         * the nodes have been created.\r\n         */\r\n        setAnchors: () => {\r\n            for (const source of aliasObjects) {\r\n                const ref = sourceObjects.get(source);\r\n                if (typeof ref === 'object' &&\r\n                    ref.anchor &&\r\n                    (isScalar$1(ref.node) || isCollection$1(ref.node))) {\r\n                    ref.node.anchor = ref.anchor;\r\n                }\r\n                else {\r\n                    const error = new Error('Failed to resolve repeated object (this should not happen)');\r\n                    error.source = source;\r\n                    throw error;\r\n                }\r\n            }\r\n        },\r\n        sourceObjects\r\n    };\r\n}\r\n\r\n/**\r\n * Applies the JSON.parse reviver algorithm as defined in the ECMA-262 spec,\r\n * in section 24.5.1.1 \"Runtime Semantics: InternalizeJSONProperty\" of the\r\n * 2021 edition: https://tc39.es/ecma262/#sec-json.parse\r\n *\r\n * Includes extensions for handling Map and Set objects.\r\n */\r\nfunction applyReviver(reviver, obj, key, val) {\r\n    if (val && typeof val === 'object') {\r\n        if (Array.isArray(val)) {\r\n            for (let i = 0, len = val.length; i < len; ++i) {\r\n                const v0 = val[i];\r\n                const v1 = applyReviver(reviver, val, String(i), v0);\r\n                if (v1 === undefined)\r\n                    delete val[i];\r\n                else if (v1 !== v0)\r\n                    val[i] = v1;\r\n            }\r\n        }\r\n        else if (val instanceof Map) {\r\n            for (const k of Array.from(val.keys())) {\r\n                const v0 = val.get(k);\r\n                const v1 = applyReviver(reviver, val, k, v0);\r\n                if (v1 === undefined)\r\n                    val.delete(k);\r\n                else if (v1 !== v0)\r\n                    val.set(k, v1);\r\n            }\r\n        }\r\n        else if (val instanceof Set) {\r\n            for (const v0 of Array.from(val)) {\r\n                const v1 = applyReviver(reviver, val, v0, v0);\r\n                if (v1 === undefined)\r\n                    val.delete(v0);\r\n                else if (v1 !== v0) {\r\n                    val.delete(v0);\r\n                    val.add(v1);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (const [k, v0] of Object.entries(val)) {\r\n                const v1 = applyReviver(reviver, val, k, v0);\r\n                if (v1 === undefined)\r\n                    delete val[k];\r\n                else if (v1 !== v0)\r\n                    val[k] = v1;\r\n            }\r\n        }\r\n    }\r\n    return reviver.call(obj, key, val);\r\n}\r\n\r\n/**\r\n * Recursively convert any node or its contents to native JavaScript\r\n *\r\n * @param value - The input value\r\n * @param arg - If `value` defines a `toJSON()` method, use this\r\n *   as its first argument\r\n * @param ctx - Conversion context, originally set in Document#toJS(). If\r\n *   `{ keep: true }` is not set, output should be suitable for JSON\r\n *   stringification.\r\n */\r\nfunction toJS(value, arg, ctx) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n    if (Array.isArray(value))\r\n        return value.map((v, i) => toJS(v, String(i), ctx));\r\n    if (value && typeof value.toJSON === 'function') {\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call\r\n        if (!ctx || !hasAnchor(value))\r\n            return value.toJSON(arg, ctx);\r\n        const data = { aliasCount: 0, count: 1, res: undefined };\r\n        ctx.anchors.set(value, data);\r\n        ctx.onCreate = res => {\r\n            data.res = res;\r\n            delete ctx.onCreate;\r\n        };\r\n        const res = value.toJSON(arg, ctx);\r\n        if (ctx.onCreate)\r\n            ctx.onCreate(res);\r\n        return res;\r\n    }\r\n    if (typeof value === 'bigint' && !ctx?.keep)\r\n        return Number(value);\r\n    return value;\r\n}\r\n\r\nclass NodeBase {\r\n    constructor(type) {\r\n        Object.defineProperty(this, NODE_TYPE, { value: type });\r\n    }\r\n    /** Create a copy of this node.  */\r\n    clone() {\r\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\r\n        if (this.range)\r\n            copy.range = this.range.slice();\r\n        return copy;\r\n    }\r\n    /** A plain JavaScript representation of this node. */\r\n    toJS(doc, { mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\r\n        if (!isDocument(doc))\r\n            throw new TypeError('A document argument is required');\r\n        const ctx = {\r\n            anchors: new Map(),\r\n            doc,\r\n            keep: true,\r\n            mapAsMap: mapAsMap === true,\r\n            mapKeyWarned: false,\r\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100\r\n        };\r\n        const res = toJS(this, '', ctx);\r\n        if (typeof onAnchor === 'function')\r\n            for (const { count, res } of ctx.anchors.values())\r\n                onAnchor(res, count);\r\n        return typeof reviver === 'function'\r\n            ? applyReviver(reviver, { '': res }, '', res)\r\n            : res;\r\n    }\r\n}\r\n\r\nclass Alias extends NodeBase {\r\n    constructor(source) {\r\n        super(ALIAS);\r\n        this.source = source;\r\n        Object.defineProperty(this, 'tag', {\r\n            set() {\r\n                throw new Error('Alias nodes cannot have tags');\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Resolve the value of this alias within `doc`, finding the last\r\n     * instance of the `source` anchor before this node.\r\n     */\r\n    resolve(doc) {\r\n        let found = undefined;\r\n        visit$1(doc, {\r\n            Node: (_key, node) => {\r\n                if (node === this)\r\n                    return visit$1.BREAK;\r\n                if (node.anchor === this.source)\r\n                    found = node;\r\n            }\r\n        });\r\n        return found;\r\n    }\r\n    toJSON(_arg, ctx) {\r\n        if (!ctx)\r\n            return { source: this.source };\r\n        const { anchors, doc, maxAliasCount } = ctx;\r\n        const source = this.resolve(doc);\r\n        if (!source) {\r\n            const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\r\n            throw new ReferenceError(msg);\r\n        }\r\n        let data = anchors.get(source);\r\n        if (!data) {\r\n            // Resolve anchors for Node.prototype.toJS()\r\n            toJS(source, null, ctx);\r\n            data = anchors.get(source);\r\n        }\r\n        /* istanbul ignore if */\r\n        if (!data || data.res === undefined) {\r\n            const msg = 'This should not happen: Alias anchor was not resolved?';\r\n            throw new ReferenceError(msg);\r\n        }\r\n        if (maxAliasCount >= 0) {\r\n            data.count += 1;\r\n            if (data.aliasCount === 0)\r\n                data.aliasCount = getAliasCount(doc, source, anchors);\r\n            if (data.count * data.aliasCount > maxAliasCount) {\r\n                const msg = 'Excessive alias count indicates a resource exhaustion attack';\r\n                throw new ReferenceError(msg);\r\n            }\r\n        }\r\n        return data.res;\r\n    }\r\n    toString(ctx, _onComment, _onChompKeep) {\r\n        const src = `*${this.source}`;\r\n        if (ctx) {\r\n            anchorIsValid(this.source);\r\n            if (ctx.options.verifyAliasOrder && !ctx.anchors.has(this.source)) {\r\n                const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\r\n                throw new Error(msg);\r\n            }\r\n            if (ctx.implicitKey)\r\n                return `${src} `;\r\n        }\r\n        return src;\r\n    }\r\n}\r\nfunction getAliasCount(doc, node, anchors) {\r\n    if (isAlias(node)) {\r\n        const source = node.resolve(doc);\r\n        const anchor = anchors && source && anchors.get(source);\r\n        return anchor ? anchor.count * anchor.aliasCount : 0;\r\n    }\r\n    else if (isCollection$1(node)) {\r\n        let count = 0;\r\n        for (const item of node.items) {\r\n            const c = getAliasCount(doc, item, anchors);\r\n            if (c > count)\r\n                count = c;\r\n        }\r\n        return count;\r\n    }\r\n    else if (isPair(node)) {\r\n        const kc = getAliasCount(doc, node.key, anchors);\r\n        const vc = getAliasCount(doc, node.value, anchors);\r\n        return Math.max(kc, vc);\r\n    }\r\n    return 1;\r\n}\r\n\r\nconst isScalarValue = (value) => !value || (typeof value !== 'function' && typeof value !== 'object');\r\nclass Scalar extends NodeBase {\r\n    constructor(value) {\r\n        super(SCALAR$1);\r\n        this.value = value;\r\n    }\r\n    toJSON(arg, ctx) {\r\n        return ctx?.keep ? this.value : toJS(this.value, arg, ctx);\r\n    }\r\n    toString() {\r\n        return String(this.value);\r\n    }\r\n}\r\nScalar.BLOCK_FOLDED = 'BLOCK_FOLDED';\r\nScalar.BLOCK_LITERAL = 'BLOCK_LITERAL';\r\nScalar.PLAIN = 'PLAIN';\r\nScalar.QUOTE_DOUBLE = 'QUOTE_DOUBLE';\r\nScalar.QUOTE_SINGLE = 'QUOTE_SINGLE';\r\n\r\nconst defaultTagPrefix = 'tag:yaml.org,2002:';\r\nfunction findTagObject(value, tagName, tags) {\r\n    if (tagName) {\r\n        const match = tags.filter(t => t.tag === tagName);\r\n        const tagObj = match.find(t => !t.format) ?? match[0];\r\n        if (!tagObj)\r\n            throw new Error(`Tag ${tagName} not found`);\r\n        return tagObj;\r\n    }\r\n    return tags.find(t => t.identify?.(value) && !t.format);\r\n}\r\nfunction createNode(value, tagName, ctx) {\r\n    if (isDocument(value))\r\n        value = value.contents;\r\n    if (isNode$1(value))\r\n        return value;\r\n    if (isPair(value)) {\r\n        const map = ctx.schema[MAP].createNode?.(ctx.schema, null, ctx);\r\n        map.items.push(value);\r\n        return map;\r\n    }\r\n    if (value instanceof String ||\r\n        value instanceof Number ||\r\n        value instanceof Boolean ||\r\n        (typeof BigInt !== 'undefined' && value instanceof BigInt) // not supported everywhere\r\n    ) {\r\n        // https://tc39.es/ecma262/#sec-serializejsonproperty\r\n        value = value.valueOf();\r\n    }\r\n    const { aliasDuplicateObjects, onAnchor, onTagObj, schema, sourceObjects } = ctx;\r\n    // Detect duplicate references to the same object & use Alias nodes for all\r\n    // after first. The `ref` wrapper allows for circular references to resolve.\r\n    let ref = undefined;\r\n    if (aliasDuplicateObjects && value && typeof value === 'object') {\r\n        ref = sourceObjects.get(value);\r\n        if (ref) {\r\n            if (!ref.anchor)\r\n                ref.anchor = onAnchor(value);\r\n            return new Alias(ref.anchor);\r\n        }\r\n        else {\r\n            ref = { anchor: null, node: null };\r\n            sourceObjects.set(value, ref);\r\n        }\r\n    }\r\n    if (tagName?.startsWith('!!'))\r\n        tagName = defaultTagPrefix + tagName.slice(2);\r\n    let tagObj = findTagObject(value, tagName, schema.tags);\r\n    if (!tagObj) {\r\n        if (value && typeof value.toJSON === 'function') {\r\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call\r\n            value = value.toJSON();\r\n        }\r\n        if (!value || typeof value !== 'object') {\r\n            const node = new Scalar(value);\r\n            if (ref)\r\n                ref.node = node;\r\n            return node;\r\n        }\r\n        tagObj =\r\n            value instanceof Map\r\n                ? schema[MAP]\r\n                : Symbol.iterator in Object(value)\r\n                    ? schema[SEQ]\r\n                    : schema[MAP];\r\n    }\r\n    if (onTagObj) {\r\n        onTagObj(tagObj);\r\n        delete ctx.onTagObj;\r\n    }\r\n    const node = tagObj?.createNode\r\n        ? tagObj.createNode(ctx.schema, value, ctx)\r\n        : typeof tagObj?.nodeClass?.from === 'function'\r\n            ? tagObj.nodeClass.from(ctx.schema, value, ctx)\r\n            : new Scalar(value);\r\n    if (tagName)\r\n        node.tag = tagName;\r\n    else if (!tagObj.default)\r\n        node.tag = tagObj.tag;\r\n    if (ref)\r\n        ref.node = node;\r\n    return node;\r\n}\r\n\r\nfunction collectionFromPath(schema, path, value) {\r\n    let v = value;\r\n    for (let i = path.length - 1; i >= 0; --i) {\r\n        const k = path[i];\r\n        if (typeof k === 'number' && Number.isInteger(k) && k >= 0) {\r\n            const a = [];\r\n            a[k] = v;\r\n            v = a;\r\n        }\r\n        else {\r\n            v = new Map([[k, v]]);\r\n        }\r\n    }\r\n    return createNode(v, undefined, {\r\n        aliasDuplicateObjects: false,\r\n        keepUndefined: false,\r\n        onAnchor: () => {\r\n            throw new Error('This should not happen, please report a bug.');\r\n        },\r\n        schema,\r\n        sourceObjects: new Map()\r\n    });\r\n}\r\n// Type guard is intentionally a little wrong so as to be more useful,\r\n// as it does not cover untypable empty non-string iterables (e.g. []).\r\nconst isEmptyPath = (path) => path == null ||\r\n    (typeof path === 'object' && !!path[Symbol.iterator]().next().done);\r\nclass Collection extends NodeBase {\r\n    constructor(type, schema) {\r\n        super(type);\r\n        Object.defineProperty(this, 'schema', {\r\n            value: schema,\r\n            configurable: true,\r\n            enumerable: false,\r\n            writable: true\r\n        });\r\n    }\r\n    /**\r\n     * Create a copy of this collection.\r\n     *\r\n     * @param schema - If defined, overwrites the original's schema\r\n     */\r\n    clone(schema) {\r\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\r\n        if (schema)\r\n            copy.schema = schema;\r\n        copy.items = copy.items.map(it => isNode$1(it) || isPair(it) ? it.clone(schema) : it);\r\n        if (this.range)\r\n            copy.range = this.range.slice();\r\n        return copy;\r\n    }\r\n    /**\r\n     * Adds a value to the collection. For `!!map` and `!!omap` the value must\r\n     * be a Pair instance or a `{ key, value }` object, which may not have a key\r\n     * that already exists in the map.\r\n     */\r\n    addIn(path, value) {\r\n        if (isEmptyPath(path))\r\n            this.add(value);\r\n        else {\r\n            const [key, ...rest] = path;\r\n            const node = this.get(key, true);\r\n            if (isCollection$1(node))\r\n                node.addIn(rest, value);\r\n            else if (node === undefined && this.schema)\r\n                this.set(key, collectionFromPath(this.schema, rest, value));\r\n            else\r\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\r\n        }\r\n    }\r\n    /**\r\n     * Removes a value from the collection.\r\n     * @returns `true` if the item was found and removed.\r\n     */\r\n    deleteIn(path) {\r\n        const [key, ...rest] = path;\r\n        if (rest.length === 0)\r\n            return this.delete(key);\r\n        const node = this.get(key, true);\r\n        if (isCollection$1(node))\r\n            return node.deleteIn(rest);\r\n        else\r\n            throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\r\n    }\r\n    /**\r\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\r\n     * scalar values from their surrounding node; to disable set `keepScalar` to\r\n     * `true` (collections are always returned intact).\r\n     */\r\n    getIn(path, keepScalar) {\r\n        const [key, ...rest] = path;\r\n        const node = this.get(key, true);\r\n        if (rest.length === 0)\r\n            return !keepScalar && isScalar$1(node) ? node.value : node;\r\n        else\r\n            return isCollection$1(node) ? node.getIn(rest, keepScalar) : undefined;\r\n    }\r\n    hasAllNullValues(allowScalar) {\r\n        return this.items.every(node => {\r\n            if (!isPair(node))\r\n                return false;\r\n            const n = node.value;\r\n            return (n == null ||\r\n                (allowScalar &&\r\n                    isScalar$1(n) &&\r\n                    n.value == null &&\r\n                    !n.commentBefore &&\r\n                    !n.comment &&\r\n                    !n.tag));\r\n        });\r\n    }\r\n    /**\r\n     * Checks if the collection includes a value with the key `key`.\r\n     */\r\n    hasIn(path) {\r\n        const [key, ...rest] = path;\r\n        if (rest.length === 0)\r\n            return this.has(key);\r\n        const node = this.get(key, true);\r\n        return isCollection$1(node) ? node.hasIn(rest) : false;\r\n    }\r\n    /**\r\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\r\n     * boolean to add/remove the item from the set.\r\n     */\r\n    setIn(path, value) {\r\n        const [key, ...rest] = path;\r\n        if (rest.length === 0) {\r\n            this.set(key, value);\r\n        }\r\n        else {\r\n            const node = this.get(key, true);\r\n            if (isCollection$1(node))\r\n                node.setIn(rest, value);\r\n            else if (node === undefined && this.schema)\r\n                this.set(key, collectionFromPath(this.schema, rest, value));\r\n            else\r\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Stringifies a comment.\r\n *\r\n * Empty comment lines are left empty,\r\n * lines consisting of a single space are replaced by `#`,\r\n * and all other lines are prefixed with a `#`.\r\n */\r\nconst stringifyComment = (str) => str.replace(/^(?!$)(?: $)?/gm, '#');\r\nfunction indentComment(comment, indent) {\r\n    if (/^\\n+$/.test(comment))\r\n        return comment.substring(1);\r\n    return indent ? comment.replace(/^(?! *$)/gm, indent) : comment;\r\n}\r\nconst lineComment = (str, indent, comment) => str.endsWith('\\n')\r\n    ? indentComment(comment, indent)\r\n    : comment.includes('\\n')\r\n        ? '\\n' + indentComment(comment, indent)\r\n        : (str.endsWith(' ') ? '' : ' ') + comment;\r\n\r\nconst FOLD_FLOW = 'flow';\r\nconst FOLD_BLOCK = 'block';\r\nconst FOLD_QUOTED = 'quoted';\r\n/**\r\n * Tries to keep input at up to `lineWidth` characters, splitting only on spaces\r\n * not followed by newlines or spaces unless `mode` is `'quoted'`. Lines are\r\n * terminated with `\\n` and started with `indent`.\r\n */\r\nfunction foldFlowLines(text, indent, mode = 'flow', { indentAtStart, lineWidth = 80, minContentWidth = 20, onFold, onOverflow } = {}) {\r\n    if (!lineWidth || lineWidth < 0)\r\n        return text;\r\n    if (lineWidth < minContentWidth)\r\n        minContentWidth = 0;\r\n    const endStep = Math.max(1 + minContentWidth, 1 + lineWidth - indent.length);\r\n    if (text.length <= endStep)\r\n        return text;\r\n    const folds = [];\r\n    const escapedFolds = {};\r\n    let end = lineWidth - indent.length;\r\n    if (typeof indentAtStart === 'number') {\r\n        if (indentAtStart > lineWidth - Math.max(2, minContentWidth))\r\n            folds.push(0);\r\n        else\r\n            end = lineWidth - indentAtStart;\r\n    }\r\n    let split = undefined;\r\n    let prev = undefined;\r\n    let overflow = false;\r\n    let i = -1;\r\n    let escStart = -1;\r\n    let escEnd = -1;\r\n    if (mode === FOLD_BLOCK) {\r\n        i = consumeMoreIndentedLines(text, i, indent.length);\r\n        if (i !== -1)\r\n            end = i + endStep;\r\n    }\r\n    for (let ch; (ch = text[(i += 1)]);) {\r\n        if (mode === FOLD_QUOTED && ch === '\\\\') {\r\n            escStart = i;\r\n            switch (text[i + 1]) {\r\n                case 'x':\r\n                    i += 3;\r\n                    break;\r\n                case 'u':\r\n                    i += 5;\r\n                    break;\r\n                case 'U':\r\n                    i += 9;\r\n                    break;\r\n                default:\r\n                    i += 1;\r\n            }\r\n            escEnd = i;\r\n        }\r\n        if (ch === '\\n') {\r\n            if (mode === FOLD_BLOCK)\r\n                i = consumeMoreIndentedLines(text, i, indent.length);\r\n            end = i + indent.length + endStep;\r\n            split = undefined;\r\n        }\r\n        else {\r\n            if (ch === ' ' &&\r\n                prev &&\r\n                prev !== ' ' &&\r\n                prev !== '\\n' &&\r\n                prev !== '\\t') {\r\n                // space surrounded by non-space can be replaced with newline + indent\r\n                const next = text[i + 1];\r\n                if (next && next !== ' ' && next !== '\\n' && next !== '\\t')\r\n                    split = i;\r\n            }\r\n            if (i >= end) {\r\n                if (split) {\r\n                    folds.push(split);\r\n                    end = split + endStep;\r\n                    split = undefined;\r\n                }\r\n                else if (mode === FOLD_QUOTED) {\r\n                    // white-space collected at end may stretch past lineWidth\r\n                    while (prev === ' ' || prev === '\\t') {\r\n                        prev = ch;\r\n                        ch = text[(i += 1)];\r\n                        overflow = true;\r\n                    }\r\n                    // Account for newline escape, but don't break preceding escape\r\n                    const j = i > escEnd + 1 ? i - 2 : escStart - 1;\r\n                    // Bail out if lineWidth & minContentWidth are shorter than an escape string\r\n                    if (escapedFolds[j])\r\n                        return text;\r\n                    folds.push(j);\r\n                    escapedFolds[j] = true;\r\n                    end = j + endStep;\r\n                    split = undefined;\r\n                }\r\n                else {\r\n                    overflow = true;\r\n                }\r\n            }\r\n        }\r\n        prev = ch;\r\n    }\r\n    if (overflow && onOverflow)\r\n        onOverflow();\r\n    if (folds.length === 0)\r\n        return text;\r\n    if (onFold)\r\n        onFold();\r\n    let res = text.slice(0, folds[0]);\r\n    for (let i = 0; i < folds.length; ++i) {\r\n        const fold = folds[i];\r\n        const end = folds[i + 1] || text.length;\r\n        if (fold === 0)\r\n            res = `\\n${indent}${text.slice(0, end)}`;\r\n        else {\r\n            if (mode === FOLD_QUOTED && escapedFolds[fold])\r\n                res += `${text[fold]}\\\\`;\r\n            res += `\\n${indent}${text.slice(fold + 1, end)}`;\r\n        }\r\n    }\r\n    return res;\r\n}\r\n/**\r\n * Presumes `i + 1` is at the start of a line\r\n * @returns index of last newline in more-indented block\r\n */\r\nfunction consumeMoreIndentedLines(text, i, indent) {\r\n    let end = i;\r\n    let start = i + 1;\r\n    let ch = text[start];\r\n    while (ch === ' ' || ch === '\\t') {\r\n        if (i < start + indent) {\r\n            ch = text[++i];\r\n        }\r\n        else {\r\n            do {\r\n                ch = text[++i];\r\n            } while (ch && ch !== '\\n');\r\n            end = i;\r\n            start = i + 1;\r\n            ch = text[start];\r\n        }\r\n    }\r\n    return end;\r\n}\r\n\r\nconst getFoldOptions = (ctx, isBlock) => ({\r\n    indentAtStart: isBlock ? ctx.indent.length : ctx.indentAtStart,\r\n    lineWidth: ctx.options.lineWidth,\r\n    minContentWidth: ctx.options.minContentWidth\r\n});\r\n// Also checks for lines starting with %, as parsing the output as YAML 1.1 will\r\n// presume that's starting a new document.\r\nconst containsDocumentMarker = (str) => /^(%|---|\\.\\.\\.)/m.test(str);\r\nfunction lineLengthOverLimit(str, lineWidth, indentLength) {\r\n    if (!lineWidth || lineWidth < 0)\r\n        return false;\r\n    const limit = lineWidth - indentLength;\r\n    const strLen = str.length;\r\n    if (strLen <= limit)\r\n        return false;\r\n    for (let i = 0, start = 0; i < strLen; ++i) {\r\n        if (str[i] === '\\n') {\r\n            if (i - start > limit)\r\n                return true;\r\n            start = i + 1;\r\n            if (strLen - start <= limit)\r\n                return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction doubleQuotedString(value, ctx) {\r\n    const json = JSON.stringify(value);\r\n    if (ctx.options.doubleQuotedAsJSON)\r\n        return json;\r\n    const { implicitKey } = ctx;\r\n    const minMultiLineLength = ctx.options.doubleQuotedMinMultiLineLength;\r\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\r\n    let str = '';\r\n    let start = 0;\r\n    for (let i = 0, ch = json[i]; ch; ch = json[++i]) {\r\n        if (ch === ' ' && json[i + 1] === '\\\\' && json[i + 2] === 'n') {\r\n            // space before newline needs to be escaped to not be folded\r\n            str += json.slice(start, i) + '\\\\ ';\r\n            i += 1;\r\n            start = i;\r\n            ch = '\\\\';\r\n        }\r\n        if (ch === '\\\\')\r\n            switch (json[i + 1]) {\r\n                case 'u':\r\n                    {\r\n                        str += json.slice(start, i);\r\n                        const code = json.substr(i + 2, 4);\r\n                        switch (code) {\r\n                            case '0000':\r\n                                str += '\\\\0';\r\n                                break;\r\n                            case '0007':\r\n                                str += '\\\\a';\r\n                                break;\r\n                            case '000b':\r\n                                str += '\\\\v';\r\n                                break;\r\n                            case '001b':\r\n                                str += '\\\\e';\r\n                                break;\r\n                            case '0085':\r\n                                str += '\\\\N';\r\n                                break;\r\n                            case '00a0':\r\n                                str += '\\\\_';\r\n                                break;\r\n                            case '2028':\r\n                                str += '\\\\L';\r\n                                break;\r\n                            case '2029':\r\n                                str += '\\\\P';\r\n                                break;\r\n                            default:\r\n                                if (code.substr(0, 2) === '00')\r\n                                    str += '\\\\x' + code.substr(2);\r\n                                else\r\n                                    str += json.substr(i, 6);\r\n                        }\r\n                        i += 5;\r\n                        start = i + 1;\r\n                    }\r\n                    break;\r\n                case 'n':\r\n                    if (implicitKey ||\r\n                        json[i + 2] === '\"' ||\r\n                        json.length < minMultiLineLength) {\r\n                        i += 1;\r\n                    }\r\n                    else {\r\n                        // folding will eat first newline\r\n                        str += json.slice(start, i) + '\\n\\n';\r\n                        while (json[i + 2] === '\\\\' &&\r\n                            json[i + 3] === 'n' &&\r\n                            json[i + 4] !== '\"') {\r\n                            str += '\\n';\r\n                            i += 2;\r\n                        }\r\n                        str += indent;\r\n                        // space after newline needs to be escaped to not be folded\r\n                        if (json[i + 2] === ' ')\r\n                            str += '\\\\';\r\n                        i += 1;\r\n                        start = i + 1;\r\n                    }\r\n                    break;\r\n                default:\r\n                    i += 1;\r\n            }\r\n    }\r\n    str = start ? str + json.slice(start) : json;\r\n    return implicitKey\r\n        ? str\r\n        : foldFlowLines(str, indent, FOLD_QUOTED, getFoldOptions(ctx, false));\r\n}\r\nfunction singleQuotedString(value, ctx) {\r\n    if (ctx.options.singleQuote === false ||\r\n        (ctx.implicitKey && value.includes('\\n')) ||\r\n        /[ \\t]\\n|\\n[ \\t]/.test(value) // single quoted string can't have leading or trailing whitespace around newline\r\n    )\r\n        return doubleQuotedString(value, ctx);\r\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\r\n    const res = \"'\" + value.replace(/'/g, \"''\").replace(/\\n+/g, `$&\\n${indent}`) + \"'\";\r\n    return ctx.implicitKey\r\n        ? res\r\n        : foldFlowLines(res, indent, FOLD_FLOW, getFoldOptions(ctx, false));\r\n}\r\nfunction quotedString(value, ctx) {\r\n    const { singleQuote } = ctx.options;\r\n    let qs;\r\n    if (singleQuote === false)\r\n        qs = doubleQuotedString;\r\n    else {\r\n        const hasDouble = value.includes('\"');\r\n        const hasSingle = value.includes(\"'\");\r\n        if (hasDouble && !hasSingle)\r\n            qs = singleQuotedString;\r\n        else if (hasSingle && !hasDouble)\r\n            qs = doubleQuotedString;\r\n        else\r\n            qs = singleQuote ? singleQuotedString : doubleQuotedString;\r\n    }\r\n    return qs(value, ctx);\r\n}\r\n// The negative lookbehind avoids a polynomial search,\r\n// but isn't supported yet on Safari: https://caniuse.com/js-regexp-lookbehind\r\nlet blockEndNewlines;\r\ntry {\r\n    blockEndNewlines = new RegExp('(^|(?<!\\n))\\n+(?!\\n|$)', 'g');\r\n}\r\ncatch {\r\n    blockEndNewlines = /\\n+(?!\\n|$)/g;\r\n}\r\nfunction blockString({ comment, type, value }, ctx, onComment, onChompKeep) {\r\n    const { blockQuote, commentString, lineWidth } = ctx.options;\r\n    // 1. Block can't end in whitespace unless the last line is non-empty.\r\n    // 2. Strings consisting of only whitespace are best rendered explicitly.\r\n    if (!blockQuote || /\\n[\\t ]+$/.test(value) || /^\\s*$/.test(value)) {\r\n        return quotedString(value, ctx);\r\n    }\r\n    const indent = ctx.indent ||\r\n        (ctx.forceBlockIndent || containsDocumentMarker(value) ? '  ' : '');\r\n    const literal = blockQuote === 'literal'\r\n        ? true\r\n        : blockQuote === 'folded' || type === Scalar.BLOCK_FOLDED\r\n            ? false\r\n            : type === Scalar.BLOCK_LITERAL\r\n                ? true\r\n                : !lineLengthOverLimit(value, lineWidth, indent.length);\r\n    if (!value)\r\n        return literal ? '|\\n' : '>\\n';\r\n    // determine chomping from whitespace at value end\r\n    let chomp;\r\n    let endStart;\r\n    for (endStart = value.length; endStart > 0; --endStart) {\r\n        const ch = value[endStart - 1];\r\n        if (ch !== '\\n' && ch !== '\\t' && ch !== ' ')\r\n            break;\r\n    }\r\n    let end = value.substring(endStart);\r\n    const endNlPos = end.indexOf('\\n');\r\n    if (endNlPos === -1) {\r\n        chomp = '-'; // strip\r\n    }\r\n    else if (value === end || endNlPos !== end.length - 1) {\r\n        chomp = '+'; // keep\r\n        if (onChompKeep)\r\n            onChompKeep();\r\n    }\r\n    else {\r\n        chomp = ''; // clip\r\n    }\r\n    if (end) {\r\n        value = value.slice(0, -end.length);\r\n        if (end[end.length - 1] === '\\n')\r\n            end = end.slice(0, -1);\r\n        end = end.replace(blockEndNewlines, `$&${indent}`);\r\n    }\r\n    // determine indent indicator from whitespace at value start\r\n    let startWithSpace = false;\r\n    let startEnd;\r\n    let startNlPos = -1;\r\n    for (startEnd = 0; startEnd < value.length; ++startEnd) {\r\n        const ch = value[startEnd];\r\n        if (ch === ' ')\r\n            startWithSpace = true;\r\n        else if (ch === '\\n')\r\n            startNlPos = startEnd;\r\n        else\r\n            break;\r\n    }\r\n    let start = value.substring(0, startNlPos < startEnd ? startNlPos + 1 : startEnd);\r\n    if (start) {\r\n        value = value.substring(start.length);\r\n        start = start.replace(/\\n+/g, `$&${indent}`);\r\n    }\r\n    const indentSize = indent ? '2' : '1'; // root is at -1\r\n    let header = (literal ? '|' : '>') + (startWithSpace ? indentSize : '') + chomp;\r\n    if (comment) {\r\n        header += ' ' + commentString(comment.replace(/ ?[\\r\\n]+/g, ' '));\r\n        if (onComment)\r\n            onComment();\r\n    }\r\n    if (literal) {\r\n        value = value.replace(/\\n+/g, `$&${indent}`);\r\n        return `${header}\\n${indent}${start}${value}${end}`;\r\n    }\r\n    value = value\r\n        .replace(/\\n+/g, '\\n$&')\r\n        .replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g, '$1$2') // more-indented lines aren't folded\r\n        //                ^ more-ind. ^ empty     ^ capture next empty lines only at end of indent\r\n        .replace(/\\n+/g, `$&${indent}`);\r\n    const body = foldFlowLines(`${start}${value}${end}`, indent, FOLD_BLOCK, getFoldOptions(ctx, true));\r\n    return `${header}\\n${indent}${body}`;\r\n}\r\nfunction plainString(item, ctx, onComment, onChompKeep) {\r\n    const { type, value } = item;\r\n    const { actualString, implicitKey, indent, indentStep, inFlow } = ctx;\r\n    if ((implicitKey && value.includes('\\n')) ||\r\n        (inFlow && /[[\\]{},]/.test(value))) {\r\n        return quotedString(value, ctx);\r\n    }\r\n    if (!value ||\r\n        /^[\\n\\t ,[\\]{}#&*!|>'\"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(value)) {\r\n        // not allowed:\r\n        // - empty string, '-' or '?'\r\n        // - start with an indicator character (except [?:-]) or /[?-] /\r\n        // - '\\n ', ': ' or ' \\n' anywhere\r\n        // - '#' not preceded by a non-space char\r\n        // - end with ' ' or ':'\r\n        return implicitKey || inFlow || !value.includes('\\n')\r\n            ? quotedString(value, ctx)\r\n            : blockString(item, ctx, onComment, onChompKeep);\r\n    }\r\n    if (!implicitKey &&\r\n        !inFlow &&\r\n        type !== Scalar.PLAIN &&\r\n        value.includes('\\n')) {\r\n        // Where allowed & type not set explicitly, prefer block style for multiline strings\r\n        return blockString(item, ctx, onComment, onChompKeep);\r\n    }\r\n    if (containsDocumentMarker(value)) {\r\n        if (indent === '') {\r\n            ctx.forceBlockIndent = true;\r\n            return blockString(item, ctx, onComment, onChompKeep);\r\n        }\r\n        else if (implicitKey && indent === indentStep) {\r\n            return quotedString(value, ctx);\r\n        }\r\n    }\r\n    const str = value.replace(/\\n+/g, `$&\\n${indent}`);\r\n    // Verify that output will be parsed as a string, as e.g. plain numbers and\r\n    // booleans get parsed with those types in v1.2 (e.g. '42', 'true' & '0.9e-3'),\r\n    // and others in v1.1.\r\n    if (actualString) {\r\n        const test = (tag) => tag.default && tag.tag !== 'tag:yaml.org,2002:str' && tag.test?.test(str);\r\n        const { compat, tags } = ctx.doc.schema;\r\n        if (tags.some(test) || compat?.some(test))\r\n            return quotedString(value, ctx);\r\n    }\r\n    return implicitKey\r\n        ? str\r\n        : foldFlowLines(str, indent, FOLD_FLOW, getFoldOptions(ctx, false));\r\n}\r\nfunction stringifyString(item, ctx, onComment, onChompKeep) {\r\n    const { implicitKey, inFlow } = ctx;\r\n    const ss = typeof item.value === 'string'\r\n        ? item\r\n        : Object.assign({}, item, { value: String(item.value) });\r\n    let { type } = item;\r\n    if (type !== Scalar.QUOTE_DOUBLE) {\r\n        // force double quotes on control characters & unpaired surrogates\r\n        if (/[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f\\u{D800}-\\u{DFFF}]/u.test(ss.value))\r\n            type = Scalar.QUOTE_DOUBLE;\r\n    }\r\n    const _stringify = (_type) => {\r\n        switch (_type) {\r\n            case Scalar.BLOCK_FOLDED:\r\n            case Scalar.BLOCK_LITERAL:\r\n                return implicitKey || inFlow\r\n                    ? quotedString(ss.value, ctx) // blocks are not valid inside flow containers\r\n                    : blockString(ss, ctx, onComment, onChompKeep);\r\n            case Scalar.QUOTE_DOUBLE:\r\n                return doubleQuotedString(ss.value, ctx);\r\n            case Scalar.QUOTE_SINGLE:\r\n                return singleQuotedString(ss.value, ctx);\r\n            case Scalar.PLAIN:\r\n                return plainString(ss, ctx, onComment, onChompKeep);\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n    let res = _stringify(type);\r\n    if (res === null) {\r\n        const { defaultKeyType, defaultStringType } = ctx.options;\r\n        const t = (implicitKey && defaultKeyType) || defaultStringType;\r\n        res = _stringify(t);\r\n        if (res === null)\r\n            throw new Error(`Unsupported default string type ${t}`);\r\n    }\r\n    return res;\r\n}\r\n\r\nfunction createStringifyContext(doc, options) {\r\n    const opt = Object.assign({\r\n        blockQuote: true,\r\n        commentString: stringifyComment,\r\n        defaultKeyType: null,\r\n        defaultStringType: 'PLAIN',\r\n        directives: null,\r\n        doubleQuotedAsJSON: false,\r\n        doubleQuotedMinMultiLineLength: 40,\r\n        falseStr: 'false',\r\n        flowCollectionPadding: true,\r\n        indentSeq: true,\r\n        lineWidth: 80,\r\n        minContentWidth: 20,\r\n        nullStr: 'null',\r\n        simpleKeys: false,\r\n        singleQuote: null,\r\n        trueStr: 'true',\r\n        verifyAliasOrder: true\r\n    }, doc.schema.toStringOptions, options);\r\n    let inFlow;\r\n    switch (opt.collectionStyle) {\r\n        case 'block':\r\n            inFlow = false;\r\n            break;\r\n        case 'flow':\r\n            inFlow = true;\r\n            break;\r\n        default:\r\n            inFlow = null;\r\n    }\r\n    return {\r\n        anchors: new Set(),\r\n        doc,\r\n        flowCollectionPadding: opt.flowCollectionPadding ? ' ' : '',\r\n        indent: '',\r\n        indentStep: typeof opt.indent === 'number' ? ' '.repeat(opt.indent) : '  ',\r\n        inFlow,\r\n        options: opt\r\n    };\r\n}\r\nfunction getTagObject(tags, item) {\r\n    if (item.tag) {\r\n        const match = tags.filter(t => t.tag === item.tag);\r\n        if (match.length > 0)\r\n            return match.find(t => t.format === item.format) ?? match[0];\r\n    }\r\n    let tagObj = undefined;\r\n    let obj;\r\n    if (isScalar$1(item)) {\r\n        obj = item.value;\r\n        const match = tags.filter(t => t.identify?.(obj));\r\n        tagObj =\r\n            match.find(t => t.format === item.format) ?? match.find(t => !t.format);\r\n    }\r\n    else {\r\n        obj = item;\r\n        tagObj = tags.find(t => t.nodeClass && obj instanceof t.nodeClass);\r\n    }\r\n    if (!tagObj) {\r\n        const name = obj?.constructor?.name ?? typeof obj;\r\n        throw new Error(`Tag not resolved for ${name} value`);\r\n    }\r\n    return tagObj;\r\n}\r\n// needs to be called before value stringifier to allow for circular anchor refs\r\nfunction stringifyProps(node, tagObj, { anchors, doc }) {\r\n    if (!doc.directives)\r\n        return '';\r\n    const props = [];\r\n    const anchor = (isScalar$1(node) || isCollection$1(node)) && node.anchor;\r\n    if (anchor && anchorIsValid(anchor)) {\r\n        anchors.add(anchor);\r\n        props.push(`&${anchor}`);\r\n    }\r\n    const tag = node.tag ? node.tag : tagObj.default ? null : tagObj.tag;\r\n    if (tag)\r\n        props.push(doc.directives.tagString(tag));\r\n    return props.join(' ');\r\n}\r\nfunction stringify$2(item, ctx, onComment, onChompKeep) {\r\n    if (isPair(item))\r\n        return item.toString(ctx, onComment, onChompKeep);\r\n    if (isAlias(item)) {\r\n        if (ctx.doc.directives)\r\n            return item.toString(ctx);\r\n        if (ctx.resolvedAliases?.has(item)) {\r\n            throw new TypeError(`Cannot stringify circular structure without alias nodes`);\r\n        }\r\n        else {\r\n            if (ctx.resolvedAliases)\r\n                ctx.resolvedAliases.add(item);\r\n            else\r\n                ctx.resolvedAliases = new Set([item]);\r\n            item = item.resolve(ctx.doc);\r\n        }\r\n    }\r\n    let tagObj = undefined;\r\n    const node = isNode$1(item)\r\n        ? item\r\n        : ctx.doc.createNode(item, { onTagObj: o => (tagObj = o) });\r\n    if (!tagObj)\r\n        tagObj = getTagObject(ctx.doc.schema.tags, node);\r\n    const props = stringifyProps(node, tagObj, ctx);\r\n    if (props.length > 0)\r\n        ctx.indentAtStart = (ctx.indentAtStart ?? 0) + props.length + 1;\r\n    const str = typeof tagObj.stringify === 'function'\r\n        ? tagObj.stringify(node, ctx, onComment, onChompKeep)\r\n        : isScalar$1(node)\r\n            ? stringifyString(node, ctx, onComment, onChompKeep)\r\n            : node.toString(ctx, onComment, onChompKeep);\r\n    if (!props)\r\n        return str;\r\n    return isScalar$1(node) || str[0] === '{' || str[0] === '['\r\n        ? `${props} ${str}`\r\n        : `${props}\\n${ctx.indent}${str}`;\r\n}\r\n\r\nfunction stringifyPair({ key, value }, ctx, onComment, onChompKeep) {\r\n    const { allNullValues, doc, indent, indentStep, options: { commentString, indentSeq, simpleKeys } } = ctx;\r\n    let keyComment = (isNode$1(key) && key.comment) || null;\r\n    if (simpleKeys) {\r\n        if (keyComment) {\r\n            throw new Error('With simple keys, key nodes cannot have comments');\r\n        }\r\n        if (isCollection$1(key) || (!isNode$1(key) && typeof key === 'object')) {\r\n            const msg = 'With simple keys, collection cannot be used as a key value';\r\n            throw new Error(msg);\r\n        }\r\n    }\r\n    let explicitKey = !simpleKeys &&\r\n        (!key ||\r\n            (keyComment && value == null && !ctx.inFlow) ||\r\n            isCollection$1(key) ||\r\n            (isScalar$1(key)\r\n                ? key.type === Scalar.BLOCK_FOLDED || key.type === Scalar.BLOCK_LITERAL\r\n                : typeof key === 'object'));\r\n    ctx = Object.assign({}, ctx, {\r\n        allNullValues: false,\r\n        implicitKey: !explicitKey && (simpleKeys || !allNullValues),\r\n        indent: indent + indentStep\r\n    });\r\n    let keyCommentDone = false;\r\n    let chompKeep = false;\r\n    let str = stringify$2(key, ctx, () => (keyCommentDone = true), () => (chompKeep = true));\r\n    if (!explicitKey && !ctx.inFlow && str.length > 1024) {\r\n        if (simpleKeys)\r\n            throw new Error('With simple keys, single line scalar must not span more than 1024 characters');\r\n        explicitKey = true;\r\n    }\r\n    if (ctx.inFlow) {\r\n        if (allNullValues || value == null) {\r\n            if (keyCommentDone && onComment)\r\n                onComment();\r\n            return str === '' ? '?' : explicitKey ? `? ${str}` : str;\r\n        }\r\n    }\r\n    else if ((allNullValues && !simpleKeys) || (value == null && explicitKey)) {\r\n        str = `? ${str}`;\r\n        if (keyComment && !keyCommentDone) {\r\n            str += lineComment(str, ctx.indent, commentString(keyComment));\r\n        }\r\n        else if (chompKeep && onChompKeep)\r\n            onChompKeep();\r\n        return str;\r\n    }\r\n    if (keyCommentDone)\r\n        keyComment = null;\r\n    if (explicitKey) {\r\n        if (keyComment)\r\n            str += lineComment(str, ctx.indent, commentString(keyComment));\r\n        str = `? ${str}\\n${indent}:`;\r\n    }\r\n    else {\r\n        str = `${str}:`;\r\n        if (keyComment)\r\n            str += lineComment(str, ctx.indent, commentString(keyComment));\r\n    }\r\n    let vsb, vcb, valueComment;\r\n    if (isNode$1(value)) {\r\n        vsb = !!value.spaceBefore;\r\n        vcb = value.commentBefore;\r\n        valueComment = value.comment;\r\n    }\r\n    else {\r\n        vsb = false;\r\n        vcb = null;\r\n        valueComment = null;\r\n        if (value && typeof value === 'object')\r\n            value = doc.createNode(value);\r\n    }\r\n    ctx.implicitKey = false;\r\n    if (!explicitKey && !keyComment && isScalar$1(value))\r\n        ctx.indentAtStart = str.length + 1;\r\n    chompKeep = false;\r\n    if (!indentSeq &&\r\n        indentStep.length >= 2 &&\r\n        !ctx.inFlow &&\r\n        !explicitKey &&\r\n        isSeq(value) &&\r\n        !value.flow &&\r\n        !value.tag &&\r\n        !value.anchor) {\r\n        // If indentSeq === false, consider '- ' as part of indentation where possible\r\n        ctx.indent = ctx.indent.substring(2);\r\n    }\r\n    let valueCommentDone = false;\r\n    const valueStr = stringify$2(value, ctx, () => (valueCommentDone = true), () => (chompKeep = true));\r\n    let ws = ' ';\r\n    if (keyComment || vsb || vcb) {\r\n        ws = vsb ? '\\n' : '';\r\n        if (vcb) {\r\n            const cs = commentString(vcb);\r\n            ws += `\\n${indentComment(cs, ctx.indent)}`;\r\n        }\r\n        if (valueStr === '' && !ctx.inFlow) {\r\n            if (ws === '\\n')\r\n                ws = '\\n\\n';\r\n        }\r\n        else {\r\n            ws += `\\n${ctx.indent}`;\r\n        }\r\n    }\r\n    else if (!explicitKey && isCollection$1(value)) {\r\n        const vs0 = valueStr[0];\r\n        const nl0 = valueStr.indexOf('\\n');\r\n        const hasNewline = nl0 !== -1;\r\n        const flow = ctx.inFlow ?? value.flow ?? value.items.length === 0;\r\n        if (hasNewline || !flow) {\r\n            let hasPropsLine = false;\r\n            if (hasNewline && (vs0 === '&' || vs0 === '!')) {\r\n                let sp0 = valueStr.indexOf(' ');\r\n                if (vs0 === '&' &&\r\n                    sp0 !== -1 &&\r\n                    sp0 < nl0 &&\r\n                    valueStr[sp0 + 1] === '!') {\r\n                    sp0 = valueStr.indexOf(' ', sp0 + 1);\r\n                }\r\n                if (sp0 === -1 || nl0 < sp0)\r\n                    hasPropsLine = true;\r\n            }\r\n            if (!hasPropsLine)\r\n                ws = `\\n${ctx.indent}`;\r\n        }\r\n    }\r\n    else if (valueStr === '' || valueStr[0] === '\\n') {\r\n        ws = '';\r\n    }\r\n    str += ws + valueStr;\r\n    if (ctx.inFlow) {\r\n        if (valueCommentDone && onComment)\r\n            onComment();\r\n    }\r\n    else if (valueComment && !valueCommentDone) {\r\n        str += lineComment(str, ctx.indent, commentString(valueComment));\r\n    }\r\n    else if (chompKeep && onChompKeep) {\r\n        onChompKeep();\r\n    }\r\n    return str;\r\n}\r\n\r\nfunction warn(logLevel, warning) {\r\n    if (logLevel === 'debug' || logLevel === 'warn') {\r\n        // https://github.com/typescript-eslint/typescript-eslint/issues/7478\r\n        // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\r\n        if (typeof process !== 'undefined' && process.emitWarning)\r\n            process.emitWarning(warning);\r\n        else\r\n            console.warn(warning);\r\n    }\r\n}\r\n\r\nconst MERGE_KEY = '<<';\r\nfunction addPairToJSMap(ctx, map, { key, value }) {\r\n    if (ctx?.doc.schema.merge && isMergeKey(key)) {\r\n        value = isAlias(value) ? value.resolve(ctx.doc) : value;\r\n        if (isSeq(value))\r\n            for (const it of value.items)\r\n                mergeToJSMap(ctx, map, it);\r\n        else if (Array.isArray(value))\r\n            for (const it of value)\r\n                mergeToJSMap(ctx, map, it);\r\n        else\r\n            mergeToJSMap(ctx, map, value);\r\n    }\r\n    else {\r\n        const jsKey = toJS(key, '', ctx);\r\n        if (map instanceof Map) {\r\n            map.set(jsKey, toJS(value, jsKey, ctx));\r\n        }\r\n        else if (map instanceof Set) {\r\n            map.add(jsKey);\r\n        }\r\n        else {\r\n            const stringKey = stringifyKey(key, jsKey, ctx);\r\n            const jsValue = toJS(value, stringKey, ctx);\r\n            if (stringKey in map)\r\n                Object.defineProperty(map, stringKey, {\r\n                    value: jsValue,\r\n                    writable: true,\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n            else\r\n                map[stringKey] = jsValue;\r\n        }\r\n    }\r\n    return map;\r\n}\r\nconst isMergeKey = (key) => key === MERGE_KEY ||\r\n    (isScalar$1(key) &&\r\n        key.value === MERGE_KEY &&\r\n        (!key.type || key.type === Scalar.PLAIN));\r\n// If the value associated with a merge key is a single mapping node, each of\r\n// its key/value pairs is inserted into the current mapping, unless the key\r\n// already exists in it. If the value associated with the merge key is a\r\n// sequence, then this sequence is expected to contain mapping nodes and each\r\n// of these nodes is merged in turn according to its order in the sequence.\r\n// Keys in mapping nodes earlier in the sequence override keys specified in\r\n// later mapping nodes. -- http://yaml.org/type/merge.html\r\nfunction mergeToJSMap(ctx, map, value) {\r\n    const source = ctx && isAlias(value) ? value.resolve(ctx.doc) : value;\r\n    if (!isMap(source))\r\n        throw new Error('Merge sources must be maps or map aliases');\r\n    const srcMap = source.toJSON(null, ctx, Map);\r\n    for (const [key, value] of srcMap) {\r\n        if (map instanceof Map) {\r\n            if (!map.has(key))\r\n                map.set(key, value);\r\n        }\r\n        else if (map instanceof Set) {\r\n            map.add(key);\r\n        }\r\n        else if (!Object.prototype.hasOwnProperty.call(map, key)) {\r\n            Object.defineProperty(map, key, {\r\n                value,\r\n                writable: true,\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n        }\r\n    }\r\n    return map;\r\n}\r\nfunction stringifyKey(key, jsKey, ctx) {\r\n    if (jsKey === null)\r\n        return '';\r\n    if (typeof jsKey !== 'object')\r\n        return String(jsKey);\r\n    if (isNode$1(key) && ctx?.doc) {\r\n        const strCtx = createStringifyContext(ctx.doc, {});\r\n        strCtx.anchors = new Set();\r\n        for (const node of ctx.anchors.keys())\r\n            strCtx.anchors.add(node.anchor);\r\n        strCtx.inFlow = true;\r\n        strCtx.inStringifyKey = true;\r\n        const strKey = key.toString(strCtx);\r\n        if (!ctx.mapKeyWarned) {\r\n            let jsonStr = JSON.stringify(strKey);\r\n            if (jsonStr.length > 40)\r\n                jsonStr = jsonStr.substring(0, 36) + '...\"';\r\n            warn(ctx.doc.options.logLevel, `Keys with collection values will be stringified due to JS Object restrictions: ${jsonStr}. Set mapAsMap: true to use object keys.`);\r\n            ctx.mapKeyWarned = true;\r\n        }\r\n        return strKey;\r\n    }\r\n    return JSON.stringify(jsKey);\r\n}\r\n\r\nfunction createPair(key, value, ctx) {\r\n    const k = createNode(key, undefined, ctx);\r\n    const v = createNode(value, undefined, ctx);\r\n    return new Pair(k, v);\r\n}\r\nclass Pair {\r\n    constructor(key, value = null) {\r\n        Object.defineProperty(this, NODE_TYPE, { value: PAIR });\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n    clone(schema) {\r\n        let { key, value } = this;\r\n        if (isNode$1(key))\r\n            key = key.clone(schema);\r\n        if (isNode$1(value))\r\n            value = value.clone(schema);\r\n        return new Pair(key, value);\r\n    }\r\n    toJSON(_, ctx) {\r\n        const pair = ctx?.mapAsMap ? new Map() : {};\r\n        return addPairToJSMap(ctx, pair, this);\r\n    }\r\n    toString(ctx, onComment, onChompKeep) {\r\n        return ctx?.doc\r\n            ? stringifyPair(this, ctx, onComment, onChompKeep)\r\n            : JSON.stringify(this);\r\n    }\r\n}\r\n\r\nfunction stringifyCollection(collection, ctx, options) {\r\n    const flow = ctx.inFlow ?? collection.flow;\r\n    const stringify = flow ? stringifyFlowCollection : stringifyBlockCollection;\r\n    return stringify(collection, ctx, options);\r\n}\r\nfunction stringifyBlockCollection({ comment, items }, ctx, { blockItemPrefix, flowChars, itemIndent, onChompKeep, onComment }) {\r\n    const { indent, options: { commentString } } = ctx;\r\n    const itemCtx = Object.assign({}, ctx, { indent: itemIndent, type: null });\r\n    let chompKeep = false; // flag for the preceding node's status\r\n    const lines = [];\r\n    for (let i = 0; i < items.length; ++i) {\r\n        const item = items[i];\r\n        let comment = null;\r\n        if (isNode$1(item)) {\r\n            if (!chompKeep && item.spaceBefore)\r\n                lines.push('');\r\n            addCommentBefore(ctx, lines, item.commentBefore, chompKeep);\r\n            if (item.comment)\r\n                comment = item.comment;\r\n        }\r\n        else if (isPair(item)) {\r\n            const ik = isNode$1(item.key) ? item.key : null;\r\n            if (ik) {\r\n                if (!chompKeep && ik.spaceBefore)\r\n                    lines.push('');\r\n                addCommentBefore(ctx, lines, ik.commentBefore, chompKeep);\r\n            }\r\n        }\r\n        chompKeep = false;\r\n        let str = stringify$2(item, itemCtx, () => (comment = null), () => (chompKeep = true));\r\n        if (comment)\r\n            str += lineComment(str, itemIndent, commentString(comment));\r\n        if (chompKeep && comment)\r\n            chompKeep = false;\r\n        lines.push(blockItemPrefix + str);\r\n    }\r\n    let str;\r\n    if (lines.length === 0) {\r\n        str = flowChars.start + flowChars.end;\r\n    }\r\n    else {\r\n        str = lines[0];\r\n        for (let i = 1; i < lines.length; ++i) {\r\n            const line = lines[i];\r\n            str += line ? `\\n${indent}${line}` : '\\n';\r\n        }\r\n    }\r\n    if (comment) {\r\n        str += '\\n' + indentComment(commentString(comment), indent);\r\n        if (onComment)\r\n            onComment();\r\n    }\r\n    else if (chompKeep && onChompKeep)\r\n        onChompKeep();\r\n    return str;\r\n}\r\nfunction stringifyFlowCollection({ items }, ctx, { flowChars, itemIndent }) {\r\n    const { indent, indentStep, flowCollectionPadding: fcPadding, options: { commentString } } = ctx;\r\n    itemIndent += indentStep;\r\n    const itemCtx = Object.assign({}, ctx, {\r\n        indent: itemIndent,\r\n        inFlow: true,\r\n        type: null\r\n    });\r\n    let reqNewline = false;\r\n    let linesAtValue = 0;\r\n    const lines = [];\r\n    for (let i = 0; i < items.length; ++i) {\r\n        const item = items[i];\r\n        let comment = null;\r\n        if (isNode$1(item)) {\r\n            if (item.spaceBefore)\r\n                lines.push('');\r\n            addCommentBefore(ctx, lines, item.commentBefore, false);\r\n            if (item.comment)\r\n                comment = item.comment;\r\n        }\r\n        else if (isPair(item)) {\r\n            const ik = isNode$1(item.key) ? item.key : null;\r\n            if (ik) {\r\n                if (ik.spaceBefore)\r\n                    lines.push('');\r\n                addCommentBefore(ctx, lines, ik.commentBefore, false);\r\n                if (ik.comment)\r\n                    reqNewline = true;\r\n            }\r\n            const iv = isNode$1(item.value) ? item.value : null;\r\n            if (iv) {\r\n                if (iv.comment)\r\n                    comment = iv.comment;\r\n                if (iv.commentBefore)\r\n                    reqNewline = true;\r\n            }\r\n            else if (item.value == null && ik?.comment) {\r\n                comment = ik.comment;\r\n            }\r\n        }\r\n        if (comment)\r\n            reqNewline = true;\r\n        let str = stringify$2(item, itemCtx, () => (comment = null));\r\n        if (i < items.length - 1)\r\n            str += ',';\r\n        if (comment)\r\n            str += lineComment(str, itemIndent, commentString(comment));\r\n        if (!reqNewline && (lines.length > linesAtValue || str.includes('\\n')))\r\n            reqNewline = true;\r\n        lines.push(str);\r\n        linesAtValue = lines.length;\r\n    }\r\n    const { start, end } = flowChars;\r\n    if (lines.length === 0) {\r\n        return start + end;\r\n    }\r\n    else {\r\n        if (!reqNewline) {\r\n            const len = lines.reduce((sum, line) => sum + line.length + 2, 2);\r\n            reqNewline = ctx.options.lineWidth > 0 && len > ctx.options.lineWidth;\r\n        }\r\n        if (reqNewline) {\r\n            let str = start;\r\n            for (const line of lines)\r\n                str += line ? `\\n${indentStep}${indent}${line}` : '\\n';\r\n            return `${str}\\n${indent}${end}`;\r\n        }\r\n        else {\r\n            return `${start}${fcPadding}${lines.join(' ')}${fcPadding}${end}`;\r\n        }\r\n    }\r\n}\r\nfunction addCommentBefore({ indent, options: { commentString } }, lines, comment, chompKeep) {\r\n    if (comment && chompKeep)\r\n        comment = comment.replace(/^\\n+/, '');\r\n    if (comment) {\r\n        const ic = indentComment(commentString(comment), indent);\r\n        lines.push(ic.trimStart()); // Avoid double indent on first line\r\n    }\r\n}\r\n\r\nfunction findPair(items, key) {\r\n    const k = isScalar$1(key) ? key.value : key;\r\n    for (const it of items) {\r\n        if (isPair(it)) {\r\n            if (it.key === key || it.key === k)\r\n                return it;\r\n            if (isScalar$1(it.key) && it.key.value === k)\r\n                return it;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nclass YAMLMap extends Collection {\r\n    static get tagName() {\r\n        return 'tag:yaml.org,2002:map';\r\n    }\r\n    constructor(schema) {\r\n        super(MAP, schema);\r\n        this.items = [];\r\n    }\r\n    /**\r\n     * A generic collection parsing method that can be extended\r\n     * to other node classes that inherit from YAMLMap\r\n     */\r\n    static from(schema, obj, ctx) {\r\n        const { keepUndefined, replacer } = ctx;\r\n        const map = new this(schema);\r\n        const add = (key, value) => {\r\n            if (typeof replacer === 'function')\r\n                value = replacer.call(obj, key, value);\r\n            else if (Array.isArray(replacer) && !replacer.includes(key))\r\n                return;\r\n            if (value !== undefined || keepUndefined)\r\n                map.items.push(createPair(key, value, ctx));\r\n        };\r\n        if (obj instanceof Map) {\r\n            for (const [key, value] of obj)\r\n                add(key, value);\r\n        }\r\n        else if (obj && typeof obj === 'object') {\r\n            for (const key of Object.keys(obj))\r\n                add(key, obj[key]);\r\n        }\r\n        if (typeof schema.sortMapEntries === 'function') {\r\n            map.items.sort(schema.sortMapEntries);\r\n        }\r\n        return map;\r\n    }\r\n    /**\r\n     * Adds a value to the collection.\r\n     *\r\n     * @param overwrite - If not set `true`, using a key that is already in the\r\n     *   collection will throw. Otherwise, overwrites the previous value.\r\n     */\r\n    add(pair, overwrite) {\r\n        let _pair;\r\n        if (isPair(pair))\r\n            _pair = pair;\r\n        else if (!pair || typeof pair !== 'object' || !('key' in pair)) {\r\n            // In TypeScript, this never happens.\r\n            _pair = new Pair(pair, pair?.value);\r\n        }\r\n        else\r\n            _pair = new Pair(pair.key, pair.value);\r\n        const prev = findPair(this.items, _pair.key);\r\n        const sortEntries = this.schema?.sortMapEntries;\r\n        if (prev) {\r\n            if (!overwrite)\r\n                throw new Error(`Key ${_pair.key} already set`);\r\n            // For scalars, keep the old node & its comments and anchors\r\n            if (isScalar$1(prev.value) && isScalarValue(_pair.value))\r\n                prev.value.value = _pair.value;\r\n            else\r\n                prev.value = _pair.value;\r\n        }\r\n        else if (sortEntries) {\r\n            const i = this.items.findIndex(item => sortEntries(_pair, item) < 0);\r\n            if (i === -1)\r\n                this.items.push(_pair);\r\n            else\r\n                this.items.splice(i, 0, _pair);\r\n        }\r\n        else {\r\n            this.items.push(_pair);\r\n        }\r\n    }\r\n    delete(key) {\r\n        const it = findPair(this.items, key);\r\n        if (!it)\r\n            return false;\r\n        const del = this.items.splice(this.items.indexOf(it), 1);\r\n        return del.length > 0;\r\n    }\r\n    get(key, keepScalar) {\r\n        const it = findPair(this.items, key);\r\n        const node = it?.value;\r\n        return (!keepScalar && isScalar$1(node) ? node.value : node) ?? undefined;\r\n    }\r\n    has(key) {\r\n        return !!findPair(this.items, key);\r\n    }\r\n    set(key, value) {\r\n        this.add(new Pair(key, value), true);\r\n    }\r\n    /**\r\n     * @param ctx - Conversion context, originally set in Document#toJS()\r\n     * @param {Class} Type - If set, forces the returned collection type\r\n     * @returns Instance of Type, Map, or Object\r\n     */\r\n    toJSON(_, ctx, Type) {\r\n        const map = Type ? new Type() : ctx?.mapAsMap ? new Map() : {};\r\n        if (ctx?.onCreate)\r\n            ctx.onCreate(map);\r\n        for (const item of this.items)\r\n            addPairToJSMap(ctx, map, item);\r\n        return map;\r\n    }\r\n    toString(ctx, onComment, onChompKeep) {\r\n        if (!ctx)\r\n            return JSON.stringify(this);\r\n        for (const item of this.items) {\r\n            if (!isPair(item))\r\n                throw new Error(`Map items must all be pairs; found ${JSON.stringify(item)} instead`);\r\n        }\r\n        if (!ctx.allNullValues && this.hasAllNullValues(false))\r\n            ctx = Object.assign({}, ctx, { allNullValues: true });\r\n        return stringifyCollection(this, ctx, {\r\n            blockItemPrefix: '',\r\n            flowChars: { start: '{', end: '}' },\r\n            itemIndent: ctx.indent || '',\r\n            onChompKeep,\r\n            onComment\r\n        });\r\n    }\r\n}\r\n\r\nconst map$1 = {\r\n    collection: 'map',\r\n    default: true,\r\n    nodeClass: YAMLMap,\r\n    tag: 'tag:yaml.org,2002:map',\r\n    resolve(map, onError) {\r\n        if (!isMap(map))\r\n            onError('Expected a mapping for this tag');\r\n        return map;\r\n    },\r\n    createNode: (schema, obj, ctx) => YAMLMap.from(schema, obj, ctx)\r\n};\r\n\r\nclass YAMLSeq extends Collection {\r\n    static get tagName() {\r\n        return 'tag:yaml.org,2002:seq';\r\n    }\r\n    constructor(schema) {\r\n        super(SEQ, schema);\r\n        this.items = [];\r\n    }\r\n    add(value) {\r\n        this.items.push(value);\r\n    }\r\n    /**\r\n     * Removes a value from the collection.\r\n     *\r\n     * `key` must contain a representation of an integer for this to succeed.\r\n     * It may be wrapped in a `Scalar`.\r\n     *\r\n     * @returns `true` if the item was found and removed.\r\n     */\r\n    delete(key) {\r\n        const idx = asItemIndex(key);\r\n        if (typeof idx !== 'number')\r\n            return false;\r\n        const del = this.items.splice(idx, 1);\r\n        return del.length > 0;\r\n    }\r\n    get(key, keepScalar) {\r\n        const idx = asItemIndex(key);\r\n        if (typeof idx !== 'number')\r\n            return undefined;\r\n        const it = this.items[idx];\r\n        return !keepScalar && isScalar$1(it) ? it.value : it;\r\n    }\r\n    /**\r\n     * Checks if the collection includes a value with the key `key`.\r\n     *\r\n     * `key` must contain a representation of an integer for this to succeed.\r\n     * It may be wrapped in a `Scalar`.\r\n     */\r\n    has(key) {\r\n        const idx = asItemIndex(key);\r\n        return typeof idx === 'number' && idx < this.items.length;\r\n    }\r\n    /**\r\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\r\n     * boolean to add/remove the item from the set.\r\n     *\r\n     * If `key` does not contain a representation of an integer, this will throw.\r\n     * It may be wrapped in a `Scalar`.\r\n     */\r\n    set(key, value) {\r\n        const idx = asItemIndex(key);\r\n        if (typeof idx !== 'number')\r\n            throw new Error(`Expected a valid index, not ${key}.`);\r\n        const prev = this.items[idx];\r\n        if (isScalar$1(prev) && isScalarValue(value))\r\n            prev.value = value;\r\n        else\r\n            this.items[idx] = value;\r\n    }\r\n    toJSON(_, ctx) {\r\n        const seq = [];\r\n        if (ctx?.onCreate)\r\n            ctx.onCreate(seq);\r\n        let i = 0;\r\n        for (const item of this.items)\r\n            seq.push(toJS(item, String(i++), ctx));\r\n        return seq;\r\n    }\r\n    toString(ctx, onComment, onChompKeep) {\r\n        if (!ctx)\r\n            return JSON.stringify(this);\r\n        return stringifyCollection(this, ctx, {\r\n            blockItemPrefix: '- ',\r\n            flowChars: { start: '[', end: ']' },\r\n            itemIndent: (ctx.indent || '') + '  ',\r\n            onChompKeep,\r\n            onComment\r\n        });\r\n    }\r\n    static from(schema, obj, ctx) {\r\n        const { replacer } = ctx;\r\n        const seq = new this(schema);\r\n        if (obj && Symbol.iterator in Object(obj)) {\r\n            let i = 0;\r\n            for (let it of obj) {\r\n                if (typeof replacer === 'function') {\r\n                    const key = obj instanceof Set ? it : String(i++);\r\n                    it = replacer.call(obj, key, it);\r\n                }\r\n                seq.items.push(createNode(it, undefined, ctx));\r\n            }\r\n        }\r\n        return seq;\r\n    }\r\n}\r\nfunction asItemIndex(key) {\r\n    let idx = isScalar$1(key) ? key.value : key;\r\n    if (idx && typeof idx === 'string')\r\n        idx = Number(idx);\r\n    return typeof idx === 'number' && Number.isInteger(idx) && idx >= 0\r\n        ? idx\r\n        : null;\r\n}\r\n\r\nconst seq = {\r\n    collection: 'seq',\r\n    default: true,\r\n    nodeClass: YAMLSeq,\r\n    tag: 'tag:yaml.org,2002:seq',\r\n    resolve(seq, onError) {\r\n        if (!isSeq(seq))\r\n            onError('Expected a sequence for this tag');\r\n        return seq;\r\n    },\r\n    createNode: (schema, obj, ctx) => YAMLSeq.from(schema, obj, ctx)\r\n};\r\n\r\nconst string = {\r\n    identify: value => typeof value === 'string',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:str',\r\n    resolve: str => str,\r\n    stringify(item, ctx, onComment, onChompKeep) {\r\n        ctx = Object.assign({ actualString: true }, ctx);\r\n        return stringifyString(item, ctx, onComment, onChompKeep);\r\n    }\r\n};\r\n\r\nconst nullTag = {\r\n    identify: value => value == null,\r\n    createNode: () => new Scalar(null),\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:null',\r\n    test: /^(?:~|[Nn]ull|NULL)?$/,\r\n    resolve: () => new Scalar(null),\r\n    stringify: ({ source }, ctx) => typeof source === 'string' && nullTag.test.test(source)\r\n        ? source\r\n        : ctx.options.nullStr\r\n};\r\n\r\nconst boolTag = {\r\n    identify: value => typeof value === 'boolean',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:bool',\r\n    test: /^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,\r\n    resolve: str => new Scalar(str[0] === 't' || str[0] === 'T'),\r\n    stringify({ source, value }, ctx) {\r\n        if (source && boolTag.test.test(source)) {\r\n            const sv = source[0] === 't' || source[0] === 'T';\r\n            if (value === sv)\r\n                return source;\r\n        }\r\n        return value ? ctx.options.trueStr : ctx.options.falseStr;\r\n    }\r\n};\r\n\r\nfunction stringifyNumber({ format, minFractionDigits, tag, value }) {\r\n    if (typeof value === 'bigint')\r\n        return String(value);\r\n    const num = typeof value === 'number' ? value : Number(value);\r\n    if (!isFinite(num))\r\n        return isNaN(num) ? '.nan' : num < 0 ? '-.inf' : '.inf';\r\n    let n = JSON.stringify(value);\r\n    if (!format &&\r\n        minFractionDigits &&\r\n        (!tag || tag === 'tag:yaml.org,2002:float') &&\r\n        /^\\d/.test(n)) {\r\n        let i = n.indexOf('.');\r\n        if (i < 0) {\r\n            i = n.length;\r\n            n += '.';\r\n        }\r\n        let d = minFractionDigits - (n.length - i - 1);\r\n        while (d-- > 0)\r\n            n += '0';\r\n    }\r\n    return n;\r\n}\r\n\r\nconst floatNaN$1 = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    test: /^(?:[-+]?\\.(?:inf|Inf|INF)|\\.nan|\\.NaN|\\.NAN)$/,\r\n    resolve: str => str.slice(-3).toLowerCase() === 'nan'\r\n        ? NaN\r\n        : str[0] === '-'\r\n            ? Number.NEGATIVE_INFINITY\r\n            : Number.POSITIVE_INFINITY,\r\n    stringify: stringifyNumber\r\n};\r\nconst floatExp$1 = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    format: 'EXP',\r\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+(?:\\.[0-9]*)?)[eE][-+]?[0-9]+$/,\r\n    resolve: str => parseFloat(str),\r\n    stringify(node) {\r\n        const num = Number(node.value);\r\n        return isFinite(num) ? num.toExponential() : stringifyNumber(node);\r\n    }\r\n};\r\nconst float$1 = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+\\.[0-9]*)$/,\r\n    resolve(str) {\r\n        const node = new Scalar(parseFloat(str));\r\n        const dot = str.indexOf('.');\r\n        if (dot !== -1 && str[str.length - 1] === '0')\r\n            node.minFractionDigits = str.length - dot - 1;\r\n        return node;\r\n    },\r\n    stringify: stringifyNumber\r\n};\r\n\r\nconst intIdentify$2 = (value) => typeof value === 'bigint' || Number.isInteger(value);\r\nconst intResolve$1 = (str, offset, radix, { intAsBigInt }) => (intAsBigInt ? BigInt(str) : parseInt(str.substring(offset), radix));\r\nfunction intStringify$1(node, radix, prefix) {\r\n    const { value } = node;\r\n    if (intIdentify$2(value) && value >= 0)\r\n        return prefix + value.toString(radix);\r\n    return stringifyNumber(node);\r\n}\r\nconst intOct$1 = {\r\n    identify: value => intIdentify$2(value) && value >= 0,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'OCT',\r\n    test: /^0o[0-7]+$/,\r\n    resolve: (str, _onError, opt) => intResolve$1(str, 2, 8, opt),\r\n    stringify: node => intStringify$1(node, 8, '0o')\r\n};\r\nconst int$1 = {\r\n    identify: intIdentify$2,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    test: /^[-+]?[0-9]+$/,\r\n    resolve: (str, _onError, opt) => intResolve$1(str, 0, 10, opt),\r\n    stringify: stringifyNumber\r\n};\r\nconst intHex$1 = {\r\n    identify: value => intIdentify$2(value) && value >= 0,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'HEX',\r\n    test: /^0x[0-9a-fA-F]+$/,\r\n    resolve: (str, _onError, opt) => intResolve$1(str, 2, 16, opt),\r\n    stringify: node => intStringify$1(node, 16, '0x')\r\n};\r\n\r\nconst schema$2 = [\r\n    map$1,\r\n    seq,\r\n    string,\r\n    nullTag,\r\n    boolTag,\r\n    intOct$1,\r\n    int$1,\r\n    intHex$1,\r\n    floatNaN$1,\r\n    floatExp$1,\r\n    float$1\r\n];\r\n\r\nfunction intIdentify$1(value) {\r\n    return typeof value === 'bigint' || Number.isInteger(value);\r\n}\r\nconst stringifyJSON = ({ value }) => JSON.stringify(value);\r\nconst jsonScalars = [\r\n    {\r\n        identify: value => typeof value === 'string',\r\n        default: true,\r\n        tag: 'tag:yaml.org,2002:str',\r\n        resolve: str => str,\r\n        stringify: stringifyJSON\r\n    },\r\n    {\r\n        identify: value => value == null,\r\n        createNode: () => new Scalar(null),\r\n        default: true,\r\n        tag: 'tag:yaml.org,2002:null',\r\n        test: /^null$/,\r\n        resolve: () => null,\r\n        stringify: stringifyJSON\r\n    },\r\n    {\r\n        identify: value => typeof value === 'boolean',\r\n        default: true,\r\n        tag: 'tag:yaml.org,2002:bool',\r\n        test: /^true|false$/,\r\n        resolve: str => str === 'true',\r\n        stringify: stringifyJSON\r\n    },\r\n    {\r\n        identify: intIdentify$1,\r\n        default: true,\r\n        tag: 'tag:yaml.org,2002:int',\r\n        test: /^-?(?:0|[1-9][0-9]*)$/,\r\n        resolve: (str, _onError, { intAsBigInt }) => intAsBigInt ? BigInt(str) : parseInt(str, 10),\r\n        stringify: ({ value }) => intIdentify$1(value) ? value.toString() : JSON.stringify(value)\r\n    },\r\n    {\r\n        identify: value => typeof value === 'number',\r\n        default: true,\r\n        tag: 'tag:yaml.org,2002:float',\r\n        test: /^-?(?:0|[1-9][0-9]*)(?:\\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,\r\n        resolve: str => parseFloat(str),\r\n        stringify: stringifyJSON\r\n    }\r\n];\r\nconst jsonError = {\r\n    default: true,\r\n    tag: '',\r\n    test: /^/,\r\n    resolve(str, onError) {\r\n        onError(`Unresolved plain scalar ${JSON.stringify(str)}`);\r\n        return str;\r\n    }\r\n};\r\nconst schema$1 = [map$1, seq].concat(jsonScalars, jsonError);\r\n\r\nconst binary = {\r\n    identify: value => value instanceof Uint8Array, // Buffer inherits from Uint8Array\r\n    default: false,\r\n    tag: 'tag:yaml.org,2002:binary',\r\n    /**\r\n     * Returns a Buffer in node and an Uint8Array in browsers\r\n     *\r\n     * To use the resulting buffer as an image, you'll want to do something like:\r\n     *\r\n     *   const blob = new Blob([buffer], { type: 'image/jpeg' })\r\n     *   document.querySelector('#photo').src = URL.createObjectURL(blob)\r\n     */\r\n    resolve(src, onError) {\r\n        if (typeof Buffer === 'function') {\r\n            return Buffer.from(src, 'base64');\r\n        }\r\n        else if (typeof atob === 'function') {\r\n            // On IE 11, atob() can't handle newlines\r\n            const str = atob(src.replace(/[\\n\\r]/g, ''));\r\n            const buffer = new Uint8Array(str.length);\r\n            for (let i = 0; i < str.length; ++i)\r\n                buffer[i] = str.charCodeAt(i);\r\n            return buffer;\r\n        }\r\n        else {\r\n            onError('This environment does not support reading binary tags; either Buffer or atob is required');\r\n            return src;\r\n        }\r\n    },\r\n    stringify({ comment, type, value }, ctx, onComment, onChompKeep) {\r\n        const buf = value; // checked earlier by binary.identify()\r\n        let str;\r\n        if (typeof Buffer === 'function') {\r\n            str =\r\n                buf instanceof Buffer\r\n                    ? buf.toString('base64')\r\n                    : Buffer.from(buf.buffer).toString('base64');\r\n        }\r\n        else if (typeof btoa === 'function') {\r\n            let s = '';\r\n            for (let i = 0; i < buf.length; ++i)\r\n                s += String.fromCharCode(buf[i]);\r\n            str = btoa(s);\r\n        }\r\n        else {\r\n            throw new Error('This environment does not support writing binary tags; either Buffer or btoa is required');\r\n        }\r\n        if (!type)\r\n            type = Scalar.BLOCK_LITERAL;\r\n        if (type !== Scalar.QUOTE_DOUBLE) {\r\n            const lineWidth = Math.max(ctx.options.lineWidth - ctx.indent.length, ctx.options.minContentWidth);\r\n            const n = Math.ceil(str.length / lineWidth);\r\n            const lines = new Array(n);\r\n            for (let i = 0, o = 0; i < n; ++i, o += lineWidth) {\r\n                lines[i] = str.substr(o, lineWidth);\r\n            }\r\n            str = lines.join(type === Scalar.BLOCK_LITERAL ? '\\n' : ' ');\r\n        }\r\n        return stringifyString({ comment, type, value: str }, ctx, onComment, onChompKeep);\r\n    }\r\n};\r\n\r\nfunction resolvePairs(seq, onError) {\r\n    if (isSeq(seq)) {\r\n        for (let i = 0; i < seq.items.length; ++i) {\r\n            let item = seq.items[i];\r\n            if (isPair(item))\r\n                continue;\r\n            else if (isMap(item)) {\r\n                if (item.items.length > 1)\r\n                    onError('Each pair must have its own sequence indicator');\r\n                const pair = item.items[0] || new Pair(new Scalar(null));\r\n                if (item.commentBefore)\r\n                    pair.key.commentBefore = pair.key.commentBefore\r\n                        ? `${item.commentBefore}\\n${pair.key.commentBefore}`\r\n                        : item.commentBefore;\r\n                if (item.comment) {\r\n                    const cn = pair.value ?? pair.key;\r\n                    cn.comment = cn.comment\r\n                        ? `${item.comment}\\n${cn.comment}`\r\n                        : item.comment;\r\n                }\r\n                item = pair;\r\n            }\r\n            seq.items[i] = isPair(item) ? item : new Pair(item);\r\n        }\r\n    }\r\n    else\r\n        onError('Expected a sequence for this tag');\r\n    return seq;\r\n}\r\nfunction createPairs(schema, iterable, ctx) {\r\n    const { replacer } = ctx;\r\n    const pairs = new YAMLSeq(schema);\r\n    pairs.tag = 'tag:yaml.org,2002:pairs';\r\n    let i = 0;\r\n    if (iterable && Symbol.iterator in Object(iterable))\r\n        for (let it of iterable) {\r\n            if (typeof replacer === 'function')\r\n                it = replacer.call(iterable, String(i++), it);\r\n            let key, value;\r\n            if (Array.isArray(it)) {\r\n                if (it.length === 2) {\r\n                    key = it[0];\r\n                    value = it[1];\r\n                }\r\n                else\r\n                    throw new TypeError(`Expected [key, value] tuple: ${it}`);\r\n            }\r\n            else if (it && it instanceof Object) {\r\n                const keys = Object.keys(it);\r\n                if (keys.length === 1) {\r\n                    key = keys[0];\r\n                    value = it[key];\r\n                }\r\n                else {\r\n                    throw new TypeError(`Expected tuple with one key, not ${keys.length} keys`);\r\n                }\r\n            }\r\n            else {\r\n                key = it;\r\n            }\r\n            pairs.items.push(createPair(key, value, ctx));\r\n        }\r\n    return pairs;\r\n}\r\nconst pairs = {\r\n    collection: 'seq',\r\n    default: false,\r\n    tag: 'tag:yaml.org,2002:pairs',\r\n    resolve: resolvePairs,\r\n    createNode: createPairs\r\n};\r\n\r\nclass YAMLOMap extends YAMLSeq {\r\n    constructor() {\r\n        super();\r\n        this.add = YAMLMap.prototype.add.bind(this);\r\n        this.delete = YAMLMap.prototype.delete.bind(this);\r\n        this.get = YAMLMap.prototype.get.bind(this);\r\n        this.has = YAMLMap.prototype.has.bind(this);\r\n        this.set = YAMLMap.prototype.set.bind(this);\r\n        this.tag = YAMLOMap.tag;\r\n    }\r\n    /**\r\n     * If `ctx` is given, the return type is actually `Map<unknown, unknown>`,\r\n     * but TypeScript won't allow widening the signature of a child method.\r\n     */\r\n    toJSON(_, ctx) {\r\n        if (!ctx)\r\n            return super.toJSON(_);\r\n        const map = new Map();\r\n        if (ctx?.onCreate)\r\n            ctx.onCreate(map);\r\n        for (const pair of this.items) {\r\n            let key, value;\r\n            if (isPair(pair)) {\r\n                key = toJS(pair.key, '', ctx);\r\n                value = toJS(pair.value, key, ctx);\r\n            }\r\n            else {\r\n                key = toJS(pair, '', ctx);\r\n            }\r\n            if (map.has(key))\r\n                throw new Error('Ordered maps must not include duplicate keys');\r\n            map.set(key, value);\r\n        }\r\n        return map;\r\n    }\r\n    static from(schema, iterable, ctx) {\r\n        const pairs = createPairs(schema, iterable, ctx);\r\n        const omap = new this();\r\n        omap.items = pairs.items;\r\n        return omap;\r\n    }\r\n}\r\nYAMLOMap.tag = 'tag:yaml.org,2002:omap';\r\nconst omap = {\r\n    collection: 'seq',\r\n    identify: value => value instanceof Map,\r\n    nodeClass: YAMLOMap,\r\n    default: false,\r\n    tag: 'tag:yaml.org,2002:omap',\r\n    resolve(seq, onError) {\r\n        const pairs = resolvePairs(seq, onError);\r\n        const seenKeys = [];\r\n        for (const { key } of pairs.items) {\r\n            if (isScalar$1(key)) {\r\n                if (seenKeys.includes(key.value)) {\r\n                    onError(`Ordered maps must not include duplicate keys: ${key.value}`);\r\n                }\r\n                else {\r\n                    seenKeys.push(key.value);\r\n                }\r\n            }\r\n        }\r\n        return Object.assign(new YAMLOMap(), pairs);\r\n    },\r\n    createNode: (schema, iterable, ctx) => YAMLOMap.from(schema, iterable, ctx)\r\n};\r\n\r\nfunction boolStringify({ value, source }, ctx) {\r\n    const boolObj = value ? trueTag : falseTag;\r\n    if (source && boolObj.test.test(source))\r\n        return source;\r\n    return value ? ctx.options.trueStr : ctx.options.falseStr;\r\n}\r\nconst trueTag = {\r\n    identify: value => value === true,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:bool',\r\n    test: /^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,\r\n    resolve: () => new Scalar(true),\r\n    stringify: boolStringify\r\n};\r\nconst falseTag = {\r\n    identify: value => value === false,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:bool',\r\n    test: /^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,\r\n    resolve: () => new Scalar(false),\r\n    stringify: boolStringify\r\n};\r\n\r\nconst floatNaN = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    test: /^(?:[-+]?\\.(?:inf|Inf|INF)|\\.nan|\\.NaN|\\.NAN)$/,\r\n    resolve: (str) => str.slice(-3).toLowerCase() === 'nan'\r\n        ? NaN\r\n        : str[0] === '-'\r\n            ? Number.NEGATIVE_INFINITY\r\n            : Number.POSITIVE_INFINITY,\r\n    stringify: stringifyNumber\r\n};\r\nconst floatExp = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    format: 'EXP',\r\n    test: /^[-+]?(?:[0-9][0-9_]*)?(?:\\.[0-9_]*)?[eE][-+]?[0-9]+$/,\r\n    resolve: (str) => parseFloat(str.replace(/_/g, '')),\r\n    stringify(node) {\r\n        const num = Number(node.value);\r\n        return isFinite(num) ? num.toExponential() : stringifyNumber(node);\r\n    }\r\n};\r\nconst float = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    test: /^[-+]?(?:[0-9][0-9_]*)?\\.[0-9_]*$/,\r\n    resolve(str) {\r\n        const node = new Scalar(parseFloat(str.replace(/_/g, '')));\r\n        const dot = str.indexOf('.');\r\n        if (dot !== -1) {\r\n            const f = str.substring(dot + 1).replace(/_/g, '');\r\n            if (f[f.length - 1] === '0')\r\n                node.minFractionDigits = f.length;\r\n        }\r\n        return node;\r\n    },\r\n    stringify: stringifyNumber\r\n};\r\n\r\nconst intIdentify = (value) => typeof value === 'bigint' || Number.isInteger(value);\r\nfunction intResolve(str, offset, radix, { intAsBigInt }) {\r\n    const sign = str[0];\r\n    if (sign === '-' || sign === '+')\r\n        offset += 1;\r\n    str = str.substring(offset).replace(/_/g, '');\r\n    if (intAsBigInt) {\r\n        switch (radix) {\r\n            case 2:\r\n                str = `0b${str}`;\r\n                break;\r\n            case 8:\r\n                str = `0o${str}`;\r\n                break;\r\n            case 16:\r\n                str = `0x${str}`;\r\n                break;\r\n        }\r\n        const n = BigInt(str);\r\n        return sign === '-' ? BigInt(-1) * n : n;\r\n    }\r\n    const n = parseInt(str, radix);\r\n    return sign === '-' ? -1 * n : n;\r\n}\r\nfunction intStringify(node, radix, prefix) {\r\n    const { value } = node;\r\n    if (intIdentify(value)) {\r\n        const str = value.toString(radix);\r\n        return value < 0 ? '-' + prefix + str.substr(1) : prefix + str;\r\n    }\r\n    return stringifyNumber(node);\r\n}\r\nconst intBin = {\r\n    identify: intIdentify,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'BIN',\r\n    test: /^[-+]?0b[0-1_]+$/,\r\n    resolve: (str, _onError, opt) => intResolve(str, 2, 2, opt),\r\n    stringify: node => intStringify(node, 2, '0b')\r\n};\r\nconst intOct = {\r\n    identify: intIdentify,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'OCT',\r\n    test: /^[-+]?0[0-7_]+$/,\r\n    resolve: (str, _onError, opt) => intResolve(str, 1, 8, opt),\r\n    stringify: node => intStringify(node, 8, '0')\r\n};\r\nconst int = {\r\n    identify: intIdentify,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    test: /^[-+]?[0-9][0-9_]*$/,\r\n    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),\r\n    stringify: stringifyNumber\r\n};\r\nconst intHex = {\r\n    identify: intIdentify,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'HEX',\r\n    test: /^[-+]?0x[0-9a-fA-F_]+$/,\r\n    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),\r\n    stringify: node => intStringify(node, 16, '0x')\r\n};\r\n\r\nclass YAMLSet extends YAMLMap {\r\n    constructor(schema) {\r\n        super(schema);\r\n        this.tag = YAMLSet.tag;\r\n    }\r\n    add(key) {\r\n        let pair;\r\n        if (isPair(key))\r\n            pair = key;\r\n        else if (key &&\r\n            typeof key === 'object' &&\r\n            'key' in key &&\r\n            'value' in key &&\r\n            key.value === null)\r\n            pair = new Pair(key.key, null);\r\n        else\r\n            pair = new Pair(key, null);\r\n        const prev = findPair(this.items, pair.key);\r\n        if (!prev)\r\n            this.items.push(pair);\r\n    }\r\n    /**\r\n     * If `keepPair` is `true`, returns the Pair matching `key`.\r\n     * Otherwise, returns the value of that Pair's key.\r\n     */\r\n    get(key, keepPair) {\r\n        const pair = findPair(this.items, key);\r\n        return !keepPair && isPair(pair)\r\n            ? isScalar$1(pair.key)\r\n                ? pair.key.value\r\n                : pair.key\r\n            : pair;\r\n    }\r\n    set(key, value) {\r\n        if (typeof value !== 'boolean')\r\n            throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof value}`);\r\n        const prev = findPair(this.items, key);\r\n        if (prev && !value) {\r\n            this.items.splice(this.items.indexOf(prev), 1);\r\n        }\r\n        else if (!prev && value) {\r\n            this.items.push(new Pair(key));\r\n        }\r\n    }\r\n    toJSON(_, ctx) {\r\n        return super.toJSON(_, ctx, Set);\r\n    }\r\n    toString(ctx, onComment, onChompKeep) {\r\n        if (!ctx)\r\n            return JSON.stringify(this);\r\n        if (this.hasAllNullValues(true))\r\n            return super.toString(Object.assign({}, ctx, { allNullValues: true }), onComment, onChompKeep);\r\n        else\r\n            throw new Error('Set items must all have null values');\r\n    }\r\n    static from(schema, iterable, ctx) {\r\n        const { replacer } = ctx;\r\n        const set = new this(schema);\r\n        if (iterable && Symbol.iterator in Object(iterable))\r\n            for (let value of iterable) {\r\n                if (typeof replacer === 'function')\r\n                    value = replacer.call(iterable, value, value);\r\n                set.items.push(createPair(value, null, ctx));\r\n            }\r\n        return set;\r\n    }\r\n}\r\nYAMLSet.tag = 'tag:yaml.org,2002:set';\r\nconst set = {\r\n    collection: 'map',\r\n    identify: value => value instanceof Set,\r\n    nodeClass: YAMLSet,\r\n    default: false,\r\n    tag: 'tag:yaml.org,2002:set',\r\n    createNode: (schema, iterable, ctx) => YAMLSet.from(schema, iterable, ctx),\r\n    resolve(map, onError) {\r\n        if (isMap(map)) {\r\n            if (map.hasAllNullValues(true))\r\n                return Object.assign(new YAMLSet(), map);\r\n            else\r\n                onError('Set items must all have null values');\r\n        }\r\n        else\r\n            onError('Expected a mapping for this tag');\r\n        return map;\r\n    }\r\n};\r\n\r\n/** Internal types handle bigint as number, because TS can't figure it out. */\r\nfunction parseSexagesimal(str, asBigInt) {\r\n    const sign = str[0];\r\n    const parts = sign === '-' || sign === '+' ? str.substring(1) : str;\r\n    const num = (n) => asBigInt ? BigInt(n) : Number(n);\r\n    const res = parts\r\n        .replace(/_/g, '')\r\n        .split(':')\r\n        .reduce((res, p) => res * num(60) + num(p), num(0));\r\n    return (sign === '-' ? num(-1) * res : res);\r\n}\r\n/**\r\n * hhhh:mm:ss.sss\r\n *\r\n * Internal types handle bigint as number, because TS can't figure it out.\r\n */\r\nfunction stringifySexagesimal(node) {\r\n    let { value } = node;\r\n    let num = (n) => n;\r\n    if (typeof value === 'bigint')\r\n        num = n => BigInt(n);\r\n    else if (isNaN(value) || !isFinite(value))\r\n        return stringifyNumber(node);\r\n    let sign = '';\r\n    if (value < 0) {\r\n        sign = '-';\r\n        value *= num(-1);\r\n    }\r\n    const _60 = num(60);\r\n    const parts = [value % _60]; // seconds, including ms\r\n    if (value < 60) {\r\n        parts.unshift(0); // at least one : is required\r\n    }\r\n    else {\r\n        value = (value - parts[0]) / _60;\r\n        parts.unshift(value % _60); // minutes\r\n        if (value >= 60) {\r\n            value = (value - parts[0]) / _60;\r\n            parts.unshift(value); // hours\r\n        }\r\n    }\r\n    return (sign +\r\n        parts\r\n            .map(n => String(n).padStart(2, '0'))\r\n            .join(':')\r\n            .replace(/000000\\d*$/, '') // % 60 may introduce error\r\n    );\r\n}\r\nconst intTime = {\r\n    identify: value => typeof value === 'bigint' || Number.isInteger(value),\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:int',\r\n    format: 'TIME',\r\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,\r\n    resolve: (str, _onError, { intAsBigInt }) => parseSexagesimal(str, intAsBigInt),\r\n    stringify: stringifySexagesimal\r\n};\r\nconst floatTime = {\r\n    identify: value => typeof value === 'number',\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:float',\r\n    format: 'TIME',\r\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*$/,\r\n    resolve: str => parseSexagesimal(str, false),\r\n    stringify: stringifySexagesimal\r\n};\r\nconst timestamp = {\r\n    identify: value => value instanceof Date,\r\n    default: true,\r\n    tag: 'tag:yaml.org,2002:timestamp',\r\n    // If the time zone is omitted, the timestamp is assumed to be specified in UTC. The time part\r\n    // may be omitted altogether, resulting in a date format. In such a case, the time part is\r\n    // assumed to be 00:00:00Z (start of day, UTC).\r\n    test: RegExp('^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})' + // YYYY-Mm-Dd\r\n        '(?:' + // time is optional\r\n        '(?:t|T|[ \\\\t]+)' + // t | T | whitespace\r\n        '([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\\\.[0-9]+)?)' + // Hh:Mm:Ss(.ss)?\r\n        '(?:[ \\\\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?' + // Z | +5 | -03:30\r\n        ')?$'),\r\n    resolve(str) {\r\n        const match = str.match(timestamp.test);\r\n        if (!match)\r\n            throw new Error('!!timestamp expects a date, starting with yyyy-mm-dd');\r\n        const [, year, month, day, hour, minute, second] = match.map(Number);\r\n        const millisec = match[7] ? Number((match[7] + '00').substr(1, 3)) : 0;\r\n        let date = Date.UTC(year, month - 1, day, hour || 0, minute || 0, second || 0, millisec);\r\n        const tz = match[8];\r\n        if (tz && tz !== 'Z') {\r\n            let d = parseSexagesimal(tz, false);\r\n            if (Math.abs(d) < 30)\r\n                d *= 60;\r\n            date -= 60000 * d;\r\n        }\r\n        return new Date(date);\r\n    },\r\n    stringify: ({ value }) => value.toISOString().replace(/((T00:00)?:00)?\\.000Z$/, '')\r\n};\r\n\r\nconst schema = [\r\n    map$1,\r\n    seq,\r\n    string,\r\n    nullTag,\r\n    trueTag,\r\n    falseTag,\r\n    intBin,\r\n    intOct,\r\n    int,\r\n    intHex,\r\n    floatNaN,\r\n    floatExp,\r\n    float,\r\n    binary,\r\n    omap,\r\n    pairs,\r\n    set,\r\n    intTime,\r\n    floatTime,\r\n    timestamp\r\n];\r\n\r\nconst schemas = new Map([\r\n    ['core', schema$2],\r\n    ['failsafe', [map$1, seq, string]],\r\n    ['json', schema$1],\r\n    ['yaml11', schema],\r\n    ['yaml-1.1', schema]\r\n]);\r\nconst tagsByName = {\r\n    binary,\r\n    bool: boolTag,\r\n    float: float$1,\r\n    floatExp: floatExp$1,\r\n    floatNaN: floatNaN$1,\r\n    floatTime,\r\n    int: int$1,\r\n    intHex: intHex$1,\r\n    intOct: intOct$1,\r\n    intTime,\r\n    map: map$1,\r\n    null: nullTag,\r\n    omap,\r\n    pairs,\r\n    seq,\r\n    set,\r\n    timestamp\r\n};\r\nconst coreKnownTags = {\r\n    'tag:yaml.org,2002:binary': binary,\r\n    'tag:yaml.org,2002:omap': omap,\r\n    'tag:yaml.org,2002:pairs': pairs,\r\n    'tag:yaml.org,2002:set': set,\r\n    'tag:yaml.org,2002:timestamp': timestamp\r\n};\r\nfunction getTags(customTags, schemaName) {\r\n    let tags = schemas.get(schemaName);\r\n    if (!tags) {\r\n        if (Array.isArray(customTags))\r\n            tags = [];\r\n        else {\r\n            const keys = Array.from(schemas.keys())\r\n                .filter(key => key !== 'yaml11')\r\n                .map(key => JSON.stringify(key))\r\n                .join(', ');\r\n            throw new Error(`Unknown schema \"${schemaName}\"; use one of ${keys} or define customTags array`);\r\n        }\r\n    }\r\n    if (Array.isArray(customTags)) {\r\n        for (const tag of customTags)\r\n            tags = tags.concat(tag);\r\n    }\r\n    else if (typeof customTags === 'function') {\r\n        tags = customTags(tags.slice());\r\n    }\r\n    return tags.map(tag => {\r\n        if (typeof tag !== 'string')\r\n            return tag;\r\n        const tagObj = tagsByName[tag];\r\n        if (tagObj)\r\n            return tagObj;\r\n        const keys = Object.keys(tagsByName)\r\n            .map(key => JSON.stringify(key))\r\n            .join(', ');\r\n        throw new Error(`Unknown custom tag \"${tag}\"; use one of ${keys}`);\r\n    });\r\n}\r\n\r\nconst sortMapEntriesByKey = (a, b) => a.key < b.key ? -1 : a.key > b.key ? 1 : 0;\r\nclass Schema {\r\n    constructor({ compat, customTags, merge, resolveKnownTags, schema, sortMapEntries, toStringDefaults }) {\r\n        this.compat = Array.isArray(compat)\r\n            ? getTags(compat, 'compat')\r\n            : compat\r\n                ? getTags(null, compat)\r\n                : null;\r\n        this.merge = !!merge;\r\n        this.name = (typeof schema === 'string' && schema) || 'core';\r\n        this.knownTags = resolveKnownTags ? coreKnownTags : {};\r\n        this.tags = getTags(customTags, this.name);\r\n        this.toStringOptions = toStringDefaults ?? null;\r\n        Object.defineProperty(this, MAP, { value: map$1 });\r\n        Object.defineProperty(this, SCALAR$1, { value: string });\r\n        Object.defineProperty(this, SEQ, { value: seq });\r\n        // Used by createMap()\r\n        this.sortMapEntries =\r\n            typeof sortMapEntries === 'function'\r\n                ? sortMapEntries\r\n                : sortMapEntries === true\r\n                    ? sortMapEntriesByKey\r\n                    : null;\r\n    }\r\n    clone() {\r\n        const copy = Object.create(Schema.prototype, Object.getOwnPropertyDescriptors(this));\r\n        copy.tags = this.tags.slice();\r\n        return copy;\r\n    }\r\n}\r\n\r\nfunction stringifyDocument(doc, options) {\r\n    const lines = [];\r\n    let hasDirectives = options.directives === true;\r\n    if (options.directives !== false && doc.directives) {\r\n        const dir = doc.directives.toString(doc);\r\n        if (dir) {\r\n            lines.push(dir);\r\n            hasDirectives = true;\r\n        }\r\n        else if (doc.directives.docStart)\r\n            hasDirectives = true;\r\n    }\r\n    if (hasDirectives)\r\n        lines.push('---');\r\n    const ctx = createStringifyContext(doc, options);\r\n    const { commentString } = ctx.options;\r\n    if (doc.commentBefore) {\r\n        if (lines.length !== 1)\r\n            lines.unshift('');\r\n        const cs = commentString(doc.commentBefore);\r\n        lines.unshift(indentComment(cs, ''));\r\n    }\r\n    let chompKeep = false;\r\n    let contentComment = null;\r\n    if (doc.contents) {\r\n        if (isNode$1(doc.contents)) {\r\n            if (doc.contents.spaceBefore && hasDirectives)\r\n                lines.push('');\r\n            if (doc.contents.commentBefore) {\r\n                const cs = commentString(doc.contents.commentBefore);\r\n                lines.push(indentComment(cs, ''));\r\n            }\r\n            // top-level block scalars need to be indented if followed by a comment\r\n            ctx.forceBlockIndent = !!doc.comment;\r\n            contentComment = doc.contents.comment;\r\n        }\r\n        const onChompKeep = contentComment ? undefined : () => (chompKeep = true);\r\n        let body = stringify$2(doc.contents, ctx, () => (contentComment = null), onChompKeep);\r\n        if (contentComment)\r\n            body += lineComment(body, '', commentString(contentComment));\r\n        if ((body[0] === '|' || body[0] === '>') &&\r\n            lines[lines.length - 1] === '---') {\r\n            // Top-level block scalars with a preceding doc marker ought to use the\r\n            // same line for their header.\r\n            lines[lines.length - 1] = `--- ${body}`;\r\n        }\r\n        else\r\n            lines.push(body);\r\n    }\r\n    else {\r\n        lines.push(stringify$2(doc.contents, ctx));\r\n    }\r\n    if (doc.directives?.docEnd) {\r\n        if (doc.comment) {\r\n            const cs = commentString(doc.comment);\r\n            if (cs.includes('\\n')) {\r\n                lines.push('...');\r\n                lines.push(indentComment(cs, ''));\r\n            }\r\n            else {\r\n                lines.push(`... ${cs}`);\r\n            }\r\n        }\r\n        else {\r\n            lines.push('...');\r\n        }\r\n    }\r\n    else {\r\n        let dc = doc.comment;\r\n        if (dc && chompKeep)\r\n            dc = dc.replace(/^\\n+/, '');\r\n        if (dc) {\r\n            if ((!chompKeep || contentComment) && lines[lines.length - 1] !== '')\r\n                lines.push('');\r\n            lines.push(indentComment(commentString(dc), ''));\r\n        }\r\n    }\r\n    return lines.join('\\n') + '\\n';\r\n}\r\n\r\nclass Document {\r\n    constructor(value, replacer, options) {\r\n        /** A comment before this Document */\r\n        this.commentBefore = null;\r\n        /** A comment immediately after this Document */\r\n        this.comment = null;\r\n        /** Errors encountered during parsing. */\r\n        this.errors = [];\r\n        /** Warnings encountered during parsing. */\r\n        this.warnings = [];\r\n        Object.defineProperty(this, NODE_TYPE, { value: DOC });\r\n        let _replacer = null;\r\n        if (typeof replacer === 'function' || Array.isArray(replacer)) {\r\n            _replacer = replacer;\r\n        }\r\n        else if (options === undefined && replacer) {\r\n            options = replacer;\r\n            replacer = undefined;\r\n        }\r\n        const opt = Object.assign({\r\n            intAsBigInt: false,\r\n            keepSourceTokens: false,\r\n            logLevel: 'warn',\r\n            prettyErrors: true,\r\n            strict: true,\r\n            uniqueKeys: true,\r\n            version: '1.2'\r\n        }, options);\r\n        this.options = opt;\r\n        let { version } = opt;\r\n        if (options?._directives) {\r\n            this.directives = options._directives.atDocument();\r\n            if (this.directives.yaml.explicit)\r\n                version = this.directives.yaml.version;\r\n        }\r\n        else\r\n            this.directives = new Directives({ version });\r\n        this.setSchema(version, options);\r\n        // @ts-expect-error We can't really know that this matches Contents.\r\n        this.contents =\r\n            value === undefined ? null : this.createNode(value, _replacer, options);\r\n    }\r\n    /**\r\n     * Create a deep copy of this Document and its contents.\r\n     *\r\n     * Custom Node values that inherit from `Object` still refer to their original instances.\r\n     */\r\n    clone() {\r\n        const copy = Object.create(Document.prototype, {\r\n            [NODE_TYPE]: { value: DOC }\r\n        });\r\n        copy.commentBefore = this.commentBefore;\r\n        copy.comment = this.comment;\r\n        copy.errors = this.errors.slice();\r\n        copy.warnings = this.warnings.slice();\r\n        copy.options = Object.assign({}, this.options);\r\n        if (this.directives)\r\n            copy.directives = this.directives.clone();\r\n        copy.schema = this.schema.clone();\r\n        // @ts-expect-error We can't really know that this matches Contents.\r\n        copy.contents = isNode$1(this.contents)\r\n            ? this.contents.clone(copy.schema)\r\n            : this.contents;\r\n        if (this.range)\r\n            copy.range = this.range.slice();\r\n        return copy;\r\n    }\r\n    /** Adds a value to the document. */\r\n    add(value) {\r\n        if (assertCollection(this.contents))\r\n            this.contents.add(value);\r\n    }\r\n    /** Adds a value to the document. */\r\n    addIn(path, value) {\r\n        if (assertCollection(this.contents))\r\n            this.contents.addIn(path, value);\r\n    }\r\n    /**\r\n     * Create a new `Alias` node, ensuring that the target `node` has the required anchor.\r\n     *\r\n     * If `node` already has an anchor, `name` is ignored.\r\n     * Otherwise, the `node.anchor` value will be set to `name`,\r\n     * or if an anchor with that name is already present in the document,\r\n     * `name` will be used as a prefix for a new unique anchor.\r\n     * If `name` is undefined, the generated anchor will use 'a' as a prefix.\r\n     */\r\n    createAlias(node, name) {\r\n        if (!node.anchor) {\r\n            const prev = anchorNames(this);\r\n            node.anchor =\r\n                // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\r\n                !name || prev.has(name) ? findNewAnchor(name || 'a', prev) : name;\r\n        }\r\n        return new Alias(node.anchor);\r\n    }\r\n    createNode(value, replacer, options) {\r\n        let _replacer = undefined;\r\n        if (typeof replacer === 'function') {\r\n            value = replacer.call({ '': value }, '', value);\r\n            _replacer = replacer;\r\n        }\r\n        else if (Array.isArray(replacer)) {\r\n            const keyToStr = (v) => typeof v === 'number' || v instanceof String || v instanceof Number;\r\n            const asStr = replacer.filter(keyToStr).map(String);\r\n            if (asStr.length > 0)\r\n                replacer = replacer.concat(asStr);\r\n            _replacer = replacer;\r\n        }\r\n        else if (options === undefined && replacer) {\r\n            options = replacer;\r\n            replacer = undefined;\r\n        }\r\n        const { aliasDuplicateObjects, anchorPrefix, flow, keepUndefined, onTagObj, tag } = options ?? {};\r\n        const { onAnchor, setAnchors, sourceObjects } = createNodeAnchors(this, \r\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\r\n        anchorPrefix || 'a');\r\n        const ctx = {\r\n            aliasDuplicateObjects: aliasDuplicateObjects ?? true,\r\n            keepUndefined: keepUndefined ?? false,\r\n            onAnchor,\r\n            onTagObj,\r\n            replacer: _replacer,\r\n            schema: this.schema,\r\n            sourceObjects\r\n        };\r\n        const node = createNode(value, tag, ctx);\r\n        if (flow && isCollection$1(node))\r\n            node.flow = true;\r\n        setAnchors();\r\n        return node;\r\n    }\r\n    /**\r\n     * Convert a key and a value into a `Pair` using the current schema,\r\n     * recursively wrapping all values as `Scalar` or `Collection` nodes.\r\n     */\r\n    createPair(key, value, options = {}) {\r\n        const k = this.createNode(key, null, options);\r\n        const v = this.createNode(value, null, options);\r\n        return new Pair(k, v);\r\n    }\r\n    /**\r\n     * Removes a value from the document.\r\n     * @returns `true` if the item was found and removed.\r\n     */\r\n    delete(key) {\r\n        return assertCollection(this.contents) ? this.contents.delete(key) : false;\r\n    }\r\n    /**\r\n     * Removes a value from the document.\r\n     * @returns `true` if the item was found and removed.\r\n     */\r\n    deleteIn(path) {\r\n        if (isEmptyPath(path)) {\r\n            if (this.contents == null)\r\n                return false;\r\n            // @ts-expect-error Presumed impossible if Strict extends false\r\n            this.contents = null;\r\n            return true;\r\n        }\r\n        return assertCollection(this.contents)\r\n            ? this.contents.deleteIn(path)\r\n            : false;\r\n    }\r\n    /**\r\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\r\n     * scalar values from their surrounding node; to disable set `keepScalar` to\r\n     * `true` (collections are always returned intact).\r\n     */\r\n    get(key, keepScalar) {\r\n        return isCollection$1(this.contents)\r\n            ? this.contents.get(key, keepScalar)\r\n            : undefined;\r\n    }\r\n    /**\r\n     * Returns item at `path`, or `undefined` if not found. By default unwraps\r\n     * scalar values from their surrounding node; to disable set `keepScalar` to\r\n     * `true` (collections are always returned intact).\r\n     */\r\n    getIn(path, keepScalar) {\r\n        if (isEmptyPath(path))\r\n            return !keepScalar && isScalar$1(this.contents)\r\n                ? this.contents.value\r\n                : this.contents;\r\n        return isCollection$1(this.contents)\r\n            ? this.contents.getIn(path, keepScalar)\r\n            : undefined;\r\n    }\r\n    /**\r\n     * Checks if the document includes a value with the key `key`.\r\n     */\r\n    has(key) {\r\n        return isCollection$1(this.contents) ? this.contents.has(key) : false;\r\n    }\r\n    /**\r\n     * Checks if the document includes a value at `path`.\r\n     */\r\n    hasIn(path) {\r\n        if (isEmptyPath(path))\r\n            return this.contents !== undefined;\r\n        return isCollection$1(this.contents) ? this.contents.hasIn(path) : false;\r\n    }\r\n    /**\r\n     * Sets a value in this document. For `!!set`, `value` needs to be a\r\n     * boolean to add/remove the item from the set.\r\n     */\r\n    set(key, value) {\r\n        if (this.contents == null) {\r\n            // @ts-expect-error We can't really know that this matches Contents.\r\n            this.contents = collectionFromPath(this.schema, [key], value);\r\n        }\r\n        else if (assertCollection(this.contents)) {\r\n            this.contents.set(key, value);\r\n        }\r\n    }\r\n    /**\r\n     * Sets a value in this document. For `!!set`, `value` needs to be a\r\n     * boolean to add/remove the item from the set.\r\n     */\r\n    setIn(path, value) {\r\n        if (isEmptyPath(path)) {\r\n            // @ts-expect-error We can't really know that this matches Contents.\r\n            this.contents = value;\r\n        }\r\n        else if (this.contents == null) {\r\n            // @ts-expect-error We can't really know that this matches Contents.\r\n            this.contents = collectionFromPath(this.schema, Array.from(path), value);\r\n        }\r\n        else if (assertCollection(this.contents)) {\r\n            this.contents.setIn(path, value);\r\n        }\r\n    }\r\n    /**\r\n     * Change the YAML version and schema used by the document.\r\n     * A `null` version disables support for directives, explicit tags, anchors, and aliases.\r\n     * It also requires the `schema` option to be given as a `Schema` instance value.\r\n     *\r\n     * Overrides all previously set schema options.\r\n     */\r\n    setSchema(version, options = {}) {\r\n        if (typeof version === 'number')\r\n            version = String(version);\r\n        let opt;\r\n        switch (version) {\r\n            case '1.1':\r\n                if (this.directives)\r\n                    this.directives.yaml.version = '1.1';\r\n                else\r\n                    this.directives = new Directives({ version: '1.1' });\r\n                opt = { merge: true, resolveKnownTags: false, schema: 'yaml-1.1' };\r\n                break;\r\n            case '1.2':\r\n            case 'next':\r\n                if (this.directives)\r\n                    this.directives.yaml.version = version;\r\n                else\r\n                    this.directives = new Directives({ version });\r\n                opt = { merge: false, resolveKnownTags: true, schema: 'core' };\r\n                break;\r\n            case null:\r\n                if (this.directives)\r\n                    delete this.directives;\r\n                opt = null;\r\n                break;\r\n            default: {\r\n                const sv = JSON.stringify(version);\r\n                throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${sv}`);\r\n            }\r\n        }\r\n        // Not using `instanceof Schema` to allow for duck typing\r\n        if (options.schema instanceof Object)\r\n            this.schema = options.schema;\r\n        else if (opt)\r\n            this.schema = new Schema(Object.assign(opt, options));\r\n        else\r\n            throw new Error(`With a null YAML version, the { schema: Schema } option is required`);\r\n    }\r\n    // json & jsonArg are only used from toJSON()\r\n    toJS({ json, jsonArg, mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\r\n        const ctx = {\r\n            anchors: new Map(),\r\n            doc: this,\r\n            keep: !json,\r\n            mapAsMap: mapAsMap === true,\r\n            mapKeyWarned: false,\r\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100\r\n        };\r\n        const res = toJS(this.contents, jsonArg ?? '', ctx);\r\n        if (typeof onAnchor === 'function')\r\n            for (const { count, res } of ctx.anchors.values())\r\n                onAnchor(res, count);\r\n        return typeof reviver === 'function'\r\n            ? applyReviver(reviver, { '': res }, '', res)\r\n            : res;\r\n    }\r\n    /**\r\n     * A JSON representation of the document `contents`.\r\n     *\r\n     * @param jsonArg Used by `JSON.stringify` to indicate the array index or\r\n     *   property name.\r\n     */\r\n    toJSON(jsonArg, onAnchor) {\r\n        return this.toJS({ json: true, jsonArg, mapAsMap: false, onAnchor });\r\n    }\r\n    /** A YAML representation of the document. */\r\n    toString(options = {}) {\r\n        if (this.errors.length > 0)\r\n            throw new Error('Document with errors cannot be stringified');\r\n        if ('indent' in options &&\r\n            (!Number.isInteger(options.indent) || Number(options.indent) <= 0)) {\r\n            const s = JSON.stringify(options.indent);\r\n            throw new Error(`\"indent\" option must be a positive integer, not ${s}`);\r\n        }\r\n        return stringifyDocument(this, options);\r\n    }\r\n}\r\nfunction assertCollection(contents) {\r\n    if (isCollection$1(contents))\r\n        return true;\r\n    throw new Error('Expected a YAML collection as document contents');\r\n}\r\n\r\nclass YAMLError extends Error {\r\n    constructor(name, pos, code, message) {\r\n        super();\r\n        this.name = name;\r\n        this.code = code;\r\n        this.message = message;\r\n        this.pos = pos;\r\n    }\r\n}\r\nclass YAMLParseError extends YAMLError {\r\n    constructor(pos, code, message) {\r\n        super('YAMLParseError', pos, code, message);\r\n    }\r\n}\r\nclass YAMLWarning extends YAMLError {\r\n    constructor(pos, code, message) {\r\n        super('YAMLWarning', pos, code, message);\r\n    }\r\n}\r\nconst prettifyError = (src, lc) => (error) => {\r\n    if (error.pos[0] === -1)\r\n        return;\r\n    error.linePos = error.pos.map(pos => lc.linePos(pos));\r\n    const { line, col } = error.linePos[0];\r\n    error.message += ` at line ${line}, column ${col}`;\r\n    let ci = col - 1;\r\n    let lineStr = src\r\n        .substring(lc.lineStarts[line - 1], lc.lineStarts[line])\r\n        .replace(/[\\n\\r]+$/, '');\r\n    // Trim to max 80 chars, keeping col position near the middle\r\n    if (ci >= 60 && lineStr.length > 80) {\r\n        const trimStart = Math.min(ci - 39, lineStr.length - 79);\r\n        lineStr = '…' + lineStr.substring(trimStart);\r\n        ci -= trimStart - 1;\r\n    }\r\n    if (lineStr.length > 80)\r\n        lineStr = lineStr.substring(0, 79) + '…';\r\n    // Include previous line in context if pointing at line start\r\n    if (line > 1 && /^ *$/.test(lineStr.substring(0, ci))) {\r\n        // Regexp won't match if start is trimmed\r\n        let prev = src.substring(lc.lineStarts[line - 2], lc.lineStarts[line - 1]);\r\n        if (prev.length > 80)\r\n            prev = prev.substring(0, 79) + '…\\n';\r\n        lineStr = prev + lineStr;\r\n    }\r\n    if (/[^ ]/.test(lineStr)) {\r\n        let count = 1;\r\n        const end = error.linePos[1];\r\n        if (end && end.line === line && end.col > col) {\r\n            count = Math.max(1, Math.min(end.col - col, 80 - ci));\r\n        }\r\n        const pointer = ' '.repeat(ci) + '^'.repeat(count);\r\n        error.message += `:\\n\\n${lineStr}\\n${pointer}\\n`;\r\n    }\r\n};\r\n\r\nfunction resolveProps(tokens, { flow, indicator, next, offset, onError, parentIndent, startOnNewline }) {\r\n    let spaceBefore = false;\r\n    let atNewline = startOnNewline;\r\n    let hasSpace = startOnNewline;\r\n    let comment = '';\r\n    let commentSep = '';\r\n    let hasNewline = false;\r\n    let reqSpace = false;\r\n    let tab = null;\r\n    let anchor = null;\r\n    let tag = null;\r\n    let newlineAfterProp = null;\r\n    let comma = null;\r\n    let found = null;\r\n    let start = null;\r\n    for (const token of tokens) {\r\n        if (reqSpace) {\r\n            if (token.type !== 'space' &&\r\n                token.type !== 'newline' &&\r\n                token.type !== 'comma')\r\n                onError(token.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\r\n            reqSpace = false;\r\n        }\r\n        if (tab) {\r\n            if (atNewline && token.type !== 'comment' && token.type !== 'newline') {\r\n                onError(tab, 'TAB_AS_INDENT', 'Tabs are not allowed as indentation');\r\n            }\r\n            tab = null;\r\n        }\r\n        switch (token.type) {\r\n            case 'space':\r\n                // At the doc level, tabs at line start may be parsed\r\n                // as leading white space rather than indentation.\r\n                // In a flow collection, only the parser handles indent.\r\n                if (!flow &&\r\n                    (indicator !== 'doc-start' || next?.type !== 'flow-collection') &&\r\n                    token.source.includes('\\t')) {\r\n                    tab = token;\r\n                }\r\n                hasSpace = true;\r\n                break;\r\n            case 'comment': {\r\n                if (!hasSpace)\r\n                    onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\r\n                const cb = token.source.substring(1) || ' ';\r\n                if (!comment)\r\n                    comment = cb;\r\n                else\r\n                    comment += commentSep + cb;\r\n                commentSep = '';\r\n                atNewline = false;\r\n                break;\r\n            }\r\n            case 'newline':\r\n                if (atNewline) {\r\n                    if (comment)\r\n                        comment += token.source;\r\n                    else\r\n                        spaceBefore = true;\r\n                }\r\n                else\r\n                    commentSep += token.source;\r\n                atNewline = true;\r\n                hasNewline = true;\r\n                if (anchor || tag)\r\n                    newlineAfterProp = token;\r\n                hasSpace = true;\r\n                break;\r\n            case 'anchor':\r\n                if (anchor)\r\n                    onError(token, 'MULTIPLE_ANCHORS', 'A node can have at most one anchor');\r\n                if (token.source.endsWith(':'))\r\n                    onError(token.offset + token.source.length - 1, 'BAD_ALIAS', 'Anchor ending in : is ambiguous', true);\r\n                anchor = token;\r\n                if (start === null)\r\n                    start = token.offset;\r\n                atNewline = false;\r\n                hasSpace = false;\r\n                reqSpace = true;\r\n                break;\r\n            case 'tag': {\r\n                if (tag)\r\n                    onError(token, 'MULTIPLE_TAGS', 'A node can have at most one tag');\r\n                tag = token;\r\n                if (start === null)\r\n                    start = token.offset;\r\n                atNewline = false;\r\n                hasSpace = false;\r\n                reqSpace = true;\r\n                break;\r\n            }\r\n            case indicator:\r\n                // Could here handle preceding comments differently\r\n                if (anchor || tag)\r\n                    onError(token, 'BAD_PROP_ORDER', `Anchors and tags must be after the ${token.source} indicator`);\r\n                if (found)\r\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.source} in ${flow ?? 'collection'}`);\r\n                found = token;\r\n                atNewline =\r\n                    indicator === 'seq-item-ind' || indicator === 'explicit-key-ind';\r\n                hasSpace = false;\r\n                break;\r\n            case 'comma':\r\n                if (flow) {\r\n                    if (comma)\r\n                        onError(token, 'UNEXPECTED_TOKEN', `Unexpected , in ${flow}`);\r\n                    comma = token;\r\n                    atNewline = false;\r\n                    hasSpace = false;\r\n                    break;\r\n                }\r\n            // else fallthrough\r\n            default:\r\n                onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.type} token`);\r\n                atNewline = false;\r\n                hasSpace = false;\r\n        }\r\n    }\r\n    const last = tokens[tokens.length - 1];\r\n    const end = last ? last.offset + last.source.length : offset;\r\n    if (reqSpace &&\r\n        next &&\r\n        next.type !== 'space' &&\r\n        next.type !== 'newline' &&\r\n        next.type !== 'comma' &&\r\n        (next.type !== 'scalar' || next.source !== '')) {\r\n        onError(next.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\r\n    }\r\n    if (tab &&\r\n        ((atNewline && tab.indent <= parentIndent) ||\r\n            next?.type === 'block-map' ||\r\n            next?.type === 'block-seq'))\r\n        onError(tab, 'TAB_AS_INDENT', 'Tabs are not allowed as indentation');\r\n    return {\r\n        comma,\r\n        found,\r\n        spaceBefore,\r\n        comment,\r\n        hasNewline,\r\n        anchor,\r\n        tag,\r\n        newlineAfterProp,\r\n        end,\r\n        start: start ?? end\r\n    };\r\n}\r\n\r\nfunction containsNewline(key) {\r\n    if (!key)\r\n        return null;\r\n    switch (key.type) {\r\n        case 'alias':\r\n        case 'scalar':\r\n        case 'double-quoted-scalar':\r\n        case 'single-quoted-scalar':\r\n            if (key.source.includes('\\n'))\r\n                return true;\r\n            if (key.end)\r\n                for (const st of key.end)\r\n                    if (st.type === 'newline')\r\n                        return true;\r\n            return false;\r\n        case 'flow-collection':\r\n            for (const it of key.items) {\r\n                for (const st of it.start)\r\n                    if (st.type === 'newline')\r\n                        return true;\r\n                if (it.sep)\r\n                    for (const st of it.sep)\r\n                        if (st.type === 'newline')\r\n                            return true;\r\n                if (containsNewline(it.key) || containsNewline(it.value))\r\n                    return true;\r\n            }\r\n            return false;\r\n        default:\r\n            return true;\r\n    }\r\n}\r\n\r\nfunction flowIndentCheck(indent, fc, onError) {\r\n    if (fc?.type === 'flow-collection') {\r\n        const end = fc.end[0];\r\n        if (end.indent === indent &&\r\n            (end.source === ']' || end.source === '}') &&\r\n            containsNewline(fc)) {\r\n            const msg = 'Flow end indicator should be more indented than parent';\r\n            onError(end, 'BAD_INDENT', msg, true);\r\n        }\r\n    }\r\n}\r\n\r\nfunction mapIncludes(ctx, items, search) {\r\n    const { uniqueKeys } = ctx.options;\r\n    if (uniqueKeys === false)\r\n        return false;\r\n    const isEqual = typeof uniqueKeys === 'function'\r\n        ? uniqueKeys\r\n        : (a, b) => a === b ||\r\n            (isScalar$1(a) &&\r\n                isScalar$1(b) &&\r\n                a.value === b.value &&\r\n                !(a.value === '<<' && ctx.schema.merge));\r\n    return items.some(pair => isEqual(pair.key, search));\r\n}\r\n\r\nconst startColMsg = 'All mapping items must start at the same column';\r\nfunction resolveBlockMap({ composeNode, composeEmptyNode }, ctx, bm, onError, tag) {\r\n    const NodeClass = tag?.nodeClass ?? YAMLMap;\r\n    const map = new NodeClass(ctx.schema);\r\n    if (ctx.atRoot)\r\n        ctx.atRoot = false;\r\n    let offset = bm.offset;\r\n    let commentEnd = null;\r\n    for (const collItem of bm.items) {\r\n        const { start, key, sep, value } = collItem;\r\n        // key properties\r\n        const keyProps = resolveProps(start, {\r\n            indicator: 'explicit-key-ind',\r\n            next: key ?? sep?.[0],\r\n            offset,\r\n            onError,\r\n            parentIndent: bm.indent,\r\n            startOnNewline: true\r\n        });\r\n        const implicitKey = !keyProps.found;\r\n        if (implicitKey) {\r\n            if (key) {\r\n                if (key.type === 'block-seq')\r\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'A block sequence may not be used as an implicit map key');\r\n                else if ('indent' in key && key.indent !== bm.indent)\r\n                    onError(offset, 'BAD_INDENT', startColMsg);\r\n            }\r\n            if (!keyProps.anchor && !keyProps.tag && !sep) {\r\n                commentEnd = keyProps.end;\r\n                if (keyProps.comment) {\r\n                    if (map.comment)\r\n                        map.comment += '\\n' + keyProps.comment;\r\n                    else\r\n                        map.comment = keyProps.comment;\r\n                }\r\n                continue;\r\n            }\r\n            if (keyProps.newlineAfterProp || containsNewline(key)) {\r\n                onError(key ?? start[start.length - 1], 'MULTILINE_IMPLICIT_KEY', 'Implicit keys need to be on a single line');\r\n            }\r\n        }\r\n        else if (keyProps.found?.indent !== bm.indent) {\r\n            onError(offset, 'BAD_INDENT', startColMsg);\r\n        }\r\n        // key value\r\n        const keyStart = keyProps.end;\r\n        const keyNode = key\r\n            ? composeNode(ctx, key, keyProps, onError)\r\n            : composeEmptyNode(ctx, keyStart, start, null, keyProps, onError);\r\n        if (ctx.schema.compat)\r\n            flowIndentCheck(bm.indent, key, onError);\r\n        if (mapIncludes(ctx, map.items, keyNode))\r\n            onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\r\n        // value properties\r\n        const valueProps = resolveProps(sep ?? [], {\r\n            indicator: 'map-value-ind',\r\n            next: value,\r\n            offset: keyNode.range[2],\r\n            onError,\r\n            parentIndent: bm.indent,\r\n            startOnNewline: !key || key.type === 'block-scalar'\r\n        });\r\n        offset = valueProps.end;\r\n        if (valueProps.found) {\r\n            if (implicitKey) {\r\n                if (value?.type === 'block-map' && !valueProps.hasNewline)\r\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'Nested mappings are not allowed in compact mappings');\r\n                if (ctx.options.strict &&\r\n                    keyProps.start < valueProps.found.offset - 1024)\r\n                    onError(keyNode.range, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit block mapping key');\r\n            }\r\n            // value value\r\n            const valueNode = value\r\n                ? composeNode(ctx, value, valueProps, onError)\r\n                : composeEmptyNode(ctx, offset, sep, null, valueProps, onError);\r\n            if (ctx.schema.compat)\r\n                flowIndentCheck(bm.indent, value, onError);\r\n            offset = valueNode.range[2];\r\n            const pair = new Pair(keyNode, valueNode);\r\n            if (ctx.options.keepSourceTokens)\r\n                pair.srcToken = collItem;\r\n            map.items.push(pair);\r\n        }\r\n        else {\r\n            // key with no value\r\n            if (implicitKey)\r\n                onError(keyNode.range, 'MISSING_CHAR', 'Implicit map keys need to be followed by map values');\r\n            if (valueProps.comment) {\r\n                if (keyNode.comment)\r\n                    keyNode.comment += '\\n' + valueProps.comment;\r\n                else\r\n                    keyNode.comment = valueProps.comment;\r\n            }\r\n            const pair = new Pair(keyNode);\r\n            if (ctx.options.keepSourceTokens)\r\n                pair.srcToken = collItem;\r\n            map.items.push(pair);\r\n        }\r\n    }\r\n    if (commentEnd && commentEnd < offset)\r\n        onError(commentEnd, 'IMPOSSIBLE', 'Map comment with trailing content');\r\n    map.range = [bm.offset, offset, commentEnd ?? offset];\r\n    return map;\r\n}\r\n\r\nfunction resolveBlockSeq({ composeNode, composeEmptyNode }, ctx, bs, onError, tag) {\r\n    const NodeClass = tag?.nodeClass ?? YAMLSeq;\r\n    const seq = new NodeClass(ctx.schema);\r\n    if (ctx.atRoot)\r\n        ctx.atRoot = false;\r\n    let offset = bs.offset;\r\n    let commentEnd = null;\r\n    for (const { start, value } of bs.items) {\r\n        const props = resolveProps(start, {\r\n            indicator: 'seq-item-ind',\r\n            next: value,\r\n            offset,\r\n            onError,\r\n            parentIndent: bs.indent,\r\n            startOnNewline: true\r\n        });\r\n        if (!props.found) {\r\n            if (props.anchor || props.tag || value) {\r\n                if (value && value.type === 'block-seq')\r\n                    onError(props.end, 'BAD_INDENT', 'All sequence items must start at the same column');\r\n                else\r\n                    onError(offset, 'MISSING_CHAR', 'Sequence item without - indicator');\r\n            }\r\n            else {\r\n                commentEnd = props.end;\r\n                if (props.comment)\r\n                    seq.comment = props.comment;\r\n                continue;\r\n            }\r\n        }\r\n        const node = value\r\n            ? composeNode(ctx, value, props, onError)\r\n            : composeEmptyNode(ctx, props.end, start, null, props, onError);\r\n        if (ctx.schema.compat)\r\n            flowIndentCheck(bs.indent, value, onError);\r\n        offset = node.range[2];\r\n        seq.items.push(node);\r\n    }\r\n    seq.range = [bs.offset, offset, commentEnd ?? offset];\r\n    return seq;\r\n}\r\n\r\nfunction resolveEnd(end, offset, reqSpace, onError) {\r\n    let comment = '';\r\n    if (end) {\r\n        let hasSpace = false;\r\n        let sep = '';\r\n        for (const token of end) {\r\n            const { source, type } = token;\r\n            switch (type) {\r\n                case 'space':\r\n                    hasSpace = true;\r\n                    break;\r\n                case 'comment': {\r\n                    if (reqSpace && !hasSpace)\r\n                        onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\r\n                    const cb = source.substring(1) || ' ';\r\n                    if (!comment)\r\n                        comment = cb;\r\n                    else\r\n                        comment += sep + cb;\r\n                    sep = '';\r\n                    break;\r\n                }\r\n                case 'newline':\r\n                    if (comment)\r\n                        sep += source;\r\n                    hasSpace = true;\r\n                    break;\r\n                default:\r\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${type} at node end`);\r\n            }\r\n            offset += source.length;\r\n        }\r\n    }\r\n    return { comment, offset };\r\n}\r\n\r\nconst blockMsg = 'Block collections are not allowed within flow collections';\r\nconst isBlock$1 = (token) => token && (token.type === 'block-map' || token.type === 'block-seq');\r\nfunction resolveFlowCollection({ composeNode, composeEmptyNode }, ctx, fc, onError, tag) {\r\n    const isMap = fc.start.source === '{';\r\n    const fcName = isMap ? 'flow map' : 'flow sequence';\r\n    const NodeClass = (tag?.nodeClass ?? (isMap ? YAMLMap : YAMLSeq));\r\n    const coll = new NodeClass(ctx.schema);\r\n    coll.flow = true;\r\n    const atRoot = ctx.atRoot;\r\n    if (atRoot)\r\n        ctx.atRoot = false;\r\n    let offset = fc.offset + fc.start.source.length;\r\n    for (let i = 0; i < fc.items.length; ++i) {\r\n        const collItem = fc.items[i];\r\n        const { start, key, sep, value } = collItem;\r\n        const props = resolveProps(start, {\r\n            flow: fcName,\r\n            indicator: 'explicit-key-ind',\r\n            next: key ?? sep?.[0],\r\n            offset,\r\n            onError,\r\n            parentIndent: fc.indent,\r\n            startOnNewline: false\r\n        });\r\n        if (!props.found) {\r\n            if (!props.anchor && !props.tag && !sep && !value) {\r\n                if (i === 0 && props.comma)\r\n                    onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\r\n                else if (i < fc.items.length - 1)\r\n                    onError(props.start, 'UNEXPECTED_TOKEN', `Unexpected empty item in ${fcName}`);\r\n                if (props.comment) {\r\n                    if (coll.comment)\r\n                        coll.comment += '\\n' + props.comment;\r\n                    else\r\n                        coll.comment = props.comment;\r\n                }\r\n                offset = props.end;\r\n                continue;\r\n            }\r\n            if (!isMap && ctx.options.strict && containsNewline(key))\r\n                onError(key, // checked by containsNewline()\r\n                'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\r\n        }\r\n        if (i === 0) {\r\n            if (props.comma)\r\n                onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\r\n        }\r\n        else {\r\n            if (!props.comma)\r\n                onError(props.start, 'MISSING_CHAR', `Missing , between ${fcName} items`);\r\n            if (props.comment) {\r\n                let prevItemComment = '';\r\n                loop: for (const st of start) {\r\n                    switch (st.type) {\r\n                        case 'comma':\r\n                        case 'space':\r\n                            break;\r\n                        case 'comment':\r\n                            prevItemComment = st.source.substring(1);\r\n                            break loop;\r\n                        default:\r\n                            break loop;\r\n                    }\r\n                }\r\n                if (prevItemComment) {\r\n                    let prev = coll.items[coll.items.length - 1];\r\n                    if (isPair(prev))\r\n                        prev = prev.value ?? prev.key;\r\n                    if (prev.comment)\r\n                        prev.comment += '\\n' + prevItemComment;\r\n                    else\r\n                        prev.comment = prevItemComment;\r\n                    props.comment = props.comment.substring(prevItemComment.length + 1);\r\n                }\r\n            }\r\n        }\r\n        if (!isMap && !sep && !props.found) {\r\n            // item is a value in a seq\r\n            // → key & sep are empty, start does not include ? or :\r\n            const valueNode = value\r\n                ? composeNode(ctx, value, props, onError)\r\n                : composeEmptyNode(ctx, props.end, sep, null, props, onError);\r\n            coll.items.push(valueNode);\r\n            offset = valueNode.range[2];\r\n            if (isBlock$1(value))\r\n                onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\r\n        }\r\n        else {\r\n            // item is a key+value pair\r\n            // key value\r\n            const keyStart = props.end;\r\n            const keyNode = key\r\n                ? composeNode(ctx, key, props, onError)\r\n                : composeEmptyNode(ctx, keyStart, start, null, props, onError);\r\n            if (isBlock$1(key))\r\n                onError(keyNode.range, 'BLOCK_IN_FLOW', blockMsg);\r\n            // value properties\r\n            const valueProps = resolveProps(sep ?? [], {\r\n                flow: fcName,\r\n                indicator: 'map-value-ind',\r\n                next: value,\r\n                offset: keyNode.range[2],\r\n                onError,\r\n                parentIndent: fc.indent,\r\n                startOnNewline: false\r\n            });\r\n            if (valueProps.found) {\r\n                if (!isMap && !props.found && ctx.options.strict) {\r\n                    if (sep)\r\n                        for (const st of sep) {\r\n                            if (st === valueProps.found)\r\n                                break;\r\n                            if (st.type === 'newline') {\r\n                                onError(st, 'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\r\n                                break;\r\n                            }\r\n                        }\r\n                    if (props.start < valueProps.found.offset - 1024)\r\n                        onError(valueProps.found, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit flow sequence key');\r\n                }\r\n            }\r\n            else if (value) {\r\n                if ('source' in value && value.source && value.source[0] === ':')\r\n                    onError(value, 'MISSING_CHAR', `Missing space after : in ${fcName}`);\r\n                else\r\n                    onError(valueProps.start, 'MISSING_CHAR', `Missing , or : between ${fcName} items`);\r\n            }\r\n            // value value\r\n            const valueNode = value\r\n                ? composeNode(ctx, value, valueProps, onError)\r\n                : valueProps.found\r\n                    ? composeEmptyNode(ctx, valueProps.end, sep, null, valueProps, onError)\r\n                    : null;\r\n            if (valueNode) {\r\n                if (isBlock$1(value))\r\n                    onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\r\n            }\r\n            else if (valueProps.comment) {\r\n                if (keyNode.comment)\r\n                    keyNode.comment += '\\n' + valueProps.comment;\r\n                else\r\n                    keyNode.comment = valueProps.comment;\r\n            }\r\n            const pair = new Pair(keyNode, valueNode);\r\n            if (ctx.options.keepSourceTokens)\r\n                pair.srcToken = collItem;\r\n            if (isMap) {\r\n                const map = coll;\r\n                if (mapIncludes(ctx, map.items, keyNode))\r\n                    onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\r\n                map.items.push(pair);\r\n            }\r\n            else {\r\n                const map = new YAMLMap(ctx.schema);\r\n                map.flow = true;\r\n                map.items.push(pair);\r\n                coll.items.push(map);\r\n            }\r\n            offset = valueNode ? valueNode.range[2] : valueProps.end;\r\n        }\r\n    }\r\n    const expectedEnd = isMap ? '}' : ']';\r\n    const [ce, ...ee] = fc.end;\r\n    let cePos = offset;\r\n    if (ce && ce.source === expectedEnd)\r\n        cePos = ce.offset + ce.source.length;\r\n    else {\r\n        const name = fcName[0].toUpperCase() + fcName.substring(1);\r\n        const msg = atRoot\r\n            ? `${name} must end with a ${expectedEnd}`\r\n            : `${name} in block collection must be sufficiently indented and end with a ${expectedEnd}`;\r\n        onError(offset, atRoot ? 'MISSING_CHAR' : 'BAD_INDENT', msg);\r\n        if (ce && ce.source.length !== 1)\r\n            ee.unshift(ce);\r\n    }\r\n    if (ee.length > 0) {\r\n        const end = resolveEnd(ee, cePos, ctx.options.strict, onError);\r\n        if (end.comment) {\r\n            if (coll.comment)\r\n                coll.comment += '\\n' + end.comment;\r\n            else\r\n                coll.comment = end.comment;\r\n        }\r\n        coll.range = [fc.offset, cePos, end.offset];\r\n    }\r\n    else {\r\n        coll.range = [fc.offset, cePos, cePos];\r\n    }\r\n    return coll;\r\n}\r\n\r\nfunction resolveCollection(CN, ctx, token, onError, tagName, tag) {\r\n    const coll = token.type === 'block-map'\r\n        ? resolveBlockMap(CN, ctx, token, onError, tag)\r\n        : token.type === 'block-seq'\r\n            ? resolveBlockSeq(CN, ctx, token, onError, tag)\r\n            : resolveFlowCollection(CN, ctx, token, onError, tag);\r\n    const Coll = coll.constructor;\r\n    // If we got a tagName matching the class, or the tag name is '!',\r\n    // then use the tagName from the node class used to create it.\r\n    if (tagName === '!' || tagName === Coll.tagName) {\r\n        coll.tag = Coll.tagName;\r\n        return coll;\r\n    }\r\n    if (tagName)\r\n        coll.tag = tagName;\r\n    return coll;\r\n}\r\nfunction composeCollection(CN, ctx, token, props, onError) {\r\n    const tagToken = props.tag;\r\n    const tagName = !tagToken\r\n        ? null\r\n        : ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg));\r\n    if (token.type === 'block-seq') {\r\n        const { anchor, newlineAfterProp: nl } = props;\r\n        const lastProp = anchor && tagToken\r\n            ? anchor.offset > tagToken.offset\r\n                ? anchor\r\n                : tagToken\r\n            : (anchor ?? tagToken);\r\n        if (lastProp && (!nl || nl.offset < lastProp.offset)) {\r\n            const message = 'Missing newline after block sequence props';\r\n            onError(lastProp, 'MISSING_CHAR', message);\r\n        }\r\n    }\r\n    const expType = token.type === 'block-map'\r\n        ? 'map'\r\n        : token.type === 'block-seq'\r\n            ? 'seq'\r\n            : token.start.source === '{'\r\n                ? 'map'\r\n                : 'seq';\r\n    // shortcut: check if it's a generic YAMLMap or YAMLSeq\r\n    // before jumping into the custom tag logic.\r\n    if (!tagToken ||\r\n        !tagName ||\r\n        tagName === '!' ||\r\n        (tagName === YAMLMap.tagName && expType === 'map') ||\r\n        (tagName === YAMLSeq.tagName && expType === 'seq')) {\r\n        return resolveCollection(CN, ctx, token, onError, tagName);\r\n    }\r\n    let tag = ctx.schema.tags.find(t => t.tag === tagName && t.collection === expType);\r\n    if (!tag) {\r\n        const kt = ctx.schema.knownTags[tagName];\r\n        if (kt && kt.collection === expType) {\r\n            ctx.schema.tags.push(Object.assign({}, kt, { default: false }));\r\n            tag = kt;\r\n        }\r\n        else {\r\n            if (kt?.collection) {\r\n                onError(tagToken, 'BAD_COLLECTION_TYPE', `${kt.tag} used for ${expType} collection, but expects ${kt.collection}`, true);\r\n            }\r\n            else {\r\n                onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, true);\r\n            }\r\n            return resolveCollection(CN, ctx, token, onError, tagName);\r\n        }\r\n    }\r\n    const coll = resolveCollection(CN, ctx, token, onError, tagName, tag);\r\n    const res = tag.resolve?.(coll, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg), ctx.options) ?? coll;\r\n    const node = isNode$1(res)\r\n        ? res\r\n        : new Scalar(res);\r\n    node.range = coll.range;\r\n    node.tag = tagName;\r\n    if (tag?.format)\r\n        node.format = tag.format;\r\n    return node;\r\n}\r\n\r\nfunction resolveBlockScalar(ctx, scalar, onError) {\r\n    const start = scalar.offset;\r\n    const header = parseBlockScalarHeader(scalar, ctx.options.strict, onError);\r\n    if (!header)\r\n        return { value: '', type: null, comment: '', range: [start, start, start] };\r\n    const type = header.mode === '>' ? Scalar.BLOCK_FOLDED : Scalar.BLOCK_LITERAL;\r\n    const lines = scalar.source ? splitLines(scalar.source) : [];\r\n    // determine the end of content & start of chomping\r\n    let chompStart = lines.length;\r\n    for (let i = lines.length - 1; i >= 0; --i) {\r\n        const content = lines[i][1];\r\n        if (content === '' || content === '\\r')\r\n            chompStart = i;\r\n        else\r\n            break;\r\n    }\r\n    // shortcut for empty contents\r\n    if (chompStart === 0) {\r\n        const value = header.chomp === '+' && lines.length > 0\r\n            ? '\\n'.repeat(Math.max(1, lines.length - 1))\r\n            : '';\r\n        let end = start + header.length;\r\n        if (scalar.source)\r\n            end += scalar.source.length;\r\n        return { value, type, comment: header.comment, range: [start, end, end] };\r\n    }\r\n    // find the indentation level to trim from start\r\n    let trimIndent = scalar.indent + header.indent;\r\n    let offset = scalar.offset + header.length;\r\n    let contentStart = 0;\r\n    for (let i = 0; i < chompStart; ++i) {\r\n        const [indent, content] = lines[i];\r\n        if (content === '' || content === '\\r') {\r\n            if (header.indent === 0 && indent.length > trimIndent)\r\n                trimIndent = indent.length;\r\n        }\r\n        else {\r\n            if (indent.length < trimIndent) {\r\n                const message = 'Block scalars with more-indented leading empty lines must use an explicit indentation indicator';\r\n                onError(offset + indent.length, 'MISSING_CHAR', message);\r\n            }\r\n            if (header.indent === 0)\r\n                trimIndent = indent.length;\r\n            contentStart = i;\r\n            if (trimIndent === 0 && !ctx.atRoot) {\r\n                const message = 'Block scalar values in collections must be indented';\r\n                onError(offset, 'BAD_INDENT', message);\r\n            }\r\n            break;\r\n        }\r\n        offset += indent.length + content.length + 1;\r\n    }\r\n    // include trailing more-indented empty lines in content\r\n    for (let i = lines.length - 1; i >= chompStart; --i) {\r\n        if (lines[i][0].length > trimIndent)\r\n            chompStart = i + 1;\r\n    }\r\n    let value = '';\r\n    let sep = '';\r\n    let prevMoreIndented = false;\r\n    // leading whitespace is kept intact\r\n    for (let i = 0; i < contentStart; ++i)\r\n        value += lines[i][0].slice(trimIndent) + '\\n';\r\n    for (let i = contentStart; i < chompStart; ++i) {\r\n        let [indent, content] = lines[i];\r\n        offset += indent.length + content.length + 1;\r\n        const crlf = content[content.length - 1] === '\\r';\r\n        if (crlf)\r\n            content = content.slice(0, -1);\r\n        /* istanbul ignore if already caught in lexer */\r\n        if (content && indent.length < trimIndent) {\r\n            const src = header.indent\r\n                ? 'explicit indentation indicator'\r\n                : 'first line';\r\n            const message = `Block scalar lines must not be less indented than their ${src}`;\r\n            onError(offset - content.length - (crlf ? 2 : 1), 'BAD_INDENT', message);\r\n            indent = '';\r\n        }\r\n        if (type === Scalar.BLOCK_LITERAL) {\r\n            value += sep + indent.slice(trimIndent) + content;\r\n            sep = '\\n';\r\n        }\r\n        else if (indent.length > trimIndent || content[0] === '\\t') {\r\n            // more-indented content within a folded block\r\n            if (sep === ' ')\r\n                sep = '\\n';\r\n            else if (!prevMoreIndented && sep === '\\n')\r\n                sep = '\\n\\n';\r\n            value += sep + indent.slice(trimIndent) + content;\r\n            sep = '\\n';\r\n            prevMoreIndented = true;\r\n        }\r\n        else if (content === '') {\r\n            // empty line\r\n            if (sep === '\\n')\r\n                value += '\\n';\r\n            else\r\n                sep = '\\n';\r\n        }\r\n        else {\r\n            value += sep + content;\r\n            sep = ' ';\r\n            prevMoreIndented = false;\r\n        }\r\n    }\r\n    switch (header.chomp) {\r\n        case '-':\r\n            break;\r\n        case '+':\r\n            for (let i = chompStart; i < lines.length; ++i)\r\n                value += '\\n' + lines[i][0].slice(trimIndent);\r\n            if (value[value.length - 1] !== '\\n')\r\n                value += '\\n';\r\n            break;\r\n        default:\r\n            value += '\\n';\r\n    }\r\n    const end = start + header.length + scalar.source.length;\r\n    return { value, type, comment: header.comment, range: [start, end, end] };\r\n}\r\nfunction parseBlockScalarHeader({ offset, props }, strict, onError) {\r\n    /* istanbul ignore if should not happen */\r\n    if (props[0].type !== 'block-scalar-header') {\r\n        onError(props[0], 'IMPOSSIBLE', 'Block scalar header not found');\r\n        return null;\r\n    }\r\n    const { source } = props[0];\r\n    const mode = source[0];\r\n    let indent = 0;\r\n    let chomp = '';\r\n    let error = -1;\r\n    for (let i = 1; i < source.length; ++i) {\r\n        const ch = source[i];\r\n        if (!chomp && (ch === '-' || ch === '+'))\r\n            chomp = ch;\r\n        else {\r\n            const n = Number(ch);\r\n            if (!indent && n)\r\n                indent = n;\r\n            else if (error === -1)\r\n                error = offset + i;\r\n        }\r\n    }\r\n    if (error !== -1)\r\n        onError(error, 'UNEXPECTED_TOKEN', `Block scalar header includes extra characters: ${source}`);\r\n    let hasSpace = false;\r\n    let comment = '';\r\n    let length = source.length;\r\n    for (let i = 1; i < props.length; ++i) {\r\n        const token = props[i];\r\n        switch (token.type) {\r\n            case 'space':\r\n                hasSpace = true;\r\n            // fallthrough\r\n            case 'newline':\r\n                length += token.source.length;\r\n                break;\r\n            case 'comment':\r\n                if (strict && !hasSpace) {\r\n                    const message = 'Comments must be separated from other tokens by white space characters';\r\n                    onError(token, 'MISSING_CHAR', message);\r\n                }\r\n                length += token.source.length;\r\n                comment = token.source.substring(1);\r\n                break;\r\n            case 'error':\r\n                onError(token, 'UNEXPECTED_TOKEN', token.message);\r\n                length += token.source.length;\r\n                break;\r\n            /* istanbul ignore next should not happen */\r\n            default: {\r\n                const message = `Unexpected token in block scalar header: ${token.type}`;\r\n                onError(token, 'UNEXPECTED_TOKEN', message);\r\n                const ts = token.source;\r\n                if (ts && typeof ts === 'string')\r\n                    length += ts.length;\r\n            }\r\n        }\r\n    }\r\n    return { mode, indent, chomp, comment, length };\r\n}\r\n/** @returns Array of lines split up as `[indent, content]` */\r\nfunction splitLines(source) {\r\n    const split = source.split(/\\n( *)/);\r\n    const first = split[0];\r\n    const m = first.match(/^( *)/);\r\n    const line0 = m?.[1]\r\n        ? [m[1], first.slice(m[1].length)]\r\n        : ['', first];\r\n    const lines = [line0];\r\n    for (let i = 1; i < split.length; i += 2)\r\n        lines.push([split[i], split[i + 1]]);\r\n    return lines;\r\n}\r\n\r\nfunction resolveFlowScalar(scalar, strict, onError) {\r\n    const { offset, type, source, end } = scalar;\r\n    let _type;\r\n    let value;\r\n    const _onError = (rel, code, msg) => onError(offset + rel, code, msg);\r\n    switch (type) {\r\n        case 'scalar':\r\n            _type = Scalar.PLAIN;\r\n            value = plainValue(source, _onError);\r\n            break;\r\n        case 'single-quoted-scalar':\r\n            _type = Scalar.QUOTE_SINGLE;\r\n            value = singleQuotedValue(source, _onError);\r\n            break;\r\n        case 'double-quoted-scalar':\r\n            _type = Scalar.QUOTE_DOUBLE;\r\n            value = doubleQuotedValue(source, _onError);\r\n            break;\r\n        /* istanbul ignore next should not happen */\r\n        default:\r\n            onError(scalar, 'UNEXPECTED_TOKEN', `Expected a flow scalar value, but found: ${type}`);\r\n            return {\r\n                value: '',\r\n                type: null,\r\n                comment: '',\r\n                range: [offset, offset + source.length, offset + source.length]\r\n            };\r\n    }\r\n    const valueEnd = offset + source.length;\r\n    const re = resolveEnd(end, valueEnd, strict, onError);\r\n    return {\r\n        value,\r\n        type: _type,\r\n        comment: re.comment,\r\n        range: [offset, valueEnd, re.offset]\r\n    };\r\n}\r\nfunction plainValue(source, onError) {\r\n    let badChar = '';\r\n    switch (source[0]) {\r\n        /* istanbul ignore next should not happen */\r\n        case '\\t':\r\n            badChar = 'a tab character';\r\n            break;\r\n        case ',':\r\n            badChar = 'flow indicator character ,';\r\n            break;\r\n        case '%':\r\n            badChar = 'directive indicator character %';\r\n            break;\r\n        case '|':\r\n        case '>': {\r\n            badChar = `block scalar indicator ${source[0]}`;\r\n            break;\r\n        }\r\n        case '@':\r\n        case '`': {\r\n            badChar = `reserved character ${source[0]}`;\r\n            break;\r\n        }\r\n    }\r\n    if (badChar)\r\n        onError(0, 'BAD_SCALAR_START', `Plain value cannot start with ${badChar}`);\r\n    return foldLines(source);\r\n}\r\nfunction singleQuotedValue(source, onError) {\r\n    if (source[source.length - 1] !== \"'\" || source.length === 1)\r\n        onError(source.length, 'MISSING_CHAR', \"Missing closing 'quote\");\r\n    return foldLines(source.slice(1, -1)).replace(/''/g, \"'\");\r\n}\r\nfunction foldLines(source) {\r\n    /**\r\n     * The negative lookbehind here and in the `re` RegExp is to\r\n     * prevent causing a polynomial search time in certain cases.\r\n     *\r\n     * The try-catch is for Safari, which doesn't support this yet:\r\n     * https://caniuse.com/js-regexp-lookbehind\r\n     */\r\n    let first, line;\r\n    try {\r\n        first = new RegExp('(.*?)(?<![ \\t])[ \\t]*\\r?\\n', 'sy');\r\n        line = new RegExp('[ \\t]*(.*?)(?:(?<![ \\t])[ \\t]*)?\\r?\\n', 'sy');\r\n    }\r\n    catch (_) {\r\n        first = /(.*?)[ \\t]*\\r?\\n/sy;\r\n        line = /[ \\t]*(.*?)[ \\t]*\\r?\\n/sy;\r\n    }\r\n    let match = first.exec(source);\r\n    if (!match)\r\n        return source;\r\n    let res = match[1];\r\n    let sep = ' ';\r\n    let pos = first.lastIndex;\r\n    line.lastIndex = pos;\r\n    while ((match = line.exec(source))) {\r\n        if (match[1] === '') {\r\n            if (sep === '\\n')\r\n                res += sep;\r\n            else\r\n                sep = '\\n';\r\n        }\r\n        else {\r\n            res += sep + match[1];\r\n            sep = ' ';\r\n        }\r\n        pos = line.lastIndex;\r\n    }\r\n    const last = /[ \\t]*(.*)/sy;\r\n    last.lastIndex = pos;\r\n    match = last.exec(source);\r\n    return res + sep + (match?.[1] ?? '');\r\n}\r\nfunction doubleQuotedValue(source, onError) {\r\n    let res = '';\r\n    for (let i = 1; i < source.length - 1; ++i) {\r\n        const ch = source[i];\r\n        if (ch === '\\r' && source[i + 1] === '\\n')\r\n            continue;\r\n        if (ch === '\\n') {\r\n            const { fold, offset } = foldNewline(source, i);\r\n            res += fold;\r\n            i = offset;\r\n        }\r\n        else if (ch === '\\\\') {\r\n            let next = source[++i];\r\n            const cc = escapeCodes[next];\r\n            if (cc)\r\n                res += cc;\r\n            else if (next === '\\n') {\r\n                // skip escaped newlines, but still trim the following line\r\n                next = source[i + 1];\r\n                while (next === ' ' || next === '\\t')\r\n                    next = source[++i + 1];\r\n            }\r\n            else if (next === '\\r' && source[i + 1] === '\\n') {\r\n                // skip escaped CRLF newlines, but still trim the following line\r\n                next = source[++i + 1];\r\n                while (next === ' ' || next === '\\t')\r\n                    next = source[++i + 1];\r\n            }\r\n            else if (next === 'x' || next === 'u' || next === 'U') {\r\n                const length = { x: 2, u: 4, U: 8 }[next];\r\n                res += parseCharCode(source, i + 1, length, onError);\r\n                i += length;\r\n            }\r\n            else {\r\n                const raw = source.substr(i - 1, 2);\r\n                onError(i - 1, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\r\n                res += raw;\r\n            }\r\n        }\r\n        else if (ch === ' ' || ch === '\\t') {\r\n            // trim trailing whitespace\r\n            const wsStart = i;\r\n            let next = source[i + 1];\r\n            while (next === ' ' || next === '\\t')\r\n                next = source[++i + 1];\r\n            if (next !== '\\n' && !(next === '\\r' && source[i + 2] === '\\n'))\r\n                res += i > wsStart ? source.slice(wsStart, i + 1) : ch;\r\n        }\r\n        else {\r\n            res += ch;\r\n        }\r\n    }\r\n    if (source[source.length - 1] !== '\"' || source.length === 1)\r\n        onError(source.length, 'MISSING_CHAR', 'Missing closing \"quote');\r\n    return res;\r\n}\r\n/**\r\n * Fold a single newline into a space, multiple newlines to N - 1 newlines.\r\n * Presumes `source[offset] === '\\n'`\r\n */\r\nfunction foldNewline(source, offset) {\r\n    let fold = '';\r\n    let ch = source[offset + 1];\r\n    while (ch === ' ' || ch === '\\t' || ch === '\\n' || ch === '\\r') {\r\n        if (ch === '\\r' && source[offset + 2] !== '\\n')\r\n            break;\r\n        if (ch === '\\n')\r\n            fold += '\\n';\r\n        offset += 1;\r\n        ch = source[offset + 1];\r\n    }\r\n    if (!fold)\r\n        fold = ' ';\r\n    return { fold, offset };\r\n}\r\nconst escapeCodes = {\r\n    '0': '\\0', // null character\r\n    a: '\\x07', // bell character\r\n    b: '\\b', // backspace\r\n    e: '\\x1b', // escape character\r\n    f: '\\f', // form feed\r\n    n: '\\n', // line feed\r\n    r: '\\r', // carriage return\r\n    t: '\\t', // horizontal tab\r\n    v: '\\v', // vertical tab\r\n    N: '\\u0085', // Unicode next line\r\n    _: '\\u00a0', // Unicode non-breaking space\r\n    L: '\\u2028', // Unicode line separator\r\n    P: '\\u2029', // Unicode paragraph separator\r\n    ' ': ' ',\r\n    '\"': '\"',\r\n    '/': '/',\r\n    '\\\\': '\\\\',\r\n    '\\t': '\\t'\r\n};\r\nfunction parseCharCode(source, offset, length, onError) {\r\n    const cc = source.substr(offset, length);\r\n    const ok = cc.length === length && /^[0-9a-fA-F]+$/.test(cc);\r\n    const code = ok ? parseInt(cc, 16) : NaN;\r\n    if (isNaN(code)) {\r\n        const raw = source.substr(offset - 2, length + 2);\r\n        onError(offset - 2, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\r\n        return raw;\r\n    }\r\n    return String.fromCodePoint(code);\r\n}\r\n\r\nfunction composeScalar(ctx, token, tagToken, onError) {\r\n    const { value, type, comment, range } = token.type === 'block-scalar'\r\n        ? resolveBlockScalar(ctx, token, onError)\r\n        : resolveFlowScalar(token, ctx.options.strict, onError);\r\n    const tagName = tagToken\r\n        ? ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg))\r\n        : null;\r\n    const tag = tagToken && tagName\r\n        ? findScalarTagByName(ctx.schema, value, tagName, tagToken, onError)\r\n        : token.type === 'scalar'\r\n            ? findScalarTagByTest(ctx, value, token, onError)\r\n            : ctx.schema[SCALAR$1];\r\n    let scalar;\r\n    try {\r\n        const res = tag.resolve(value, msg => onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg), ctx.options);\r\n        scalar = isScalar$1(res) ? res : new Scalar(res);\r\n    }\r\n    catch (error) {\r\n        const msg = error instanceof Error ? error.message : String(error);\r\n        onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg);\r\n        scalar = new Scalar(value);\r\n    }\r\n    scalar.range = range;\r\n    scalar.source = value;\r\n    if (type)\r\n        scalar.type = type;\r\n    if (tagName)\r\n        scalar.tag = tagName;\r\n    if (tag.format)\r\n        scalar.format = tag.format;\r\n    if (comment)\r\n        scalar.comment = comment;\r\n    return scalar;\r\n}\r\nfunction findScalarTagByName(schema, value, tagName, tagToken, onError) {\r\n    if (tagName === '!')\r\n        return schema[SCALAR$1]; // non-specific tag\r\n    const matchWithTest = [];\r\n    for (const tag of schema.tags) {\r\n        if (!tag.collection && tag.tag === tagName) {\r\n            if (tag.default && tag.test)\r\n                matchWithTest.push(tag);\r\n            else\r\n                return tag;\r\n        }\r\n    }\r\n    for (const tag of matchWithTest)\r\n        if (tag.test?.test(value))\r\n            return tag;\r\n    const kt = schema.knownTags[tagName];\r\n    if (kt && !kt.collection) {\r\n        // Ensure that the known tag is available for stringifying,\r\n        // but does not get used by default.\r\n        schema.tags.push(Object.assign({}, kt, { default: false, test: undefined }));\r\n        return kt;\r\n    }\r\n    onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, tagName !== 'tag:yaml.org,2002:str');\r\n    return schema[SCALAR$1];\r\n}\r\nfunction findScalarTagByTest({ directives, schema }, value, token, onError) {\r\n    const tag = schema.tags.find(tag => tag.default && tag.test?.test(value)) || schema[SCALAR$1];\r\n    if (schema.compat) {\r\n        const compat = schema.compat.find(tag => tag.default && tag.test?.test(value)) ??\r\n            schema[SCALAR$1];\r\n        if (tag.tag !== compat.tag) {\r\n            const ts = directives.tagString(tag.tag);\r\n            const cs = directives.tagString(compat.tag);\r\n            const msg = `Value may be parsed as either ${ts} or ${cs}`;\r\n            onError(token, 'TAG_RESOLVE_FAILED', msg, true);\r\n        }\r\n    }\r\n    return tag;\r\n}\r\n\r\nfunction emptyScalarPosition(offset, before, pos) {\r\n    if (before) {\r\n        if (pos === null)\r\n            pos = before.length;\r\n        for (let i = pos - 1; i >= 0; --i) {\r\n            let st = before[i];\r\n            switch (st.type) {\r\n                case 'space':\r\n                case 'comment':\r\n                case 'newline':\r\n                    offset -= st.source.length;\r\n                    continue;\r\n            }\r\n            // Technically, an empty scalar is immediately after the last non-empty\r\n            // node, but it's more useful to place it after any whitespace.\r\n            st = before[++i];\r\n            while (st?.type === 'space') {\r\n                offset += st.source.length;\r\n                st = before[++i];\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return offset;\r\n}\r\n\r\nconst CN = { composeNode, composeEmptyNode };\r\nfunction composeNode(ctx, token, props, onError) {\r\n    const { spaceBefore, comment, anchor, tag } = props;\r\n    let node;\r\n    let isSrcToken = true;\r\n    switch (token.type) {\r\n        case 'alias':\r\n            node = composeAlias(ctx, token, onError);\r\n            if (anchor || tag)\r\n                onError(token, 'ALIAS_PROPS', 'An alias node must not specify any properties');\r\n            break;\r\n        case 'scalar':\r\n        case 'single-quoted-scalar':\r\n        case 'double-quoted-scalar':\r\n        case 'block-scalar':\r\n            node = composeScalar(ctx, token, tag, onError);\r\n            if (anchor)\r\n                node.anchor = anchor.source.substring(1);\r\n            break;\r\n        case 'block-map':\r\n        case 'block-seq':\r\n        case 'flow-collection':\r\n            node = composeCollection(CN, ctx, token, props, onError);\r\n            if (anchor)\r\n                node.anchor = anchor.source.substring(1);\r\n            break;\r\n        default: {\r\n            const message = token.type === 'error'\r\n                ? token.message\r\n                : `Unsupported token (type: ${token.type})`;\r\n            onError(token, 'UNEXPECTED_TOKEN', message);\r\n            node = composeEmptyNode(ctx, token.offset, undefined, null, props, onError);\r\n            isSrcToken = false;\r\n        }\r\n    }\r\n    if (anchor && node.anchor === '')\r\n        onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\r\n    if (spaceBefore)\r\n        node.spaceBefore = true;\r\n    if (comment) {\r\n        if (token.type === 'scalar' && token.source === '')\r\n            node.comment = comment;\r\n        else\r\n            node.commentBefore = comment;\r\n    }\r\n    // @ts-expect-error Type checking misses meaning of isSrcToken\r\n    if (ctx.options.keepSourceTokens && isSrcToken)\r\n        node.srcToken = token;\r\n    return node;\r\n}\r\nfunction composeEmptyNode(ctx, offset, before, pos, { spaceBefore, comment, anchor, tag, end }, onError) {\r\n    const token = {\r\n        type: 'scalar',\r\n        offset: emptyScalarPosition(offset, before, pos),\r\n        indent: -1,\r\n        source: ''\r\n    };\r\n    const node = composeScalar(ctx, token, tag, onError);\r\n    if (anchor) {\r\n        node.anchor = anchor.source.substring(1);\r\n        if (node.anchor === '')\r\n            onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\r\n    }\r\n    if (spaceBefore)\r\n        node.spaceBefore = true;\r\n    if (comment) {\r\n        node.comment = comment;\r\n        node.range[2] = end;\r\n    }\r\n    return node;\r\n}\r\nfunction composeAlias({ options }, { offset, source, end }, onError) {\r\n    const alias = new Alias(source.substring(1));\r\n    if (alias.source === '')\r\n        onError(offset, 'BAD_ALIAS', 'Alias cannot be an empty string');\r\n    if (alias.source.endsWith(':'))\r\n        onError(offset + source.length - 1, 'BAD_ALIAS', 'Alias ending in : is ambiguous', true);\r\n    const valueEnd = offset + source.length;\r\n    const re = resolveEnd(end, valueEnd, options.strict, onError);\r\n    alias.range = [offset, valueEnd, re.offset];\r\n    if (re.comment)\r\n        alias.comment = re.comment;\r\n    return alias;\r\n}\r\n\r\nfunction composeDoc(options, directives, { offset, start, value, end }, onError) {\r\n    const opts = Object.assign({ _directives: directives }, options);\r\n    const doc = new Document(undefined, opts);\r\n    const ctx = {\r\n        atRoot: true,\r\n        directives: doc.directives,\r\n        options: doc.options,\r\n        schema: doc.schema\r\n    };\r\n    const props = resolveProps(start, {\r\n        indicator: 'doc-start',\r\n        next: value ?? end?.[0],\r\n        offset,\r\n        onError,\r\n        parentIndent: 0,\r\n        startOnNewline: true\r\n    });\r\n    if (props.found) {\r\n        doc.directives.docStart = true;\r\n        if (value &&\r\n            (value.type === 'block-map' || value.type === 'block-seq') &&\r\n            !props.hasNewline)\r\n            onError(props.end, 'MISSING_CHAR', 'Block collection cannot start on same line with directives-end marker');\r\n    }\r\n    // @ts-expect-error If Contents is set, let's trust the user\r\n    doc.contents = value\r\n        ? composeNode(ctx, value, props, onError)\r\n        : composeEmptyNode(ctx, props.end, start, null, props, onError);\r\n    const contentEnd = doc.contents.range[2];\r\n    const re = resolveEnd(end, contentEnd, false, onError);\r\n    if (re.comment)\r\n        doc.comment = re.comment;\r\n    doc.range = [offset, contentEnd, re.offset];\r\n    return doc;\r\n}\r\n\r\nfunction getErrorPos(src) {\r\n    if (typeof src === 'number')\r\n        return [src, src + 1];\r\n    if (Array.isArray(src))\r\n        return src.length === 2 ? src : [src[0], src[1]];\r\n    const { offset, source } = src;\r\n    return [offset, offset + (typeof source === 'string' ? source.length : 1)];\r\n}\r\nfunction parsePrelude(prelude) {\r\n    let comment = '';\r\n    let atComment = false;\r\n    let afterEmptyLine = false;\r\n    for (let i = 0; i < prelude.length; ++i) {\r\n        const source = prelude[i];\r\n        switch (source[0]) {\r\n            case '#':\r\n                comment +=\r\n                    (comment === '' ? '' : afterEmptyLine ? '\\n\\n' : '\\n') +\r\n                        (source.substring(1) || ' ');\r\n                atComment = true;\r\n                afterEmptyLine = false;\r\n                break;\r\n            case '%':\r\n                if (prelude[i + 1]?.[0] !== '#')\r\n                    i += 1;\r\n                atComment = false;\r\n                break;\r\n            default:\r\n                // This may be wrong after doc-end, but in that case it doesn't matter\r\n                if (!atComment)\r\n                    afterEmptyLine = true;\r\n                atComment = false;\r\n        }\r\n    }\r\n    return { comment, afterEmptyLine };\r\n}\r\n/**\r\n * Compose a stream of CST nodes into a stream of YAML Documents.\r\n *\r\n * ```ts\r\n * import { Composer, Parser } from 'yaml'\r\n *\r\n * const src: string = ...\r\n * const tokens = new Parser().parse(src)\r\n * const docs = new Composer().compose(tokens)\r\n * ```\r\n */\r\nclass Composer {\r\n    constructor(options = {}) {\r\n        this.doc = null;\r\n        this.atDirectives = false;\r\n        this.prelude = [];\r\n        this.errors = [];\r\n        this.warnings = [];\r\n        this.onError = (source, code, message, warning) => {\r\n            const pos = getErrorPos(source);\r\n            if (warning)\r\n                this.warnings.push(new YAMLWarning(pos, code, message));\r\n            else\r\n                this.errors.push(new YAMLParseError(pos, code, message));\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\r\n        this.directives = new Directives({ version: options.version || '1.2' });\r\n        this.options = options;\r\n    }\r\n    decorate(doc, afterDoc) {\r\n        const { comment, afterEmptyLine } = parsePrelude(this.prelude);\r\n        //console.log({ dc: doc.comment, prelude, comment })\r\n        if (comment) {\r\n            const dc = doc.contents;\r\n            if (afterDoc) {\r\n                doc.comment = doc.comment ? `${doc.comment}\\n${comment}` : comment;\r\n            }\r\n            else if (afterEmptyLine || doc.directives.docStart || !dc) {\r\n                doc.commentBefore = comment;\r\n            }\r\n            else if (isCollection$1(dc) && !dc.flow && dc.items.length > 0) {\r\n                let it = dc.items[0];\r\n                if (isPair(it))\r\n                    it = it.key;\r\n                const cb = it.commentBefore;\r\n                it.commentBefore = cb ? `${comment}\\n${cb}` : comment;\r\n            }\r\n            else {\r\n                const cb = dc.commentBefore;\r\n                dc.commentBefore = cb ? `${comment}\\n${cb}` : comment;\r\n            }\r\n        }\r\n        if (afterDoc) {\r\n            Array.prototype.push.apply(doc.errors, this.errors);\r\n            Array.prototype.push.apply(doc.warnings, this.warnings);\r\n        }\r\n        else {\r\n            doc.errors = this.errors;\r\n            doc.warnings = this.warnings;\r\n        }\r\n        this.prelude = [];\r\n        this.errors = [];\r\n        this.warnings = [];\r\n    }\r\n    /**\r\n     * Current stream status information.\r\n     *\r\n     * Mostly useful at the end of input for an empty stream.\r\n     */\r\n    streamInfo() {\r\n        return {\r\n            comment: parsePrelude(this.prelude).comment,\r\n            directives: this.directives,\r\n            errors: this.errors,\r\n            warnings: this.warnings\r\n        };\r\n    }\r\n    /**\r\n     * Compose tokens into documents.\r\n     *\r\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\r\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\r\n     */\r\n    *compose(tokens, forceDoc = false, endOffset = -1) {\r\n        for (const token of tokens)\r\n            yield* this.next(token);\r\n        yield* this.end(forceDoc, endOffset);\r\n    }\r\n    /** Advance the composer by one CST token. */\r\n    *next(token) {\r\n        switch (token.type) {\r\n            case 'directive':\r\n                this.directives.add(token.source, (offset, message, warning) => {\r\n                    const pos = getErrorPos(token);\r\n                    pos[0] += offset;\r\n                    this.onError(pos, 'BAD_DIRECTIVE', message, warning);\r\n                });\r\n                this.prelude.push(token.source);\r\n                this.atDirectives = true;\r\n                break;\r\n            case 'document': {\r\n                const doc = composeDoc(this.options, this.directives, token, this.onError);\r\n                if (this.atDirectives && !doc.directives.docStart)\r\n                    this.onError(token, 'MISSING_CHAR', 'Missing directives-end/doc-start indicator line');\r\n                this.decorate(doc, false);\r\n                if (this.doc)\r\n                    yield this.doc;\r\n                this.doc = doc;\r\n                this.atDirectives = false;\r\n                break;\r\n            }\r\n            case 'byte-order-mark':\r\n            case 'space':\r\n                break;\r\n            case 'comment':\r\n            case 'newline':\r\n                this.prelude.push(token.source);\r\n                break;\r\n            case 'error': {\r\n                const msg = token.source\r\n                    ? `${token.message}: ${JSON.stringify(token.source)}`\r\n                    : token.message;\r\n                const error = new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg);\r\n                if (this.atDirectives || !this.doc)\r\n                    this.errors.push(error);\r\n                else\r\n                    this.doc.errors.push(error);\r\n                break;\r\n            }\r\n            case 'doc-end': {\r\n                if (!this.doc) {\r\n                    const msg = 'Unexpected doc-end without preceding document';\r\n                    this.errors.push(new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg));\r\n                    break;\r\n                }\r\n                this.doc.directives.docEnd = true;\r\n                const end = resolveEnd(token.end, token.offset + token.source.length, this.doc.options.strict, this.onError);\r\n                this.decorate(this.doc, true);\r\n                if (end.comment) {\r\n                    const dc = this.doc.comment;\r\n                    this.doc.comment = dc ? `${dc}\\n${end.comment}` : end.comment;\r\n                }\r\n                this.doc.range[2] = end.offset;\r\n                break;\r\n            }\r\n            default:\r\n                this.errors.push(new YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', `Unsupported token ${token.type}`));\r\n        }\r\n    }\r\n    /**\r\n     * Call at end of input to yield any remaining document.\r\n     *\r\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\r\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\r\n     */\r\n    *end(forceDoc = false, endOffset = -1) {\r\n        if (this.doc) {\r\n            this.decorate(this.doc, true);\r\n            yield this.doc;\r\n            this.doc = null;\r\n        }\r\n        else if (forceDoc) {\r\n            const opts = Object.assign({ _directives: this.directives }, this.options);\r\n            const doc = new Document(undefined, opts);\r\n            if (this.atDirectives)\r\n                this.onError(endOffset, 'MISSING_CHAR', 'Missing directives-end indicator line');\r\n            doc.range = [0, endOffset, endOffset];\r\n            this.decorate(doc, false);\r\n            yield doc;\r\n        }\r\n    }\r\n}\r\n\r\nfunction resolveAsScalar(token, strict = true, onError) {\r\n    if (token) {\r\n        const _onError = (pos, code, message) => {\r\n            const offset = typeof pos === 'number' ? pos : Array.isArray(pos) ? pos[0] : pos.offset;\r\n            if (onError)\r\n                onError(offset, code, message);\r\n            else\r\n                throw new YAMLParseError([offset, offset + 1], code, message);\r\n        };\r\n        switch (token.type) {\r\n            case 'scalar':\r\n            case 'single-quoted-scalar':\r\n            case 'double-quoted-scalar':\r\n                return resolveFlowScalar(token, strict, _onError);\r\n            case 'block-scalar':\r\n                return resolveBlockScalar({ options: { strict } }, token, _onError);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Create a new scalar token with `value`\r\n *\r\n * Values that represent an actual string but may be parsed as a different type should use a `type` other than `'PLAIN'`,\r\n * as this function does not support any schema operations and won't check for such conflicts.\r\n *\r\n * @param value The string representation of the value, which will have its content properly indented.\r\n * @param context.end Comments and whitespace after the end of the value, or after the block scalar header. If undefined, a newline will be added.\r\n * @param context.implicitKey Being within an implicit key may affect the resolved type of the token's value.\r\n * @param context.indent The indent level of the token.\r\n * @param context.inFlow Is this scalar within a flow collection? This may affect the resolved type of the token's value.\r\n * @param context.offset The offset position of the token.\r\n * @param context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `'PLAIN'`.\r\n */\r\nfunction createScalarToken(value, context) {\r\n    const { implicitKey = false, indent, inFlow = false, offset = -1, type = 'PLAIN' } = context;\r\n    const source = stringifyString({ type, value }, {\r\n        implicitKey,\r\n        indent: indent > 0 ? ' '.repeat(indent) : '',\r\n        inFlow,\r\n        options: { blockQuote: true, lineWidth: -1 }\r\n    });\r\n    const end = context.end ?? [\r\n        { type: 'newline', offset: -1, indent, source: '\\n' }\r\n    ];\r\n    switch (source[0]) {\r\n        case '|':\r\n        case '>': {\r\n            const he = source.indexOf('\\n');\r\n            const head = source.substring(0, he);\r\n            const body = source.substring(he + 1) + '\\n';\r\n            const props = [\r\n                { type: 'block-scalar-header', offset, indent, source: head }\r\n            ];\r\n            if (!addEndtoBlockProps(props, end))\r\n                props.push({ type: 'newline', offset: -1, indent, source: '\\n' });\r\n            return { type: 'block-scalar', offset, indent, props, source: body };\r\n        }\r\n        case '\"':\r\n            return { type: 'double-quoted-scalar', offset, indent, source, end };\r\n        case \"'\":\r\n            return { type: 'single-quoted-scalar', offset, indent, source, end };\r\n        default:\r\n            return { type: 'scalar', offset, indent, source, end };\r\n    }\r\n}\r\n/**\r\n * Set the value of `token` to the given string `value`, overwriting any previous contents and type that it may have.\r\n *\r\n * Best efforts are made to retain any comments previously associated with the `token`,\r\n * though all contents within a collection's `items` will be overwritten.\r\n *\r\n * Values that represent an actual string but may be parsed as a different type should use a `type` other than `'PLAIN'`,\r\n * as this function does not support any schema operations and won't check for such conflicts.\r\n *\r\n * @param token Any token. If it does not include an `indent` value, the value will be stringified as if it were an implicit key.\r\n * @param value The string representation of the value, which will have its content properly indented.\r\n * @param context.afterKey In most cases, values after a key should have an additional level of indentation.\r\n * @param context.implicitKey Being within an implicit key may affect the resolved type of the token's value.\r\n * @param context.inFlow Being within a flow collection may affect the resolved type of the token's value.\r\n * @param context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `'PLAIN'`.\r\n */\r\nfunction setScalarValue(token, value, context = {}) {\r\n    let { afterKey = false, implicitKey = false, inFlow = false, type } = context;\r\n    let indent = 'indent' in token ? token.indent : null;\r\n    if (afterKey && typeof indent === 'number')\r\n        indent += 2;\r\n    if (!type)\r\n        switch (token.type) {\r\n            case 'single-quoted-scalar':\r\n                type = 'QUOTE_SINGLE';\r\n                break;\r\n            case 'double-quoted-scalar':\r\n                type = 'QUOTE_DOUBLE';\r\n                break;\r\n            case 'block-scalar': {\r\n                const header = token.props[0];\r\n                if (header.type !== 'block-scalar-header')\r\n                    throw new Error('Invalid block scalar header');\r\n                type = header.source[0] === '>' ? 'BLOCK_FOLDED' : 'BLOCK_LITERAL';\r\n                break;\r\n            }\r\n            default:\r\n                type = 'PLAIN';\r\n        }\r\n    const source = stringifyString({ type, value }, {\r\n        implicitKey: implicitKey || indent === null,\r\n        indent: indent !== null && indent > 0 ? ' '.repeat(indent) : '',\r\n        inFlow,\r\n        options: { blockQuote: true, lineWidth: -1 }\r\n    });\r\n    switch (source[0]) {\r\n        case '|':\r\n        case '>':\r\n            setBlockScalarValue(token, source);\r\n            break;\r\n        case '\"':\r\n            setFlowScalarValue(token, source, 'double-quoted-scalar');\r\n            break;\r\n        case \"'\":\r\n            setFlowScalarValue(token, source, 'single-quoted-scalar');\r\n            break;\r\n        default:\r\n            setFlowScalarValue(token, source, 'scalar');\r\n    }\r\n}\r\nfunction setBlockScalarValue(token, source) {\r\n    const he = source.indexOf('\\n');\r\n    const head = source.substring(0, he);\r\n    const body = source.substring(he + 1) + '\\n';\r\n    if (token.type === 'block-scalar') {\r\n        const header = token.props[0];\r\n        if (header.type !== 'block-scalar-header')\r\n            throw new Error('Invalid block scalar header');\r\n        header.source = head;\r\n        token.source = body;\r\n    }\r\n    else {\r\n        const { offset } = token;\r\n        const indent = 'indent' in token ? token.indent : -1;\r\n        const props = [\r\n            { type: 'block-scalar-header', offset, indent, source: head }\r\n        ];\r\n        if (!addEndtoBlockProps(props, 'end' in token ? token.end : undefined))\r\n            props.push({ type: 'newline', offset: -1, indent, source: '\\n' });\r\n        for (const key of Object.keys(token))\r\n            if (key !== 'type' && key !== 'offset')\r\n                delete token[key];\r\n        Object.assign(token, { type: 'block-scalar', indent, props, source: body });\r\n    }\r\n}\r\n/** @returns `true` if last token is a newline */\r\nfunction addEndtoBlockProps(props, end) {\r\n    if (end)\r\n        for (const st of end)\r\n            switch (st.type) {\r\n                case 'space':\r\n                case 'comment':\r\n                    props.push(st);\r\n                    break;\r\n                case 'newline':\r\n                    props.push(st);\r\n                    return true;\r\n            }\r\n    return false;\r\n}\r\nfunction setFlowScalarValue(token, source, type) {\r\n    switch (token.type) {\r\n        case 'scalar':\r\n        case 'double-quoted-scalar':\r\n        case 'single-quoted-scalar':\r\n            token.type = type;\r\n            token.source = source;\r\n            break;\r\n        case 'block-scalar': {\r\n            const end = token.props.slice(1);\r\n            let oa = source.length;\r\n            if (token.props[0].type === 'block-scalar-header')\r\n                oa -= token.props[0].source.length;\r\n            for (const tok of end)\r\n                tok.offset += oa;\r\n            delete token.props;\r\n            Object.assign(token, { type, source, end });\r\n            break;\r\n        }\r\n        case 'block-map':\r\n        case 'block-seq': {\r\n            const offset = token.offset + source.length;\r\n            const nl = { type: 'newline', offset, indent: token.indent, source: '\\n' };\r\n            delete token.items;\r\n            Object.assign(token, { type, source, end: [nl] });\r\n            break;\r\n        }\r\n        default: {\r\n            const indent = 'indent' in token ? token.indent : -1;\r\n            const end = 'end' in token && Array.isArray(token.end)\r\n                ? token.end.filter(st => st.type === 'space' ||\r\n                    st.type === 'comment' ||\r\n                    st.type === 'newline')\r\n                : [];\r\n            for (const key of Object.keys(token))\r\n                if (key !== 'type' && key !== 'offset')\r\n                    delete token[key];\r\n            Object.assign(token, { type, indent, source, end });\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Stringify a CST document, token, or collection item\r\n *\r\n * Fair warning: This applies no validation whatsoever, and\r\n * simply concatenates the sources in their logical order.\r\n */\r\nconst stringify$1 = (cst) => 'type' in cst ? stringifyToken(cst) : stringifyItem(cst);\r\nfunction stringifyToken(token) {\r\n    switch (token.type) {\r\n        case 'block-scalar': {\r\n            let res = '';\r\n            for (const tok of token.props)\r\n                res += stringifyToken(tok);\r\n            return res + token.source;\r\n        }\r\n        case 'block-map':\r\n        case 'block-seq': {\r\n            let res = '';\r\n            for (const item of token.items)\r\n                res += stringifyItem(item);\r\n            return res;\r\n        }\r\n        case 'flow-collection': {\r\n            let res = token.start.source;\r\n            for (const item of token.items)\r\n                res += stringifyItem(item);\r\n            for (const st of token.end)\r\n                res += st.source;\r\n            return res;\r\n        }\r\n        case 'document': {\r\n            let res = stringifyItem(token);\r\n            if (token.end)\r\n                for (const st of token.end)\r\n                    res += st.source;\r\n            return res;\r\n        }\r\n        default: {\r\n            let res = token.source;\r\n            if ('end' in token && token.end)\r\n                for (const st of token.end)\r\n                    res += st.source;\r\n            return res;\r\n        }\r\n    }\r\n}\r\nfunction stringifyItem({ start, key, sep, value }) {\r\n    let res = '';\r\n    for (const st of start)\r\n        res += st.source;\r\n    if (key)\r\n        res += stringifyToken(key);\r\n    if (sep)\r\n        for (const st of sep)\r\n            res += st.source;\r\n    if (value)\r\n        res += stringifyToken(value);\r\n    return res;\r\n}\r\n\r\nconst BREAK = Symbol('break visit');\r\nconst SKIP = Symbol('skip children');\r\nconst REMOVE = Symbol('remove item');\r\n/**\r\n * Apply a visitor to a CST document or item.\r\n *\r\n * Walks through the tree (depth-first) starting from the root, calling a\r\n * `visitor` function with two arguments when entering each item:\r\n *   - `item`: The current item, which included the following members:\r\n *     - `start: SourceToken[]` – Source tokens before the key or value,\r\n *       possibly including its anchor or tag.\r\n *     - `key?: Token | null` – Set for pair values. May then be `null`, if\r\n *       the key before the `:` separator is empty.\r\n *     - `sep?: SourceToken[]` – Source tokens between the key and the value,\r\n *       which should include the `:` map value indicator if `value` is set.\r\n *     - `value?: Token` – The value of a sequence item, or of a map pair.\r\n *   - `path`: The steps from the root to the current node, as an array of\r\n *     `['key' | 'value', number]` tuples.\r\n *\r\n * The return value of the visitor may be used to control the traversal:\r\n *   - `undefined` (default): Do nothing and continue\r\n *   - `visit.SKIP`: Do not visit the children of this token, continue with\r\n *      next sibling\r\n *   - `visit.BREAK`: Terminate traversal completely\r\n *   - `visit.REMOVE`: Remove the current item, then continue with the next one\r\n *   - `number`: Set the index of the next step. This is useful especially if\r\n *     the index of the current token has changed.\r\n *   - `function`: Define the next visitor for this item. After the original\r\n *     visitor is called on item entry, next visitors are called after handling\r\n *     a non-empty `key` and when exiting the item.\r\n */\r\nfunction visit(cst, visitor) {\r\n    if ('type' in cst && cst.type === 'document')\r\n        cst = { start: cst.start, value: cst.value };\r\n    _visit(Object.freeze([]), cst, visitor);\r\n}\r\n// Without the `as symbol` casts, TS declares these in the `visit`\r\n// namespace using `var`, but then complains about that because\r\n// `unique symbol` must be `const`.\r\n/** Terminate visit traversal completely */\r\nvisit.BREAK = BREAK;\r\n/** Do not visit the children of the current item */\r\nvisit.SKIP = SKIP;\r\n/** Remove the current item */\r\nvisit.REMOVE = REMOVE;\r\n/** Find the item at `path` from `cst` as the root */\r\nvisit.itemAtPath = (cst, path) => {\r\n    let item = cst;\r\n    for (const [field, index] of path) {\r\n        const tok = item?.[field];\r\n        if (tok && 'items' in tok) {\r\n            item = tok.items[index];\r\n        }\r\n        else\r\n            return undefined;\r\n    }\r\n    return item;\r\n};\r\n/**\r\n * Get the immediate parent collection of the item at `path` from `cst` as the root.\r\n *\r\n * Throws an error if the collection is not found, which should never happen if the item itself exists.\r\n */\r\nvisit.parentCollection = (cst, path) => {\r\n    const parent = visit.itemAtPath(cst, path.slice(0, -1));\r\n    const field = path[path.length - 1][0];\r\n    const coll = parent?.[field];\r\n    if (coll && 'items' in coll)\r\n        return coll;\r\n    throw new Error('Parent collection not found');\r\n};\r\nfunction _visit(path, item, visitor) {\r\n    let ctrl = visitor(item, path);\r\n    if (typeof ctrl === 'symbol')\r\n        return ctrl;\r\n    for (const field of ['key', 'value']) {\r\n        const token = item[field];\r\n        if (token && 'items' in token) {\r\n            for (let i = 0; i < token.items.length; ++i) {\r\n                const ci = _visit(Object.freeze(path.concat([[field, i]])), token.items[i], visitor);\r\n                if (typeof ci === 'number')\r\n                    i = ci - 1;\r\n                else if (ci === BREAK)\r\n                    return BREAK;\r\n                else if (ci === REMOVE) {\r\n                    token.items.splice(i, 1);\r\n                    i -= 1;\r\n                }\r\n            }\r\n            if (typeof ctrl === 'function' && field === 'key')\r\n                ctrl = ctrl(item, path);\r\n        }\r\n    }\r\n    return typeof ctrl === 'function' ? ctrl(item, path) : ctrl;\r\n}\r\n\r\n/** The byte order mark */\r\nconst BOM = '\\u{FEFF}';\r\n/** Start of doc-mode */\r\nconst DOCUMENT = '\\x02'; // C0: Start of Text\r\n/** Unexpected end of flow-mode */\r\nconst FLOW_END = '\\x18'; // C0: Cancel\r\n/** Next token is a scalar value */\r\nconst SCALAR = '\\x1f'; // C0: Unit Separator\r\n/** @returns `true` if `token` is a flow or block collection */\r\nconst isCollection = (token) => !!token && 'items' in token;\r\n/** @returns `true` if `token` is a flow or block scalar; not an alias */\r\nconst isScalar = (token) => !!token &&\r\n    (token.type === 'scalar' ||\r\n        token.type === 'single-quoted-scalar' ||\r\n        token.type === 'double-quoted-scalar' ||\r\n        token.type === 'block-scalar');\r\n/* istanbul ignore next */\r\n/** Get a printable representation of a lexer token */\r\nfunction prettyToken(token) {\r\n    switch (token) {\r\n        case BOM:\r\n            return '<BOM>';\r\n        case DOCUMENT:\r\n            return '<DOC>';\r\n        case FLOW_END:\r\n            return '<FLOW_END>';\r\n        case SCALAR:\r\n            return '<SCALAR>';\r\n        default:\r\n            return JSON.stringify(token);\r\n    }\r\n}\r\n/** Identify the type of a lexer token. May return `null` for unknown tokens. */\r\nfunction tokenType(source) {\r\n    switch (source) {\r\n        case BOM:\r\n            return 'byte-order-mark';\r\n        case DOCUMENT:\r\n            return 'doc-mode';\r\n        case FLOW_END:\r\n            return 'flow-error-end';\r\n        case SCALAR:\r\n            return 'scalar';\r\n        case '---':\r\n            return 'doc-start';\r\n        case '...':\r\n            return 'doc-end';\r\n        case '':\r\n        case '\\n':\r\n        case '\\r\\n':\r\n            return 'newline';\r\n        case '-':\r\n            return 'seq-item-ind';\r\n        case '?':\r\n            return 'explicit-key-ind';\r\n        case ':':\r\n            return 'map-value-ind';\r\n        case '{':\r\n            return 'flow-map-start';\r\n        case '}':\r\n            return 'flow-map-end';\r\n        case '[':\r\n            return 'flow-seq-start';\r\n        case ']':\r\n            return 'flow-seq-end';\r\n        case ',':\r\n            return 'comma';\r\n    }\r\n    switch (source[0]) {\r\n        case ' ':\r\n        case '\\t':\r\n            return 'space';\r\n        case '#':\r\n            return 'comment';\r\n        case '%':\r\n            return 'directive-line';\r\n        case '*':\r\n            return 'alias';\r\n        case '&':\r\n            return 'anchor';\r\n        case '!':\r\n            return 'tag';\r\n        case \"'\":\r\n            return 'single-quoted-scalar';\r\n        case '\"':\r\n            return 'double-quoted-scalar';\r\n        case '|':\r\n        case '>':\r\n            return 'block-scalar-header';\r\n    }\r\n    return null;\r\n}\r\n\r\nvar cst = {\r\n\t__proto__: null,\r\n\tBOM: BOM,\r\n\tDOCUMENT: DOCUMENT,\r\n\tFLOW_END: FLOW_END,\r\n\tSCALAR: SCALAR,\r\n\tcreateScalarToken: createScalarToken,\r\n\tisCollection: isCollection,\r\n\tisScalar: isScalar,\r\n\tprettyToken: prettyToken,\r\n\tresolveAsScalar: resolveAsScalar,\r\n\tsetScalarValue: setScalarValue,\r\n\tstringify: stringify$1,\r\n\ttokenType: tokenType,\r\n\tvisit: visit\r\n};\r\n\r\n/*\r\nSTART -> stream\r\n\r\nstream\r\n  directive -> line-end -> stream\r\n  indent + line-end -> stream\r\n  [else] -> line-start\r\n\r\nline-end\r\n  comment -> line-end\r\n  newline -> .\r\n  input-end -> END\r\n\r\nline-start\r\n  doc-start -> doc\r\n  doc-end -> stream\r\n  [else] -> indent -> block-start\r\n\r\nblock-start\r\n  seq-item-start -> block-start\r\n  explicit-key-start -> block-start\r\n  map-value-start -> block-start\r\n  [else] -> doc\r\n\r\ndoc\r\n  line-end -> line-start\r\n  spaces -> doc\r\n  anchor -> doc\r\n  tag -> doc\r\n  flow-start -> flow -> doc\r\n  flow-end -> error -> doc\r\n  seq-item-start -> error -> doc\r\n  explicit-key-start -> error -> doc\r\n  map-value-start -> doc\r\n  alias -> doc\r\n  quote-start -> quoted-scalar -> doc\r\n  block-scalar-header -> line-end -> block-scalar(min) -> line-start\r\n  [else] -> plain-scalar(false, min) -> doc\r\n\r\nflow\r\n  line-end -> flow\r\n  spaces -> flow\r\n  anchor -> flow\r\n  tag -> flow\r\n  flow-start -> flow -> flow\r\n  flow-end -> .\r\n  seq-item-start -> error -> flow\r\n  explicit-key-start -> flow\r\n  map-value-start -> flow\r\n  alias -> flow\r\n  quote-start -> quoted-scalar -> flow\r\n  comma -> flow\r\n  [else] -> plain-scalar(true, 0) -> flow\r\n\r\nquoted-scalar\r\n  quote-end -> .\r\n  [else] -> quoted-scalar\r\n\r\nblock-scalar(min)\r\n  newline + peek(indent < min) -> .\r\n  [else] -> block-scalar(min)\r\n\r\nplain-scalar(is-flow, min)\r\n  scalar-end(is-flow) -> .\r\n  peek(newline + (indent < min)) -> .\r\n  [else] -> plain-scalar(min)\r\n*/\r\nfunction isEmpty(ch) {\r\n    switch (ch) {\r\n        case undefined:\r\n        case ' ':\r\n        case '\\n':\r\n        case '\\r':\r\n        case '\\t':\r\n            return true;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\nconst hexDigits = new Set('0123456789ABCDEFabcdef');\r\nconst tagChars = new Set(\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()\");\r\nconst flowIndicatorChars = new Set(',[]{}');\r\nconst invalidAnchorChars = new Set(' ,[]{}\\n\\r\\t');\r\nconst isNotAnchorChar = (ch) => !ch || invalidAnchorChars.has(ch);\r\n/**\r\n * Splits an input string into lexical tokens, i.e. smaller strings that are\r\n * easily identifiable by `tokens.tokenType()`.\r\n *\r\n * Lexing starts always in a \"stream\" context. Incomplete input may be buffered\r\n * until a complete token can be emitted.\r\n *\r\n * In addition to slices of the original input, the following control characters\r\n * may also be emitted:\r\n *\r\n * - `\\x02` (Start of Text): A document starts with the next token\r\n * - `\\x18` (Cancel): Unexpected end of flow-mode (indicates an error)\r\n * - `\\x1f` (Unit Separator): Next token is a scalar value\r\n * - `\\u{FEFF}` (Byte order mark): Emitted separately outside documents\r\n */\r\nclass Lexer {\r\n    constructor() {\r\n        /**\r\n         * Flag indicating whether the end of the current buffer marks the end of\r\n         * all input\r\n         */\r\n        this.atEnd = false;\r\n        /**\r\n         * Explicit indent set in block scalar header, as an offset from the current\r\n         * minimum indent, so e.g. set to 1 from a header `|2+`. Set to -1 if not\r\n         * explicitly set.\r\n         */\r\n        this.blockScalarIndent = -1;\r\n        /**\r\n         * Block scalars that include a + (keep) chomping indicator in their header\r\n         * include trailing empty lines, which are otherwise excluded from the\r\n         * scalar's contents.\r\n         */\r\n        this.blockScalarKeep = false;\r\n        /** Current input */\r\n        this.buffer = '';\r\n        /**\r\n         * Flag noting whether the map value indicator : can immediately follow this\r\n         * node within a flow context.\r\n         */\r\n        this.flowKey = false;\r\n        /** Count of surrounding flow collection levels. */\r\n        this.flowLevel = 0;\r\n        /**\r\n         * Minimum level of indentation required for next lines to be parsed as a\r\n         * part of the current scalar value.\r\n         */\r\n        this.indentNext = 0;\r\n        /** Indentation level of the current line. */\r\n        this.indentValue = 0;\r\n        /** Position of the next \\n character. */\r\n        this.lineEndPos = null;\r\n        /** Stores the state of the lexer if reaching the end of incpomplete input */\r\n        this.next = null;\r\n        /** A pointer to `buffer`; the current position of the lexer. */\r\n        this.pos = 0;\r\n    }\r\n    /**\r\n     * Generate YAML tokens from the `source` string. If `incomplete`,\r\n     * a part of the last line may be left as a buffer for the next call.\r\n     *\r\n     * @returns A generator of lexical tokens\r\n     */\r\n    *lex(source, incomplete = false) {\r\n        if (source) {\r\n            if (typeof source !== 'string')\r\n                throw TypeError('source is not a string');\r\n            this.buffer = this.buffer ? this.buffer + source : source;\r\n            this.lineEndPos = null;\r\n        }\r\n        this.atEnd = !incomplete;\r\n        let next = this.next ?? 'stream';\r\n        while (next && (incomplete || this.hasChars(1)))\r\n            next = yield* this.parseNext(next);\r\n    }\r\n    atLineEnd() {\r\n        let i = this.pos;\r\n        let ch = this.buffer[i];\r\n        while (ch === ' ' || ch === '\\t')\r\n            ch = this.buffer[++i];\r\n        if (!ch || ch === '#' || ch === '\\n')\r\n            return true;\r\n        if (ch === '\\r')\r\n            return this.buffer[i + 1] === '\\n';\r\n        return false;\r\n    }\r\n    charAt(n) {\r\n        return this.buffer[this.pos + n];\r\n    }\r\n    continueScalar(offset) {\r\n        let ch = this.buffer[offset];\r\n        if (this.indentNext > 0) {\r\n            let indent = 0;\r\n            while (ch === ' ')\r\n                ch = this.buffer[++indent + offset];\r\n            if (ch === '\\r') {\r\n                const next = this.buffer[indent + offset + 1];\r\n                if (next === '\\n' || (!next && !this.atEnd))\r\n                    return offset + indent + 1;\r\n            }\r\n            return ch === '\\n' || indent >= this.indentNext || (!ch && !this.atEnd)\r\n                ? offset + indent\r\n                : -1;\r\n        }\r\n        if (ch === '-' || ch === '.') {\r\n            const dt = this.buffer.substr(offset, 3);\r\n            if ((dt === '---' || dt === '...') && isEmpty(this.buffer[offset + 3]))\r\n                return -1;\r\n        }\r\n        return offset;\r\n    }\r\n    getLine() {\r\n        let end = this.lineEndPos;\r\n        if (typeof end !== 'number' || (end !== -1 && end < this.pos)) {\r\n            end = this.buffer.indexOf('\\n', this.pos);\r\n            this.lineEndPos = end;\r\n        }\r\n        if (end === -1)\r\n            return this.atEnd ? this.buffer.substring(this.pos) : null;\r\n        if (this.buffer[end - 1] === '\\r')\r\n            end -= 1;\r\n        return this.buffer.substring(this.pos, end);\r\n    }\r\n    hasChars(n) {\r\n        return this.pos + n <= this.buffer.length;\r\n    }\r\n    setNext(state) {\r\n        this.buffer = this.buffer.substring(this.pos);\r\n        this.pos = 0;\r\n        this.lineEndPos = null;\r\n        this.next = state;\r\n        return null;\r\n    }\r\n    peek(n) {\r\n        return this.buffer.substr(this.pos, n);\r\n    }\r\n    *parseNext(next) {\r\n        switch (next) {\r\n            case 'stream':\r\n                return yield* this.parseStream();\r\n            case 'line-start':\r\n                return yield* this.parseLineStart();\r\n            case 'block-start':\r\n                return yield* this.parseBlockStart();\r\n            case 'doc':\r\n                return yield* this.parseDocument();\r\n            case 'flow':\r\n                return yield* this.parseFlowCollection();\r\n            case 'quoted-scalar':\r\n                return yield* this.parseQuotedScalar();\r\n            case 'block-scalar':\r\n                return yield* this.parseBlockScalar();\r\n            case 'plain-scalar':\r\n                return yield* this.parsePlainScalar();\r\n        }\r\n    }\r\n    *parseStream() {\r\n        let line = this.getLine();\r\n        if (line === null)\r\n            return this.setNext('stream');\r\n        if (line[0] === BOM) {\r\n            yield* this.pushCount(1);\r\n            line = line.substring(1);\r\n        }\r\n        if (line[0] === '%') {\r\n            let dirEnd = line.length;\r\n            let cs = line.indexOf('#');\r\n            while (cs !== -1) {\r\n                const ch = line[cs - 1];\r\n                if (ch === ' ' || ch === '\\t') {\r\n                    dirEnd = cs - 1;\r\n                    break;\r\n                }\r\n                else {\r\n                    cs = line.indexOf('#', cs + 1);\r\n                }\r\n            }\r\n            while (true) {\r\n                const ch = line[dirEnd - 1];\r\n                if (ch === ' ' || ch === '\\t')\r\n                    dirEnd -= 1;\r\n                else\r\n                    break;\r\n            }\r\n            const n = (yield* this.pushCount(dirEnd)) + (yield* this.pushSpaces(true));\r\n            yield* this.pushCount(line.length - n); // possible comment\r\n            this.pushNewline();\r\n            return 'stream';\r\n        }\r\n        if (this.atLineEnd()) {\r\n            const sp = yield* this.pushSpaces(true);\r\n            yield* this.pushCount(line.length - sp);\r\n            yield* this.pushNewline();\r\n            return 'stream';\r\n        }\r\n        yield DOCUMENT;\r\n        return yield* this.parseLineStart();\r\n    }\r\n    *parseLineStart() {\r\n        const ch = this.charAt(0);\r\n        if (!ch && !this.atEnd)\r\n            return this.setNext('line-start');\r\n        if (ch === '-' || ch === '.') {\r\n            if (!this.atEnd && !this.hasChars(4))\r\n                return this.setNext('line-start');\r\n            const s = this.peek(3);\r\n            if ((s === '---' || s === '...') && isEmpty(this.charAt(3))) {\r\n                yield* this.pushCount(3);\r\n                this.indentValue = 0;\r\n                this.indentNext = 0;\r\n                return s === '---' ? 'doc' : 'stream';\r\n            }\r\n        }\r\n        this.indentValue = yield* this.pushSpaces(false);\r\n        if (this.indentNext > this.indentValue && !isEmpty(this.charAt(1)))\r\n            this.indentNext = this.indentValue;\r\n        return yield* this.parseBlockStart();\r\n    }\r\n    *parseBlockStart() {\r\n        const [ch0, ch1] = this.peek(2);\r\n        if (!ch1 && !this.atEnd)\r\n            return this.setNext('block-start');\r\n        if ((ch0 === '-' || ch0 === '?' || ch0 === ':') && isEmpty(ch1)) {\r\n            const n = (yield* this.pushCount(1)) + (yield* this.pushSpaces(true));\r\n            this.indentNext = this.indentValue + 1;\r\n            this.indentValue += n;\r\n            return yield* this.parseBlockStart();\r\n        }\r\n        return 'doc';\r\n    }\r\n    *parseDocument() {\r\n        yield* this.pushSpaces(true);\r\n        const line = this.getLine();\r\n        if (line === null)\r\n            return this.setNext('doc');\r\n        let n = yield* this.pushIndicators();\r\n        switch (line[n]) {\r\n            case '#':\r\n                yield* this.pushCount(line.length - n);\r\n            // fallthrough\r\n            case undefined:\r\n                yield* this.pushNewline();\r\n                return yield* this.parseLineStart();\r\n            case '{':\r\n            case '[':\r\n                yield* this.pushCount(1);\r\n                this.flowKey = false;\r\n                this.flowLevel = 1;\r\n                return 'flow';\r\n            case '}':\r\n            case ']':\r\n                // this is an error\r\n                yield* this.pushCount(1);\r\n                return 'doc';\r\n            case '*':\r\n                yield* this.pushUntil(isNotAnchorChar);\r\n                return 'doc';\r\n            case '\"':\r\n            case \"'\":\r\n                return yield* this.parseQuotedScalar();\r\n            case '|':\r\n            case '>':\r\n                n += yield* this.parseBlockScalarHeader();\r\n                n += yield* this.pushSpaces(true);\r\n                yield* this.pushCount(line.length - n);\r\n                yield* this.pushNewline();\r\n                return yield* this.parseBlockScalar();\r\n            default:\r\n                return yield* this.parsePlainScalar();\r\n        }\r\n    }\r\n    *parseFlowCollection() {\r\n        let nl, sp;\r\n        let indent = -1;\r\n        do {\r\n            nl = yield* this.pushNewline();\r\n            if (nl > 0) {\r\n                sp = yield* this.pushSpaces(false);\r\n                this.indentValue = indent = sp;\r\n            }\r\n            else {\r\n                sp = 0;\r\n            }\r\n            sp += yield* this.pushSpaces(true);\r\n        } while (nl + sp > 0);\r\n        const line = this.getLine();\r\n        if (line === null)\r\n            return this.setNext('flow');\r\n        if ((indent !== -1 && indent < this.indentNext && line[0] !== '#') ||\r\n            (indent === 0 &&\r\n                (line.startsWith('---') || line.startsWith('...')) &&\r\n                isEmpty(line[3]))) {\r\n            // Allowing for the terminal ] or } at the same (rather than greater)\r\n            // indent level as the initial [ or { is technically invalid, but\r\n            // failing here would be surprising to users.\r\n            const atFlowEndMarker = indent === this.indentNext - 1 &&\r\n                this.flowLevel === 1 &&\r\n                (line[0] === ']' || line[0] === '}');\r\n            if (!atFlowEndMarker) {\r\n                // this is an error\r\n                this.flowLevel = 0;\r\n                yield FLOW_END;\r\n                return yield* this.parseLineStart();\r\n            }\r\n        }\r\n        let n = 0;\r\n        while (line[n] === ',') {\r\n            n += yield* this.pushCount(1);\r\n            n += yield* this.pushSpaces(true);\r\n            this.flowKey = false;\r\n        }\r\n        n += yield* this.pushIndicators();\r\n        switch (line[n]) {\r\n            case undefined:\r\n                return 'flow';\r\n            case '#':\r\n                yield* this.pushCount(line.length - n);\r\n                return 'flow';\r\n            case '{':\r\n            case '[':\r\n                yield* this.pushCount(1);\r\n                this.flowKey = false;\r\n                this.flowLevel += 1;\r\n                return 'flow';\r\n            case '}':\r\n            case ']':\r\n                yield* this.pushCount(1);\r\n                this.flowKey = true;\r\n                this.flowLevel -= 1;\r\n                return this.flowLevel ? 'flow' : 'doc';\r\n            case '*':\r\n                yield* this.pushUntil(isNotAnchorChar);\r\n                return 'flow';\r\n            case '\"':\r\n            case \"'\":\r\n                this.flowKey = true;\r\n                return yield* this.parseQuotedScalar();\r\n            case ':': {\r\n                const next = this.charAt(1);\r\n                if (this.flowKey || isEmpty(next) || next === ',') {\r\n                    this.flowKey = false;\r\n                    yield* this.pushCount(1);\r\n                    yield* this.pushSpaces(true);\r\n                    return 'flow';\r\n                }\r\n            }\r\n            // fallthrough\r\n            default:\r\n                this.flowKey = false;\r\n                return yield* this.parsePlainScalar();\r\n        }\r\n    }\r\n    *parseQuotedScalar() {\r\n        const quote = this.charAt(0);\r\n        let end = this.buffer.indexOf(quote, this.pos + 1);\r\n        if (quote === \"'\") {\r\n            while (end !== -1 && this.buffer[end + 1] === \"'\")\r\n                end = this.buffer.indexOf(\"'\", end + 2);\r\n        }\r\n        else {\r\n            // double-quote\r\n            while (end !== -1) {\r\n                let n = 0;\r\n                while (this.buffer[end - 1 - n] === '\\\\')\r\n                    n += 1;\r\n                if (n % 2 === 0)\r\n                    break;\r\n                end = this.buffer.indexOf('\"', end + 1);\r\n            }\r\n        }\r\n        // Only looking for newlines within the quotes\r\n        const qb = this.buffer.substring(0, end);\r\n        let nl = qb.indexOf('\\n', this.pos);\r\n        if (nl !== -1) {\r\n            while (nl !== -1) {\r\n                const cs = this.continueScalar(nl + 1);\r\n                if (cs === -1)\r\n                    break;\r\n                nl = qb.indexOf('\\n', cs);\r\n            }\r\n            if (nl !== -1) {\r\n                // this is an error caused by an unexpected unindent\r\n                end = nl - (qb[nl - 1] === '\\r' ? 2 : 1);\r\n            }\r\n        }\r\n        if (end === -1) {\r\n            if (!this.atEnd)\r\n                return this.setNext('quoted-scalar');\r\n            end = this.buffer.length;\r\n        }\r\n        yield* this.pushToIndex(end + 1, false);\r\n        return this.flowLevel ? 'flow' : 'doc';\r\n    }\r\n    *parseBlockScalarHeader() {\r\n        this.blockScalarIndent = -1;\r\n        this.blockScalarKeep = false;\r\n        let i = this.pos;\r\n        while (true) {\r\n            const ch = this.buffer[++i];\r\n            if (ch === '+')\r\n                this.blockScalarKeep = true;\r\n            else if (ch > '0' && ch <= '9')\r\n                this.blockScalarIndent = Number(ch) - 1;\r\n            else if (ch !== '-')\r\n                break;\r\n        }\r\n        return yield* this.pushUntil(ch => isEmpty(ch) || ch === '#');\r\n    }\r\n    *parseBlockScalar() {\r\n        let nl = this.pos - 1; // may be -1 if this.pos === 0\r\n        let indent = 0;\r\n        let ch;\r\n        loop: for (let i = this.pos; (ch = this.buffer[i]); ++i) {\r\n            switch (ch) {\r\n                case ' ':\r\n                    indent += 1;\r\n                    break;\r\n                case '\\n':\r\n                    nl = i;\r\n                    indent = 0;\r\n                    break;\r\n                case '\\r': {\r\n                    const next = this.buffer[i + 1];\r\n                    if (!next && !this.atEnd)\r\n                        return this.setNext('block-scalar');\r\n                    if (next === '\\n')\r\n                        break;\r\n                } // fallthrough\r\n                default:\r\n                    break loop;\r\n            }\r\n        }\r\n        if (!ch && !this.atEnd)\r\n            return this.setNext('block-scalar');\r\n        if (indent >= this.indentNext) {\r\n            if (this.blockScalarIndent === -1)\r\n                this.indentNext = indent;\r\n            else {\r\n                this.indentNext =\r\n                    this.blockScalarIndent + (this.indentNext === 0 ? 1 : this.indentNext);\r\n            }\r\n            do {\r\n                const cs = this.continueScalar(nl + 1);\r\n                if (cs === -1)\r\n                    break;\r\n                nl = this.buffer.indexOf('\\n', cs);\r\n            } while (nl !== -1);\r\n            if (nl === -1) {\r\n                if (!this.atEnd)\r\n                    return this.setNext('block-scalar');\r\n                nl = this.buffer.length;\r\n            }\r\n        }\r\n        // Trailing insufficiently indented tabs are invalid.\r\n        // To catch that during parsing, we include them in the block scalar value.\r\n        let i = nl + 1;\r\n        ch = this.buffer[i];\r\n        while (ch === ' ')\r\n            ch = this.buffer[++i];\r\n        if (ch === '\\t') {\r\n            while (ch === '\\t' || ch === ' ' || ch === '\\r' || ch === '\\n')\r\n                ch = this.buffer[++i];\r\n            nl = i - 1;\r\n        }\r\n        else if (!this.blockScalarKeep) {\r\n            do {\r\n                let i = nl - 1;\r\n                let ch = this.buffer[i];\r\n                if (ch === '\\r')\r\n                    ch = this.buffer[--i];\r\n                const lastChar = i; // Drop the line if last char not more indented\r\n                while (ch === ' ')\r\n                    ch = this.buffer[--i];\r\n                if (ch === '\\n' && i >= this.pos && i + 1 + indent > lastChar)\r\n                    nl = i;\r\n                else\r\n                    break;\r\n            } while (true);\r\n        }\r\n        yield SCALAR;\r\n        yield* this.pushToIndex(nl + 1, true);\r\n        return yield* this.parseLineStart();\r\n    }\r\n    *parsePlainScalar() {\r\n        const inFlow = this.flowLevel > 0;\r\n        let end = this.pos - 1;\r\n        let i = this.pos - 1;\r\n        let ch;\r\n        while ((ch = this.buffer[++i])) {\r\n            if (ch === ':') {\r\n                const next = this.buffer[i + 1];\r\n                if (isEmpty(next) || (inFlow && flowIndicatorChars.has(next)))\r\n                    break;\r\n                end = i;\r\n            }\r\n            else if (isEmpty(ch)) {\r\n                let next = this.buffer[i + 1];\r\n                if (ch === '\\r') {\r\n                    if (next === '\\n') {\r\n                        i += 1;\r\n                        ch = '\\n';\r\n                        next = this.buffer[i + 1];\r\n                    }\r\n                    else\r\n                        end = i;\r\n                }\r\n                if (next === '#' || (inFlow && flowIndicatorChars.has(next)))\r\n                    break;\r\n                if (ch === '\\n') {\r\n                    const cs = this.continueScalar(i + 1);\r\n                    if (cs === -1)\r\n                        break;\r\n                    i = Math.max(i, cs - 2); // to advance, but still account for ' #'\r\n                }\r\n            }\r\n            else {\r\n                if (inFlow && flowIndicatorChars.has(ch))\r\n                    break;\r\n                end = i;\r\n            }\r\n        }\r\n        if (!ch && !this.atEnd)\r\n            return this.setNext('plain-scalar');\r\n        yield SCALAR;\r\n        yield* this.pushToIndex(end + 1, true);\r\n        return inFlow ? 'flow' : 'doc';\r\n    }\r\n    *pushCount(n) {\r\n        if (n > 0) {\r\n            yield this.buffer.substr(this.pos, n);\r\n            this.pos += n;\r\n            return n;\r\n        }\r\n        return 0;\r\n    }\r\n    *pushToIndex(i, allowEmpty) {\r\n        const s = this.buffer.slice(this.pos, i);\r\n        if (s) {\r\n            yield s;\r\n            this.pos += s.length;\r\n            return s.length;\r\n        }\r\n        else if (allowEmpty)\r\n            yield '';\r\n        return 0;\r\n    }\r\n    *pushIndicators() {\r\n        switch (this.charAt(0)) {\r\n            case '!':\r\n                return ((yield* this.pushTag()) +\r\n                    (yield* this.pushSpaces(true)) +\r\n                    (yield* this.pushIndicators()));\r\n            case '&':\r\n                return ((yield* this.pushUntil(isNotAnchorChar)) +\r\n                    (yield* this.pushSpaces(true)) +\r\n                    (yield* this.pushIndicators()));\r\n            case '-': // this is an error\r\n            case '?': // this is an error outside flow collections\r\n            case ':': {\r\n                const inFlow = this.flowLevel > 0;\r\n                const ch1 = this.charAt(1);\r\n                if (isEmpty(ch1) || (inFlow && flowIndicatorChars.has(ch1))) {\r\n                    if (!inFlow)\r\n                        this.indentNext = this.indentValue + 1;\r\n                    else if (this.flowKey)\r\n                        this.flowKey = false;\r\n                    return ((yield* this.pushCount(1)) +\r\n                        (yield* this.pushSpaces(true)) +\r\n                        (yield* this.pushIndicators()));\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    *pushTag() {\r\n        if (this.charAt(1) === '<') {\r\n            let i = this.pos + 2;\r\n            let ch = this.buffer[i];\r\n            while (!isEmpty(ch) && ch !== '>')\r\n                ch = this.buffer[++i];\r\n            return yield* this.pushToIndex(ch === '>' ? i + 1 : i, false);\r\n        }\r\n        else {\r\n            let i = this.pos + 1;\r\n            let ch = this.buffer[i];\r\n            while (ch) {\r\n                if (tagChars.has(ch))\r\n                    ch = this.buffer[++i];\r\n                else if (ch === '%' &&\r\n                    hexDigits.has(this.buffer[i + 1]) &&\r\n                    hexDigits.has(this.buffer[i + 2])) {\r\n                    ch = this.buffer[(i += 3)];\r\n                }\r\n                else\r\n                    break;\r\n            }\r\n            return yield* this.pushToIndex(i, false);\r\n        }\r\n    }\r\n    *pushNewline() {\r\n        const ch = this.buffer[this.pos];\r\n        if (ch === '\\n')\r\n            return yield* this.pushCount(1);\r\n        else if (ch === '\\r' && this.charAt(1) === '\\n')\r\n            return yield* this.pushCount(2);\r\n        else\r\n            return 0;\r\n    }\r\n    *pushSpaces(allowTabs) {\r\n        let i = this.pos - 1;\r\n        let ch;\r\n        do {\r\n            ch = this.buffer[++i];\r\n        } while (ch === ' ' || (allowTabs && ch === '\\t'));\r\n        const n = i - this.pos;\r\n        if (n > 0) {\r\n            yield this.buffer.substr(this.pos, n);\r\n            this.pos = i;\r\n        }\r\n        return n;\r\n    }\r\n    *pushUntil(test) {\r\n        let i = this.pos;\r\n        let ch = this.buffer[i];\r\n        while (!test(ch))\r\n            ch = this.buffer[++i];\r\n        return yield* this.pushToIndex(i, false);\r\n    }\r\n}\r\n\r\n/**\r\n * Tracks newlines during parsing in order to provide an efficient API for\r\n * determining the one-indexed `{ line, col }` position for any offset\r\n * within the input.\r\n */\r\nclass LineCounter {\r\n    constructor() {\r\n        this.lineStarts = [];\r\n        /**\r\n         * Should be called in ascending order. Otherwise, call\r\n         * `lineCounter.lineStarts.sort()` before calling `linePos()`.\r\n         */\r\n        this.addNewLine = (offset) => this.lineStarts.push(offset);\r\n        /**\r\n         * Performs a binary search and returns the 1-indexed { line, col }\r\n         * position of `offset`. If `line === 0`, `addNewLine` has never been\r\n         * called or `offset` is before the first known newline.\r\n         */\r\n        this.linePos = (offset) => {\r\n            let low = 0;\r\n            let high = this.lineStarts.length;\r\n            while (low < high) {\r\n                const mid = (low + high) >> 1; // Math.floor((low + high) / 2)\r\n                if (this.lineStarts[mid] < offset)\r\n                    low = mid + 1;\r\n                else\r\n                    high = mid;\r\n            }\r\n            if (this.lineStarts[low] === offset)\r\n                return { line: low + 1, col: 1 };\r\n            if (low === 0)\r\n                return { line: 0, col: offset };\r\n            const start = this.lineStarts[low - 1];\r\n            return { line: low, col: offset - start + 1 };\r\n        };\r\n    }\r\n}\r\n\r\nfunction includesToken(list, type) {\r\n    for (let i = 0; i < list.length; ++i)\r\n        if (list[i].type === type)\r\n            return true;\r\n    return false;\r\n}\r\nfunction findNonEmptyIndex(list) {\r\n    for (let i = 0; i < list.length; ++i) {\r\n        switch (list[i].type) {\r\n            case 'space':\r\n            case 'comment':\r\n            case 'newline':\r\n                break;\r\n            default:\r\n                return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nfunction isFlowToken(token) {\r\n    switch (token?.type) {\r\n        case 'alias':\r\n        case 'scalar':\r\n        case 'single-quoted-scalar':\r\n        case 'double-quoted-scalar':\r\n        case 'flow-collection':\r\n            return true;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\nfunction getPrevProps(parent) {\r\n    switch (parent.type) {\r\n        case 'document':\r\n            return parent.start;\r\n        case 'block-map': {\r\n            const it = parent.items[parent.items.length - 1];\r\n            return it.sep ?? it.start;\r\n        }\r\n        case 'block-seq':\r\n            return parent.items[parent.items.length - 1].start;\r\n        /* istanbul ignore next should not happen */\r\n        default:\r\n            return [];\r\n    }\r\n}\r\n/** Note: May modify input array */\r\nfunction getFirstKeyStartProps(prev) {\r\n    if (prev.length === 0)\r\n        return [];\r\n    let i = prev.length;\r\n    loop: while (--i >= 0) {\r\n        switch (prev[i].type) {\r\n            case 'doc-start':\r\n            case 'explicit-key-ind':\r\n            case 'map-value-ind':\r\n            case 'seq-item-ind':\r\n            case 'newline':\r\n                break loop;\r\n        }\r\n    }\r\n    return prev.splice(i, prev.length);\r\n}\r\nfunction fixFlowSeqItems(fc) {\r\n    if (fc.start.type === 'flow-seq-start') {\r\n        for (const it of fc.items) {\r\n            if (it.sep &&\r\n                !it.value &&\r\n                !includesToken(it.start, 'explicit-key-ind') &&\r\n                !includesToken(it.sep, 'map-value-ind')) {\r\n                if (it.key)\r\n                    it.value = it.key;\r\n                delete it.key;\r\n                if (isFlowToken(it.value)) {\r\n                    if (it.value.end)\r\n                        Array.prototype.push.apply(it.value.end, it.sep);\r\n                    else\r\n                        it.value.end = it.sep;\r\n                }\r\n                else\r\n                    Array.prototype.push.apply(it.start, it.sep);\r\n                delete it.sep;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * A YAML concrete syntax tree (CST) parser\r\n *\r\n * ```ts\r\n * const src: string = ...\r\n * for (const token of new Parser().parse(src)) {\r\n *   // token: Token\r\n * }\r\n * ```\r\n *\r\n * To use the parser with a user-provided lexer:\r\n *\r\n * ```ts\r\n * function* parse(source: string, lexer: Lexer) {\r\n *   const parser = new Parser()\r\n *   for (const lexeme of lexer.lex(source))\r\n *     yield* parser.next(lexeme)\r\n *   yield* parser.end()\r\n * }\r\n *\r\n * const src: string = ...\r\n * const lexer = new Lexer()\r\n * for (const token of parse(src, lexer)) {\r\n *   // token: Token\r\n * }\r\n * ```\r\n */\r\nclass Parser {\r\n    /**\r\n     * @param onNewLine - If defined, called separately with the start position of\r\n     *   each new line (in `parse()`, including the start of input).\r\n     */\r\n    constructor(onNewLine) {\r\n        /** If true, space and sequence indicators count as indentation */\r\n        this.atNewLine = true;\r\n        /** If true, next token is a scalar value */\r\n        this.atScalar = false;\r\n        /** Current indentation level */\r\n        this.indent = 0;\r\n        /** Current offset since the start of parsing */\r\n        this.offset = 0;\r\n        /** On the same line with a block map key */\r\n        this.onKeyLine = false;\r\n        /** Top indicates the node that's currently being built */\r\n        this.stack = [];\r\n        /** The source of the current token, set in parse() */\r\n        this.source = '';\r\n        /** The type of the current token, set in parse() */\r\n        this.type = '';\r\n        // Must be defined after `next()`\r\n        this.lexer = new Lexer();\r\n        this.onNewLine = onNewLine;\r\n    }\r\n    /**\r\n     * Parse `source` as a YAML stream.\r\n     * If `incomplete`, a part of the last line may be left as a buffer for the next call.\r\n     *\r\n     * Errors are not thrown, but yielded as `{ type: 'error', message }` tokens.\r\n     *\r\n     * @returns A generator of tokens representing each directive, document, and other structure.\r\n     */\r\n    *parse(source, incomplete = false) {\r\n        if (this.onNewLine && this.offset === 0)\r\n            this.onNewLine(0);\r\n        for (const lexeme of this.lexer.lex(source, incomplete))\r\n            yield* this.next(lexeme);\r\n        if (!incomplete)\r\n            yield* this.end();\r\n    }\r\n    /**\r\n     * Advance the parser by the `source` of one lexical token.\r\n     */\r\n    *next(source) {\r\n        this.source = source;\r\n        if (this.atScalar) {\r\n            this.atScalar = false;\r\n            yield* this.step();\r\n            this.offset += source.length;\r\n            return;\r\n        }\r\n        const type = tokenType(source);\r\n        if (!type) {\r\n            const message = `Not a YAML token: ${source}`;\r\n            yield* this.pop({ type: 'error', offset: this.offset, message, source });\r\n            this.offset += source.length;\r\n        }\r\n        else if (type === 'scalar') {\r\n            this.atNewLine = false;\r\n            this.atScalar = true;\r\n            this.type = 'scalar';\r\n        }\r\n        else {\r\n            this.type = type;\r\n            yield* this.step();\r\n            switch (type) {\r\n                case 'newline':\r\n                    this.atNewLine = true;\r\n                    this.indent = 0;\r\n                    if (this.onNewLine)\r\n                        this.onNewLine(this.offset + source.length);\r\n                    break;\r\n                case 'space':\r\n                    if (this.atNewLine && source[0] === ' ')\r\n                        this.indent += source.length;\r\n                    break;\r\n                case 'explicit-key-ind':\r\n                case 'map-value-ind':\r\n                case 'seq-item-ind':\r\n                    if (this.atNewLine)\r\n                        this.indent += source.length;\r\n                    break;\r\n                case 'doc-mode':\r\n                case 'flow-error-end':\r\n                    return;\r\n                default:\r\n                    this.atNewLine = false;\r\n            }\r\n            this.offset += source.length;\r\n        }\r\n    }\r\n    /** Call at end of input to push out any remaining constructions */\r\n    *end() {\r\n        while (this.stack.length > 0)\r\n            yield* this.pop();\r\n    }\r\n    get sourceToken() {\r\n        const st = {\r\n            type: this.type,\r\n            offset: this.offset,\r\n            indent: this.indent,\r\n            source: this.source\r\n        };\r\n        return st;\r\n    }\r\n    *step() {\r\n        const top = this.peek(1);\r\n        if (this.type === 'doc-end' && (!top || top.type !== 'doc-end')) {\r\n            while (this.stack.length > 0)\r\n                yield* this.pop();\r\n            this.stack.push({\r\n                type: 'doc-end',\r\n                offset: this.offset,\r\n                source: this.source\r\n            });\r\n            return;\r\n        }\r\n        if (!top)\r\n            return yield* this.stream();\r\n        switch (top.type) {\r\n            case 'document':\r\n                return yield* this.document(top);\r\n            case 'alias':\r\n            case 'scalar':\r\n            case 'single-quoted-scalar':\r\n            case 'double-quoted-scalar':\r\n                return yield* this.scalar(top);\r\n            case 'block-scalar':\r\n                return yield* this.blockScalar(top);\r\n            case 'block-map':\r\n                return yield* this.blockMap(top);\r\n            case 'block-seq':\r\n                return yield* this.blockSequence(top);\r\n            case 'flow-collection':\r\n                return yield* this.flowCollection(top);\r\n            case 'doc-end':\r\n                return yield* this.documentEnd(top);\r\n        }\r\n        /* istanbul ignore next should not happen */\r\n        yield* this.pop();\r\n    }\r\n    peek(n) {\r\n        return this.stack[this.stack.length - n];\r\n    }\r\n    *pop(error) {\r\n        const token = error ?? this.stack.pop();\r\n        /* istanbul ignore if should not happen */\r\n        if (!token) {\r\n            const message = 'Tried to pop an empty stack';\r\n            yield { type: 'error', offset: this.offset, source: '', message };\r\n        }\r\n        else if (this.stack.length === 0) {\r\n            yield token;\r\n        }\r\n        else {\r\n            const top = this.peek(1);\r\n            if (token.type === 'block-scalar') {\r\n                // Block scalars use their parent rather than header indent\r\n                token.indent = 'indent' in top ? top.indent : 0;\r\n            }\r\n            else if (token.type === 'flow-collection' && top.type === 'document') {\r\n                // Ignore all indent for top-level flow collections\r\n                token.indent = 0;\r\n            }\r\n            if (token.type === 'flow-collection')\r\n                fixFlowSeqItems(token);\r\n            switch (top.type) {\r\n                case 'document':\r\n                    top.value = token;\r\n                    break;\r\n                case 'block-scalar':\r\n                    top.props.push(token); // error\r\n                    break;\r\n                case 'block-map': {\r\n                    const it = top.items[top.items.length - 1];\r\n                    if (it.value) {\r\n                        top.items.push({ start: [], key: token, sep: [] });\r\n                        this.onKeyLine = true;\r\n                        return;\r\n                    }\r\n                    else if (it.sep) {\r\n                        it.value = token;\r\n                    }\r\n                    else {\r\n                        Object.assign(it, { key: token, sep: [] });\r\n                        this.onKeyLine = !it.explicitKey;\r\n                        return;\r\n                    }\r\n                    break;\r\n                }\r\n                case 'block-seq': {\r\n                    const it = top.items[top.items.length - 1];\r\n                    if (it.value)\r\n                        top.items.push({ start: [], value: token });\r\n                    else\r\n                        it.value = token;\r\n                    break;\r\n                }\r\n                case 'flow-collection': {\r\n                    const it = top.items[top.items.length - 1];\r\n                    if (!it || it.value)\r\n                        top.items.push({ start: [], key: token, sep: [] });\r\n                    else if (it.sep)\r\n                        it.value = token;\r\n                    else\r\n                        Object.assign(it, { key: token, sep: [] });\r\n                    return;\r\n                }\r\n                /* istanbul ignore next should not happen */\r\n                default:\r\n                    yield* this.pop();\r\n                    yield* this.pop(token);\r\n            }\r\n            if ((top.type === 'document' ||\r\n                top.type === 'block-map' ||\r\n                top.type === 'block-seq') &&\r\n                (token.type === 'block-map' || token.type === 'block-seq')) {\r\n                const last = token.items[token.items.length - 1];\r\n                if (last &&\r\n                    !last.sep &&\r\n                    !last.value &&\r\n                    last.start.length > 0 &&\r\n                    findNonEmptyIndex(last.start) === -1 &&\r\n                    (token.indent === 0 ||\r\n                        last.start.every(st => st.type !== 'comment' || st.indent < token.indent))) {\r\n                    if (top.type === 'document')\r\n                        top.end = last.start;\r\n                    else\r\n                        top.items.push({ start: last.start });\r\n                    token.items.splice(-1, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    *stream() {\r\n        switch (this.type) {\r\n            case 'directive-line':\r\n                yield { type: 'directive', offset: this.offset, source: this.source };\r\n                return;\r\n            case 'byte-order-mark':\r\n            case 'space':\r\n            case 'comment':\r\n            case 'newline':\r\n                yield this.sourceToken;\r\n                return;\r\n            case 'doc-mode':\r\n            case 'doc-start': {\r\n                const doc = {\r\n                    type: 'document',\r\n                    offset: this.offset,\r\n                    start: []\r\n                };\r\n                if (this.type === 'doc-start')\r\n                    doc.start.push(this.sourceToken);\r\n                this.stack.push(doc);\r\n                return;\r\n            }\r\n        }\r\n        yield {\r\n            type: 'error',\r\n            offset: this.offset,\r\n            message: `Unexpected ${this.type} token in YAML stream`,\r\n            source: this.source\r\n        };\r\n    }\r\n    *document(doc) {\r\n        if (doc.value)\r\n            return yield* this.lineEnd(doc);\r\n        switch (this.type) {\r\n            case 'doc-start': {\r\n                if (findNonEmptyIndex(doc.start) !== -1) {\r\n                    yield* this.pop();\r\n                    yield* this.step();\r\n                }\r\n                else\r\n                    doc.start.push(this.sourceToken);\r\n                return;\r\n            }\r\n            case 'anchor':\r\n            case 'tag':\r\n            case 'space':\r\n            case 'comment':\r\n            case 'newline':\r\n                doc.start.push(this.sourceToken);\r\n                return;\r\n        }\r\n        const bv = this.startBlockValue(doc);\r\n        if (bv)\r\n            this.stack.push(bv);\r\n        else {\r\n            yield {\r\n                type: 'error',\r\n                offset: this.offset,\r\n                message: `Unexpected ${this.type} token in YAML document`,\r\n                source: this.source\r\n            };\r\n        }\r\n    }\r\n    *scalar(scalar) {\r\n        if (this.type === 'map-value-ind') {\r\n            const prev = getPrevProps(this.peek(2));\r\n            const start = getFirstKeyStartProps(prev);\r\n            let sep;\r\n            if (scalar.end) {\r\n                sep = scalar.end;\r\n                sep.push(this.sourceToken);\r\n                delete scalar.end;\r\n            }\r\n            else\r\n                sep = [this.sourceToken];\r\n            const map = {\r\n                type: 'block-map',\r\n                offset: scalar.offset,\r\n                indent: scalar.indent,\r\n                items: [{ start, key: scalar, sep }]\r\n            };\r\n            this.onKeyLine = true;\r\n            this.stack[this.stack.length - 1] = map;\r\n        }\r\n        else\r\n            yield* this.lineEnd(scalar);\r\n    }\r\n    *blockScalar(scalar) {\r\n        switch (this.type) {\r\n            case 'space':\r\n            case 'comment':\r\n            case 'newline':\r\n                scalar.props.push(this.sourceToken);\r\n                return;\r\n            case 'scalar':\r\n                scalar.source = this.source;\r\n                // block-scalar source includes trailing newline\r\n                this.atNewLine = true;\r\n                this.indent = 0;\r\n                if (this.onNewLine) {\r\n                    let nl = this.source.indexOf('\\n') + 1;\r\n                    while (nl !== 0) {\r\n                        this.onNewLine(this.offset + nl);\r\n                        nl = this.source.indexOf('\\n', nl) + 1;\r\n                    }\r\n                }\r\n                yield* this.pop();\r\n                break;\r\n            /* istanbul ignore next should not happen */\r\n            default:\r\n                yield* this.pop();\r\n                yield* this.step();\r\n        }\r\n    }\r\n    *blockMap(map) {\r\n        const it = map.items[map.items.length - 1];\r\n        // it.sep is true-ish if pair already has key or : separator\r\n        switch (this.type) {\r\n            case 'newline':\r\n                this.onKeyLine = false;\r\n                if (it.value) {\r\n                    const end = 'end' in it.value ? it.value.end : undefined;\r\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\r\n                    if (last?.type === 'comment')\r\n                        end?.push(this.sourceToken);\r\n                    else\r\n                        map.items.push({ start: [this.sourceToken] });\r\n                }\r\n                else if (it.sep) {\r\n                    it.sep.push(this.sourceToken);\r\n                }\r\n                else {\r\n                    it.start.push(this.sourceToken);\r\n                }\r\n                return;\r\n            case 'space':\r\n            case 'comment':\r\n                if (it.value) {\r\n                    map.items.push({ start: [this.sourceToken] });\r\n                }\r\n                else if (it.sep) {\r\n                    it.sep.push(this.sourceToken);\r\n                }\r\n                else {\r\n                    if (this.atIndentedComment(it.start, map.indent)) {\r\n                        const prev = map.items[map.items.length - 2];\r\n                        const end = prev?.value?.end;\r\n                        if (Array.isArray(end)) {\r\n                            Array.prototype.push.apply(end, it.start);\r\n                            end.push(this.sourceToken);\r\n                            map.items.pop();\r\n                            return;\r\n                        }\r\n                    }\r\n                    it.start.push(this.sourceToken);\r\n                }\r\n                return;\r\n        }\r\n        if (this.indent >= map.indent) {\r\n            const atMapIndent = !this.onKeyLine && this.indent === map.indent;\r\n            const atNextItem = atMapIndent &&\r\n                (it.sep || it.explicitKey) &&\r\n                this.type !== 'seq-item-ind';\r\n            // For empty nodes, assign newline-separated not indented empty tokens to following node\r\n            let start = [];\r\n            if (atNextItem && it.sep && !it.value) {\r\n                const nl = [];\r\n                for (let i = 0; i < it.sep.length; ++i) {\r\n                    const st = it.sep[i];\r\n                    switch (st.type) {\r\n                        case 'newline':\r\n                            nl.push(i);\r\n                            break;\r\n                        case 'space':\r\n                            break;\r\n                        case 'comment':\r\n                            if (st.indent > map.indent)\r\n                                nl.length = 0;\r\n                            break;\r\n                        default:\r\n                            nl.length = 0;\r\n                    }\r\n                }\r\n                if (nl.length >= 2)\r\n                    start = it.sep.splice(nl[1]);\r\n            }\r\n            switch (this.type) {\r\n                case 'anchor':\r\n                case 'tag':\r\n                    if (atNextItem || it.value) {\r\n                        start.push(this.sourceToken);\r\n                        map.items.push({ start });\r\n                        this.onKeyLine = true;\r\n                    }\r\n                    else if (it.sep) {\r\n                        it.sep.push(this.sourceToken);\r\n                    }\r\n                    else {\r\n                        it.start.push(this.sourceToken);\r\n                    }\r\n                    return;\r\n                case 'explicit-key-ind':\r\n                    if (!it.sep && !it.explicitKey) {\r\n                        it.start.push(this.sourceToken);\r\n                        it.explicitKey = true;\r\n                    }\r\n                    else if (atNextItem || it.value) {\r\n                        start.push(this.sourceToken);\r\n                        map.items.push({ start, explicitKey: true });\r\n                    }\r\n                    else {\r\n                        this.stack.push({\r\n                            type: 'block-map',\r\n                            offset: this.offset,\r\n                            indent: this.indent,\r\n                            items: [{ start: [this.sourceToken], explicitKey: true }]\r\n                        });\r\n                    }\r\n                    this.onKeyLine = true;\r\n                    return;\r\n                case 'map-value-ind':\r\n                    if (it.explicitKey) {\r\n                        if (!it.sep) {\r\n                            if (includesToken(it.start, 'newline')) {\r\n                                Object.assign(it, { key: null, sep: [this.sourceToken] });\r\n                            }\r\n                            else {\r\n                                const start = getFirstKeyStartProps(it.start);\r\n                                this.stack.push({\r\n                                    type: 'block-map',\r\n                                    offset: this.offset,\r\n                                    indent: this.indent,\r\n                                    items: [{ start, key: null, sep: [this.sourceToken] }]\r\n                                });\r\n                            }\r\n                        }\r\n                        else if (it.value) {\r\n                            map.items.push({ start: [], key: null, sep: [this.sourceToken] });\r\n                        }\r\n                        else if (includesToken(it.sep, 'map-value-ind')) {\r\n                            this.stack.push({\r\n                                type: 'block-map',\r\n                                offset: this.offset,\r\n                                indent: this.indent,\r\n                                items: [{ start, key: null, sep: [this.sourceToken] }]\r\n                            });\r\n                        }\r\n                        else if (isFlowToken(it.key) &&\r\n                            !includesToken(it.sep, 'newline')) {\r\n                            const start = getFirstKeyStartProps(it.start);\r\n                            const key = it.key;\r\n                            const sep = it.sep;\r\n                            sep.push(this.sourceToken);\r\n                            // @ts-expect-error type guard is wrong here\r\n                            delete it.key, delete it.sep;\r\n                            this.stack.push({\r\n                                type: 'block-map',\r\n                                offset: this.offset,\r\n                                indent: this.indent,\r\n                                items: [{ start, key, sep }]\r\n                            });\r\n                        }\r\n                        else if (start.length > 0) {\r\n                            // Not actually at next item\r\n                            it.sep = it.sep.concat(start, this.sourceToken);\r\n                        }\r\n                        else {\r\n                            it.sep.push(this.sourceToken);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (!it.sep) {\r\n                            Object.assign(it, { key: null, sep: [this.sourceToken] });\r\n                        }\r\n                        else if (it.value || atNextItem) {\r\n                            map.items.push({ start, key: null, sep: [this.sourceToken] });\r\n                        }\r\n                        else if (includesToken(it.sep, 'map-value-ind')) {\r\n                            this.stack.push({\r\n                                type: 'block-map',\r\n                                offset: this.offset,\r\n                                indent: this.indent,\r\n                                items: [{ start: [], key: null, sep: [this.sourceToken] }]\r\n                            });\r\n                        }\r\n                        else {\r\n                            it.sep.push(this.sourceToken);\r\n                        }\r\n                    }\r\n                    this.onKeyLine = true;\r\n                    return;\r\n                case 'alias':\r\n                case 'scalar':\r\n                case 'single-quoted-scalar':\r\n                case 'double-quoted-scalar': {\r\n                    const fs = this.flowScalar(this.type);\r\n                    if (atNextItem || it.value) {\r\n                        map.items.push({ start, key: fs, sep: [] });\r\n                        this.onKeyLine = true;\r\n                    }\r\n                    else if (it.sep) {\r\n                        this.stack.push(fs);\r\n                    }\r\n                    else {\r\n                        Object.assign(it, { key: fs, sep: [] });\r\n                        this.onKeyLine = true;\r\n                    }\r\n                    return;\r\n                }\r\n                default: {\r\n                    const bv = this.startBlockValue(map);\r\n                    if (bv) {\r\n                        if (atMapIndent && bv.type !== 'block-seq') {\r\n                            map.items.push({ start });\r\n                        }\r\n                        this.stack.push(bv);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        yield* this.pop();\r\n        yield* this.step();\r\n    }\r\n    *blockSequence(seq) {\r\n        const it = seq.items[seq.items.length - 1];\r\n        switch (this.type) {\r\n            case 'newline':\r\n                if (it.value) {\r\n                    const end = 'end' in it.value ? it.value.end : undefined;\r\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\r\n                    if (last?.type === 'comment')\r\n                        end?.push(this.sourceToken);\r\n                    else\r\n                        seq.items.push({ start: [this.sourceToken] });\r\n                }\r\n                else\r\n                    it.start.push(this.sourceToken);\r\n                return;\r\n            case 'space':\r\n            case 'comment':\r\n                if (it.value)\r\n                    seq.items.push({ start: [this.sourceToken] });\r\n                else {\r\n                    if (this.atIndentedComment(it.start, seq.indent)) {\r\n                        const prev = seq.items[seq.items.length - 2];\r\n                        const end = prev?.value?.end;\r\n                        if (Array.isArray(end)) {\r\n                            Array.prototype.push.apply(end, it.start);\r\n                            end.push(this.sourceToken);\r\n                            seq.items.pop();\r\n                            return;\r\n                        }\r\n                    }\r\n                    it.start.push(this.sourceToken);\r\n                }\r\n                return;\r\n            case 'anchor':\r\n            case 'tag':\r\n                if (it.value || this.indent <= seq.indent)\r\n                    break;\r\n                it.start.push(this.sourceToken);\r\n                return;\r\n            case 'seq-item-ind':\r\n                if (this.indent !== seq.indent)\r\n                    break;\r\n                if (it.value || includesToken(it.start, 'seq-item-ind'))\r\n                    seq.items.push({ start: [this.sourceToken] });\r\n                else\r\n                    it.start.push(this.sourceToken);\r\n                return;\r\n        }\r\n        if (this.indent > seq.indent) {\r\n            const bv = this.startBlockValue(seq);\r\n            if (bv) {\r\n                this.stack.push(bv);\r\n                return;\r\n            }\r\n        }\r\n        yield* this.pop();\r\n        yield* this.step();\r\n    }\r\n    *flowCollection(fc) {\r\n        const it = fc.items[fc.items.length - 1];\r\n        if (this.type === 'flow-error-end') {\r\n            let top;\r\n            do {\r\n                yield* this.pop();\r\n                top = this.peek(1);\r\n            } while (top && top.type === 'flow-collection');\r\n        }\r\n        else if (fc.end.length === 0) {\r\n            switch (this.type) {\r\n                case 'comma':\r\n                case 'explicit-key-ind':\r\n                    if (!it || it.sep)\r\n                        fc.items.push({ start: [this.sourceToken] });\r\n                    else\r\n                        it.start.push(this.sourceToken);\r\n                    return;\r\n                case 'map-value-ind':\r\n                    if (!it || it.value)\r\n                        fc.items.push({ start: [], key: null, sep: [this.sourceToken] });\r\n                    else if (it.sep)\r\n                        it.sep.push(this.sourceToken);\r\n                    else\r\n                        Object.assign(it, { key: null, sep: [this.sourceToken] });\r\n                    return;\r\n                case 'space':\r\n                case 'comment':\r\n                case 'newline':\r\n                case 'anchor':\r\n                case 'tag':\r\n                    if (!it || it.value)\r\n                        fc.items.push({ start: [this.sourceToken] });\r\n                    else if (it.sep)\r\n                        it.sep.push(this.sourceToken);\r\n                    else\r\n                        it.start.push(this.sourceToken);\r\n                    return;\r\n                case 'alias':\r\n                case 'scalar':\r\n                case 'single-quoted-scalar':\r\n                case 'double-quoted-scalar': {\r\n                    const fs = this.flowScalar(this.type);\r\n                    if (!it || it.value)\r\n                        fc.items.push({ start: [], key: fs, sep: [] });\r\n                    else if (it.sep)\r\n                        this.stack.push(fs);\r\n                    else\r\n                        Object.assign(it, { key: fs, sep: [] });\r\n                    return;\r\n                }\r\n                case 'flow-map-end':\r\n                case 'flow-seq-end':\r\n                    fc.end.push(this.sourceToken);\r\n                    return;\r\n            }\r\n            const bv = this.startBlockValue(fc);\r\n            /* istanbul ignore else should not happen */\r\n            if (bv)\r\n                this.stack.push(bv);\r\n            else {\r\n                yield* this.pop();\r\n                yield* this.step();\r\n            }\r\n        }\r\n        else {\r\n            const parent = this.peek(2);\r\n            if (parent.type === 'block-map' &&\r\n                ((this.type === 'map-value-ind' && parent.indent === fc.indent) ||\r\n                    (this.type === 'newline' &&\r\n                        !parent.items[parent.items.length - 1].sep))) {\r\n                yield* this.pop();\r\n                yield* this.step();\r\n            }\r\n            else if (this.type === 'map-value-ind' &&\r\n                parent.type !== 'flow-collection') {\r\n                const prev = getPrevProps(parent);\r\n                const start = getFirstKeyStartProps(prev);\r\n                fixFlowSeqItems(fc);\r\n                const sep = fc.end.splice(1, fc.end.length);\r\n                sep.push(this.sourceToken);\r\n                const map = {\r\n                    type: 'block-map',\r\n                    offset: fc.offset,\r\n                    indent: fc.indent,\r\n                    items: [{ start, key: fc, sep }]\r\n                };\r\n                this.onKeyLine = true;\r\n                this.stack[this.stack.length - 1] = map;\r\n            }\r\n            else {\r\n                yield* this.lineEnd(fc);\r\n            }\r\n        }\r\n    }\r\n    flowScalar(type) {\r\n        if (this.onNewLine) {\r\n            let nl = this.source.indexOf('\\n') + 1;\r\n            while (nl !== 0) {\r\n                this.onNewLine(this.offset + nl);\r\n                nl = this.source.indexOf('\\n', nl) + 1;\r\n            }\r\n        }\r\n        return {\r\n            type,\r\n            offset: this.offset,\r\n            indent: this.indent,\r\n            source: this.source\r\n        };\r\n    }\r\n    startBlockValue(parent) {\r\n        switch (this.type) {\r\n            case 'alias':\r\n            case 'scalar':\r\n            case 'single-quoted-scalar':\r\n            case 'double-quoted-scalar':\r\n                return this.flowScalar(this.type);\r\n            case 'block-scalar-header':\r\n                return {\r\n                    type: 'block-scalar',\r\n                    offset: this.offset,\r\n                    indent: this.indent,\r\n                    props: [this.sourceToken],\r\n                    source: ''\r\n                };\r\n            case 'flow-map-start':\r\n            case 'flow-seq-start':\r\n                return {\r\n                    type: 'flow-collection',\r\n                    offset: this.offset,\r\n                    indent: this.indent,\r\n                    start: this.sourceToken,\r\n                    items: [],\r\n                    end: []\r\n                };\r\n            case 'seq-item-ind':\r\n                return {\r\n                    type: 'block-seq',\r\n                    offset: this.offset,\r\n                    indent: this.indent,\r\n                    items: [{ start: [this.sourceToken] }]\r\n                };\r\n            case 'explicit-key-ind': {\r\n                this.onKeyLine = true;\r\n                const prev = getPrevProps(parent);\r\n                const start = getFirstKeyStartProps(prev);\r\n                start.push(this.sourceToken);\r\n                return {\r\n                    type: 'block-map',\r\n                    offset: this.offset,\r\n                    indent: this.indent,\r\n                    items: [{ start, explicitKey: true }]\r\n                };\r\n            }\r\n            case 'map-value-ind': {\r\n                this.onKeyLine = true;\r\n                const prev = getPrevProps(parent);\r\n                const start = getFirstKeyStartProps(prev);\r\n                return {\r\n                    type: 'block-map',\r\n                    offset: this.offset,\r\n                    indent: this.indent,\r\n                    items: [{ start, key: null, sep: [this.sourceToken] }]\r\n                };\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    atIndentedComment(start, indent) {\r\n        if (this.type !== 'comment')\r\n            return false;\r\n        if (this.indent <= indent)\r\n            return false;\r\n        return start.every(st => st.type === 'newline' || st.type === 'space');\r\n    }\r\n    *documentEnd(docEnd) {\r\n        if (this.type !== 'doc-mode') {\r\n            if (docEnd.end)\r\n                docEnd.end.push(this.sourceToken);\r\n            else\r\n                docEnd.end = [this.sourceToken];\r\n            if (this.type === 'newline')\r\n                yield* this.pop();\r\n        }\r\n    }\r\n    *lineEnd(token) {\r\n        switch (this.type) {\r\n            case 'comma':\r\n            case 'doc-start':\r\n            case 'doc-end':\r\n            case 'flow-seq-end':\r\n            case 'flow-map-end':\r\n            case 'map-value-ind':\r\n                yield* this.pop();\r\n                yield* this.step();\r\n                break;\r\n            case 'newline':\r\n                this.onKeyLine = false;\r\n            // fallthrough\r\n            case 'space':\r\n            case 'comment':\r\n            default:\r\n                // all other values are errors\r\n                if (token.end)\r\n                    token.end.push(this.sourceToken);\r\n                else\r\n                    token.end = [this.sourceToken];\r\n                if (this.type === 'newline')\r\n                    yield* this.pop();\r\n        }\r\n    }\r\n}\r\n\r\nfunction parseOptions(options) {\r\n    const prettyErrors = options.prettyErrors !== false;\r\n    const lineCounter = options.lineCounter || (prettyErrors && new LineCounter()) || null;\r\n    return { lineCounter, prettyErrors };\r\n}\r\n/**\r\n * Parse the input as a stream of YAML documents.\r\n *\r\n * Documents should be separated from each other by `...` or `---` marker lines.\r\n *\r\n * @returns If an empty `docs` array is returned, it will be of type\r\n *   EmptyStream and contain additional stream information. In\r\n *   TypeScript, you should use `'empty' in docs` as a type guard for it.\r\n */\r\nfunction parseAllDocuments(source, options = {}) {\r\n    const { lineCounter, prettyErrors } = parseOptions(options);\r\n    const parser = new Parser(lineCounter?.addNewLine);\r\n    const composer = new Composer(options);\r\n    const docs = Array.from(composer.compose(parser.parse(source)));\r\n    if (prettyErrors && lineCounter)\r\n        for (const doc of docs) {\r\n            doc.errors.forEach(prettifyError(source, lineCounter));\r\n            doc.warnings.forEach(prettifyError(source, lineCounter));\r\n        }\r\n    if (docs.length > 0)\r\n        return docs;\r\n    return Object.assign([], { empty: true }, composer.streamInfo());\r\n}\r\n/** Parse an input string into a single YAML.Document */\r\nfunction parseDocument(source, options = {}) {\r\n    const { lineCounter, prettyErrors } = parseOptions(options);\r\n    const parser = new Parser(lineCounter?.addNewLine);\r\n    const composer = new Composer(options);\r\n    // `doc` is always set by compose.end(true) at the very latest\r\n    let doc = null;\r\n    for (const _doc of composer.compose(parser.parse(source), true, source.length)) {\r\n        if (!doc)\r\n            doc = _doc;\r\n        else if (doc.options.logLevel !== 'silent') {\r\n            doc.errors.push(new YAMLParseError(_doc.range.slice(0, 2), 'MULTIPLE_DOCS', 'Source contains multiple documents; please use YAML.parseAllDocuments()'));\r\n            break;\r\n        }\r\n    }\r\n    if (prettyErrors && lineCounter) {\r\n        doc.errors.forEach(prettifyError(source, lineCounter));\r\n        doc.warnings.forEach(prettifyError(source, lineCounter));\r\n    }\r\n    return doc;\r\n}\r\nfunction parse$a(src, reviver, options) {\r\n    let _reviver = undefined;\r\n    if (typeof reviver === 'function') {\r\n        _reviver = reviver;\r\n    }\r\n    else if (options === undefined && reviver && typeof reviver === 'object') {\r\n        options = reviver;\r\n    }\r\n    const doc = parseDocument(src, options);\r\n    if (!doc)\r\n        return null;\r\n    doc.warnings.forEach(warning => warn(doc.options.logLevel, warning));\r\n    if (doc.errors.length > 0) {\r\n        if (doc.options.logLevel !== 'silent')\r\n            throw doc.errors[0];\r\n        else\r\n            doc.errors = [];\r\n    }\r\n    return doc.toJS(Object.assign({ reviver: _reviver }, options));\r\n}\r\nfunction stringify(value, replacer, options) {\r\n    let _replacer = null;\r\n    if (typeof replacer === 'function' || Array.isArray(replacer)) {\r\n        _replacer = replacer;\r\n    }\r\n    else if (options === undefined && replacer) {\r\n        options = replacer;\r\n    }\r\n    if (typeof options === 'string')\r\n        options = options.length;\r\n    if (typeof options === 'number') {\r\n        const indent = Math.round(options);\r\n        options = indent < 1 ? undefined : indent > 8 ? { indent: 8 } : { indent };\r\n    }\r\n    if (value === undefined) {\r\n        const { keepUndefined } = options ?? replacer ?? {};\r\n        if (!keepUndefined)\r\n            return undefined;\r\n    }\r\n    return new Document(value, _replacer, options).toString(options);\r\n}\r\n\r\nvar YAML = {\r\n\t__proto__: null,\r\n\tAlias: Alias,\r\n\tCST: cst,\r\n\tComposer: Composer,\r\n\tDocument: Document,\r\n\tLexer: Lexer,\r\n\tLineCounter: LineCounter,\r\n\tPair: Pair,\r\n\tParser: Parser,\r\n\tScalar: Scalar,\r\n\tSchema: Schema,\r\n\tYAMLError: YAMLError,\r\n\tYAMLMap: YAMLMap,\r\n\tYAMLParseError: YAMLParseError,\r\n\tYAMLSeq: YAMLSeq,\r\n\tYAMLWarning: YAMLWarning,\r\n\tisAlias: isAlias,\r\n\tisCollection: isCollection$1,\r\n\tisDocument: isDocument,\r\n\tisMap: isMap,\r\n\tisNode: isNode$1,\r\n\tisPair: isPair,\r\n\tisScalar: isScalar$1,\r\n\tisSeq: isSeq,\r\n\tparse: parse$a,\r\n\tparseAllDocuments: parseAllDocuments,\r\n\tparseDocument: parseDocument,\r\n\tstringify: stringify,\r\n\tvisit: visit$1,\r\n\tvisitAsync: visitAsync\r\n};\r\n\r\n// `export * as default from ...` fails on Webpack v4\r\n// https://github.com/eemeli/yaml/issues/228\r\n\r\nvar browser$2 = {\r\n\t__proto__: null,\r\n\tAlias: Alias,\r\n\tCST: cst,\r\n\tComposer: Composer,\r\n\tDocument: Document,\r\n\tLexer: Lexer,\r\n\tLineCounter: LineCounter,\r\n\tPair: Pair,\r\n\tParser: Parser,\r\n\tScalar: Scalar,\r\n\tSchema: Schema,\r\n\tYAMLError: YAMLError,\r\n\tYAMLMap: YAMLMap,\r\n\tYAMLParseError: YAMLParseError,\r\n\tYAMLSeq: YAMLSeq,\r\n\tYAMLWarning: YAMLWarning,\r\n\tdefault: YAML,\r\n\tisAlias: isAlias,\r\n\tisCollection: isCollection$1,\r\n\tisDocument: isDocument,\r\n\tisMap: isMap,\r\n\tisNode: isNode$1,\r\n\tisPair: isPair,\r\n\tisScalar: isScalar$1,\r\n\tisSeq: isSeq,\r\n\tparse: parse$a,\r\n\tparseAllDocuments: parseAllDocuments,\r\n\tparseDocument: parseDocument,\r\n\tstringify: stringify,\r\n\tvisit: visit$1,\r\n\tvisitAsync: visitAsync\r\n};\r\n\r\nvar require$$3 = /*@__PURE__*/getAugmentedNamespace(browser$2);\r\n\r\n// eslint-disable-next-line n/no-deprecated-api\r\nconst { createRequire, createRequireFromPath } = require$$0$8;\r\n\r\nfunction req$2 (name, rootFile) {\r\n  const create = createRequire || createRequireFromPath;\r\n  const require = create(rootFile);\r\n  return require(name)\r\n}\r\n\r\nvar req_1 = req$2;\r\n\r\nconst req$1 = req_1;\r\n\r\n/**\r\n * Load Options\r\n *\r\n * @private\r\n * @method options\r\n *\r\n * @param  {Object} config  PostCSS Config\r\n *\r\n * @return {Object} options PostCSS Options\r\n */\r\nconst options = (config, file) => {\r\n  if (config.parser && typeof config.parser === 'string') {\r\n    try {\r\n      config.parser = req$1(config.parser, file);\r\n    } catch (err) {\r\n      throw new Error(`Loading PostCSS Parser failed: ${err.message}\\n\\n(@${file})`)\r\n    }\r\n  }\r\n\r\n  if (config.syntax && typeof config.syntax === 'string') {\r\n    try {\r\n      config.syntax = req$1(config.syntax, file);\r\n    } catch (err) {\r\n      throw new Error(`Loading PostCSS Syntax failed: ${err.message}\\n\\n(@${file})`)\r\n    }\r\n  }\r\n\r\n  if (config.stringifier && typeof config.stringifier === 'string') {\r\n    try {\r\n      config.stringifier = req$1(config.stringifier, file);\r\n    } catch (err) {\r\n      throw new Error(`Loading PostCSS Stringifier failed: ${err.message}\\n\\n(@${file})`)\r\n    }\r\n  }\r\n\r\n  if (config.plugins) {\r\n    delete config.plugins;\r\n  }\r\n\r\n  return config\r\n};\r\n\r\nvar options_1 = options;\r\n\r\nconst req = req_1;\r\n\r\n/**\r\n * Plugin Loader\r\n *\r\n * @private\r\n * @method load\r\n *\r\n * @param  {String} plugin PostCSS Plugin Name\r\n * @param  {Object} options PostCSS Plugin Options\r\n *\r\n * @return {Function} PostCSS Plugin\r\n */\r\nconst load = (plugin, options, file) => {\r\n  try {\r\n    if (\r\n      options === null ||\r\n      options === undefined ||\r\n      Object.keys(options).length === 0\r\n    ) {\r\n      return req(plugin, file)\r\n    } else {\r\n      return req(plugin, file)(options)\r\n    }\r\n  } catch (err) {\r\n    throw new Error(`Loading PostCSS Plugin failed: ${err.message}\\n\\n(@${file})`)\r\n  }\r\n};\r\n\r\n/**\r\n * Load Plugins\r\n *\r\n * @private\r\n * @method plugins\r\n *\r\n * @param {Object} config PostCSS Config Plugins\r\n *\r\n * @return {Array} plugins PostCSS Plugins\r\n */\r\nconst plugins = (config, file) => {\r\n  let plugins = [];\r\n\r\n  if (Array.isArray(config.plugins)) {\r\n    plugins = config.plugins.filter(Boolean);\r\n  } else {\r\n    plugins = Object.keys(config.plugins)\r\n      .filter((plugin) => {\r\n        return config.plugins[plugin] !== false ? plugin : ''\r\n      })\r\n      .map((plugin) => {\r\n        return load(plugin, config.plugins[plugin], file)\r\n      });\r\n  }\r\n\r\n  if (plugins.length && plugins.length > 0) {\r\n    plugins.forEach((plugin, i) => {\r\n      if (plugin.default) {\r\n        plugin = plugin.default;\r\n      }\r\n\r\n      if (plugin.postcss === true) {\r\n        plugin = plugin();\r\n      } else if (plugin.postcss) {\r\n        plugin = plugin.postcss;\r\n      }\r\n\r\n      if (\r\n        // eslint-disable-next-line\r\n        !(\r\n          (typeof plugin === 'object' && Array.isArray(plugin.plugins)) ||\r\n          (typeof plugin === 'object' && plugin.postcssPlugin) ||\r\n          (typeof plugin === 'function')\r\n        )\r\n      ) {\r\n        throw new TypeError(`Invalid PostCSS Plugin found at: plugins[${i}]\\n\\n(@${file})`)\r\n      }\r\n    });\r\n  }\r\n\r\n  return plugins\r\n};\r\n\r\nvar plugins_1 = plugins;\r\n\r\nconst resolve = require$$0$4.resolve;\r\nconst url$4 = require$$0$9;\r\n\r\nconst config$1 = src$2;\r\nconst yaml = require$$3;\r\n\r\nconst loadOptions = options_1;\r\nconst loadPlugins = plugins_1;\r\n\r\n/* istanbul ignore next */\r\nconst interopRequireDefault = (obj) => obj && obj.__esModule ? obj : { default: obj };\r\n\r\n/**\r\n * Process the result from cosmiconfig\r\n *\r\n * @param  {Object} ctx Config Context\r\n * @param  {Object} result Cosmiconfig result\r\n *\r\n * @return {Object} PostCSS Config\r\n */\r\nconst processResult = (ctx, result) => {\r\n  const file = result.filepath || '';\r\n  let config = interopRequireDefault(result.config).default || {};\r\n\r\n  if (typeof config === 'function') {\r\n    config = config(ctx);\r\n  } else {\r\n    config = Object.assign({}, config, ctx);\r\n  }\r\n\r\n  if (!config.plugins) {\r\n    config.plugins = [];\r\n  }\r\n\r\n  return {\r\n    plugins: loadPlugins(config, file),\r\n    options: loadOptions(config, file),\r\n    file\r\n  }\r\n};\r\n\r\n/**\r\n * Builds the Config Context\r\n *\r\n * @param  {Object} ctx Config Context\r\n *\r\n * @return {Object} Config Context\r\n */\r\nconst createContext = (ctx) => {\r\n  /**\r\n   * @type {Object}\r\n   *\r\n   * @prop {String} cwd=process.cwd() Config search start location\r\n   * @prop {String} env=process.env.NODE_ENV Config Enviroment, will be set to `development` by `postcss-load-config` if `process.env.NODE_ENV` is `undefined`\r\n   */\r\n  ctx = Object.assign({\r\n    cwd: process.cwd(),\r\n    env: process.env.NODE_ENV\r\n  }, ctx);\r\n\r\n  if (!ctx.env) {\r\n    process.env.NODE_ENV = 'development';\r\n  }\r\n\r\n  return ctx\r\n};\r\n\r\nconst importDefault = async filepath => {\r\n  const module = await import(url$4.pathToFileURL(filepath).href);\r\n  return module.default\r\n};\r\n\r\nconst addTypeScriptLoader = (options = {}, loader) => {\r\n  const moduleName = 'postcss';\r\n\r\n  return {\r\n    ...options,\r\n    searchPlaces: [\r\n      ...(options.searchPlaces || []),\r\n      'package.json',\r\n      `.${moduleName}rc`,\r\n      `.${moduleName}rc.json`,\r\n      `.${moduleName}rc.yaml`,\r\n      `.${moduleName}rc.yml`,\r\n      `.${moduleName}rc.ts`,\r\n      `.${moduleName}rc.cts`,\r\n      `.${moduleName}rc.js`,\r\n      `.${moduleName}rc.cjs`,\r\n      `.${moduleName}rc.mjs`,\r\n      `${moduleName}.config.ts`,\r\n      `${moduleName}.config.cts`,\r\n      `${moduleName}.config.js`,\r\n      `${moduleName}.config.cjs`,\r\n      `${moduleName}.config.mjs`\r\n    ],\r\n    loaders: {\r\n      ...options.loaders,\r\n      '.yaml': (filepath, content) => yaml.parse(content),\r\n      '.yml': (filepath, content) => yaml.parse(content),\r\n      '.js': importDefault,\r\n      '.cjs': importDefault,\r\n      '.mjs': importDefault,\r\n      '.ts': loader,\r\n      '.cts': loader\r\n    }\r\n  }\r\n};\r\n\r\nconst withTypeScriptLoader = (rcFunc) => {\r\n  return (ctx, path, options) => {\r\n    return rcFunc(ctx, path, addTypeScriptLoader(options, (configFile) => {\r\n      let registerer = { enabled () {} };\r\n\r\n      try {\r\n        // Register TypeScript compiler instance\r\n        registerer = __require('ts-node').register({\r\n          // transpile to cjs even if compilerOptions.module in tsconfig is not Node16/NodeNext.\r\n          moduleTypes: { '**/*.cts': 'cjs' }\r\n        });\r\n\r\n        return __require(configFile)\r\n      } catch (err) {\r\n        if (err.code === 'MODULE_NOT_FOUND') {\r\n          throw new Error(\r\n            `'ts-node' is required for the TypeScript configuration files. Make sure it is installed\\nError: ${err.message}`\r\n          )\r\n        }\r\n\r\n        throw err\r\n      } finally {\r\n        registerer.enabled(false);\r\n      }\r\n    }))\r\n  }\r\n};\r\n\r\n/**\r\n * Load Config\r\n *\r\n * @method rc\r\n *\r\n * @param  {Object} ctx Config Context\r\n * @param  {String} path Config Path\r\n * @param  {Object} options Config Options\r\n *\r\n * @return {Promise} config PostCSS Config\r\n */\r\nconst rc = withTypeScriptLoader((ctx, path, options) => {\r\n  /**\r\n   * @type {Object} The full Config Context\r\n   */\r\n  ctx = createContext(ctx);\r\n\r\n  /**\r\n   * @type {String} `process.cwd()`\r\n   */\r\n  path = path ? resolve(path) : process.cwd();\r\n\r\n  return config$1.lilconfig('postcss', options)\r\n    .search(path)\r\n    .then((result) => {\r\n      if (!result) {\r\n        throw new Error(`No PostCSS Config found in: ${path}`)\r\n      }\r\n\r\n      return processResult(ctx, result)\r\n    })\r\n});\r\n\r\n/**\r\n * Autoload Config for PostCSS\r\n *\r\n * @author Michael Ciniawsky @michael-ciniawsky <michael.ciniawsky@gmail.com>\r\n * @license MIT\r\n *\r\n * @module postcss-load-config\r\n * @version 2.1.0\r\n *\r\n * @requires comsiconfig\r\n * @requires ./options\r\n * @requires ./plugins\r\n */\r\nvar src$1 = rc;\r\n\r\nvar postcssrc = /*@__PURE__*/getDefaultExportFromCjs(src$1);\r\n\r\n// Copyright 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023 Simon Lydell\r\n// License: MIT.\r\nvar HashbangComment, Identifier, JSXIdentifier, JSXPunctuator, JSXString, JSXText, KeywordsWithExpressionAfter, KeywordsWithNoLineTerminatorAfter, LineTerminatorSequence, MultiLineComment, Newline, NumericLiteral, Punctuator, RegularExpressionLiteral, SingleLineComment, StringLiteral, Template, TokensNotPrecedingObjectLiteral, TokensPrecedingExpression, WhiteSpace;\r\nRegularExpressionLiteral = /\\/(?![*\\/])(?:\\[(?:[^\\]\\\\\\n\\r\\u2028\\u2029]+|\\\\.)*\\]|[^\\/\\\\\\n\\r\\u2028\\u2029]+|\\\\.)*(\\/[$_\\u200C\\u200D\\p{ID_Continue}]*|\\\\)?/yu;\r\nPunctuator = /--|\\+\\+|=>|\\.{3}|\\??\\.(?!\\d)|(?:&&|\\|\\||\\?\\?|[+\\-%&|^]|\\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\\/(?![\\/*]))=?|[?~,:;[\\](){}]/y;\r\nIdentifier = /(\\x23?)(?=[$_\\p{ID_Start}\\\\])(?:[$_\\u200C\\u200D\\p{ID_Continue}]+|\\\\u[\\da-fA-F]{4}|\\\\u\\{[\\da-fA-F]+\\})+/yu;\r\nStringLiteral = /(['\"])(?:[^'\"\\\\\\n\\r]+|(?!\\1)['\"]|\\\\(?:\\r\\n|[^]))*(\\1)?/y;\r\nNumericLiteral = /(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|0[0-7]+/y;\r\nTemplate = /[`}](?:[^`\\\\$]+|\\\\[^]|\\$(?!\\{))*(`|\\$\\{)?/y;\r\nWhiteSpace = /[\\t\\v\\f\\ufeff\\p{Zs}]+/yu;\r\nLineTerminatorSequence = /\\r?\\n|[\\r\\u2028\\u2029]/y;\r\nMultiLineComment = /\\/\\*(?:[^*]+|\\*(?!\\/))*(\\*\\/)?/y;\r\nSingleLineComment = /\\/\\/.*/y;\r\nHashbangComment = /^#!.*/;\r\nJSXPunctuator = /[<>.:={}]|\\/(?![\\/*])/y;\r\nJSXIdentifier = /[$_\\p{ID_Start}][$_\\u200C\\u200D\\p{ID_Continue}-]*/yu;\r\nJSXString = /(['\"])(?:[^'\"]+|(?!\\1)['\"])*(\\1)?/y;\r\nJSXText = /[^<>{}]+/y;\r\nTokensPrecedingExpression = /^(?:[\\/+-]|\\.{3}|\\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/;\r\nTokensNotPrecedingObjectLiteral = /^(?:=>|[;\\]){}]|else|\\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/;\r\nKeywordsWithExpressionAfter = /^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/;\r\nKeywordsWithNoLineTerminatorAfter = /^(?:return|throw|yield)$/;\r\nNewline = RegExp(LineTerminatorSequence.source);\r\nvar jsTokens_1 = function*(input, {jsx = false} = {}) {\r\n\tvar braces, firstCodePoint, isExpression, lastIndex, lastSignificantToken, length, match, mode, nextLastIndex, nextLastSignificantToken, parenNesting, postfixIncDec, punctuator, stack;\r\n\t({length} = input);\r\n\tlastIndex = 0;\r\n\tlastSignificantToken = \"\";\r\n\tstack = [\r\n\t\t{tag: \"JS\"}\r\n\t];\r\n\tbraces = [];\r\n\tparenNesting = 0;\r\n\tpostfixIncDec = false;\r\n\tif (match = HashbangComment.exec(input)) {\r\n\t\tyield ({\r\n\t\t\ttype: \"HashbangComment\",\r\n\t\t\tvalue: match[0]\r\n\t\t});\r\n\t\tlastIndex = match[0].length;\r\n\t}\r\n\twhile (lastIndex < length) {\r\n\t\tmode = stack[stack.length - 1];\r\n\t\tswitch (mode.tag) {\r\n\t\t\tcase \"JS\":\r\n\t\t\tcase \"JSNonExpressionParen\":\r\n\t\t\tcase \"InterpolationInTemplate\":\r\n\t\t\tcase \"InterpolationInJSX\":\r\n\t\t\t\tif (input[lastIndex] === \"/\" && (TokensPrecedingExpression.test(lastSignificantToken) || KeywordsWithExpressionAfter.test(lastSignificantToken))) {\r\n\t\t\t\t\tRegularExpressionLiteral.lastIndex = lastIndex;\r\n\t\t\t\t\tif (match = RegularExpressionLiteral.exec(input)) {\r\n\t\t\t\t\t\tlastIndex = RegularExpressionLiteral.lastIndex;\r\n\t\t\t\t\t\tlastSignificantToken = match[0];\r\n\t\t\t\t\t\tpostfixIncDec = true;\r\n\t\t\t\t\t\tyield ({\r\n\t\t\t\t\t\t\ttype: \"RegularExpressionLiteral\",\r\n\t\t\t\t\t\t\tvalue: match[0],\r\n\t\t\t\t\t\t\tclosed: match[1] !== void 0 && match[1] !== \"\\\\\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tPunctuator.lastIndex = lastIndex;\r\n\t\t\t\tif (match = Punctuator.exec(input)) {\r\n\t\t\t\t\tpunctuator = match[0];\r\n\t\t\t\t\tnextLastIndex = Punctuator.lastIndex;\r\n\t\t\t\t\tnextLastSignificantToken = punctuator;\r\n\t\t\t\t\tswitch (punctuator) {\r\n\t\t\t\t\t\tcase \"(\":\r\n\t\t\t\t\t\t\tif (lastSignificantToken === \"?NonExpressionParenKeyword\") {\r\n\t\t\t\t\t\t\t\tstack.push({\r\n\t\t\t\t\t\t\t\t\ttag: \"JSNonExpressionParen\",\r\n\t\t\t\t\t\t\t\t\tnesting: parenNesting\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tparenNesting++;\r\n\t\t\t\t\t\t\tpostfixIncDec = false;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \")\":\r\n\t\t\t\t\t\t\tparenNesting--;\r\n\t\t\t\t\t\t\tpostfixIncDec = true;\r\n\t\t\t\t\t\t\tif (mode.tag === \"JSNonExpressionParen\" && parenNesting === mode.nesting) {\r\n\t\t\t\t\t\t\t\tstack.pop();\r\n\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?NonExpressionParenEnd\";\r\n\t\t\t\t\t\t\t\tpostfixIncDec = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"{\":\r\n\t\t\t\t\t\t\tPunctuator.lastIndex = 0;\r\n\t\t\t\t\t\t\tisExpression = !TokensNotPrecedingObjectLiteral.test(lastSignificantToken) && (TokensPrecedingExpression.test(lastSignificantToken) || KeywordsWithExpressionAfter.test(lastSignificantToken));\r\n\t\t\t\t\t\t\tbraces.push(isExpression);\r\n\t\t\t\t\t\t\tpostfixIncDec = false;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"}\":\r\n\t\t\t\t\t\t\tswitch (mode.tag) {\r\n\t\t\t\t\t\t\t\tcase \"InterpolationInTemplate\":\r\n\t\t\t\t\t\t\t\t\tif (braces.length === mode.nesting) {\r\n\t\t\t\t\t\t\t\t\t\tTemplate.lastIndex = lastIndex;\r\n\t\t\t\t\t\t\t\t\t\tmatch = Template.exec(input);\r\n\t\t\t\t\t\t\t\t\t\tlastIndex = Template.lastIndex;\r\n\t\t\t\t\t\t\t\t\t\tlastSignificantToken = match[0];\r\n\t\t\t\t\t\t\t\t\t\tif (match[1] === \"${\") {\r\n\t\t\t\t\t\t\t\t\t\t\tlastSignificantToken = \"?InterpolationInTemplate\";\r\n\t\t\t\t\t\t\t\t\t\t\tpostfixIncDec = false;\r\n\t\t\t\t\t\t\t\t\t\t\tyield ({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"TemplateMiddle\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: match[0]\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tstack.pop();\r\n\t\t\t\t\t\t\t\t\t\t\tpostfixIncDec = true;\r\n\t\t\t\t\t\t\t\t\t\t\tyield ({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"TemplateTail\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: match[0],\r\n\t\t\t\t\t\t\t\t\t\t\t\tclosed: match[1] === \"`\"\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"InterpolationInJSX\":\r\n\t\t\t\t\t\t\t\t\tif (braces.length === mode.nesting) {\r\n\t\t\t\t\t\t\t\t\t\tstack.pop();\r\n\t\t\t\t\t\t\t\t\t\tlastIndex += 1;\r\n\t\t\t\t\t\t\t\t\t\tlastSignificantToken = \"}\";\r\n\t\t\t\t\t\t\t\t\t\tyield ({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: \"}\"\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tpostfixIncDec = braces.pop();\r\n\t\t\t\t\t\t\tnextLastSignificantToken = postfixIncDec ? \"?ExpressionBraceEnd\" : \"}\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"]\":\r\n\t\t\t\t\t\t\tpostfixIncDec = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"++\":\r\n\t\t\t\t\t\tcase \"--\":\r\n\t\t\t\t\t\t\tnextLastSignificantToken = postfixIncDec ? \"?PostfixIncDec\" : \"?UnaryIncDec\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"<\":\r\n\t\t\t\t\t\t\tif (jsx && (TokensPrecedingExpression.test(lastSignificantToken) || KeywordsWithExpressionAfter.test(lastSignificantToken))) {\r\n\t\t\t\t\t\t\t\tstack.push({tag: \"JSXTag\"});\r\n\t\t\t\t\t\t\t\tlastIndex += 1;\r\n\t\t\t\t\t\t\t\tlastSignificantToken = \"<\";\r\n\t\t\t\t\t\t\t\tyield ({\r\n\t\t\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\r\n\t\t\t\t\t\t\t\t\tvalue: punctuator\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tpostfixIncDec = false;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tpostfixIncDec = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastIndex = nextLastIndex;\r\n\t\t\t\t\tlastSignificantToken = nextLastSignificantToken;\r\n\t\t\t\t\tyield ({\r\n\t\t\t\t\t\ttype: \"Punctuator\",\r\n\t\t\t\t\t\tvalue: punctuator\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tIdentifier.lastIndex = lastIndex;\r\n\t\t\t\tif (match = Identifier.exec(input)) {\r\n\t\t\t\t\tlastIndex = Identifier.lastIndex;\r\n\t\t\t\t\tnextLastSignificantToken = match[0];\r\n\t\t\t\t\tswitch (match[0]) {\r\n\t\t\t\t\t\tcase \"for\":\r\n\t\t\t\t\t\tcase \"if\":\r\n\t\t\t\t\t\tcase \"while\":\r\n\t\t\t\t\t\tcase \"with\":\r\n\t\t\t\t\t\t\tif (lastSignificantToken !== \".\" && lastSignificantToken !== \"?.\") {\r\n\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?NonExpressionParenKeyword\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastSignificantToken = nextLastSignificantToken;\r\n\t\t\t\t\tpostfixIncDec = !KeywordsWithExpressionAfter.test(match[0]);\r\n\t\t\t\t\tyield ({\r\n\t\t\t\t\t\ttype: match[1] === \"#\" ? \"PrivateIdentifier\" : \"IdentifierName\",\r\n\t\t\t\t\t\tvalue: match[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tStringLiteral.lastIndex = lastIndex;\r\n\t\t\t\tif (match = StringLiteral.exec(input)) {\r\n\t\t\t\t\tlastIndex = StringLiteral.lastIndex;\r\n\t\t\t\t\tlastSignificantToken = match[0];\r\n\t\t\t\t\tpostfixIncDec = true;\r\n\t\t\t\t\tyield ({\r\n\t\t\t\t\t\ttype: \"StringLiteral\",\r\n\t\t\t\t\t\tvalue: match[0],\r\n\t\t\t\t\t\tclosed: match[2] !== void 0\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tNumericLiteral.lastIndex = lastIndex;\r\n\t\t\t\tif (match = NumericLiteral.exec(input)) {\r\n\t\t\t\t\tlastIndex = NumericLiteral.lastIndex;\r\n\t\t\t\t\tlastSignificantToken = match[0];\r\n\t\t\t\t\tpostfixIncDec = true;\r\n\t\t\t\t\tyield ({\r\n\t\t\t\t\t\ttype: \"NumericLiteral\",\r\n\t\t\t\t\t\tvalue: match[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tTemplate.lastIndex = lastIndex;\r\n\t\t\t\tif (match = Template.exec(input)) {\r\n\t\t\t\t\tlastIndex = Template.lastIndex;\r\n\t\t\t\t\tlastSignificantToken = match[0];\r\n\t\t\t\t\tif (match[1] === \"${\") {\r\n\t\t\t\t\t\tlastSignificantToken = \"?InterpolationInTemplate\";\r\n\t\t\t\t\t\tstack.push({\r\n\t\t\t\t\t\t\ttag: \"InterpolationInTemplate\",\r\n\t\t\t\t\t\t\tnesting: braces.length\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tpostfixIncDec = false;\r\n\t\t\t\t\t\tyield ({\r\n\t\t\t\t\t\t\ttype: \"TemplateHead\",\r\n\t\t\t\t\t\t\tvalue: match[0]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpostfixIncDec = true;\r\n\t\t\t\t\t\tyield ({\r\n\t\t\t\t\t\t\ttype: \"NoSubstitutionTemplate\",\r\n\t\t\t\t\t\t\tvalue: match[0],\r\n\t\t\t\t\t\t\tclosed: match[1] === \"`\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"JSXTag\":\r\n\t\t\tcase \"JSXTagEnd\":\r\n\t\t\t\tJSXPunctuator.lastIndex = lastIndex;\r\n\t\t\t\tif (match = JSXPunctuator.exec(input)) {\r\n\t\t\t\t\tlastIndex = JSXPunctuator.lastIndex;\r\n\t\t\t\t\tnextLastSignificantToken = match[0];\r\n\t\t\t\t\tswitch (match[0]) {\r\n\t\t\t\t\t\tcase \"<\":\r\n\t\t\t\t\t\t\tstack.push({tag: \"JSXTag\"});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \">\":\r\n\t\t\t\t\t\t\tstack.pop();\r\n\t\t\t\t\t\t\tif (lastSignificantToken === \"/\" || mode.tag === \"JSXTagEnd\") {\r\n\t\t\t\t\t\t\t\tnextLastSignificantToken = \"?JSX\";\r\n\t\t\t\t\t\t\t\tpostfixIncDec = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tstack.push({tag: \"JSXChildren\"});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"{\":\r\n\t\t\t\t\t\t\tstack.push({\r\n\t\t\t\t\t\t\t\ttag: \"InterpolationInJSX\",\r\n\t\t\t\t\t\t\t\tnesting: braces.length\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tnextLastSignificantToken = \"?InterpolationInJSX\";\r\n\t\t\t\t\t\t\tpostfixIncDec = false;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"/\":\r\n\t\t\t\t\t\t\tif (lastSignificantToken === \"<\") {\r\n\t\t\t\t\t\t\t\tstack.pop();\r\n\t\t\t\t\t\t\t\tif (stack[stack.length - 1].tag === \"JSXChildren\") {\r\n\t\t\t\t\t\t\t\t\tstack.pop();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tstack.push({tag: \"JSXTagEnd\"});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastSignificantToken = nextLastSignificantToken;\r\n\t\t\t\t\tyield ({\r\n\t\t\t\t\t\ttype: \"JSXPunctuator\",\r\n\t\t\t\t\t\tvalue: match[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tJSXIdentifier.lastIndex = lastIndex;\r\n\t\t\t\tif (match = JSXIdentifier.exec(input)) {\r\n\t\t\t\t\tlastIndex = JSXIdentifier.lastIndex;\r\n\t\t\t\t\tlastSignificantToken = match[0];\r\n\t\t\t\t\tyield ({\r\n\t\t\t\t\t\ttype: \"JSXIdentifier\",\r\n\t\t\t\t\t\tvalue: match[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tJSXString.lastIndex = lastIndex;\r\n\t\t\t\tif (match = JSXString.exec(input)) {\r\n\t\t\t\t\tlastIndex = JSXString.lastIndex;\r\n\t\t\t\t\tlastSignificantToken = match[0];\r\n\t\t\t\t\tyield ({\r\n\t\t\t\t\t\ttype: \"JSXString\",\r\n\t\t\t\t\t\tvalue: match[0],\r\n\t\t\t\t\t\tclosed: match[2] !== void 0\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"JSXChildren\":\r\n\t\t\t\tJSXText.lastIndex = lastIndex;\r\n\t\t\t\tif (match = JSXText.exec(input)) {\r\n\t\t\t\t\tlastIndex = JSXText.lastIndex;\r\n\t\t\t\t\tlastSignificantToken = match[0];\r\n\t\t\t\t\tyield ({\r\n\t\t\t\t\t\ttype: \"JSXText\",\r\n\t\t\t\t\t\tvalue: match[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tswitch (input[lastIndex]) {\r\n\t\t\t\t\tcase \"<\":\r\n\t\t\t\t\t\tstack.push({tag: \"JSXTag\"});\r\n\t\t\t\t\t\tlastIndex++;\r\n\t\t\t\t\t\tlastSignificantToken = \"<\";\r\n\t\t\t\t\t\tyield ({\r\n\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\r\n\t\t\t\t\t\t\tvalue: \"<\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\tcase \"{\":\r\n\t\t\t\t\t\tstack.push({\r\n\t\t\t\t\t\t\ttag: \"InterpolationInJSX\",\r\n\t\t\t\t\t\t\tnesting: braces.length\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlastIndex++;\r\n\t\t\t\t\t\tlastSignificantToken = \"?InterpolationInJSX\";\r\n\t\t\t\t\t\tpostfixIncDec = false;\r\n\t\t\t\t\t\tyield ({\r\n\t\t\t\t\t\t\ttype: \"JSXPunctuator\",\r\n\t\t\t\t\t\t\tvalue: \"{\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tWhiteSpace.lastIndex = lastIndex;\r\n\t\tif (match = WhiteSpace.exec(input)) {\r\n\t\t\tlastIndex = WhiteSpace.lastIndex;\r\n\t\t\tyield ({\r\n\t\t\t\ttype: \"WhiteSpace\",\r\n\t\t\t\tvalue: match[0]\r\n\t\t\t});\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tLineTerminatorSequence.lastIndex = lastIndex;\r\n\t\tif (match = LineTerminatorSequence.exec(input)) {\r\n\t\t\tlastIndex = LineTerminatorSequence.lastIndex;\r\n\t\t\tpostfixIncDec = false;\r\n\t\t\tif (KeywordsWithNoLineTerminatorAfter.test(lastSignificantToken)) {\r\n\t\t\t\tlastSignificantToken = \"?NoLineTerminatorHere\";\r\n\t\t\t}\r\n\t\t\tyield ({\r\n\t\t\t\ttype: \"LineTerminatorSequence\",\r\n\t\t\t\tvalue: match[0]\r\n\t\t\t});\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tMultiLineComment.lastIndex = lastIndex;\r\n\t\tif (match = MultiLineComment.exec(input)) {\r\n\t\t\tlastIndex = MultiLineComment.lastIndex;\r\n\t\t\tif (Newline.test(match[0])) {\r\n\t\t\t\tpostfixIncDec = false;\r\n\t\t\t\tif (KeywordsWithNoLineTerminatorAfter.test(lastSignificantToken)) {\r\n\t\t\t\t\tlastSignificantToken = \"?NoLineTerminatorHere\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tyield ({\r\n\t\t\t\ttype: \"MultiLineComment\",\r\n\t\t\t\tvalue: match[0],\r\n\t\t\t\tclosed: match[1] !== void 0\r\n\t\t\t});\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tSingleLineComment.lastIndex = lastIndex;\r\n\t\tif (match = SingleLineComment.exec(input)) {\r\n\t\t\tlastIndex = SingleLineComment.lastIndex;\r\n\t\t\tpostfixIncDec = false;\r\n\t\t\tyield ({\r\n\t\t\t\ttype: \"SingleLineComment\",\r\n\t\t\t\tvalue: match[0]\r\n\t\t\t});\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tfirstCodePoint = String.fromCodePoint(input.codePointAt(lastIndex));\r\n\t\tlastIndex += firstCodePoint.length;\r\n\t\tlastSignificantToken = firstCodePoint;\r\n\t\tpostfixIncDec = false;\r\n\t\tyield ({\r\n\t\t\ttype: mode.tag.startsWith(\"JSX\") ? \"JSXInvalid\" : \"Invalid\",\r\n\t\t\tvalue: firstCodePoint\r\n\t\t});\r\n\t}\r\n\treturn void 0;\r\n};\r\n\r\nvar jsTokens = /*@__PURE__*/getDefaultExportFromCjs(jsTokens_1);\r\n\r\nfunction stripLiteralJsTokens(code, options) {\r\n  const FILL = \" \";\r\n  const FILL_COMMENT = \" \";\r\n  let result = \"\";\r\n  const tokens = [];\r\n  for (const token of jsTokens(code, { jsx: false })) {\r\n    tokens.push(token);\r\n    if (token.type === \"SingleLineComment\") {\r\n      result += FILL_COMMENT.repeat(token.value.length);\r\n      continue;\r\n    }\r\n    if (token.type === \"MultiLineComment\") {\r\n      result += token.value.replace(/[^\\n]/g, FILL_COMMENT);\r\n      continue;\r\n    }\r\n    if (token.type === \"StringLiteral\") {\r\n      if (!token.closed) {\r\n        result += token.value;\r\n        continue;\r\n      }\r\n      const body = token.value.slice(1, -1);\r\n      {\r\n        result += token.value[0] + FILL.repeat(body.length) + token.value[token.value.length - 1];\r\n        continue;\r\n      }\r\n    }\r\n    if (token.type === \"NoSubstitutionTemplate\") {\r\n      const body = token.value.slice(1, -1);\r\n      {\r\n        result += `\\`${body.replace(/[^\\n]/g, FILL)}\\``;\r\n        continue;\r\n      }\r\n    }\r\n    if (token.type === \"RegularExpressionLiteral\") {\r\n      const body = token.value;\r\n      {\r\n        result += body.replace(/\\/(.*)\\/(\\w?)$/g, (_, $1, $2) => `/${FILL.repeat($1.length)}/${$2}`);\r\n        continue;\r\n      }\r\n    }\r\n    if (token.type === \"TemplateHead\") {\r\n      const body = token.value.slice(1, -2);\r\n      {\r\n        result += `\\`${body.replace(/[^\\n]/g, FILL)}\\${`;\r\n        continue;\r\n      }\r\n    }\r\n    if (token.type === \"TemplateTail\") {\r\n      const body = token.value.slice(0, -2);\r\n      {\r\n        result += `}${body.replace(/[^\\n]/g, FILL)}\\``;\r\n        continue;\r\n      }\r\n    }\r\n    if (token.type === \"TemplateMiddle\") {\r\n      const body = token.value.slice(1, -2);\r\n      {\r\n        result += `}${body.replace(/[^\\n]/g, FILL)}\\${`;\r\n        continue;\r\n      }\r\n    }\r\n    result += token.value;\r\n  }\r\n  return {\r\n    result,\r\n    tokens\r\n  };\r\n}\r\n\r\nfunction stripLiteral(code, options) {\r\n  return stripLiteralDetailed(code).result;\r\n}\r\nfunction stripLiteralDetailed(code, options) {\r\n  return stripLiteralJsTokens(code);\r\n}\r\n\r\nvar main$1 = {exports: {}};\r\n\r\nvar name = \"dotenv\";\r\nvar version$1 = \"16.4.5\";\r\nvar description = \"Loads environment variables from .env file\";\r\nvar main = \"lib/main.js\";\r\nvar types = \"lib/main.d.ts\";\r\nvar exports = {\r\n\t\".\": {\r\n\t\ttypes: \"./lib/main.d.ts\",\r\n\t\trequire: \"./lib/main.js\",\r\n\t\t\"default\": \"./lib/main.js\"\r\n\t},\r\n\t\"./config\": \"./config.js\",\r\n\t\"./config.js\": \"./config.js\",\r\n\t\"./lib/env-options\": \"./lib/env-options.js\",\r\n\t\"./lib/env-options.js\": \"./lib/env-options.js\",\r\n\t\"./lib/cli-options\": \"./lib/cli-options.js\",\r\n\t\"./lib/cli-options.js\": \"./lib/cli-options.js\",\r\n\t\"./package.json\": \"./package.json\"\r\n};\r\nvar scripts = {\r\n\t\"dts-check\": \"tsc --project tests/types/tsconfig.json\",\r\n\tlint: \"standard\",\r\n\t\"lint-readme\": \"standard-markdown\",\r\n\tpretest: \"npm run lint && npm run dts-check\",\r\n\ttest: \"tap tests/*.js --100 -Rspec\",\r\n\t\"test:coverage\": \"tap --coverage-report=lcov\",\r\n\tprerelease: \"npm test\",\r\n\trelease: \"standard-version\"\r\n};\r\nvar repository = {\r\n\ttype: \"git\",\r\n\turl: \"git://github.com/motdotla/dotenv.git\"\r\n};\r\nvar funding = \"https://dotenvx.com\";\r\nvar keywords = [\r\n\t\"dotenv\",\r\n\t\"env\",\r\n\t\".env\",\r\n\t\"environment\",\r\n\t\"variables\",\r\n\t\"config\",\r\n\t\"settings\"\r\n];\r\nvar readmeFilename = \"README.md\";\r\nvar license = \"BSD-2-Clause\";\r\nvar devDependencies = {\r\n\t\"@definitelytyped/dtslint\": \"^0.0.133\",\r\n\t\"@types/node\": \"^18.11.3\",\r\n\tdecache: \"^4.6.1\",\r\n\tsinon: \"^14.0.1\",\r\n\tstandard: \"^17.0.0\",\r\n\t\"standard-markdown\": \"^7.1.0\",\r\n\t\"standard-version\": \"^9.5.0\",\r\n\ttap: \"^16.3.0\",\r\n\ttar: \"^6.1.11\",\r\n\ttypescript: \"^4.8.4\"\r\n};\r\nvar engines = {\r\n\tnode: \">=12\"\r\n};\r\nvar browser$1 = {\r\n\tfs: false\r\n};\r\nvar require$$4 = {\r\n\tname: name,\r\n\tversion: version$1,\r\n\tdescription: description,\r\n\tmain: main,\r\n\ttypes: types,\r\n\texports: exports,\r\n\tscripts: scripts,\r\n\trepository: repository,\r\n\tfunding: funding,\r\n\tkeywords: keywords,\r\n\treadmeFilename: readmeFilename,\r\n\tlicense: license,\r\n\tdevDependencies: devDependencies,\r\n\tengines: engines,\r\n\tbrowser: browser$1\r\n};\r\n\r\nconst fs$9 = require$$0__default;\r\nconst path$9 = require$$0$4;\r\nconst os$2 = require$$2;\r\nconst crypto$1 = require$$3$1;\r\nconst packageJson = require$$4;\r\n\r\nconst version = packageJson.version;\r\n\r\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg;\r\n\r\n// Parse src into an Object\r\nfunction parse$9 (src) {\r\n  const obj = {};\r\n\r\n  // Convert buffer to string\r\n  let lines = src.toString();\r\n\r\n  // Convert line breaks to same format\r\n  lines = lines.replace(/\\r\\n?/mg, '\\n');\r\n\r\n  let match;\r\n  while ((match = LINE.exec(lines)) != null) {\r\n    const key = match[1];\r\n\r\n    // Default undefined or null to empty string\r\n    let value = (match[2] || '');\r\n\r\n    // Remove whitespace\r\n    value = value.trim();\r\n\r\n    // Check if double quoted\r\n    const maybeQuote = value[0];\r\n\r\n    // Remove surrounding quotes\r\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2');\r\n\r\n    // Expand newlines if double quoted\r\n    if (maybeQuote === '\"') {\r\n      value = value.replace(/\\\\n/g, '\\n');\r\n      value = value.replace(/\\\\r/g, '\\r');\r\n    }\r\n\r\n    // Add to object\r\n    obj[key] = value;\r\n  }\r\n\r\n  return obj\r\n}\r\n\r\nfunction _parseVault (options) {\r\n  const vaultPath = _vaultPath(options);\r\n\r\n  // Parse .env.vault\r\n  const result = DotenvModule.configDotenv({ path: vaultPath });\r\n  if (!result.parsed) {\r\n    const err = new Error(`MISSING_DATA: Cannot parse ${vaultPath} for an unknown reason`);\r\n    err.code = 'MISSING_DATA';\r\n    throw err\r\n  }\r\n\r\n  // handle scenario for comma separated keys - for use with key rotation\r\n  // example: DOTENV_KEY=\"dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=prod,dotenv://:key_7890@dotenvx.com/vault/.env.vault?environment=prod\"\r\n  const keys = _dotenvKey(options).split(',');\r\n  const length = keys.length;\r\n\r\n  let decrypted;\r\n  for (let i = 0; i < length; i++) {\r\n    try {\r\n      // Get full key\r\n      const key = keys[i].trim();\r\n\r\n      // Get instructions for decrypt\r\n      const attrs = _instructions(result, key);\r\n\r\n      // Decrypt\r\n      decrypted = DotenvModule.decrypt(attrs.ciphertext, attrs.key);\r\n\r\n      break\r\n    } catch (error) {\r\n      // last key\r\n      if (i + 1 >= length) {\r\n        throw error\r\n      }\r\n      // try next key\r\n    }\r\n  }\r\n\r\n  // Parse decrypted .env string\r\n  return DotenvModule.parse(decrypted)\r\n}\r\n\r\nfunction _log (message) {\r\n  console.log(`[dotenv@${version}][INFO] ${message}`);\r\n}\r\n\r\nfunction _warn (message) {\r\n  console.log(`[dotenv@${version}][WARN] ${message}`);\r\n}\r\n\r\nfunction _debug (message) {\r\n  console.log(`[dotenv@${version}][DEBUG] ${message}`);\r\n}\r\n\r\nfunction _dotenvKey (options) {\r\n  // prioritize developer directly setting options.DOTENV_KEY\r\n  if (options && options.DOTENV_KEY && options.DOTENV_KEY.length > 0) {\r\n    return options.DOTENV_KEY\r\n  }\r\n\r\n  // secondary infra already contains a DOTENV_KEY environment variable\r\n  if (process.env.DOTENV_KEY && process.env.DOTENV_KEY.length > 0) {\r\n    return process.env.DOTENV_KEY\r\n  }\r\n\r\n  // fallback to empty string\r\n  return ''\r\n}\r\n\r\nfunction _instructions (result, dotenvKey) {\r\n  // Parse DOTENV_KEY. Format is a URI\r\n  let uri;\r\n  try {\r\n    uri = new URL(dotenvKey);\r\n  } catch (error) {\r\n    if (error.code === 'ERR_INVALID_URL') {\r\n      const err = new Error('INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development');\r\n      err.code = 'INVALID_DOTENV_KEY';\r\n      throw err\r\n    }\r\n\r\n    throw error\r\n  }\r\n\r\n  // Get decrypt key\r\n  const key = uri.password;\r\n  if (!key) {\r\n    const err = new Error('INVALID_DOTENV_KEY: Missing key part');\r\n    err.code = 'INVALID_DOTENV_KEY';\r\n    throw err\r\n  }\r\n\r\n  // Get environment\r\n  const environment = uri.searchParams.get('environment');\r\n  if (!environment) {\r\n    const err = new Error('INVALID_DOTENV_KEY: Missing environment part');\r\n    err.code = 'INVALID_DOTENV_KEY';\r\n    throw err\r\n  }\r\n\r\n  // Get ciphertext payload\r\n  const environmentKey = `DOTENV_VAULT_${environment.toUpperCase()}`;\r\n  const ciphertext = result.parsed[environmentKey]; // DOTENV_VAULT_PRODUCTION\r\n  if (!ciphertext) {\r\n    const err = new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${environmentKey} in your .env.vault file.`);\r\n    err.code = 'NOT_FOUND_DOTENV_ENVIRONMENT';\r\n    throw err\r\n  }\r\n\r\n  return { ciphertext, key }\r\n}\r\n\r\nfunction _vaultPath (options) {\r\n  let possibleVaultPath = null;\r\n\r\n  if (options && options.path && options.path.length > 0) {\r\n    if (Array.isArray(options.path)) {\r\n      for (const filepath of options.path) {\r\n        if (fs$9.existsSync(filepath)) {\r\n          possibleVaultPath = filepath.endsWith('.vault') ? filepath : `${filepath}.vault`;\r\n        }\r\n      }\r\n    } else {\r\n      possibleVaultPath = options.path.endsWith('.vault') ? options.path : `${options.path}.vault`;\r\n    }\r\n  } else {\r\n    possibleVaultPath = path$9.resolve(process.cwd(), '.env.vault');\r\n  }\r\n\r\n  if (fs$9.existsSync(possibleVaultPath)) {\r\n    return possibleVaultPath\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nfunction _resolveHome (envPath) {\r\n  return envPath[0] === '~' ? path$9.join(os$2.homedir(), envPath.slice(1)) : envPath\r\n}\r\n\r\nfunction _configVault (options) {\r\n  _log('Loading env from encrypted .env.vault');\r\n\r\n  const parsed = DotenvModule._parseVault(options);\r\n\r\n  let processEnv = process.env;\r\n  if (options && options.processEnv != null) {\r\n    processEnv = options.processEnv;\r\n  }\r\n\r\n  DotenvModule.populate(processEnv, parsed, options);\r\n\r\n  return { parsed }\r\n}\r\n\r\nfunction configDotenv (options) {\r\n  const dotenvPath = path$9.resolve(process.cwd(), '.env');\r\n  let encoding = 'utf8';\r\n  const debug = Boolean(options && options.debug);\r\n\r\n  if (options && options.encoding) {\r\n    encoding = options.encoding;\r\n  } else {\r\n    if (debug) {\r\n      _debug('No encoding is specified. UTF-8 is used by default');\r\n    }\r\n  }\r\n\r\n  let optionPaths = [dotenvPath]; // default, look for .env\r\n  if (options && options.path) {\r\n    if (!Array.isArray(options.path)) {\r\n      optionPaths = [_resolveHome(options.path)];\r\n    } else {\r\n      optionPaths = []; // reset default\r\n      for (const filepath of options.path) {\r\n        optionPaths.push(_resolveHome(filepath));\r\n      }\r\n    }\r\n  }\r\n\r\n  // Build the parsed data in a temporary object (because we need to return it).  Once we have the final\r\n  // parsed data, we will combine it with process.env (or options.processEnv if provided).\r\n  let lastError;\r\n  const parsedAll = {};\r\n  for (const path of optionPaths) {\r\n    try {\r\n      // Specifying an encoding returns a string instead of a buffer\r\n      const parsed = DotenvModule.parse(fs$9.readFileSync(path, { encoding }));\r\n\r\n      DotenvModule.populate(parsedAll, parsed, options);\r\n    } catch (e) {\r\n      if (debug) {\r\n        _debug(`Failed to load ${path} ${e.message}`);\r\n      }\r\n      lastError = e;\r\n    }\r\n  }\r\n\r\n  let processEnv = process.env;\r\n  if (options && options.processEnv != null) {\r\n    processEnv = options.processEnv;\r\n  }\r\n\r\n  DotenvModule.populate(processEnv, parsedAll, options);\r\n\r\n  if (lastError) {\r\n    return { parsed: parsedAll, error: lastError }\r\n  } else {\r\n    return { parsed: parsedAll }\r\n  }\r\n}\r\n\r\n// Populates process.env from .env file\r\nfunction config (options) {\r\n  // fallback to original dotenv if DOTENV_KEY is not set\r\n  if (_dotenvKey(options).length === 0) {\r\n    return DotenvModule.configDotenv(options)\r\n  }\r\n\r\n  const vaultPath = _vaultPath(options);\r\n\r\n  // dotenvKey exists but .env.vault file does not exist\r\n  if (!vaultPath) {\r\n    _warn(`You set DOTENV_KEY but you are missing a .env.vault file at ${vaultPath}. Did you forget to build it?`);\r\n\r\n    return DotenvModule.configDotenv(options)\r\n  }\r\n\r\n  return DotenvModule._configVault(options)\r\n}\r\n\r\nfunction decrypt (encrypted, keyStr) {\r\n  const key = Buffer.from(keyStr.slice(-64), 'hex');\r\n  let ciphertext = Buffer.from(encrypted, 'base64');\r\n\r\n  const nonce = ciphertext.subarray(0, 12);\r\n  const authTag = ciphertext.subarray(-16);\r\n  ciphertext = ciphertext.subarray(12, -16);\r\n\r\n  try {\r\n    const aesgcm = crypto$1.createDecipheriv('aes-256-gcm', key, nonce);\r\n    aesgcm.setAuthTag(authTag);\r\n    return `${aesgcm.update(ciphertext)}${aesgcm.final()}`\r\n  } catch (error) {\r\n    const isRange = error instanceof RangeError;\r\n    const invalidKeyLength = error.message === 'Invalid key length';\r\n    const decryptionFailed = error.message === 'Unsupported state or unable to authenticate data';\r\n\r\n    if (isRange || invalidKeyLength) {\r\n      const err = new Error('INVALID_DOTENV_KEY: It must be 64 characters long (or more)');\r\n      err.code = 'INVALID_DOTENV_KEY';\r\n      throw err\r\n    } else if (decryptionFailed) {\r\n      const err = new Error('DECRYPTION_FAILED: Please check your DOTENV_KEY');\r\n      err.code = 'DECRYPTION_FAILED';\r\n      throw err\r\n    } else {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\n// Populate process.env with parsed values\r\nfunction populate (processEnv, parsed, options = {}) {\r\n  const debug = Boolean(options && options.debug);\r\n  const override = Boolean(options && options.override);\r\n\r\n  if (typeof parsed !== 'object') {\r\n    const err = new Error('OBJECT_REQUIRED: Please check the processEnv argument being passed to populate');\r\n    err.code = 'OBJECT_REQUIRED';\r\n    throw err\r\n  }\r\n\r\n  // Set process.env\r\n  for (const key of Object.keys(parsed)) {\r\n    if (Object.prototype.hasOwnProperty.call(processEnv, key)) {\r\n      if (override === true) {\r\n        processEnv[key] = parsed[key];\r\n      }\r\n\r\n      if (debug) {\r\n        if (override === true) {\r\n          _debug(`\"${key}\" is already defined and WAS overwritten`);\r\n        } else {\r\n          _debug(`\"${key}\" is already defined and was NOT overwritten`);\r\n        }\r\n      }\r\n    } else {\r\n      processEnv[key] = parsed[key];\r\n    }\r\n  }\r\n}\r\n\r\nconst DotenvModule = {\r\n  configDotenv,\r\n  _configVault,\r\n  _parseVault,\r\n  config,\r\n  decrypt,\r\n  parse: parse$9,\r\n  populate\r\n};\r\n\r\nmain$1.exports.configDotenv = DotenvModule.configDotenv;\r\nmain$1.exports._configVault = DotenvModule._configVault;\r\nmain$1.exports._parseVault = DotenvModule._parseVault;\r\nmain$1.exports.config = DotenvModule.config;\r\nmain$1.exports.decrypt = DotenvModule.decrypt;\r\nvar parse_1$1 = main$1.exports.parse = DotenvModule.parse;\r\nmain$1.exports.populate = DotenvModule.populate;\r\n\r\nmain$1.exports = DotenvModule;\r\n\r\n// * /\r\n// *   (\\\\)?            # is it escaped with a backslash?\r\n// *   (\\$)             # literal $\r\n// *   (?!\\()           # shouldnt be followed by parenthesis\r\n// *   (\\{?)            # first brace wrap opening\r\n// *   ([\\w.]+)         # key\r\n// *   (?::-((?:\\$\\{(?:\\$\\{(?:\\$\\{[^}]*\\}|[^}])*}|[^}])*}|[^}])+))? # optional default nested 3 times\r\n// *   (\\}?)            # last brace warp closing\r\n// * /xi\r\n\r\nconst DOTENV_SUBSTITUTION_REGEX = /(\\\\)?(\\$)(?!\\()(\\{?)([\\w.]+)(?::?-((?:\\$\\{(?:\\$\\{(?:\\$\\{[^}]*\\}|[^}])*}|[^}])*}|[^}])+))?(\\}?)/gi;\r\n\r\nfunction _resolveEscapeSequences (value) {\r\n  return value.replace(/\\\\\\$/g, '$')\r\n}\r\n\r\nfunction interpolate (value, processEnv, parsed) {\r\n  return value.replace(DOTENV_SUBSTITUTION_REGEX, (match, escaped, dollarSign, openBrace, key, defaultValue, closeBrace) => {\r\n    if (escaped === '\\\\') {\r\n      return match.slice(1)\r\n    } else {\r\n      if (processEnv[key]) {\r\n        if (processEnv[key] === parsed[key]) {\r\n          return processEnv[key]\r\n        } else {\r\n          // scenario: PASSWORD_EXPAND_NESTED=${PASSWORD_EXPAND}\r\n          return interpolate(processEnv[key], processEnv, parsed)\r\n        }\r\n      }\r\n\r\n      if (parsed[key]) {\r\n        // avoid recursion from EXPAND_SELF=$EXPAND_SELF\r\n        if (parsed[key] === value) {\r\n          return parsed[key]\r\n        } else {\r\n          return interpolate(parsed[key], processEnv, parsed)\r\n        }\r\n      }\r\n\r\n      if (defaultValue) {\r\n        if (defaultValue.startsWith('$')) {\r\n          return interpolate(defaultValue, processEnv, parsed)\r\n        } else {\r\n          return defaultValue\r\n        }\r\n      }\r\n\r\n      return ''\r\n    }\r\n  })\r\n}\r\n\r\nfunction expand (options) {\r\n  let processEnv = process.env;\r\n  if (options && options.processEnv != null) {\r\n    processEnv = options.processEnv;\r\n  }\r\n\r\n  for (const key in options.parsed) {\r\n    let value = options.parsed[key];\r\n\r\n    const inProcessEnv = Object.prototype.hasOwnProperty.call(processEnv, key);\r\n    if (inProcessEnv) {\r\n      if (processEnv[key] === options.parsed[key]) {\r\n        // assume was set to processEnv from the .env file if the values match and therefore interpolate\r\n        value = interpolate(value, processEnv, options.parsed);\r\n      } else {\r\n        // do not interpolate - assume processEnv had the intended value even if containing a $.\r\n        value = processEnv[key];\r\n      }\r\n    } else {\r\n      // not inProcessEnv so assume interpolation for this .env key\r\n      value = interpolate(value, processEnv, options.parsed);\r\n    }\r\n\r\n    options.parsed[key] = _resolveEscapeSequences(value);\r\n  }\r\n\r\n  for (const processKey in options.parsed) {\r\n    processEnv[processKey] = options.parsed[processKey];\r\n  }\r\n\r\n  return options\r\n}\r\n\r\nvar expand_1 = expand;\r\n\r\nfunction getEnvFilesForMode(mode, envDir) {\r\n  return [\r\n    /** default file */\r\n    `.env`,\r\n    /** local file */\r\n    `.env.local`,\r\n    /** mode file */\r\n    `.env.${mode}`,\r\n    /** mode local file */\r\n    `.env.${mode}.local`\r\n  ].map((file) => normalizePath$3(path$n.join(envDir, file)));\r\n}\r\nfunction loadEnv(mode, envDir, prefixes = \"VITE_\") {\r\n  if (mode === \"local\") {\r\n    throw new Error(\r\n      `\"local\" cannot be used as a mode name because it conflicts with the .local postfix for .env files.`\r\n    );\r\n  }\r\n  prefixes = arraify(prefixes);\r\n  const env = {};\r\n  const envFiles = getEnvFilesForMode(mode, envDir);\r\n  const parsed = Object.fromEntries(\r\n    envFiles.flatMap((filePath) => {\r\n      if (!tryStatSync(filePath)?.isFile()) return [];\r\n      return Object.entries(parse_1$1(fs__default.readFileSync(filePath)));\r\n    })\r\n  );\r\n  if (parsed.NODE_ENV && process.env.VITE_USER_NODE_ENV === void 0) {\r\n    process.env.VITE_USER_NODE_ENV = parsed.NODE_ENV;\r\n  }\r\n  if (parsed.BROWSER && process.env.BROWSER === void 0) {\r\n    process.env.BROWSER = parsed.BROWSER;\r\n  }\r\n  if (parsed.BROWSER_ARGS && process.env.BROWSER_ARGS === void 0) {\r\n    process.env.BROWSER_ARGS = parsed.BROWSER_ARGS;\r\n  }\r\n  const processEnv = { ...process.env };\r\n  expand_1({ parsed, processEnv });\r\n  for (const [key, value] of Object.entries(parsed)) {\r\n    if (prefixes.some((prefix) => key.startsWith(prefix))) {\r\n      env[key] = value;\r\n    }\r\n  }\r\n  for (const key in process.env) {\r\n    if (prefixes.some((prefix) => key.startsWith(prefix))) {\r\n      env[key] = process.env[key];\r\n    }\r\n  }\r\n  return env;\r\n}\r\nfunction resolveEnvPrefix({\r\n  envPrefix = \"VITE_\"\r\n}) {\r\n  envPrefix = arraify(envPrefix);\r\n  if (envPrefix.includes(\"\")) {\r\n    throw new Error(\r\n      `envPrefix option contains value '', which could lead unexpected exposure of sensitive information.`\r\n    );\r\n  }\r\n  return envPrefix;\r\n}\r\n\r\nconst modulePreloadPolyfillId = \"vite/modulepreload-polyfill\";\r\nconst resolvedModulePreloadPolyfillId = \"\\0\" + modulePreloadPolyfillId + \".js\";\r\nfunction modulePreloadPolyfillPlugin(config) {\r\n  const skip = config.command !== \"build\" || config.build.ssr;\r\n  let polyfillString;\r\n  return {\r\n    name: \"vite:modulepreload-polyfill\",\r\n    resolveId(id) {\r\n      if (id === modulePreloadPolyfillId) {\r\n        return resolvedModulePreloadPolyfillId;\r\n      }\r\n    },\r\n    load(id) {\r\n      if (id === resolvedModulePreloadPolyfillId) {\r\n        if (skip) {\r\n          return \"\";\r\n        }\r\n        if (!polyfillString) {\r\n          polyfillString = `${isModernFlag}&&(${polyfill.toString()}());`;\r\n        }\r\n        return { code: polyfillString, moduleSideEffects: true };\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction polyfill() {\r\n  const relList = document.createElement(\"link\").relList;\r\n  if (relList && relList.supports && relList.supports(\"modulepreload\")) {\r\n    return;\r\n  }\r\n  for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\r\n    processPreload(link);\r\n  }\r\n  new MutationObserver((mutations) => {\r\n    for (const mutation of mutations) {\r\n      if (mutation.type !== \"childList\") {\r\n        continue;\r\n      }\r\n      for (const node of mutation.addedNodes) {\r\n        if (node.tagName === \"LINK\" && node.rel === \"modulepreload\")\r\n          processPreload(node);\r\n      }\r\n    }\r\n  }).observe(document, { childList: true, subtree: true });\r\n  function getFetchOpts(link) {\r\n    const fetchOpts = {};\r\n    if (link.integrity) fetchOpts.integrity = link.integrity;\r\n    if (link.referrerPolicy) fetchOpts.referrerPolicy = link.referrerPolicy;\r\n    if (link.crossOrigin === \"use-credentials\")\r\n      fetchOpts.credentials = \"include\";\r\n    else if (link.crossOrigin === \"anonymous\") fetchOpts.credentials = \"omit\";\r\n    else fetchOpts.credentials = \"same-origin\";\r\n    return fetchOpts;\r\n  }\r\n  function processPreload(link) {\r\n    if (link.ep)\r\n      return;\r\n    link.ep = true;\r\n    const fetchOpts = getFetchOpts(link);\r\n    fetch(link.href, fetchOpts);\r\n  }\r\n}\r\n\r\nconst htmlProxyRE$1 = /\\?html-proxy=?(?:&inline-css)?(?:&style-attr)?&index=(\\d+)\\.(?:js|css)$/;\r\nconst isHtmlProxyRE = /\\?html-proxy\\b/;\r\nconst inlineCSSRE$1 = /__VITE_INLINE_CSS__([a-z\\d]{8}_\\d+)__/g;\r\nconst inlineImportRE = /(?<!(?<!\\.\\.)\\.)\\bimport\\s*\\((\"(?:[^\"]|(?<=\\\\)\")*\"|'(?:[^']|(?<=\\\\)')*')\\)/dg;\r\nconst htmlLangRE = /\\.(?:html|htm)$/;\r\nconst spaceRe = /[\\t\\n\\f\\r ]/;\r\nconst importMapRE = /[ \\t]*<script[^>]*type\\s*=\\s*(?:\"importmap\"|'importmap'|importmap)[^>]*>.*?<\\/script>/is;\r\nconst moduleScriptRE = /[ \\t]*<script[^>]*type\\s*=\\s*(?:\"module\"|'module'|module)[^>]*>/i;\r\nconst modulePreloadLinkRE = /[ \\t]*<link[^>]*rel\\s*=\\s*(?:\"modulepreload\"|'modulepreload'|modulepreload)[\\s\\S]*?\\/>/i;\r\nconst importMapAppendRE = new RegExp(\r\n  [moduleScriptRE, modulePreloadLinkRE].map((r) => r.source).join(\"|\"),\r\n  \"i\"\r\n);\r\nconst isHTMLProxy = (id) => isHtmlProxyRE.test(id);\r\nconst isHTMLRequest = (request) => htmlLangRE.test(request);\r\nconst htmlProxyMap = /* @__PURE__ */ new WeakMap();\r\nconst htmlProxyResult = /* @__PURE__ */ new Map();\r\nfunction htmlInlineProxyPlugin(config) {\r\n  htmlProxyMap.set(config, /* @__PURE__ */ new Map());\r\n  return {\r\n    name: \"vite:html-inline-proxy\",\r\n    resolveId(id) {\r\n      if (isHTMLProxy(id)) {\r\n        return id;\r\n      }\r\n    },\r\n    load(id) {\r\n      const proxyMatch = htmlProxyRE$1.exec(id);\r\n      if (proxyMatch) {\r\n        const index = Number(proxyMatch[1]);\r\n        const file = cleanUrl(id);\r\n        const url = file.replace(normalizePath$3(config.root), \"\");\r\n        const result = htmlProxyMap.get(config).get(url)?.[index];\r\n        if (result) {\r\n          return result;\r\n        } else {\r\n          throw new Error(`No matching HTML proxy module found from ${id}`);\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction addToHTMLProxyCache(config, filePath, index, result) {\r\n  if (!htmlProxyMap.get(config)) {\r\n    htmlProxyMap.set(config, /* @__PURE__ */ new Map());\r\n  }\r\n  if (!htmlProxyMap.get(config).get(filePath)) {\r\n    htmlProxyMap.get(config).set(filePath, []);\r\n  }\r\n  htmlProxyMap.get(config).get(filePath)[index] = result;\r\n}\r\nfunction addToHTMLProxyTransformResult(hash, code) {\r\n  htmlProxyResult.set(hash, code);\r\n}\r\nconst assetAttrsConfig = {\r\n  link: [\"href\"],\r\n  video: [\"src\", \"poster\"],\r\n  source: [\"src\", \"srcset\"],\r\n  img: [\"src\", \"srcset\"],\r\n  image: [\"xlink:href\", \"href\"],\r\n  use: [\"xlink:href\", \"href\"]\r\n};\r\nconst noInlineLinkRels = /* @__PURE__ */ new Set([\r\n  \"icon\",\r\n  \"apple-touch-icon\",\r\n  \"apple-touch-startup-image\",\r\n  \"manifest\"\r\n]);\r\nconst isAsyncScriptMap = /* @__PURE__ */ new WeakMap();\r\nfunction nodeIsElement(node) {\r\n  return node.nodeName[0] !== \"#\";\r\n}\r\nfunction traverseNodes(node, visitor) {\r\n  if (node.nodeName === \"template\") {\r\n    node = node.content;\r\n  }\r\n  visitor(node);\r\n  if (nodeIsElement(node) || node.nodeName === \"#document\" || node.nodeName === \"#document-fragment\") {\r\n    node.childNodes.forEach((childNode) => traverseNodes(childNode, visitor));\r\n  }\r\n}\r\nasync function traverseHtml(html, filePath, visitor) {\r\n  const { parse } = await import('./dep-D-7KCb9p.js');\r\n  const ast = parse(html, {\r\n    scriptingEnabled: false,\r\n    // parse inside <noscript>\r\n    sourceCodeLocationInfo: true,\r\n    onParseError: (e) => {\r\n      handleParseError(e, html, filePath);\r\n    }\r\n  });\r\n  traverseNodes(ast, visitor);\r\n}\r\nfunction getScriptInfo(node) {\r\n  let src;\r\n  let sourceCodeLocation;\r\n  let isModule = false;\r\n  let isAsync = false;\r\n  for (const p of node.attrs) {\r\n    if (p.prefix !== void 0) continue;\r\n    if (p.name === \"src\") {\r\n      if (!src) {\r\n        src = p;\r\n        sourceCodeLocation = node.sourceCodeLocation?.attrs[\"src\"];\r\n      }\r\n    } else if (p.name === \"type\" && p.value && p.value === \"module\") {\r\n      isModule = true;\r\n    } else if (p.name === \"async\") {\r\n      isAsync = true;\r\n    }\r\n  }\r\n  return { src, sourceCodeLocation, isModule, isAsync };\r\n}\r\nconst attrValueStartRE = /=\\s*(.)/;\r\nfunction overwriteAttrValue(s, sourceCodeLocation, newValue) {\r\n  const srcString = s.slice(\r\n    sourceCodeLocation.startOffset,\r\n    sourceCodeLocation.endOffset\r\n  );\r\n  const valueStart = attrValueStartRE.exec(srcString);\r\n  if (!valueStart) {\r\n    throw new Error(\r\n      `[vite:html] internal error, failed to overwrite attribute value`\r\n    );\r\n  }\r\n  const wrapOffset = valueStart[1] === '\"' || valueStart[1] === \"'\" ? 1 : 0;\r\n  const valueOffset = valueStart.index + valueStart[0].length - 1;\r\n  s.update(\r\n    sourceCodeLocation.startOffset + valueOffset + wrapOffset,\r\n    sourceCodeLocation.endOffset - wrapOffset,\r\n    newValue\r\n  );\r\n  return s;\r\n}\r\nfunction formatParseError(parserError, id, html) {\r\n  const formattedError = {\r\n    code: parserError.code,\r\n    message: `parse5 error code ${parserError.code}`,\r\n    frame: generateCodeFrame(\r\n      html,\r\n      parserError.startOffset,\r\n      parserError.endOffset\r\n    ),\r\n    loc: {\r\n      file: id,\r\n      line: parserError.startLine,\r\n      column: parserError.startCol\r\n    }\r\n  };\r\n  return formattedError;\r\n}\r\nfunction handleParseError(parserError, html, filePath) {\r\n  switch (parserError.code) {\r\n    case \"missing-doctype\":\r\n      return;\r\n    case \"abandoned-head-element-child\":\r\n      return;\r\n    case \"duplicate-attribute\":\r\n      return;\r\n    case \"non-void-html-element-start-tag-with-trailing-solidus\":\r\n      return;\r\n  }\r\n  const parseError = formatParseError(parserError, filePath, html);\r\n  throw new Error(\r\n    `Unable to parse HTML; ${parseError.message}\r\n at ${parseError.loc.file}:${parseError.loc.line}:${parseError.loc.column}\r\n${parseError.frame}`\r\n  );\r\n}\r\nfunction buildHtmlPlugin(config) {\r\n  const [preHooks, normalHooks, postHooks] = resolveHtmlTransforms(\r\n    config.plugins,\r\n    config.logger\r\n  );\r\n  preHooks.unshift(injectCspNonceMetaTagHook(config));\r\n  preHooks.unshift(preImportMapHook(config));\r\n  preHooks.push(htmlEnvHook(config));\r\n  postHooks.push(injectNonceAttributeTagHook(config));\r\n  postHooks.push(postImportMapHook());\r\n  const processedHtml = /* @__PURE__ */ new Map();\r\n  const isExcludedUrl = (url) => url[0] === \"#\" || isExternalUrl(url) || isDataUrl(url);\r\n  isAsyncScriptMap.set(config, /* @__PURE__ */ new Map());\r\n  return {\r\n    name: \"vite:build-html\",\r\n    async transform(html, id) {\r\n      if (id.endsWith(\".html\")) {\r\n        id = normalizePath$3(id);\r\n        const relativeUrlPath = normalizePath$3(path$n.relative(config.root, id));\r\n        const publicPath = `/${relativeUrlPath}`;\r\n        const publicBase = getBaseInHTML(relativeUrlPath, config);\r\n        const publicToRelative = (filename, importer) => publicBase + filename;\r\n        const toOutputPublicFilePath = (url) => toOutputFilePathInHtml(\r\n          url.slice(1),\r\n          \"public\",\r\n          relativeUrlPath,\r\n          \"html\",\r\n          config,\r\n          publicToRelative\r\n        );\r\n        const nodeStartWithLeadingWhitespace = (node) => {\r\n          const startOffset = node.sourceCodeLocation.startOffset;\r\n          if (startOffset === 0) return 0;\r\n          const lineStartOffset = startOffset - node.sourceCodeLocation.startCol;\r\n          let isLineEmpty = false;\r\n          try {\r\n            const line = s.slice(Math.max(0, lineStartOffset), startOffset);\r\n            isLineEmpty = !line.trim();\r\n          } catch {\r\n          }\r\n          return isLineEmpty ? lineStartOffset : startOffset;\r\n        };\r\n        html = await applyHtmlTransforms(html, preHooks, {\r\n          path: publicPath,\r\n          filename: id\r\n        });\r\n        let js = \"\";\r\n        const s = new MagicString(html);\r\n        const scriptUrls = [];\r\n        const styleUrls = [];\r\n        let inlineModuleIndex = -1;\r\n        let everyScriptIsAsync = true;\r\n        let someScriptsAreAsync = false;\r\n        let someScriptsAreDefer = false;\r\n        const assetUrlsPromises = [];\r\n        const namedOutput = Object.keys(\r\n          config?.build?.rollupOptions?.input || {}\r\n        );\r\n        const processAssetUrl = async (url, shouldInline) => {\r\n          if (url !== \"\" && // Empty attribute\r\n          !namedOutput.includes(url) && // Direct reference to named output\r\n          !namedOutput.includes(removeLeadingSlash(url))) {\r\n            try {\r\n              return await urlToBuiltUrl(url, id, config, this, shouldInline);\r\n            } catch (e) {\r\n              if (e.code !== \"ENOENT\") {\r\n                throw e;\r\n              }\r\n            }\r\n          }\r\n          return url;\r\n        };\r\n        await traverseHtml(html, id, (node) => {\r\n          if (!nodeIsElement(node)) {\r\n            return;\r\n          }\r\n          let shouldRemove = false;\r\n          if (node.nodeName === \"script\") {\r\n            const { src, sourceCodeLocation, isModule, isAsync } = getScriptInfo(node);\r\n            const url = src && src.value;\r\n            const isPublicFile = !!(url && checkPublicFile(url, config));\r\n            if (isPublicFile) {\r\n              overwriteAttrValue(\r\n                s,\r\n                sourceCodeLocation,\r\n                partialEncodeURIPath(toOutputPublicFilePath(url))\r\n              );\r\n            }\r\n            if (isModule) {\r\n              inlineModuleIndex++;\r\n              if (url && !isExcludedUrl(url) && !isPublicFile) {\r\n                js += `\r\nimport ${JSON.stringify(url)}`;\r\n                shouldRemove = true;\r\n              } else if (node.childNodes.length) {\r\n                const scriptNode = node.childNodes.pop();\r\n                const contents = scriptNode.value;\r\n                const filePath = id.replace(normalizePath$3(config.root), \"\");\r\n                addToHTMLProxyCache(config, filePath, inlineModuleIndex, {\r\n                  code: contents\r\n                });\r\n                js += `\r\nimport \"${id}?html-proxy&index=${inlineModuleIndex}.js\"`;\r\n                shouldRemove = true;\r\n              }\r\n              everyScriptIsAsync &&= isAsync;\r\n              someScriptsAreAsync ||= isAsync;\r\n              someScriptsAreDefer ||= !isAsync;\r\n            } else if (url && !isPublicFile) {\r\n              if (!isExcludedUrl(url)) {\r\n                config.logger.warn(\r\n                  `<script src=\"${url}\"> in \"${publicPath}\" can't be bundled without type=\"module\" attribute`\r\n                );\r\n              }\r\n            } else if (node.childNodes.length) {\r\n              const scriptNode = node.childNodes.pop();\r\n              scriptUrls.push(\r\n                ...extractImportExpressionFromClassicScript(scriptNode)\r\n              );\r\n            }\r\n          }\r\n          const assetAttrs = assetAttrsConfig[node.nodeName];\r\n          if (assetAttrs) {\r\n            for (const p of node.attrs) {\r\n              const attrKey = getAttrKey(p);\r\n              if (p.value && assetAttrs.includes(attrKey)) {\r\n                if (attrKey === \"srcset\") {\r\n                  assetUrlsPromises.push(\r\n                    (async () => {\r\n                      const processedEncodedUrl = await processSrcSet(\r\n                        p.value,\r\n                        async ({ url }) => {\r\n                          const decodedUrl = decodeURI(url);\r\n                          if (!isExcludedUrl(decodedUrl)) {\r\n                            const result = await processAssetUrl(url);\r\n                            return result !== decodedUrl ? encodeURIPath(result) : url;\r\n                          }\r\n                          return url;\r\n                        }\r\n                      );\r\n                      if (processedEncodedUrl !== p.value) {\r\n                        overwriteAttrValue(\r\n                          s,\r\n                          getAttrSourceCodeLocation(node, attrKey),\r\n                          processedEncodedUrl\r\n                        );\r\n                      }\r\n                    })()\r\n                  );\r\n                } else {\r\n                  const url = decodeURI(p.value);\r\n                  if (checkPublicFile(url, config)) {\r\n                    overwriteAttrValue(\r\n                      s,\r\n                      getAttrSourceCodeLocation(node, attrKey),\r\n                      partialEncodeURIPath(toOutputPublicFilePath(url))\r\n                    );\r\n                  } else if (!isExcludedUrl(url)) {\r\n                    if (node.nodeName === \"link\" && isCSSRequest(url) && // should not be converted if following attributes are present (#6748)\r\n                    !node.attrs.some(\r\n                      (p2) => p2.prefix === void 0 && (p2.name === \"media\" || p2.name === \"disabled\")\r\n                    )) {\r\n                      const importExpression = `\r\nimport ${JSON.stringify(url)}`;\r\n                      styleUrls.push({\r\n                        url,\r\n                        start: nodeStartWithLeadingWhitespace(node),\r\n                        end: node.sourceCodeLocation.endOffset\r\n                      });\r\n                      js += importExpression;\r\n                    } else {\r\n                      const isNoInlineLink = node.nodeName === \"link\" && node.attrs.some(\r\n                        (p2) => p2.name === \"rel\" && parseRelAttr(p2.value).some(\r\n                          (v) => noInlineLinkRels.has(v)\r\n                        )\r\n                      );\r\n                      const shouldInline = isNoInlineLink ? false : void 0;\r\n                      assetUrlsPromises.push(\r\n                        (async () => {\r\n                          const processedUrl = await processAssetUrl(\r\n                            url,\r\n                            shouldInline\r\n                          );\r\n                          if (processedUrl !== url) {\r\n                            overwriteAttrValue(\r\n                              s,\r\n                              getAttrSourceCodeLocation(node, attrKey),\r\n                              partialEncodeURIPath(processedUrl)\r\n                            );\r\n                          }\r\n                        })()\r\n                      );\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          const inlineStyle = findNeedTransformStyleAttribute(node);\r\n          if (inlineStyle) {\r\n            inlineModuleIndex++;\r\n            const code = inlineStyle.attr.value;\r\n            const filePath = id.replace(normalizePath$3(config.root), \"\");\r\n            addToHTMLProxyCache(config, filePath, inlineModuleIndex, { code });\r\n            js += `\r\nimport \"${id}?html-proxy&inline-css&style-attr&index=${inlineModuleIndex}.css\"`;\r\n            const hash = getHash(cleanUrl(id));\r\n            overwriteAttrValue(\r\n              s,\r\n              inlineStyle.location,\r\n              `__VITE_INLINE_CSS__${hash}_${inlineModuleIndex}__`\r\n            );\r\n          }\r\n          if (node.nodeName === \"style\" && node.childNodes.length) {\r\n            const styleNode = node.childNodes.pop();\r\n            const filePath = id.replace(normalizePath$3(config.root), \"\");\r\n            inlineModuleIndex++;\r\n            addToHTMLProxyCache(config, filePath, inlineModuleIndex, {\r\n              code: styleNode.value\r\n            });\r\n            js += `\r\nimport \"${id}?html-proxy&inline-css&index=${inlineModuleIndex}.css\"`;\r\n            const hash = getHash(cleanUrl(id));\r\n            s.update(\r\n              styleNode.sourceCodeLocation.startOffset,\r\n              styleNode.sourceCodeLocation.endOffset,\r\n              `__VITE_INLINE_CSS__${hash}_${inlineModuleIndex}__`\r\n            );\r\n          }\r\n          if (shouldRemove) {\r\n            s.remove(\r\n              nodeStartWithLeadingWhitespace(node),\r\n              node.sourceCodeLocation.endOffset\r\n            );\r\n          }\r\n        });\r\n        isAsyncScriptMap.get(config).set(id, everyScriptIsAsync);\r\n        if (someScriptsAreAsync && someScriptsAreDefer) {\r\n          config.logger.warn(\r\n            `\r\nMixed async and defer script modules in ${id}, output script will fallback to defer. Every script, including inline ones, need to be marked as async for your output script to be async.`\r\n          );\r\n        }\r\n        await Promise.all(assetUrlsPromises);\r\n        for (const { start, end, url } of scriptUrls) {\r\n          if (checkPublicFile(url, config)) {\r\n            s.update(\r\n              start,\r\n              end,\r\n              partialEncodeURIPath(toOutputPublicFilePath(url))\r\n            );\r\n          } else if (!isExcludedUrl(url)) {\r\n            s.update(\r\n              start,\r\n              end,\r\n              partialEncodeURIPath(await urlToBuiltUrl(url, id, config, this))\r\n            );\r\n          }\r\n        }\r\n        const resolvedStyleUrls = await Promise.all(\r\n          styleUrls.map(async (styleUrl) => ({\r\n            ...styleUrl,\r\n            resolved: await this.resolve(styleUrl.url, id)\r\n          }))\r\n        );\r\n        for (const { start, end, url, resolved } of resolvedStyleUrls) {\r\n          if (resolved == null) {\r\n            config.logger.warnOnce(\r\n              `\r\n${url} doesn't exist at build time, it will remain unchanged to be resolved at runtime`\r\n            );\r\n            const importExpression = `\r\nimport ${JSON.stringify(url)}`;\r\n            js = js.replace(importExpression, \"\");\r\n          } else {\r\n            s.remove(start, end);\r\n          }\r\n        }\r\n        processedHtml.set(id, s.toString());\r\n        const { modulePreload } = config.build;\r\n        if (modulePreload !== false && modulePreload.polyfill && (someScriptsAreAsync || someScriptsAreDefer)) {\r\n          js = `import \"${modulePreloadPolyfillId}\";\r\n${js}`;\r\n        }\r\n        return { code: js, moduleSideEffects: \"no-treeshake\" };\r\n      }\r\n    },\r\n    async generateBundle(options, bundle) {\r\n      const analyzedChunk = /* @__PURE__ */ new Map();\r\n      const inlineEntryChunk = /* @__PURE__ */ new Set();\r\n      const getImportedChunks = (chunk, seen = /* @__PURE__ */ new Set()) => {\r\n        const chunks = [];\r\n        chunk.imports.forEach((file) => {\r\n          const importee = bundle[file];\r\n          if (importee?.type === \"chunk\" && !seen.has(file)) {\r\n            seen.add(file);\r\n            chunks.push(...getImportedChunks(importee, seen));\r\n            chunks.push(importee);\r\n          }\r\n        });\r\n        return chunks;\r\n      };\r\n      const toScriptTag = (chunk, toOutputPath, isAsync) => ({\r\n        tag: \"script\",\r\n        attrs: {\r\n          ...isAsync ? { async: true } : {},\r\n          type: \"module\",\r\n          // crossorigin must be set not only for serving assets in a different origin\r\n          // but also to make it possible to preload the script using `<link rel=\"preload\">`.\r\n          // `<script type=\"module\">` used to fetch the script with credential mode `omit`,\r\n          // however `crossorigin` attribute cannot specify that value.\r\n          // https://developer.chrome.com/blog/modulepreload/#ok-so-why-doesnt-link-relpreload-work-for-modules:~:text=For%20%3Cscript%3E,of%20other%20modules.\r\n          // Now `<script type=\"module\">` uses `same origin`: https://github.com/whatwg/html/pull/3656#:~:text=Module%20scripts%20are%20always%20fetched%20with%20credentials%20mode%20%22same%2Dorigin%22%20by%20default%20and%20can%20no%20longer%0Ause%20%22omit%22\r\n          crossorigin: true,\r\n          src: toOutputPath(chunk.fileName)\r\n        }\r\n      });\r\n      const toPreloadTag = (filename, toOutputPath) => ({\r\n        tag: \"link\",\r\n        attrs: {\r\n          rel: \"modulepreload\",\r\n          crossorigin: true,\r\n          href: toOutputPath(filename)\r\n        }\r\n      });\r\n      const getCssTagsForChunk = (chunk, toOutputPath, seen = /* @__PURE__ */ new Set()) => {\r\n        const tags = [];\r\n        if (!analyzedChunk.has(chunk)) {\r\n          analyzedChunk.set(chunk, 1);\r\n          chunk.imports.forEach((file) => {\r\n            const importee = bundle[file];\r\n            if (importee?.type === \"chunk\") {\r\n              tags.push(...getCssTagsForChunk(importee, toOutputPath, seen));\r\n            }\r\n          });\r\n        }\r\n        chunk.viteMetadata.importedCss.forEach((file) => {\r\n          if (!seen.has(file)) {\r\n            seen.add(file);\r\n            tags.push({\r\n              tag: \"link\",\r\n              attrs: {\r\n                rel: \"stylesheet\",\r\n                crossorigin: true,\r\n                href: toOutputPath(file)\r\n              }\r\n            });\r\n          }\r\n        });\r\n        return tags;\r\n      };\r\n      for (const [normalizedId, html] of processedHtml) {\r\n        const relativeUrlPath = normalizePath$3(\r\n          path$n.relative(config.root, normalizedId)\r\n        );\r\n        const assetsBase = getBaseInHTML(relativeUrlPath, config);\r\n        const toOutputFilePath = (filename, type) => {\r\n          if (isExternalUrl(filename)) {\r\n            return filename;\r\n          } else {\r\n            return toOutputFilePathInHtml(\r\n              filename,\r\n              type,\r\n              relativeUrlPath,\r\n              \"html\",\r\n              config,\r\n              (filename2, importer) => assetsBase + filename2\r\n            );\r\n          }\r\n        };\r\n        const toOutputAssetFilePath = (filename) => toOutputFilePath(filename, \"asset\");\r\n        const toOutputPublicAssetFilePath = (filename) => toOutputFilePath(filename, \"public\");\r\n        const isAsync = isAsyncScriptMap.get(config).get(normalizedId);\r\n        let result = html;\r\n        const chunk = Object.values(bundle).find(\r\n          (chunk2) => chunk2.type === \"chunk\" && chunk2.isEntry && chunk2.facadeModuleId && normalizePath$3(chunk2.facadeModuleId) === normalizedId\r\n        );\r\n        let canInlineEntry = false;\r\n        if (chunk) {\r\n          if (options.format === \"es\" && isEntirelyImport(chunk.code)) {\r\n            canInlineEntry = true;\r\n          }\r\n          const imports = getImportedChunks(chunk);\r\n          let assetTags;\r\n          if (canInlineEntry) {\r\n            assetTags = imports.map(\r\n              (chunk2) => toScriptTag(chunk2, toOutputAssetFilePath, isAsync)\r\n            );\r\n          } else {\r\n            assetTags = [toScriptTag(chunk, toOutputAssetFilePath, isAsync)];\r\n            const { modulePreload } = config.build;\r\n            if (modulePreload !== false) {\r\n              const resolveDependencies = typeof modulePreload === \"object\" && modulePreload.resolveDependencies;\r\n              const importsFileNames = imports.map((chunk2) => chunk2.fileName);\r\n              const resolvedDeps = resolveDependencies ? resolveDependencies(chunk.fileName, importsFileNames, {\r\n                hostId: relativeUrlPath,\r\n                hostType: \"html\"\r\n              }) : importsFileNames;\r\n              assetTags.push(\r\n                ...resolvedDeps.map(\r\n                  (i) => toPreloadTag(i, toOutputAssetFilePath)\r\n                )\r\n              );\r\n            }\r\n          }\r\n          assetTags.push(...getCssTagsForChunk(chunk, toOutputAssetFilePath));\r\n          result = injectToHead(result, assetTags);\r\n        }\r\n        if (!config.build.cssCodeSplit) {\r\n          const cssChunk = Object.values(bundle).find(\r\n            (chunk2) => chunk2.type === \"asset\" && chunk2.name === \"style.css\"\r\n          );\r\n          if (cssChunk) {\r\n            result = injectToHead(result, [\r\n              {\r\n                tag: \"link\",\r\n                attrs: {\r\n                  rel: \"stylesheet\",\r\n                  crossorigin: true,\r\n                  href: toOutputAssetFilePath(cssChunk.fileName)\r\n                }\r\n              }\r\n            ]);\r\n          }\r\n        }\r\n        let match;\r\n        let s;\r\n        inlineCSSRE$1.lastIndex = 0;\r\n        while (match = inlineCSSRE$1.exec(result)) {\r\n          s ||= new MagicString(result);\r\n          const { 0: full, 1: scopedName } = match;\r\n          const cssTransformedCode = htmlProxyResult.get(scopedName);\r\n          s.update(match.index, match.index + full.length, cssTransformedCode);\r\n        }\r\n        if (s) {\r\n          result = s.toString();\r\n        }\r\n        result = await applyHtmlTransforms(\r\n          result,\r\n          [...normalHooks, ...postHooks],\r\n          {\r\n            path: \"/\" + relativeUrlPath,\r\n            filename: normalizedId,\r\n            bundle,\r\n            chunk\r\n          }\r\n        );\r\n        result = result.replace(assetUrlRE, (_, fileHash, postfix = \"\") => {\r\n          const file = this.getFileName(fileHash);\r\n          if (chunk) {\r\n            chunk.viteMetadata.importedAssets.add(cleanUrl(file));\r\n          }\r\n          return encodeURIPath(toOutputAssetFilePath(file)) + postfix;\r\n        });\r\n        result = result.replace(publicAssetUrlRE, (_, fileHash) => {\r\n          const publicAssetPath = toOutputPublicAssetFilePath(\r\n            getPublicAssetFilename(fileHash, config)\r\n          );\r\n          return encodeURIPath(\r\n            urlCanParse(publicAssetPath) ? publicAssetPath : normalizePath$3(publicAssetPath)\r\n          );\r\n        });\r\n        if (chunk && canInlineEntry) {\r\n          inlineEntryChunk.add(chunk.fileName);\r\n        }\r\n        const shortEmitName = normalizePath$3(\r\n          path$n.relative(config.root, normalizedId)\r\n        );\r\n        this.emitFile({\r\n          type: \"asset\",\r\n          originalFileName: normalizedId,\r\n          fileName: shortEmitName,\r\n          source: result\r\n        });\r\n      }\r\n      for (const fileName of inlineEntryChunk) {\r\n        delete bundle[fileName];\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction parseRelAttr(attr) {\r\n  return attr.split(spaceRe).map((v) => v.toLowerCase());\r\n}\r\nfunction findNeedTransformStyleAttribute(node) {\r\n  const attr = node.attrs.find(\r\n    (prop) => prop.prefix === void 0 && prop.name === \"style\" && // only url(...) or image-set(...) in css need to emit file\r\n    (prop.value.includes(\"url(\") || prop.value.includes(\"image-set(\"))\r\n  );\r\n  if (!attr) return void 0;\r\n  const location = node.sourceCodeLocation?.attrs?.[\"style\"];\r\n  return { attr, location };\r\n}\r\nfunction extractImportExpressionFromClassicScript(scriptTextNode) {\r\n  const startOffset = scriptTextNode.sourceCodeLocation.startOffset;\r\n  const cleanCode = stripLiteral(scriptTextNode.value);\r\n  const scriptUrls = [];\r\n  let match;\r\n  inlineImportRE.lastIndex = 0;\r\n  while (match = inlineImportRE.exec(cleanCode)) {\r\n    const [, [urlStart, urlEnd]] = match.indices;\r\n    const start = urlStart + 1;\r\n    const end = urlEnd - 1;\r\n    scriptUrls.push({\r\n      start: start + startOffset,\r\n      end: end + startOffset,\r\n      url: scriptTextNode.value.slice(start, end)\r\n    });\r\n  }\r\n  return scriptUrls;\r\n}\r\nfunction preImportMapHook(config) {\r\n  return (html, ctx) => {\r\n    const importMapIndex = html.search(importMapRE);\r\n    if (importMapIndex < 0) return;\r\n    const importMapAppendIndex = html.search(importMapAppendRE);\r\n    if (importMapAppendIndex < 0) return;\r\n    if (importMapAppendIndex < importMapIndex) {\r\n      const relativeHtml = normalizePath$3(\r\n        path$n.relative(config.root, ctx.filename)\r\n      );\r\n      config.logger.warnOnce(\r\n        colors$1.yellow(\r\n          colors$1.bold(\r\n            `(!) <script type=\"importmap\"> should come before <script type=\"module\"> and <link rel=\"modulepreload\"> in /${relativeHtml}`\r\n          )\r\n        )\r\n      );\r\n    }\r\n  };\r\n}\r\nfunction postImportMapHook() {\r\n  return (html) => {\r\n    if (!importMapAppendRE.test(html)) return;\r\n    let importMap;\r\n    html = html.replace(importMapRE, (match) => {\r\n      importMap = match;\r\n      return \"\";\r\n    });\r\n    if (importMap) {\r\n      html = html.replace(\r\n        importMapAppendRE,\r\n        (match) => `${importMap}\r\n${match}`\r\n      );\r\n    }\r\n    return html;\r\n  };\r\n}\r\nfunction injectCspNonceMetaTagHook(config) {\r\n  return () => {\r\n    if (!config.html?.cspNonce) return;\r\n    return [\r\n      {\r\n        tag: \"meta\",\r\n        injectTo: \"head\",\r\n        // use nonce attribute so that it's hidden\r\n        // https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce#accessing_nonces_and_nonce_hiding\r\n        attrs: { property: \"csp-nonce\", nonce: config.html.cspNonce }\r\n      }\r\n    ];\r\n  };\r\n}\r\nfunction htmlEnvHook(config) {\r\n  const pattern = /%(\\S+?)%/g;\r\n  const envPrefix = resolveEnvPrefix({ envPrefix: config.envPrefix });\r\n  const env = { ...config.env };\r\n  for (const key in config.define) {\r\n    if (key.startsWith(`import.meta.env.`)) {\r\n      const val = config.define[key];\r\n      if (typeof val === \"string\") {\r\n        try {\r\n          const parsed = JSON.parse(val);\r\n          env[key.slice(16)] = typeof parsed === \"string\" ? parsed : val;\r\n        } catch {\r\n          env[key.slice(16)] = val;\r\n        }\r\n      } else {\r\n        env[key.slice(16)] = JSON.stringify(val);\r\n      }\r\n    }\r\n  }\r\n  return (html, ctx) => {\r\n    return html.replace(pattern, (text, key) => {\r\n      if (key in env) {\r\n        return env[key];\r\n      } else {\r\n        if (envPrefix.some((prefix) => key.startsWith(prefix))) {\r\n          const relativeHtml = normalizePath$3(\r\n            path$n.relative(config.root, ctx.filename)\r\n          );\r\n          config.logger.warn(\r\n            colors$1.yellow(\r\n              colors$1.bold(\r\n                `(!) ${text} is not defined in env variables found in /${relativeHtml}. Is the variable mistyped?`\r\n              )\r\n            )\r\n          );\r\n        }\r\n        return text;\r\n      }\r\n    });\r\n  };\r\n}\r\nfunction injectNonceAttributeTagHook(config) {\r\n  const processRelType = /* @__PURE__ */ new Set([\"stylesheet\", \"modulepreload\", \"preload\"]);\r\n  return async (html, { filename }) => {\r\n    const nonce = config.html?.cspNonce;\r\n    if (!nonce) return;\r\n    const s = new MagicString(html);\r\n    await traverseHtml(html, filename, (node) => {\r\n      if (!nodeIsElement(node)) {\r\n        return;\r\n      }\r\n      const { nodeName, attrs, sourceCodeLocation } = node;\r\n      if (nodeName === \"script\" || nodeName === \"style\" || nodeName === \"link\" && attrs.some(\r\n        (attr) => attr.name === \"rel\" && parseRelAttr(attr.value).some((a) => processRelType.has(a))\r\n      )) {\r\n        if (attrs.some(({ name }) => name === \"nonce\")) {\r\n          return;\r\n        }\r\n        const startTagEndOffset = sourceCodeLocation.startTag.endOffset;\r\n        const appendOffset = html[startTagEndOffset - 2] === \"/\" ? 2 : 1;\r\n        s.appendRight(startTagEndOffset - appendOffset, ` nonce=\"${nonce}\"`);\r\n      }\r\n    });\r\n    return s.toString();\r\n  };\r\n}\r\nfunction resolveHtmlTransforms(plugins, logger) {\r\n  const preHooks = [];\r\n  const normalHooks = [];\r\n  const postHooks = [];\r\n  for (const plugin of plugins) {\r\n    const hook = plugin.transformIndexHtml;\r\n    if (!hook) continue;\r\n    if (typeof hook === \"function\") {\r\n      normalHooks.push(hook);\r\n    } else {\r\n      if (!(\"order\" in hook) && \"enforce\" in hook) {\r\n        logger.warnOnce(\r\n          colors$1.yellow(\r\n            `plugin '${plugin.name}' uses deprecated 'enforce' option. Use 'order' option instead.`\r\n          )\r\n        );\r\n      }\r\n      if (!(\"handler\" in hook) && \"transform\" in hook) {\r\n        logger.warnOnce(\r\n          colors$1.yellow(\r\n            `plugin '${plugin.name}' uses deprecated 'transform' option. Use 'handler' option instead.`\r\n          )\r\n        );\r\n      }\r\n      const order = hook.order ?? (hook.enforce === \"pre\" ? \"pre\" : void 0);\r\n      const handler = hook.handler ?? hook.transform;\r\n      if (order === \"pre\") {\r\n        preHooks.push(handler);\r\n      } else if (order === \"post\") {\r\n        postHooks.push(handler);\r\n      } else {\r\n        normalHooks.push(handler);\r\n      }\r\n    }\r\n  }\r\n  return [preHooks, normalHooks, postHooks];\r\n}\r\nconst elementsAllowedInHead = /* @__PURE__ */ new Set([\r\n  \"title\",\r\n  \"base\",\r\n  \"link\",\r\n  \"style\",\r\n  \"meta\",\r\n  \"script\",\r\n  \"noscript\",\r\n  \"template\"\r\n]);\r\nfunction headTagInsertCheck(tags, ctx) {\r\n  if (!tags.length) return;\r\n  const { logger } = ctx.server?.config || {};\r\n  const disallowedTags = tags.filter(\r\n    (tagDescriptor) => !elementsAllowedInHead.has(tagDescriptor.tag)\r\n  );\r\n  if (disallowedTags.length) {\r\n    const dedupedTags = unique(\r\n      disallowedTags.map((tagDescriptor) => `<${tagDescriptor.tag}>`)\r\n    );\r\n    logger?.warn(\r\n      colors$1.yellow(\r\n        colors$1.bold(\r\n          `[${dedupedTags.join(\",\")}] can not be used inside the <head> Element, please check the 'injectTo' value`\r\n        )\r\n      )\r\n    );\r\n  }\r\n}\r\nasync function applyHtmlTransforms(html, hooks, ctx) {\r\n  for (const hook of hooks) {\r\n    const res = await hook(html, ctx);\r\n    if (!res) {\r\n      continue;\r\n    }\r\n    if (typeof res === \"string\") {\r\n      html = res;\r\n    } else {\r\n      let tags;\r\n      if (Array.isArray(res)) {\r\n        tags = res;\r\n      } else {\r\n        html = res.html || html;\r\n        tags = res.tags;\r\n      }\r\n      let headTags;\r\n      let headPrependTags;\r\n      let bodyTags;\r\n      let bodyPrependTags;\r\n      for (const tag of tags) {\r\n        switch (tag.injectTo) {\r\n          case \"body\":\r\n            (bodyTags ??= []).push(tag);\r\n            break;\r\n          case \"body-prepend\":\r\n            (bodyPrependTags ??= []).push(tag);\r\n            break;\r\n          case \"head\":\r\n            (headTags ??= []).push(tag);\r\n            break;\r\n          default:\r\n            (headPrependTags ??= []).push(tag);\r\n        }\r\n      }\r\n      headTagInsertCheck([...headTags || [], ...headPrependTags || []], ctx);\r\n      if (headPrependTags) html = injectToHead(html, headPrependTags, true);\r\n      if (headTags) html = injectToHead(html, headTags);\r\n      if (bodyPrependTags) html = injectToBody(html, bodyPrependTags, true);\r\n      if (bodyTags) html = injectToBody(html, bodyTags);\r\n    }\r\n  }\r\n  return html;\r\n}\r\nconst importRE = /\\bimport\\s*(?:\"[^\"]*[^\\\\]\"|'[^']*[^\\\\]');*/g;\r\nconst commentRE$1 = /\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*$/gm;\r\nfunction isEntirelyImport(code) {\r\n  return !code.replace(importRE, \"\").replace(commentRE$1, \"\").trim().length;\r\n}\r\nfunction getBaseInHTML(urlRelativePath, config) {\r\n  return config.base === \"./\" || config.base === \"\" ? path$n.posix.join(\r\n    path$n.posix.relative(urlRelativePath, \"\").slice(0, -2),\r\n    \"./\"\r\n  ) : config.base;\r\n}\r\nconst headInjectRE = /([ \\t]*)<\\/head>/i;\r\nconst headPrependInjectRE = /([ \\t]*)<head[^>]*>/i;\r\nconst htmlInjectRE = /<\\/html>/i;\r\nconst htmlPrependInjectRE = /([ \\t]*)<html[^>]*>/i;\r\nconst bodyInjectRE = /([ \\t]*)<\\/body>/i;\r\nconst bodyPrependInjectRE = /([ \\t]*)<body[^>]*>/i;\r\nconst doctypePrependInjectRE = /<!doctype html>/i;\r\nfunction injectToHead(html, tags, prepend = false) {\r\n  if (tags.length === 0) return html;\r\n  if (prepend) {\r\n    if (headPrependInjectRE.test(html)) {\r\n      return html.replace(\r\n        headPrependInjectRE,\r\n        (match, p1) => `${match}\r\n${serializeTags(tags, incrementIndent(p1))}`\r\n      );\r\n    }\r\n  } else {\r\n    if (headInjectRE.test(html)) {\r\n      return html.replace(\r\n        headInjectRE,\r\n        (match, p1) => `${serializeTags(tags, incrementIndent(p1))}${match}`\r\n      );\r\n    }\r\n    if (bodyPrependInjectRE.test(html)) {\r\n      return html.replace(\r\n        bodyPrependInjectRE,\r\n        (match, p1) => `${serializeTags(tags, p1)}\r\n${match}`\r\n      );\r\n    }\r\n  }\r\n  return prependInjectFallback(html, tags);\r\n}\r\nfunction injectToBody(html, tags, prepend = false) {\r\n  if (tags.length === 0) return html;\r\n  if (prepend) {\r\n    if (bodyPrependInjectRE.test(html)) {\r\n      return html.replace(\r\n        bodyPrependInjectRE,\r\n        (match, p1) => `${match}\r\n${serializeTags(tags, incrementIndent(p1))}`\r\n      );\r\n    }\r\n    if (headInjectRE.test(html)) {\r\n      return html.replace(\r\n        headInjectRE,\r\n        (match, p1) => `${match}\r\n${serializeTags(tags, p1)}`\r\n      );\r\n    }\r\n    return prependInjectFallback(html, tags);\r\n  } else {\r\n    if (bodyInjectRE.test(html)) {\r\n      return html.replace(\r\n        bodyInjectRE,\r\n        (match, p1) => `${serializeTags(tags, incrementIndent(p1))}${match}`\r\n      );\r\n    }\r\n    if (htmlInjectRE.test(html)) {\r\n      return html.replace(htmlInjectRE, `${serializeTags(tags)}\r\n$&`);\r\n    }\r\n    return html + `\r\n` + serializeTags(tags);\r\n  }\r\n}\r\nfunction prependInjectFallback(html, tags) {\r\n  if (htmlPrependInjectRE.test(html)) {\r\n    return html.replace(htmlPrependInjectRE, `$&\r\n${serializeTags(tags)}`);\r\n  }\r\n  if (doctypePrependInjectRE.test(html)) {\r\n    return html.replace(doctypePrependInjectRE, `$&\r\n${serializeTags(tags)}`);\r\n  }\r\n  return serializeTags(tags) + html;\r\n}\r\nconst unaryTags = /* @__PURE__ */ new Set([\"link\", \"meta\", \"base\"]);\r\nfunction serializeTag({ tag, attrs, children }, indent = \"\") {\r\n  if (unaryTags.has(tag)) {\r\n    return `<${tag}${serializeAttrs(attrs)}>`;\r\n  } else {\r\n    return `<${tag}${serializeAttrs(attrs)}>${serializeTags(\r\n      children,\r\n      incrementIndent(indent)\r\n    )}</${tag}>`;\r\n  }\r\n}\r\nfunction serializeTags(tags, indent = \"\") {\r\n  if (typeof tags === \"string\") {\r\n    return tags;\r\n  } else if (tags && tags.length) {\r\n    return tags.map((tag) => `${indent}${serializeTag(tag, indent)}\r\n`).join(\"\");\r\n  }\r\n  return \"\";\r\n}\r\nfunction serializeAttrs(attrs) {\r\n  let res = \"\";\r\n  for (const key in attrs) {\r\n    if (typeof attrs[key] === \"boolean\") {\r\n      res += attrs[key] ? ` ${key}` : ``;\r\n    } else {\r\n      res += ` ${key}=${JSON.stringify(attrs[key])}`;\r\n    }\r\n  }\r\n  return res;\r\n}\r\nfunction incrementIndent(indent = \"\") {\r\n  return `${indent}${indent[0] === \"\t\" ? \"\t\" : \"  \"}`;\r\n}\r\nfunction getAttrKey(attr) {\r\n  return attr.prefix === void 0 ? attr.name : `${attr.prefix}:${attr.name}`;\r\n}\r\nfunction getAttrSourceCodeLocation(node, attrKey) {\r\n  return node.sourceCodeLocation.attrs[attrKey];\r\n}\r\n\r\nconst decoder = new TextDecoder();\r\nfunction resolveCSSOptions(options) {\r\n  if (options?.transformer === \"lightningcss\") {\r\n    return {\r\n      ...options,\r\n      lightningcss: {\r\n        ...options.lightningcss,\r\n        targets: options.lightningcss?.targets ?? convertTargets(ESBUILD_MODULES_TARGET)\r\n      }\r\n    };\r\n  }\r\n  return { ...options, lightningcss: void 0 };\r\n}\r\nconst cssModuleRE = new RegExp(`\\\\.module${CSS_LANGS_RE.source}`);\r\nconst directRequestRE = /[?&]direct\\b/;\r\nconst htmlProxyRE = /[?&]html-proxy\\b/;\r\nconst htmlProxyIndexRE = /&index=(\\d+)/;\r\nconst commonjsProxyRE = /\\?commonjs-proxy/;\r\nconst inlineRE$1 = /[?&]inline\\b/;\r\nconst inlineCSSRE = /[?&]inline-css\\b/;\r\nconst styleAttrRE = /[?&]style-attr\\b/;\r\nconst functionCallRE = /^[A-Z_][\\w-]*\\(/i;\r\nconst transformOnlyRE = /[?&]transform-only\\b/;\r\nconst nonEscapedDoubleQuoteRe = /(?<!\\\\)\"/g;\r\nconst cssBundleName = \"style.css\";\r\nconst isCSSRequest = (request) => CSS_LANGS_RE.test(request);\r\nconst isModuleCSSRequest = (request) => cssModuleRE.test(request);\r\nconst isDirectCSSRequest = (request) => CSS_LANGS_RE.test(request) && directRequestRE.test(request);\r\nconst isDirectRequest = (request) => directRequestRE.test(request);\r\nconst cssModulesCache = /* @__PURE__ */ new WeakMap();\r\nconst removedPureCssFilesCache = /* @__PURE__ */ new WeakMap();\r\nconst postcssConfigCache = /* @__PURE__ */ new WeakMap();\r\nfunction encodePublicUrlsInCSS(config) {\r\n  return config.command === \"build\";\r\n}\r\nconst cssUrlAssetRE = /__VITE_CSS_URL__([\\da-f]+)__/g;\r\nfunction cssPlugin(config) {\r\n  const isBuild = config.command === \"build\";\r\n  let moduleCache;\r\n  const resolveUrl = config.createResolver({\r\n    preferRelative: true,\r\n    tryIndex: false,\r\n    extensions: []\r\n  });\r\n  let preprocessorWorkerController;\r\n  if (config.css?.transformer !== \"lightningcss\") {\r\n    resolvePostcssConfig(config);\r\n  }\r\n  return {\r\n    name: \"vite:css\",\r\n    buildStart() {\r\n      moduleCache = /* @__PURE__ */ new Map();\r\n      cssModulesCache.set(config, moduleCache);\r\n      removedPureCssFilesCache.set(config, /* @__PURE__ */ new Map());\r\n      preprocessorWorkerController = createPreprocessorWorkerController(\r\n        normalizeMaxWorkers(config.css.preprocessorMaxWorkers)\r\n      );\r\n      preprocessorWorkerControllerCache.set(\r\n        config,\r\n        preprocessorWorkerController\r\n      );\r\n    },\r\n    buildEnd() {\r\n      preprocessorWorkerController?.close();\r\n    },\r\n    async load(id) {\r\n      if (!isCSSRequest(id)) return;\r\n      if (urlRE.test(id)) {\r\n        if (isModuleCSSRequest(id)) {\r\n          throw new Error(\r\n            `?url is not supported with CSS modules. (tried to import ${JSON.stringify(\r\n              id\r\n            )})`\r\n          );\r\n        }\r\n        if (isBuild) {\r\n          id = injectQuery(removeUrlQuery(id), \"transform-only\");\r\n          return `import ${JSON.stringify(id)};export default \"__VITE_CSS_URL__${Buffer.from(id).toString(\r\n            \"hex\"\r\n          )}__\"`;\r\n        }\r\n      }\r\n    },\r\n    async transform(raw, id) {\r\n      if (!isCSSRequest(id) || commonjsProxyRE.test(id) || SPECIAL_QUERY_RE.test(id)) {\r\n        return;\r\n      }\r\n      const urlReplacer = async (url, importer) => {\r\n        const decodedUrl = decodeURI(url);\r\n        if (checkPublicFile(decodedUrl, config)) {\r\n          if (encodePublicUrlsInCSS(config)) {\r\n            return publicFileToBuiltUrl(decodedUrl, config);\r\n          } else {\r\n            return joinUrlSegments(config.base, decodedUrl);\r\n          }\r\n        }\r\n        const [id2, fragment] = decodedUrl.split(\"#\");\r\n        let resolved = await resolveUrl(id2, importer);\r\n        if (resolved) {\r\n          if (fragment) resolved += \"#\" + fragment;\r\n          return fileToUrl$1(resolved, config, this);\r\n        }\r\n        if (config.command === \"build\") {\r\n          const isExternal = config.build.rollupOptions.external ? resolveUserExternal(\r\n            config.build.rollupOptions.external,\r\n            decodedUrl,\r\n            // use URL as id since id could not be resolved\r\n            id2,\r\n            false\r\n          ) : false;\r\n          if (!isExternal) {\r\n            config.logger.warnOnce(\r\n              `\r\n${decodedUrl} referenced in ${id2} didn't resolve at build time, it will remain unchanged to be resolved at runtime`\r\n            );\r\n          }\r\n        }\r\n        return url;\r\n      };\r\n      const {\r\n        code: css,\r\n        modules,\r\n        deps,\r\n        map: map2\r\n      } = await compileCSS(\r\n        id,\r\n        raw,\r\n        config,\r\n        preprocessorWorkerController,\r\n        urlReplacer\r\n      );\r\n      if (modules) {\r\n        moduleCache.set(id, modules);\r\n      }\r\n      if (deps) {\r\n        for (const file of deps) {\r\n          this.addWatchFile(file);\r\n        }\r\n      }\r\n      return {\r\n        code: css,\r\n        map: map2\r\n      };\r\n    }\r\n  };\r\n}\r\nfunction cssPostPlugin(config) {\r\n  const styles = /* @__PURE__ */ new Map();\r\n  let codeSplitEmitQueue = createSerialPromiseQueue();\r\n  const urlEmitQueue = createSerialPromiseQueue();\r\n  let pureCssChunks;\r\n  let hasEmitted = false;\r\n  let chunkCSSMap;\r\n  const rollupOptionsOutput = config.build.rollupOptions.output;\r\n  const assetFileNames = (Array.isArray(rollupOptionsOutput) ? rollupOptionsOutput[0] : rollupOptionsOutput)?.assetFileNames;\r\n  const getCssAssetDirname = (cssAssetName) => {\r\n    const cssAssetNameDir = path$n.dirname(cssAssetName);\r\n    if (!assetFileNames) {\r\n      return path$n.join(config.build.assetsDir, cssAssetNameDir);\r\n    } else if (typeof assetFileNames === \"string\") {\r\n      return path$n.join(path$n.dirname(assetFileNames), cssAssetNameDir);\r\n    } else {\r\n      return path$n.dirname(\r\n        assetFileNames({\r\n          type: \"asset\",\r\n          name: cssAssetName,\r\n          originalFileName: null,\r\n          source: \"/* vite internal call, ignore */\"\r\n        })\r\n      );\r\n    }\r\n  };\r\n  return {\r\n    name: \"vite:css-post\",\r\n    renderStart() {\r\n      pureCssChunks = /* @__PURE__ */ new Set();\r\n      hasEmitted = false;\r\n      chunkCSSMap = /* @__PURE__ */ new Map();\r\n      codeSplitEmitQueue = createSerialPromiseQueue();\r\n    },\r\n    async transform(css, id, options) {\r\n      if (!isCSSRequest(id) || commonjsProxyRE.test(id) || SPECIAL_QUERY_RE.test(id)) {\r\n        return;\r\n      }\r\n      css = stripBomTag(css);\r\n      const inlineCSS = inlineCSSRE.test(id);\r\n      const isHTMLProxy = htmlProxyRE.test(id);\r\n      if (inlineCSS && isHTMLProxy) {\r\n        if (styleAttrRE.test(id)) {\r\n          css = css.replace(/\"/g, \"&quot;\");\r\n        }\r\n        const index = htmlProxyIndexRE.exec(id)?.[1];\r\n        if (index == null) {\r\n          throw new Error(`HTML proxy index in \"${id}\" not found`);\r\n        }\r\n        addToHTMLProxyTransformResult(\r\n          `${getHash(cleanUrl(id))}_${Number.parseInt(index)}`,\r\n          css\r\n        );\r\n        return `export default ''`;\r\n      }\r\n      const inlined = inlineRE$1.test(id);\r\n      const modules = cssModulesCache.get(config).get(id);\r\n      const modulesCode = modules && !inlined && dataToEsm(modules, { namedExports: true, preferConst: true });\r\n      if (config.command === \"serve\") {\r\n        const getContentWithSourcemap = async (content) => {\r\n          if (config.css?.devSourcemap) {\r\n            const sourcemap = this.getCombinedSourcemap();\r\n            if (sourcemap.mappings) {\r\n              await injectSourcesContent(sourcemap, cleanUrl(id), config.logger);\r\n            }\r\n            return getCodeWithSourcemap(\"css\", content, sourcemap);\r\n          }\r\n          return content;\r\n        };\r\n        if (isDirectCSSRequest(id)) {\r\n          return null;\r\n        }\r\n        if (options?.ssr) {\r\n          return modulesCode || `export default ${JSON.stringify(css)}`;\r\n        }\r\n        if (inlined) {\r\n          return `export default ${JSON.stringify(css)}`;\r\n        }\r\n        const cssContent = await getContentWithSourcemap(css);\r\n        const code2 = [\r\n          `import { updateStyle as __vite__updateStyle, removeStyle as __vite__removeStyle } from ${JSON.stringify(\r\n            path$n.posix.join(config.base, CLIENT_PUBLIC_PATH)\r\n          )}`,\r\n          `const __vite__id = ${JSON.stringify(id)}`,\r\n          `const __vite__css = ${JSON.stringify(cssContent)}`,\r\n          `__vite__updateStyle(__vite__id, __vite__css)`,\r\n          // css modules exports change on edit so it can't self accept\r\n          `${modulesCode || \"import.meta.hot.accept()\"}`,\r\n          `import.meta.hot.prune(() => __vite__removeStyle(__vite__id))`\r\n        ].join(\"\\n\");\r\n        return { code: code2, map: { mappings: \"\" } };\r\n      }\r\n      if (!inlined) {\r\n        styles.set(id, css);\r\n      }\r\n      let code;\r\n      if (modulesCode) {\r\n        code = modulesCode;\r\n      } else if (inlined) {\r\n        let content = css;\r\n        if (config.build.cssMinify) {\r\n          content = await minifyCSS(content, config, true);\r\n        }\r\n        code = `export default ${JSON.stringify(content)}`;\r\n      } else {\r\n        code = \"\";\r\n      }\r\n      return {\r\n        code,\r\n        map: { mappings: \"\" },\r\n        // avoid the css module from being tree-shaken so that we can retrieve\r\n        // it in renderChunk()\r\n        moduleSideEffects: modulesCode || inlined ? false : \"no-treeshake\"\r\n      };\r\n    },\r\n    async renderChunk(code, chunk, opts) {\r\n      let chunkCSS = \"\";\r\n      const isJsChunkEmpty = code === \"\" && !chunk.isEntry;\r\n      let isPureCssChunk = true;\r\n      const ids = Object.keys(chunk.modules);\r\n      for (const id of ids) {\r\n        if (styles.has(id)) {\r\n          if (!transformOnlyRE.test(id)) {\r\n            chunkCSS += styles.get(id);\r\n            if (cssModuleRE.test(id)) {\r\n              isPureCssChunk = false;\r\n            }\r\n          }\r\n        } else if (!isJsChunkEmpty) {\r\n          isPureCssChunk = false;\r\n        }\r\n      }\r\n      const publicAssetUrlMap = publicAssetUrlCache.get(config);\r\n      const resolveAssetUrlsInCss = (chunkCSS2, cssAssetName) => {\r\n        const encodedPublicUrls = encodePublicUrlsInCSS(config);\r\n        const relative = config.base === \"./\" || config.base === \"\";\r\n        const cssAssetDirname = encodedPublicUrls || relative ? slash$1(getCssAssetDirname(cssAssetName)) : void 0;\r\n        const toRelative = (filename) => {\r\n          const relativePath = normalizePath$3(\r\n            path$n.relative(cssAssetDirname, filename)\r\n          );\r\n          return relativePath[0] === \".\" ? relativePath : \"./\" + relativePath;\r\n        };\r\n        chunkCSS2 = chunkCSS2.replace(assetUrlRE, (_, fileHash, postfix = \"\") => {\r\n          const filename = this.getFileName(fileHash) + postfix;\r\n          chunk.viteMetadata.importedAssets.add(cleanUrl(filename));\r\n          return encodeURIPath(\r\n            toOutputFilePathInCss(\r\n              filename,\r\n              \"asset\",\r\n              cssAssetName,\r\n              \"css\",\r\n              config,\r\n              toRelative\r\n            )\r\n          );\r\n        });\r\n        if (encodedPublicUrls) {\r\n          const relativePathToPublicFromCSS = normalizePath$3(\r\n            path$n.relative(cssAssetDirname, \"\")\r\n          );\r\n          chunkCSS2 = chunkCSS2.replace(publicAssetUrlRE, (_, hash) => {\r\n            const publicUrl = publicAssetUrlMap.get(hash).slice(1);\r\n            return encodeURIPath(\r\n              toOutputFilePathInCss(\r\n                publicUrl,\r\n                \"public\",\r\n                cssAssetName,\r\n                \"css\",\r\n                config,\r\n                () => `${relativePathToPublicFromCSS}/${publicUrl}`\r\n              )\r\n            );\r\n          });\r\n        }\r\n        return chunkCSS2;\r\n      };\r\n      function ensureFileExt(name, ext) {\r\n        return normalizePath$3(\r\n          path$n.format({ ...path$n.parse(name), base: void 0, ext })\r\n        );\r\n      }\r\n      let s;\r\n      const urlEmitTasks = [];\r\n      if (code.includes(\"__VITE_CSS_URL__\")) {\r\n        let match;\r\n        cssUrlAssetRE.lastIndex = 0;\r\n        while (match = cssUrlAssetRE.exec(code)) {\r\n          const [full, idHex] = match;\r\n          const id = Buffer.from(idHex, \"hex\").toString();\r\n          const originalFileName = cleanUrl(id);\r\n          const cssAssetName = ensureFileExt(\r\n            path$n.basename(originalFileName),\r\n            \".css\"\r\n          );\r\n          if (!styles.has(id)) {\r\n            throw new Error(\r\n              `css content for ${JSON.stringify(id)} was not found`\r\n            );\r\n          }\r\n          let cssContent = styles.get(id);\r\n          cssContent = resolveAssetUrlsInCss(cssContent, cssAssetName);\r\n          urlEmitTasks.push({\r\n            cssAssetName,\r\n            originalFileName,\r\n            content: cssContent,\r\n            start: match.index,\r\n            end: match.index + full.length\r\n          });\r\n        }\r\n      }\r\n      await urlEmitQueue.run(\r\n        async () => Promise.all(\r\n          urlEmitTasks.map(async (info) => {\r\n            info.content = await finalizeCss(info.content, true, config);\r\n          })\r\n        )\r\n      );\r\n      if (urlEmitTasks.length > 0) {\r\n        const toRelativeRuntime = createToImportMetaURLBasedRelativeRuntime(\r\n          opts.format,\r\n          config.isWorker\r\n        );\r\n        s ||= new MagicString(code);\r\n        for (const {\r\n          cssAssetName,\r\n          originalFileName,\r\n          content,\r\n          start,\r\n          end\r\n        } of urlEmitTasks) {\r\n          const referenceId = this.emitFile({\r\n            type: \"asset\",\r\n            name: cssAssetName,\r\n            originalFileName,\r\n            source: content\r\n          });\r\n          generatedAssets.get(config).set(referenceId, { originalFileName });\r\n          const filename = this.getFileName(referenceId);\r\n          chunk.viteMetadata.importedAssets.add(cleanUrl(filename));\r\n          const replacement = toOutputFilePathInJS(\r\n            filename,\r\n            \"asset\",\r\n            chunk.fileName,\r\n            \"js\",\r\n            config,\r\n            toRelativeRuntime\r\n          );\r\n          const replacementString = typeof replacement === \"string\" ? JSON.stringify(encodeURIPath(replacement)).slice(1, -1) : `\"+${replacement.runtime}+\"`;\r\n          s.update(start, end, replacementString);\r\n        }\r\n      }\r\n      if (chunkCSS) {\r\n        if (isPureCssChunk && (opts.format === \"es\" || opts.format === \"cjs\")) {\r\n          pureCssChunks.add(chunk);\r\n        }\r\n        if (config.build.cssCodeSplit) {\r\n          if (opts.format === \"es\" || opts.format === \"cjs\") {\r\n            const isEntry = chunk.isEntry && isPureCssChunk;\r\n            const cssFullAssetName = ensureFileExt(chunk.name, \".css\");\r\n            const cssAssetName = chunk.isEntry && (!chunk.facadeModuleId || !isCSSRequest(chunk.facadeModuleId)) ? path$n.basename(cssFullAssetName) : cssFullAssetName;\r\n            const originalFileName = getChunkOriginalFileName(\r\n              chunk,\r\n              config.root,\r\n              opts.format\r\n            );\r\n            chunkCSS = resolveAssetUrlsInCss(chunkCSS, cssAssetName);\r\n            chunkCSS = await codeSplitEmitQueue.run(async () => {\r\n              return finalizeCss(chunkCSS, true, config);\r\n            });\r\n            const referenceId = this.emitFile({\r\n              type: \"asset\",\r\n              name: cssAssetName,\r\n              originalFileName,\r\n              source: chunkCSS\r\n            });\r\n            generatedAssets.get(config).set(referenceId, { originalFileName, isEntry });\r\n            chunk.viteMetadata.importedCss.add(this.getFileName(referenceId));\r\n          } else if (!config.build.ssr) {\r\n            chunkCSS = await finalizeCss(chunkCSS, true, config);\r\n            let cssString = JSON.stringify(chunkCSS);\r\n            cssString = renderAssetUrlInJS(\r\n              this,\r\n              config,\r\n              chunk,\r\n              opts,\r\n              cssString\r\n            )?.toString() || cssString;\r\n            const style = `__vite_style__`;\r\n            const injectCode = `var ${style} = document.createElement('style');${style}.textContent = ${cssString};document.head.appendChild(${style});`;\r\n            let injectionPoint;\r\n            const wrapIdx = code.indexOf(\"System.register\");\r\n            if (wrapIdx >= 0) {\r\n              const executeFnStart = code.indexOf(\"execute:\", wrapIdx);\r\n              injectionPoint = code.indexOf(\"{\", executeFnStart) + 1;\r\n            } else {\r\n              const insertMark = \"'use strict';\";\r\n              injectionPoint = code.indexOf(insertMark) + insertMark.length;\r\n            }\r\n            s ||= new MagicString(code);\r\n            s.appendRight(injectionPoint, injectCode);\r\n          }\r\n        } else {\r\n          chunkCSS = resolveAssetUrlsInCss(chunkCSS, cssBundleName);\r\n          chunkCSSMap.set(chunk.fileName, chunkCSS);\r\n        }\r\n      }\r\n      if (s) {\r\n        if (config.build.sourcemap) {\r\n          return {\r\n            code: s.toString(),\r\n            map: s.generateMap({ hires: \"boundary\" })\r\n          };\r\n        } else {\r\n          return { code: s.toString() };\r\n        }\r\n      }\r\n      return null;\r\n    },\r\n    augmentChunkHash(chunk) {\r\n      if (chunk.viteMetadata?.importedCss.size) {\r\n        let hash = \"\";\r\n        for (const id of chunk.viteMetadata.importedCss) {\r\n          hash += id;\r\n        }\r\n        return hash;\r\n      }\r\n    },\r\n    async generateBundle(opts, bundle) {\r\n      if (opts.__vite_skip_asset_emit__) {\r\n        return;\r\n      }\r\n      function extractCss() {\r\n        let css = \"\";\r\n        const collected = /* @__PURE__ */ new Set();\r\n        const dynamicImports = /* @__PURE__ */ new Set();\r\n        function collect(chunk) {\r\n          if (!chunk || chunk.type !== \"chunk\" || collected.has(chunk)) return;\r\n          collected.add(chunk);\r\n          chunk.imports.forEach((importName) => collect(bundle[importName]));\r\n          chunk.dynamicImports.forEach(\r\n            (importName) => dynamicImports.add(importName)\r\n          );\r\n          css += chunkCSSMap.get(chunk.preliminaryFileName) ?? \"\";\r\n        }\r\n        for (const chunk of Object.values(bundle)) {\r\n          if (chunk.type === \"chunk\" && chunk.isEntry) {\r\n            collect(chunk);\r\n          }\r\n        }\r\n        for (const chunkName of dynamicImports) {\r\n          collect(bundle[chunkName]);\r\n        }\r\n        return css;\r\n      }\r\n      let extractedCss = !hasEmitted && extractCss();\r\n      if (extractedCss) {\r\n        hasEmitted = true;\r\n        extractedCss = await finalizeCss(extractedCss, true, config);\r\n        this.emitFile({\r\n          name: cssBundleName,\r\n          type: \"asset\",\r\n          source: extractedCss\r\n        });\r\n      }\r\n      if (pureCssChunks.size) {\r\n        const prelimaryNameToChunkMap = Object.fromEntries(\r\n          Object.values(bundle).filter((chunk) => chunk.type === \"chunk\").map((chunk) => [chunk.preliminaryFileName, chunk.fileName])\r\n        );\r\n        const pureCssChunkNames = [...pureCssChunks].map((pureCssChunk) => prelimaryNameToChunkMap[pureCssChunk.fileName]).filter(Boolean);\r\n        const replaceEmptyChunk = getEmptyChunkReplacer(\r\n          pureCssChunkNames,\r\n          opts.format\r\n        );\r\n        for (const file in bundle) {\r\n          const chunk = bundle[file];\r\n          if (chunk.type === \"chunk\") {\r\n            let chunkImportsPureCssChunk = false;\r\n            chunk.imports = chunk.imports.filter((file2) => {\r\n              if (pureCssChunkNames.includes(file2)) {\r\n                const { importedCss, importedAssets } = bundle[file2].viteMetadata;\r\n                importedCss.forEach(\r\n                  (file3) => chunk.viteMetadata.importedCss.add(file3)\r\n                );\r\n                importedAssets.forEach(\r\n                  (file3) => chunk.viteMetadata.importedAssets.add(file3)\r\n                );\r\n                chunkImportsPureCssChunk = true;\r\n                return false;\r\n              }\r\n              return true;\r\n            });\r\n            if (chunkImportsPureCssChunk) {\r\n              chunk.code = replaceEmptyChunk(chunk.code);\r\n            }\r\n          }\r\n        }\r\n        const removedPureCssFiles = removedPureCssFilesCache.get(config);\r\n        pureCssChunkNames.forEach((fileName) => {\r\n          removedPureCssFiles.set(fileName, bundle[fileName]);\r\n          delete bundle[fileName];\r\n          delete bundle[`${fileName}.map`];\r\n        });\r\n      }\r\n      const cssAssets = Object.values(bundle).filter(\r\n        (asset) => asset.type === \"asset\" && asset.fileName.endsWith(\".css\")\r\n      );\r\n      for (const cssAsset of cssAssets) {\r\n        if (typeof cssAsset.source === \"string\") {\r\n          cssAsset.source = cssAsset.source.replace(viteHashUpdateMarkerRE, \"\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction cssAnalysisPlugin(config) {\r\n  let server;\r\n  return {\r\n    name: \"vite:css-analysis\",\r\n    configureServer(_server) {\r\n      server = _server;\r\n    },\r\n    async transform(_, id, options) {\r\n      if (!isCSSRequest(id) || commonjsProxyRE.test(id) || SPECIAL_QUERY_RE.test(id)) {\r\n        return;\r\n      }\r\n      const ssr = options?.ssr === true;\r\n      const { moduleGraph } = server;\r\n      const thisModule = moduleGraph.getModuleById(id);\r\n      if (thisModule) {\r\n        const isSelfAccepting = !cssModulesCache.get(config)?.get(id) && !inlineRE$1.test(id) && !htmlProxyRE.test(id);\r\n        const pluginImports = this._addedImports;\r\n        if (pluginImports) {\r\n          const depModules = /* @__PURE__ */ new Set();\r\n          for (const file of pluginImports) {\r\n            depModules.add(\r\n              isCSSRequest(file) ? moduleGraph.createFileOnlyEntry(file) : await moduleGraph.ensureEntryFromUrl(\r\n                fileToDevUrl(\r\n                  file,\r\n                  config,\r\n                  /* skipBase */\r\n                  true\r\n                ),\r\n                ssr\r\n              )\r\n            );\r\n          }\r\n          moduleGraph.updateModuleInfo(\r\n            thisModule,\r\n            depModules,\r\n            null,\r\n            // The root CSS proxy module is self-accepting and should not\r\n            // have an explicit accept list\r\n            /* @__PURE__ */ new Set(),\r\n            null,\r\n            isSelfAccepting,\r\n            ssr\r\n          );\r\n        } else {\r\n          thisModule.isSelfAccepting = isSelfAccepting;\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction getEmptyChunkReplacer(pureCssChunkNames, outputFormat) {\r\n  const emptyChunkFiles = pureCssChunkNames.map((file) => path$n.basename(file)).join(\"|\").replace(/\\./g, \"\\\\.\");\r\n  const emptyChunkRE = new RegExp(\r\n    outputFormat === \"es\" ? `\\\\bimport\\\\s*[\"'][^\"']*(?:${emptyChunkFiles})[\"'];` : `(\\\\b|,\\\\s*)require\\\\(\\\\s*[\"'][^\"']*(?:${emptyChunkFiles})[\"']\\\\)(;|,)`,\r\n    \"g\"\r\n  );\r\n  return (code) => code.replace(\r\n    emptyChunkRE,\r\n    // remove css import while preserving source map location\r\n    (m) => outputFormat === \"es\" ? `/* empty css ${\"\".padEnd(m.length - 15)}*/` : `${m.at(-1)}/* empty css ${\"\".padEnd(m.length - 16)}*/`\r\n  );\r\n}\r\nfunction createCSSResolvers(config) {\r\n  let cssResolve;\r\n  let sassResolve;\r\n  let lessResolve;\r\n  return {\r\n    get css() {\r\n      return cssResolve || (cssResolve = config.createResolver({\r\n        extensions: [\".css\"],\r\n        mainFields: [\"style\"],\r\n        conditions: [\"style\"],\r\n        tryIndex: false,\r\n        preferRelative: true\r\n      }));\r\n    },\r\n    get sass() {\r\n      if (!sassResolve) {\r\n        const resolver = config.createResolver({\r\n          extensions: [\".scss\", \".sass\", \".css\"],\r\n          mainFields: [\"sass\", \"style\"],\r\n          conditions: [\"sass\", \"style\"],\r\n          tryIndex: true,\r\n          tryPrefix: \"_\",\r\n          preferRelative: true\r\n        });\r\n        sassResolve = async (...args) => {\r\n          if (args[0].startsWith(\"file://\")) {\r\n            args[0] = fileURLToPath(args[0]);\r\n          }\r\n          return resolver(...args);\r\n        };\r\n      }\r\n      return sassResolve;\r\n    },\r\n    get less() {\r\n      return lessResolve || (lessResolve = config.createResolver({\r\n        extensions: [\".less\", \".css\"],\r\n        mainFields: [\"less\", \"style\"],\r\n        conditions: [\"less\", \"style\"],\r\n        tryIndex: false,\r\n        preferRelative: true\r\n      }));\r\n    }\r\n  };\r\n}\r\nfunction getCssResolversKeys(resolvers) {\r\n  return Object.keys(resolvers);\r\n}\r\nasync function compileCSSPreprocessors(id, lang, code, config, workerController) {\r\n  const { preprocessorOptions, devSourcemap } = config.css ?? {};\r\n  const atImportResolvers = getAtImportResolvers(config);\r\n  const preProcessor = workerController[lang];\r\n  let opts = preprocessorOptions && preprocessorOptions[lang] || {};\r\n  switch (lang) {\r\n    case \"scss\" /* scss */:\r\n    case \"sass\" /* sass */:\r\n      opts = {\r\n        includePaths: [\"node_modules\"],\r\n        alias: config.resolve.alias,\r\n        ...opts\r\n      };\r\n      break;\r\n    case \"less\" /* less */:\r\n    case \"styl\" /* styl */:\r\n    case \"stylus\" /* stylus */:\r\n      opts = {\r\n        paths: [\"node_modules\"],\r\n        alias: config.resolve.alias,\r\n        ...opts\r\n      };\r\n  }\r\n  opts.filename = cleanUrl(id);\r\n  opts.enableSourcemap = devSourcemap ?? false;\r\n  const preprocessResult = await preProcessor(\r\n    code,\r\n    config.root,\r\n    opts,\r\n    atImportResolvers\r\n  );\r\n  if (preprocessResult.error) {\r\n    throw preprocessResult.error;\r\n  }\r\n  let deps;\r\n  if (preprocessResult.deps) {\r\n    const normalizedFilename = normalizePath$3(opts.filename);\r\n    deps = new Set(\r\n      [...preprocessResult.deps].filter(\r\n        (dep) => normalizePath$3(dep) !== normalizedFilename\r\n      )\r\n    );\r\n  }\r\n  return {\r\n    code: preprocessResult.code,\r\n    map: combineSourcemapsIfExists(\r\n      opts.filename,\r\n      preprocessResult.map,\r\n      preprocessResult.additionalMap\r\n    ),\r\n    deps\r\n  };\r\n}\r\nconst configToAtImportResolvers = /* @__PURE__ */ new WeakMap();\r\nfunction getAtImportResolvers(config) {\r\n  let atImportResolvers = configToAtImportResolvers.get(config);\r\n  if (!atImportResolvers) {\r\n    atImportResolvers = createCSSResolvers(config);\r\n    configToAtImportResolvers.set(config, atImportResolvers);\r\n  }\r\n  return atImportResolvers;\r\n}\r\nasync function compileCSS(id, code, config, workerController, urlReplacer) {\r\n  if (config.css?.transformer === \"lightningcss\") {\r\n    return compileLightningCSS(id, code, config, urlReplacer);\r\n  }\r\n  const { modules: modulesOptions, devSourcemap } = config.css || {};\r\n  const isModule = modulesOptions !== false && cssModuleRE.test(id);\r\n  const needInlineImport = code.includes(\"@import\");\r\n  const hasUrl = cssUrlRE.test(code) || cssImageSetRE.test(code);\r\n  const lang = CSS_LANGS_RE.exec(id)?.[1];\r\n  const postcssConfig = await resolvePostcssConfig(config);\r\n  if (lang === \"css\" && !postcssConfig && !isModule && !needInlineImport && !hasUrl) {\r\n    return { code, map: null };\r\n  }\r\n  let modules;\r\n  const deps = /* @__PURE__ */ new Set();\r\n  let preprocessorMap;\r\n  if (isPreProcessor(lang)) {\r\n    const preprocessorResult = await compileCSSPreprocessors(\r\n      id,\r\n      lang,\r\n      code,\r\n      config,\r\n      workerController\r\n    );\r\n    code = preprocessorResult.code;\r\n    preprocessorMap = preprocessorResult.map;\r\n    preprocessorResult.deps?.forEach((dep) => deps.add(dep));\r\n  }\r\n  const atImportResolvers = getAtImportResolvers(config);\r\n  const postcssOptions = postcssConfig && postcssConfig.options || {};\r\n  const postcssPlugins = postcssConfig && postcssConfig.plugins ? postcssConfig.plugins.slice() : [];\r\n  if (needInlineImport) {\r\n    postcssPlugins.unshift(\r\n      (await importPostcssImport()).default({\r\n        async resolve(id2, basedir) {\r\n          const publicFile = checkPublicFile(id2, config);\r\n          if (publicFile) {\r\n            return publicFile;\r\n          }\r\n          const resolved = await atImportResolvers.css(\r\n            id2,\r\n            path$n.join(basedir, \"*\")\r\n          );\r\n          if (resolved) {\r\n            return path$n.resolve(resolved);\r\n          }\r\n          if (!path$n.isAbsolute(id2)) {\r\n            config.logger.error(\r\n              colors$1.red(\r\n                `Unable to resolve \\`@import \"${id2}\"\\` from ${basedir}`\r\n              )\r\n            );\r\n          }\r\n          return id2;\r\n        },\r\n        async load(id2) {\r\n          const code2 = await fs__default.promises.readFile(id2, \"utf-8\");\r\n          const lang2 = CSS_LANGS_RE.exec(id2)?.[1];\r\n          if (isPreProcessor(lang2)) {\r\n            const result = await compileCSSPreprocessors(\r\n              id2,\r\n              lang2,\r\n              code2,\r\n              config,\r\n              workerController\r\n            );\r\n            result.deps?.forEach((dep) => deps.add(dep));\r\n            return result.code;\r\n          }\r\n          return code2;\r\n        },\r\n        nameLayer(index) {\r\n          return `vite--anon-layer-${getHash(id)}-${index}`;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  if (urlReplacer) {\r\n    postcssPlugins.push(\r\n      UrlRewritePostcssPlugin({\r\n        replacer: urlReplacer,\r\n        logger: config.logger\r\n      })\r\n    );\r\n  }\r\n  if (isModule) {\r\n    postcssPlugins.unshift(\r\n      (await importPostcssModules()).default({\r\n        ...modulesOptions,\r\n        localsConvention: modulesOptions?.localsConvention,\r\n        getJSON(cssFileName, _modules, outputFileName) {\r\n          modules = _modules;\r\n          if (modulesOptions && typeof modulesOptions.getJSON === \"function\") {\r\n            modulesOptions.getJSON(cssFileName, _modules, outputFileName);\r\n          }\r\n        },\r\n        async resolve(id2, importer) {\r\n          for (const key of getCssResolversKeys(atImportResolvers)) {\r\n            const resolved = await atImportResolvers[key](id2, importer);\r\n            if (resolved) {\r\n              return path$n.resolve(resolved);\r\n            }\r\n          }\r\n          return id2;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  if (!postcssPlugins.length) {\r\n    return {\r\n      code,\r\n      map: preprocessorMap,\r\n      deps\r\n    };\r\n  }\r\n  let postcssResult;\r\n  try {\r\n    const source = removeDirectQuery(id);\r\n    const postcss = await importPostcss();\r\n    postcssResult = await postcss.default(postcssPlugins).process(code, {\r\n      ...postcssOptions,\r\n      parser: lang === \"sss\" ? loadSss(config.root) : postcssOptions.parser,\r\n      to: source,\r\n      from: source,\r\n      ...devSourcemap ? {\r\n        map: {\r\n          inline: false,\r\n          annotation: false,\r\n          // postcss may return virtual files\r\n          // we cannot obtain content of them, so this needs to be enabled\r\n          sourcesContent: true\r\n          // when \"prev: preprocessorMap\", the result map may include duplicate filename in `postcssResult.map.sources`\r\n          // prev: preprocessorMap,\r\n        }\r\n      } : {}\r\n    });\r\n    for (const message of postcssResult.messages) {\r\n      if (message.type === \"dependency\") {\r\n        deps.add(normalizePath$3(message.file));\r\n      } else if (message.type === \"dir-dependency\") {\r\n        const { dir, glob: globPattern = \"**\" } = message;\r\n        const pattern = glob.escapePath(normalizePath$3(path$n.resolve(path$n.dirname(id), dir))) + `/` + globPattern;\r\n        const files = glob.sync(pattern, {\r\n          ignore: [\"**/node_modules/**\"]\r\n        });\r\n        for (let i = 0; i < files.length; i++) {\r\n          deps.add(files[i]);\r\n        }\r\n      } else if (message.type === \"warning\") {\r\n        const warning = message;\r\n        let msg = `[vite:css] ${warning.text}`;\r\n        msg += `\r\n${generateCodeFrame(\r\n          code,\r\n          {\r\n            line: warning.line,\r\n            column: warning.column - 1\r\n            // 1-based\r\n          },\r\n          warning.endLine !== void 0 && warning.endColumn !== void 0 ? {\r\n            line: warning.endLine,\r\n            column: warning.endColumn - 1\r\n            // 1-based\r\n          } : void 0\r\n        )}`;\r\n        config.logger.warn(colors$1.yellow(msg));\r\n      }\r\n    }\r\n  } catch (e) {\r\n    e.message = `[postcss] ${e.message}`;\r\n    e.code = code;\r\n    e.loc = {\r\n      file: e.file,\r\n      line: e.line,\r\n      column: e.column - 1\r\n      // 1-based\r\n    };\r\n    throw e;\r\n  }\r\n  if (!devSourcemap) {\r\n    return {\r\n      ast: postcssResult,\r\n      code: postcssResult.css,\r\n      map: { mappings: \"\" },\r\n      modules,\r\n      deps\r\n    };\r\n  }\r\n  const rawPostcssMap = postcssResult.map.toJSON();\r\n  const postcssMap = await formatPostcssSourceMap(\r\n    // version property of rawPostcssMap is declared as string\r\n    // but actually it is a number\r\n    rawPostcssMap,\r\n    cleanUrl(id)\r\n  );\r\n  return {\r\n    ast: postcssResult,\r\n    code: postcssResult.css,\r\n    map: combineSourcemapsIfExists(cleanUrl(id), postcssMap, preprocessorMap),\r\n    modules,\r\n    deps\r\n  };\r\n}\r\nfunction createCachedImport(imp) {\r\n  let cached;\r\n  return () => {\r\n    if (!cached) {\r\n      cached = imp().then((module) => {\r\n        cached = module;\r\n        return module;\r\n      });\r\n    }\r\n    return cached;\r\n  };\r\n}\r\nconst importPostcssImport = createCachedImport(() => import('./dep-C6EFp3uH.js').then(function (n) { return n.i; }));\r\nconst importPostcssModules = createCachedImport(() => import('./dep-Ba1kN6Mp.js').then(function (n) { return n.i; }));\r\nconst importPostcss = createCachedImport(() => import('postcss'));\r\nconst preprocessorWorkerControllerCache = /* @__PURE__ */ new WeakMap();\r\nlet alwaysFakeWorkerWorkerControllerCache;\r\nasync function preprocessCSS(code, filename, config) {\r\n  let workerController = preprocessorWorkerControllerCache.get(config);\r\n  if (!workerController) {\r\n    alwaysFakeWorkerWorkerControllerCache ||= createPreprocessorWorkerController(0);\r\n    workerController = alwaysFakeWorkerWorkerControllerCache;\r\n  }\r\n  return await compileCSS(filename, code, config, workerController);\r\n}\r\nasync function formatPostcssSourceMap(rawMap, file) {\r\n  const inputFileDir = path$n.dirname(file);\r\n  const sources = rawMap.sources.map((source) => {\r\n    const cleanSource = cleanUrl(decodeURIComponent(source));\r\n    if (cleanSource[0] === \"<\" && cleanSource[cleanSource.length - 1] === \">\") {\r\n      return `\\0${cleanSource}`;\r\n    }\r\n    return normalizePath$3(path$n.resolve(inputFileDir, cleanSource));\r\n  });\r\n  return {\r\n    file,\r\n    mappings: rawMap.mappings,\r\n    names: rawMap.names,\r\n    sources,\r\n    sourcesContent: rawMap.sourcesContent,\r\n    version: rawMap.version\r\n  };\r\n}\r\nfunction combineSourcemapsIfExists(filename, map1, map2) {\r\n  return map1 && map2 ? combineSourcemaps(filename, [\r\n    // type of version property of ExistingRawSourceMap is number\r\n    // but it is always 3\r\n    map1,\r\n    map2\r\n  ]) : map1;\r\n}\r\nconst viteHashUpdateMarker = \"/*$vite$:1*/\";\r\nconst viteHashUpdateMarkerRE = /\\/\\*\\$vite\\$:\\d+\\*\\//;\r\nasync function finalizeCss(css, minify, config) {\r\n  if (css.includes(\"@import\") || css.includes(\"@charset\")) {\r\n    css = await hoistAtRules(css);\r\n  }\r\n  if (config.build.cssMinify) {\r\n    css = await minifyCSS(css, config, false);\r\n  }\r\n  css += viteHashUpdateMarker;\r\n  return css;\r\n}\r\nasync function resolvePostcssConfig(config) {\r\n  let result = postcssConfigCache.get(config);\r\n  if (result !== void 0) {\r\n    return await result;\r\n  }\r\n  const inlineOptions = config.css?.postcss;\r\n  if (isObject$1(inlineOptions)) {\r\n    const options = { ...inlineOptions };\r\n    delete options.plugins;\r\n    result = {\r\n      options,\r\n      plugins: inlineOptions.plugins || []\r\n    };\r\n  } else {\r\n    const searchPath = typeof inlineOptions === \"string\" ? inlineOptions : config.root;\r\n    result = postcssrc({}, searchPath).catch((e) => {\r\n      if (!e.message.includes(\"No PostCSS Config found\")) {\r\n        if (e instanceof Error) {\r\n          const { name, message, stack } = e;\r\n          e.name = \"Failed to load PostCSS config\";\r\n          e.message = `Failed to load PostCSS config (searchPath: ${searchPath}): [${name}] ${message}\r\n${stack}`;\r\n          e.stack = \"\";\r\n          throw e;\r\n        } else {\r\n          throw new Error(`Failed to load PostCSS config: ${e}`);\r\n        }\r\n      }\r\n      return null;\r\n    });\r\n    result.then((resolved) => {\r\n      postcssConfigCache.set(config, resolved);\r\n    });\r\n  }\r\n  postcssConfigCache.set(config, result);\r\n  return result;\r\n}\r\nconst cssUrlRE = /(?<=^|[^\\w\\-\\u0080-\\uffff])url\\((\\s*('[^']+'|\"[^\"]+\")\\s*|[^'\")]+)\\)/;\r\nconst cssDataUriRE = /(?<=^|[^\\w\\-\\u0080-\\uffff])data-uri\\((\\s*('[^']+'|\"[^\"]+\")\\s*|[^'\")]+)\\)/;\r\nconst importCssRE = /@import ('[^']+\\.css'|\"[^\"]+\\.css\"|[^'\")]+\\.css)/;\r\nconst cssImageSetRE = /(?<=image-set\\()((?:[\\w\\-]{1,256}\\([^)]*\\)|[^)])*)(?=\\))/;\r\nconst UrlRewritePostcssPlugin = (opts) => {\r\n  if (!opts) {\r\n    throw new Error(\"base or replace is required\");\r\n  }\r\n  return {\r\n    postcssPlugin: \"vite-url-rewrite\",\r\n    Once(root) {\r\n      const promises = [];\r\n      root.walkDecls((declaration) => {\r\n        const importer = declaration.source?.input.file;\r\n        if (!importer) {\r\n          opts.logger.warnOnce(\r\n            \"\\nA PostCSS plugin did not pass the `from` option to `postcss.parse`. This may cause imported assets to be incorrectly transformed. If you've recently added a PostCSS plugin that raised this warning, please contact the package author to fix the issue.\"\r\n          );\r\n        }\r\n        const isCssUrl = cssUrlRE.test(declaration.value);\r\n        const isCssImageSet = cssImageSetRE.test(declaration.value);\r\n        if (isCssUrl || isCssImageSet) {\r\n          const replacerForDeclaration = (rawUrl) => {\r\n            return opts.replacer(rawUrl, importer);\r\n          };\r\n          const rewriterToUse = isCssImageSet ? rewriteCssImageSet : rewriteCssUrls;\r\n          promises.push(\r\n            rewriterToUse(declaration.value, replacerForDeclaration).then(\r\n              (url) => {\r\n                declaration.value = url;\r\n              }\r\n            )\r\n          );\r\n        }\r\n      });\r\n      if (promises.length) {\r\n        return Promise.all(promises);\r\n      }\r\n    }\r\n  };\r\n};\r\nUrlRewritePostcssPlugin.postcss = true;\r\nfunction rewriteCssUrls(css, replacer) {\r\n  return asyncReplace(css, cssUrlRE, async (match) => {\r\n    const [matched, rawUrl] = match;\r\n    return await doUrlReplace(rawUrl.trim(), matched, replacer);\r\n  });\r\n}\r\nfunction rewriteCssDataUris(css, replacer) {\r\n  return asyncReplace(css, cssDataUriRE, async (match) => {\r\n    const [matched, rawUrl] = match;\r\n    return await doUrlReplace(rawUrl.trim(), matched, replacer, \"data-uri\");\r\n  });\r\n}\r\nfunction rewriteImportCss(css, replacer) {\r\n  return asyncReplace(css, importCssRE, async (match) => {\r\n    const [matched, rawUrl] = match;\r\n    return await doImportCSSReplace(rawUrl, matched, replacer);\r\n  });\r\n}\r\nconst cssNotProcessedRE = /(?:gradient|element|cross-fade|image)\\(/;\r\nasync function rewriteCssImageSet(css, replacer) {\r\n  return await asyncReplace(css, cssImageSetRE, async (match) => {\r\n    const [, rawUrl] = match;\r\n    const url = await processSrcSet(rawUrl, async ({ url: url2 }) => {\r\n      if (cssUrlRE.test(url2)) {\r\n        return await rewriteCssUrls(url2, replacer);\r\n      }\r\n      if (!cssNotProcessedRE.test(url2)) {\r\n        return await doUrlReplace(url2, url2, replacer);\r\n      }\r\n      return url2;\r\n    });\r\n    return url;\r\n  });\r\n}\r\nfunction skipUrlReplacer(rawUrl) {\r\n  return isExternalUrl(rawUrl) || isDataUrl(rawUrl) || rawUrl[0] === \"#\" || functionCallRE.test(rawUrl);\r\n}\r\nasync function doUrlReplace(rawUrl, matched, replacer, funcName = \"url\") {\r\n  let wrap = \"\";\r\n  const first = rawUrl[0];\r\n  if (first === `\"` || first === `'`) {\r\n    wrap = first;\r\n    rawUrl = rawUrl.slice(1, -1);\r\n  }\r\n  if (skipUrlReplacer(rawUrl)) {\r\n    return matched;\r\n  }\r\n  let newUrl = await replacer(rawUrl);\r\n  if (wrap === \"\" && newUrl !== encodeURI(newUrl)) {\r\n    wrap = '\"';\r\n  }\r\n  if (wrap === \"'\" && newUrl.includes(\"'\")) {\r\n    wrap = '\"';\r\n  }\r\n  if (wrap === '\"' && newUrl.includes('\"')) {\r\n    newUrl = newUrl.replace(nonEscapedDoubleQuoteRe, '\\\\\"');\r\n  }\r\n  return `${funcName}(${wrap}${newUrl}${wrap})`;\r\n}\r\nasync function doImportCSSReplace(rawUrl, matched, replacer) {\r\n  let wrap = \"\";\r\n  const first = rawUrl[0];\r\n  if (first === `\"` || first === `'`) {\r\n    wrap = first;\r\n    rawUrl = rawUrl.slice(1, -1);\r\n  }\r\n  if (isExternalUrl(rawUrl) || isDataUrl(rawUrl) || rawUrl[0] === \"#\") {\r\n    return matched;\r\n  }\r\n  return `@import ${wrap}${await replacer(rawUrl)}${wrap}`;\r\n}\r\nasync function minifyCSS(css, config, inlined) {\r\n  if (config.build.cssMinify === \"lightningcss\") {\r\n    const { code, warnings } = (await importLightningCSS()).transform({\r\n      ...config.css?.lightningcss,\r\n      targets: convertTargets(config.build.cssTarget),\r\n      cssModules: void 0,\r\n      filename: cssBundleName,\r\n      code: Buffer.from(css),\r\n      minify: true\r\n    });\r\n    if (warnings.length) {\r\n      config.logger.warn(\r\n        colors$1.yellow(\r\n          `warnings when minifying css:\r\n${warnings.map((w) => w.message).join(\"\\n\")}`\r\n        )\r\n      );\r\n    }\r\n    return decoder.decode(code) + (inlined ? \"\" : \"\\n\");\r\n  }\r\n  try {\r\n    const { code, warnings } = await transform$1(css, {\r\n      loader: \"css\",\r\n      target: config.build.cssTarget || void 0,\r\n      ...resolveMinifyCssEsbuildOptions(config.esbuild || {})\r\n    });\r\n    if (warnings.length) {\r\n      const msgs = await formatMessages(warnings, { kind: \"warning\" });\r\n      config.logger.warn(\r\n        colors$1.yellow(`warnings when minifying css:\r\n${msgs.join(\"\\n\")}`)\r\n      );\r\n    }\r\n    return inlined ? code.trimEnd() : code;\r\n  } catch (e) {\r\n    if (e.errors) {\r\n      e.message = \"[esbuild css minify] \" + e.message;\r\n      const msgs = await formatMessages(e.errors, { kind: \"error\" });\r\n      e.frame = \"\\n\" + msgs.join(\"\\n\");\r\n      e.loc = e.errors[0].location;\r\n    }\r\n    throw e;\r\n  }\r\n}\r\nfunction resolveMinifyCssEsbuildOptions(options) {\r\n  const base = {\r\n    charset: options.charset ?? \"utf8\",\r\n    logLevel: options.logLevel,\r\n    logLimit: options.logLimit,\r\n    logOverride: options.logOverride,\r\n    legalComments: options.legalComments\r\n  };\r\n  if (options.minifyIdentifiers != null || options.minifySyntax != null || options.minifyWhitespace != null) {\r\n    return {\r\n      ...base,\r\n      minifyIdentifiers: options.minifyIdentifiers ?? true,\r\n      minifySyntax: options.minifySyntax ?? true,\r\n      minifyWhitespace: options.minifyWhitespace ?? true\r\n    };\r\n  } else {\r\n    return { ...base, minify: true };\r\n  }\r\n}\r\nconst atImportRE = /@import(?:\\s*(?:url\\([^)]*\\)|\"(?:[^\"]|(?<=\\\\)\")*\"|'(?:[^']|(?<=\\\\)')*').*?|[^;]*);/g;\r\nconst atCharsetRE = /@charset(?:\\s*(?:\"(?:[^\"]|(?<=\\\\)\")*\"|'(?:[^']|(?<=\\\\)')*').*?|[^;]*);/g;\r\nasync function hoistAtRules(css) {\r\n  const s = new MagicString(css);\r\n  const cleanCss = emptyCssComments(css);\r\n  let match;\r\n  atImportRE.lastIndex = 0;\r\n  while (match = atImportRE.exec(cleanCss)) {\r\n    s.remove(match.index, match.index + match[0].length);\r\n    s.appendLeft(0, match[0]);\r\n  }\r\n  atCharsetRE.lastIndex = 0;\r\n  let foundCharset = false;\r\n  while (match = atCharsetRE.exec(cleanCss)) {\r\n    s.remove(match.index, match.index + match[0].length);\r\n    if (!foundCharset) {\r\n      s.prepend(match[0]);\r\n      foundCharset = true;\r\n    }\r\n  }\r\n  return s.toString();\r\n}\r\nconst loadedPreprocessorPath = {};\r\nfunction loadPreprocessorPath(lang, root) {\r\n  const cached = loadedPreprocessorPath[lang];\r\n  if (cached) {\r\n    return cached;\r\n  }\r\n  try {\r\n    const resolved = requireResolveFromRootWithFallback(root, lang);\r\n    return loadedPreprocessorPath[lang] = resolved;\r\n  } catch (e) {\r\n    if (e.code === \"MODULE_NOT_FOUND\") {\r\n      const installCommand = getPackageManagerCommand(\"install\");\r\n      throw new Error(\r\n        `Preprocessor dependency \"${lang}\" not found. Did you install it? Try \\`${installCommand} -D ${lang}\\`.`\r\n      );\r\n    } else {\r\n      const message = new Error(\r\n        `Preprocessor dependency \"${lang}\" failed to load:\r\n${e.message}`\r\n      );\r\n      message.stack = e.stack + \"\\n\" + message.stack;\r\n      throw message;\r\n    }\r\n  }\r\n}\r\nfunction loadSassPackage(root) {\r\n  try {\r\n    const path2 = loadPreprocessorPath(\"sass-embedded\", root);\r\n    return { name: \"sass-embedded\", path: path2 };\r\n  } catch (e1) {\r\n    try {\r\n      const path2 = loadPreprocessorPath(\"sass\" /* sass */, root);\r\n      return { name: \"sass\", path: path2 };\r\n    } catch (e2) {\r\n      throw e1;\r\n    }\r\n  }\r\n}\r\nlet cachedSss;\r\nfunction loadSss(root) {\r\n  if (cachedSss) return cachedSss;\r\n  const sssPath = loadPreprocessorPath(\"sugarss\" /* sss */, root);\r\n  cachedSss = createRequire$1(import.meta.url)(sssPath);\r\n  return cachedSss;\r\n}\r\nfunction cleanScssBugUrl(url) {\r\n  if (\r\n    // check bug via `window` and `location` global\r\n    typeof window !== \"undefined\" && typeof location !== \"undefined\" && typeof location?.href === \"string\"\r\n  ) {\r\n    const prefix = location.href.replace(/\\/$/, \"\");\r\n    return url.replace(prefix, \"\");\r\n  } else {\r\n    return url;\r\n  }\r\n}\r\nfunction fixScssBugImportValue(data) {\r\n  if (\r\n    // check bug via `window` and `location` global\r\n    typeof window !== \"undefined\" && typeof location !== \"undefined\" && data && \"file\" in data && (!(\"contents\" in data) || data.contents == null)\r\n  ) {\r\n    data.contents = fs__default.readFileSync(data.file, \"utf-8\");\r\n  }\r\n  return data;\r\n}\r\nconst makeScssWorker = (resolvers, alias, maxWorkers, packageName) => {\r\n  const internalImporter = async (url, importer, filename) => {\r\n    importer = cleanScssBugUrl(importer);\r\n    const resolved = await resolvers.sass(url, importer);\r\n    if (resolved) {\r\n      try {\r\n        const data = await rebaseUrls(\r\n          resolved,\r\n          filename,\r\n          alias,\r\n          \"$\",\r\n          resolvers.sass\r\n        );\r\n        if (packageName === \"sass-embedded\") {\r\n          return data;\r\n        }\r\n        return fixScssBugImportValue(data);\r\n      } catch (data) {\r\n        return data;\r\n      }\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n  const worker = new WorkerWithFallback(\r\n    () => async (sassPath, data, options) => {\r\n      const sass = require(sassPath);\r\n      const path2 = require(\"node:path\");\r\n      const _internalImporter = (url, importer2, done) => {\r\n        internalImporter(url, importer2, options.filename).then(\r\n          (data2) => done?.(data2)\r\n        );\r\n      };\r\n      const importer = [_internalImporter];\r\n      if (options.importer) {\r\n        Array.isArray(options.importer) ? importer.unshift(...options.importer) : importer.unshift(options.importer);\r\n      }\r\n      const finalOptions = {\r\n        ...options,\r\n        data,\r\n        file: options.filename,\r\n        outFile: options.filename,\r\n        importer,\r\n        ...options.enableSourcemap ? {\r\n          sourceMap: true,\r\n          omitSourceMapUrl: true,\r\n          sourceMapRoot: path2.dirname(options.filename)\r\n        } : {}\r\n      };\r\n      return new Promise((resolve, reject) => {\r\n        sass.render(finalOptions, (err, res) => {\r\n          if (err) {\r\n            reject(err);\r\n          } else {\r\n            resolve({\r\n              css: res.css.toString(),\r\n              map: res.map?.toString(),\r\n              stats: res.stats\r\n            });\r\n          }\r\n        });\r\n      });\r\n    },\r\n    {\r\n      parentFunctions: { internalImporter },\r\n      shouldUseFake(_sassPath, _data, options) {\r\n        return !!(options.functions && Object.keys(options.functions).length > 0 || options.importer && (!Array.isArray(options.importer) || options.importer.length > 0));\r\n      },\r\n      max: maxWorkers\r\n    }\r\n  );\r\n  return worker;\r\n};\r\nconst makeModernScssWorker = (resolvers, alias, maxWorkers) => {\r\n  const internalCanonicalize = async (url, importer) => {\r\n    importer = cleanScssBugUrl(importer);\r\n    const resolved = await resolvers.sass(url, importer);\r\n    return resolved ?? null;\r\n  };\r\n  const internalLoad = async (file, rootFile) => {\r\n    const result = await rebaseUrls(file, rootFile, alias, \"$\", resolvers.sass);\r\n    if (result.contents) {\r\n      return result.contents;\r\n    }\r\n    return await fsp.readFile(result.file, \"utf-8\");\r\n  };\r\n  const worker = new WorkerWithFallback(\r\n    () => async (sassPath, data, options) => {\r\n      const sass = require(sassPath);\r\n      const path2 = require(\"node:path\");\r\n      const { fileURLToPath: fileURLToPath2, pathToFileURL: pathToFileURL2 } = (\r\n        // eslint-disable-next-line no-restricted-globals\r\n        require(\"node:url\")\r\n      );\r\n      const sassOptions = { ...options };\r\n      sassOptions.url = pathToFileURL2(options.filename);\r\n      sassOptions.sourceMap = options.enableSourcemap;\r\n      const internalImporter = {\r\n        async canonicalize(url, context) {\r\n          const importer = context.containingUrl ? fileURLToPath2(context.containingUrl) : options.filename;\r\n          const resolved = await internalCanonicalize(url, importer);\r\n          return resolved ? pathToFileURL2(resolved) : null;\r\n        },\r\n        async load(canonicalUrl) {\r\n          const ext = path2.extname(canonicalUrl.pathname);\r\n          let syntax = \"scss\";\r\n          if (ext === \".sass\") {\r\n            syntax = \"indented\";\r\n          } else if (ext === \".css\") {\r\n            syntax = \"css\";\r\n          }\r\n          const contents = await internalLoad(\r\n            fileURLToPath2(canonicalUrl),\r\n            options.filename\r\n          );\r\n          return { contents, syntax, sourceMapUrl: canonicalUrl };\r\n        }\r\n      };\r\n      sassOptions.importers = [\r\n        ...sassOptions.importers ?? [],\r\n        internalImporter\r\n      ];\r\n      const result = await sass.compileStringAsync(data, sassOptions);\r\n      return {\r\n        css: result.css,\r\n        map: result.sourceMap ? JSON.stringify(result.sourceMap) : void 0,\r\n        stats: {\r\n          includedFiles: result.loadedUrls.filter((url) => url.protocol === \"file:\").map((url) => fileURLToPath2(url))\r\n        }\r\n      };\r\n    },\r\n    {\r\n      parentFunctions: {\r\n        internalCanonicalize,\r\n        internalLoad\r\n      },\r\n      shouldUseFake(_sassPath, _data, options) {\r\n        return !!(options.functions && Object.keys(options.functions).length > 0 || options.importers && (!Array.isArray(options.importers) || options.importers.length > 0));\r\n      },\r\n      max: maxWorkers\r\n    }\r\n  );\r\n  return worker;\r\n};\r\nconst makeModernCompilerScssWorker = (resolvers, alias, _maxWorkers) => {\r\n  let compilerPromise;\r\n  const worker = {\r\n    async run(sassPath, data, options) {\r\n      const sass = (await import(pathToFileURL(sassPath).href)).default;\r\n      compilerPromise ??= sass.initAsyncCompiler();\r\n      const compiler = await compilerPromise;\r\n      const sassOptions = { ...options };\r\n      sassOptions.url = pathToFileURL(options.filename);\r\n      sassOptions.sourceMap = options.enableSourcemap;\r\n      const internalImporter = {\r\n        async canonicalize(url, context) {\r\n          const importer = context.containingUrl ? fileURLToPath(context.containingUrl) : options.filename;\r\n          const resolved = await resolvers.sass(url, cleanScssBugUrl(importer));\r\n          return resolved ? pathToFileURL(resolved) : null;\r\n        },\r\n        async load(canonicalUrl) {\r\n          const ext = path$n.extname(canonicalUrl.pathname);\r\n          let syntax = \"scss\";\r\n          if (ext === \".sass\") {\r\n            syntax = \"indented\";\r\n          } else if (ext === \".css\") {\r\n            syntax = \"css\";\r\n          }\r\n          const result2 = await rebaseUrls(\r\n            fileURLToPath(canonicalUrl),\r\n            options.filename,\r\n            alias,\r\n            \"$\",\r\n            resolvers.sass\r\n          );\r\n          const contents = result2.contents ?? await fsp.readFile(result2.file, \"utf-8\");\r\n          return { contents, syntax, sourceMapUrl: canonicalUrl };\r\n        }\r\n      };\r\n      sassOptions.importers = [\r\n        ...sassOptions.importers ?? [],\r\n        internalImporter\r\n      ];\r\n      const result = await compiler.compileStringAsync(data, sassOptions);\r\n      return {\r\n        css: result.css,\r\n        map: result.sourceMap ? JSON.stringify(result.sourceMap) : void 0,\r\n        stats: {\r\n          includedFiles: result.loadedUrls.filter((url) => url.protocol === \"file:\").map((url) => fileURLToPath(url))\r\n        }\r\n      };\r\n    },\r\n    async stop() {\r\n      (await compilerPromise)?.dispose();\r\n      compilerPromise = void 0;\r\n    }\r\n  };\r\n  return worker;\r\n};\r\nconst scssProcessor = (maxWorkers) => {\r\n  const workerMap = /* @__PURE__ */ new Map();\r\n  return {\r\n    close() {\r\n      for (const worker of workerMap.values()) {\r\n        worker.stop();\r\n      }\r\n    },\r\n    async process(source, root, options, resolvers) {\r\n      const sassPackage = loadSassPackage(root);\r\n      const api = options.api ?? \"legacy\";\r\n      if (!workerMap.has(options.alias)) {\r\n        workerMap.set(\r\n          options.alias,\r\n          api === \"modern-compiler\" ? makeModernCompilerScssWorker(resolvers, options.alias) : api === \"modern\" ? makeModernScssWorker(resolvers, options.alias, maxWorkers) : makeScssWorker(\r\n            resolvers,\r\n            options.alias,\r\n            maxWorkers,\r\n            sassPackage.name\r\n          )\r\n        );\r\n      }\r\n      const worker = workerMap.get(options.alias);\r\n      const { content: data, map: additionalMap } = await getSource(\r\n        source,\r\n        options.filename,\r\n        options.additionalData,\r\n        options.enableSourcemap\r\n      );\r\n      const optionsWithoutAdditionalData = {\r\n        ...options,\r\n        additionalData: void 0\r\n      };\r\n      try {\r\n        const result = await worker.run(\r\n          sassPackage.path,\r\n          data,\r\n          optionsWithoutAdditionalData\r\n        );\r\n        const deps = result.stats.includedFiles.map((f) => cleanScssBugUrl(f));\r\n        const map2 = result.map ? JSON.parse(result.map.toString()) : void 0;\r\n        if (map2) {\r\n          map2.sources = map2.sources.map(\r\n            (url) => url.startsWith(\"file://\") ? normalizePath$3(fileURLToPath(url)) : url\r\n          );\r\n        }\r\n        return {\r\n          code: result.css.toString(),\r\n          map: map2,\r\n          additionalMap,\r\n          deps\r\n        };\r\n      } catch (e) {\r\n        e.message = `[sass] ${e.message}`;\r\n        e.id = e.file;\r\n        e.frame = e.formatted;\r\n        return { code: \"\", error: e, deps: [] };\r\n      }\r\n    }\r\n  };\r\n};\r\nasync function rebaseUrls(file, rootFile, alias, variablePrefix, resolver) {\r\n  file = path$n.resolve(file);\r\n  const fileDir = path$n.dirname(file);\r\n  const rootDir = path$n.dirname(rootFile);\r\n  if (fileDir === rootDir) {\r\n    return { file };\r\n  }\r\n  const content = await fsp.readFile(file, \"utf-8\");\r\n  const hasUrls = cssUrlRE.test(content);\r\n  const hasDataUris = cssDataUriRE.test(content);\r\n  const hasImportCss = importCssRE.test(content);\r\n  if (!hasUrls && !hasDataUris && !hasImportCss) {\r\n    return { file };\r\n  }\r\n  let rebased;\r\n  const rebaseFn = async (url) => {\r\n    if (url[0] === \"/\") return url;\r\n    if (url.startsWith(variablePrefix)) return url;\r\n    for (const { find } of alias) {\r\n      const matches = typeof find === \"string\" ? url.startsWith(find) : find.test(url);\r\n      if (matches) {\r\n        return url;\r\n      }\r\n    }\r\n    const absolute = await resolver(url, file) || path$n.resolve(fileDir, url);\r\n    const relative = path$n.relative(rootDir, absolute);\r\n    return normalizePath$3(relative);\r\n  };\r\n  if (hasImportCss) {\r\n    rebased = await rewriteImportCss(content, rebaseFn);\r\n  }\r\n  if (hasUrls) {\r\n    rebased = await rewriteCssUrls(rebased || content, rebaseFn);\r\n  }\r\n  if (hasDataUris) {\r\n    rebased = await rewriteCssDataUris(rebased || content, rebaseFn);\r\n  }\r\n  return {\r\n    file,\r\n    contents: rebased\r\n  };\r\n}\r\nconst makeLessWorker = (resolvers, alias, maxWorkers) => {\r\n  const viteLessResolve = async (filename, dir, rootFile) => {\r\n    const resolved = await resolvers.less(filename, path$n.join(dir, \"*\"));\r\n    if (!resolved) return void 0;\r\n    const result = await rebaseUrls(\r\n      resolved,\r\n      rootFile,\r\n      alias,\r\n      \"@\",\r\n      resolvers.less\r\n    );\r\n    if (result) {\r\n      return {\r\n        resolved,\r\n        contents: \"contents\" in result ? result.contents : void 0\r\n      };\r\n    }\r\n    return result;\r\n  };\r\n  const worker = new WorkerWithFallback(\r\n    () => {\r\n      const fsp2 = require(\"node:fs/promises\");\r\n      const path2 = require(\"node:path\");\r\n      let ViteLessManager;\r\n      const createViteLessPlugin = (less, rootFile) => {\r\n        const { FileManager } = less;\r\n        ViteLessManager ??= class ViteManager extends FileManager {\r\n          rootFile;\r\n          constructor(rootFile2) {\r\n            super();\r\n            this.rootFile = rootFile2;\r\n          }\r\n          supports(filename) {\r\n            return !/^(?:https?:)?\\/\\//.test(filename);\r\n          }\r\n          supportsSync() {\r\n            return false;\r\n          }\r\n          async loadFile(filename, dir, opts, env) {\r\n            const result = await viteLessResolve(filename, dir, this.rootFile);\r\n            if (result) {\r\n              return {\r\n                filename: path2.resolve(result.resolved),\r\n                contents: result.contents ?? await fsp2.readFile(result.resolved, \"utf-8\")\r\n              };\r\n            } else {\r\n              return super.loadFile(filename, dir, opts, env);\r\n            }\r\n          }\r\n        };\r\n        return {\r\n          install(_, pluginManager) {\r\n            pluginManager.addFileManager(new ViteLessManager(rootFile));\r\n          },\r\n          minVersion: [3, 0, 0]\r\n        };\r\n      };\r\n      return async (lessPath, content, options) => {\r\n        const nodeLess = require(lessPath);\r\n        const viteResolverPlugin = createViteLessPlugin(\r\n          nodeLess,\r\n          options.filename\r\n        );\r\n        const result = await nodeLess.render(content, {\r\n          ...options,\r\n          plugins: [viteResolverPlugin, ...options.plugins || []],\r\n          ...options.enableSourcemap ? {\r\n            sourceMap: {\r\n              outputSourceFiles: true,\r\n              sourceMapFileInline: false\r\n            }\r\n          } : {}\r\n        });\r\n        return result;\r\n      };\r\n    },\r\n    {\r\n      parentFunctions: { viteLessResolve },\r\n      shouldUseFake(_lessPath, _content, options) {\r\n        return options.plugins?.length > 0;\r\n      },\r\n      max: maxWorkers\r\n    }\r\n  );\r\n  return worker;\r\n};\r\nconst lessProcessor = (maxWorkers) => {\r\n  const workerMap = /* @__PURE__ */ new Map();\r\n  return {\r\n    close() {\r\n      for (const worker of workerMap.values()) {\r\n        worker.stop();\r\n      }\r\n    },\r\n    async process(source, root, options, resolvers) {\r\n      const lessPath = loadPreprocessorPath(\"less\" /* less */, root);\r\n      if (!workerMap.has(options.alias)) {\r\n        workerMap.set(\r\n          options.alias,\r\n          makeLessWorker(resolvers, options.alias, maxWorkers)\r\n        );\r\n      }\r\n      const worker = workerMap.get(options.alias);\r\n      const { content, map: additionalMap } = await getSource(\r\n        source,\r\n        options.filename,\r\n        options.additionalData,\r\n        options.enableSourcemap\r\n      );\r\n      let result;\r\n      const optionsWithoutAdditionalData = {\r\n        ...options,\r\n        additionalData: void 0\r\n      };\r\n      try {\r\n        result = await worker.run(\r\n          lessPath,\r\n          content,\r\n          optionsWithoutAdditionalData\r\n        );\r\n      } catch (e) {\r\n        const error = e;\r\n        const normalizedError = new Error(\r\n          `[less] ${error.message || error.type}`\r\n        );\r\n        normalizedError.loc = {\r\n          file: error.filename || options.filename,\r\n          line: error.line,\r\n          column: error.column\r\n        };\r\n        return { code: \"\", error: normalizedError, deps: [] };\r\n      }\r\n      const map2 = result.map && JSON.parse(result.map);\r\n      if (map2) {\r\n        delete map2.sourcesContent;\r\n      }\r\n      return {\r\n        code: result.css.toString(),\r\n        map: map2,\r\n        additionalMap,\r\n        deps: result.imports\r\n      };\r\n    }\r\n  };\r\n};\r\nconst makeStylWorker = (maxWorkers) => {\r\n  const worker = new WorkerWithFallback(\r\n    () => {\r\n      return async (stylusPath, content, root, options) => {\r\n        const nodeStylus = require(stylusPath);\r\n        const ref = nodeStylus(content, options);\r\n        if (options.define) {\r\n          for (const key in options.define) {\r\n            ref.define(key, options.define[key]);\r\n          }\r\n        }\r\n        if (options.enableSourcemap) {\r\n          ref.set(\"sourcemap\", {\r\n            comment: false,\r\n            inline: false,\r\n            basePath: root\r\n          });\r\n        }\r\n        return {\r\n          code: ref.render(),\r\n          // @ts-expect-error sourcemap exists\r\n          map: ref.sourcemap,\r\n          deps: ref.deps()\r\n        };\r\n      };\r\n    },\r\n    {\r\n      shouldUseFake(_stylusPath, _content, _root, options) {\r\n        return !!(options.define && Object.values(options.define).some((d) => typeof d === \"function\"));\r\n      },\r\n      max: maxWorkers\r\n    }\r\n  );\r\n  return worker;\r\n};\r\nconst stylProcessor = (maxWorkers) => {\r\n  const workerMap = /* @__PURE__ */ new Map();\r\n  return {\r\n    close() {\r\n      for (const worker of workerMap.values()) {\r\n        worker.stop();\r\n      }\r\n    },\r\n    async process(source, root, options, resolvers) {\r\n      const stylusPath = loadPreprocessorPath(\"stylus\" /* stylus */, root);\r\n      if (!workerMap.has(options.alias)) {\r\n        workerMap.set(options.alias, makeStylWorker(maxWorkers));\r\n      }\r\n      const worker = workerMap.get(options.alias);\r\n      const { content, map: additionalMap } = await getSource(\r\n        source,\r\n        options.filename,\r\n        options.additionalData,\r\n        options.enableSourcemap,\r\n        \"\\n\"\r\n      );\r\n      const importsDeps = (options.imports ?? []).map(\r\n        (dep) => path$n.resolve(dep)\r\n      );\r\n      const optionsWithoutAdditionalData = {\r\n        ...options,\r\n        additionalData: void 0\r\n      };\r\n      try {\r\n        const { code, map: map2, deps } = await worker.run(\r\n          stylusPath,\r\n          content,\r\n          root,\r\n          optionsWithoutAdditionalData\r\n        );\r\n        return {\r\n          code,\r\n          map: formatStylusSourceMap(map2, root),\r\n          additionalMap,\r\n          // Concat imports deps with computed deps\r\n          deps: [...deps, ...importsDeps]\r\n        };\r\n      } catch (e) {\r\n        const wrapped = new Error(`[stylus] ${e.message}`);\r\n        wrapped.name = e.name;\r\n        wrapped.stack = e.stack;\r\n        return { code: \"\", error: wrapped, deps: [] };\r\n      }\r\n    }\r\n  };\r\n};\r\nfunction formatStylusSourceMap(mapBefore, root) {\r\n  if (!mapBefore) return void 0;\r\n  const map2 = { ...mapBefore };\r\n  const resolveFromRoot = (p) => normalizePath$3(path$n.resolve(root, p));\r\n  if (map2.file) {\r\n    map2.file = resolveFromRoot(map2.file);\r\n  }\r\n  map2.sources = map2.sources.map(resolveFromRoot);\r\n  return map2;\r\n}\r\nasync function getSource(source, filename, additionalData, enableSourcemap, sep = \"\") {\r\n  if (!additionalData) return { content: source };\r\n  if (typeof additionalData === \"function\") {\r\n    const newContent = await additionalData(source, filename);\r\n    if (typeof newContent === \"string\") {\r\n      return { content: newContent };\r\n    }\r\n    return newContent;\r\n  }\r\n  if (!enableSourcemap) {\r\n    return { content: additionalData + sep + source };\r\n  }\r\n  const ms = new MagicString(source);\r\n  ms.appendLeft(0, sep);\r\n  ms.appendLeft(0, additionalData);\r\n  const map2 = ms.generateMap({ hires: \"boundary\" });\r\n  map2.file = filename;\r\n  map2.sources = [filename];\r\n  return {\r\n    content: ms.toString(),\r\n    map: map2\r\n  };\r\n}\r\nconst createPreprocessorWorkerController = (maxWorkers) => {\r\n  const scss = scssProcessor(maxWorkers);\r\n  const less = lessProcessor(maxWorkers);\r\n  const styl = stylProcessor(maxWorkers);\r\n  const sassProcess = (source, root, options, resolvers) => {\r\n    return scss.process(\r\n      source,\r\n      root,\r\n      { ...options, indentedSyntax: true, syntax: \"indented\" },\r\n      resolvers\r\n    );\r\n  };\r\n  const close = () => {\r\n    less.close();\r\n    scss.close();\r\n    styl.close();\r\n  };\r\n  return {\r\n    [\"less\" /* less */]: less.process,\r\n    [\"scss\" /* scss */]: scss.process,\r\n    [\"sass\" /* sass */]: sassProcess,\r\n    [\"styl\" /* styl */]: styl.process,\r\n    [\"stylus\" /* stylus */]: styl.process,\r\n    close\r\n  };\r\n};\r\nconst normalizeMaxWorkers = (maxWorker) => {\r\n  if (maxWorker === void 0) return 0;\r\n  if (maxWorker === true) return void 0;\r\n  return maxWorker;\r\n};\r\nconst preprocessorSet = /* @__PURE__ */ new Set([\r\n  \"less\" /* less */,\r\n  \"sass\" /* sass */,\r\n  \"scss\" /* scss */,\r\n  \"styl\" /* styl */,\r\n  \"stylus\" /* stylus */\r\n]);\r\nfunction isPreProcessor(lang) {\r\n  return lang && preprocessorSet.has(lang);\r\n}\r\nconst importLightningCSS = createCachedImport(() => import('lightningcss'));\r\nasync function compileLightningCSS(id, src, config, urlReplacer) {\r\n  const deps = /* @__PURE__ */ new Set();\r\n  const filename = cleanUrl(path$n.relative(config.root, id));\r\n  const toAbsolute = (filePath) => path$n.isAbsolute(filePath) ? filePath : path$n.join(config.root, filePath);\r\n  const res = styleAttrRE.test(id) ? (await importLightningCSS()).transformStyleAttribute({\r\n    filename,\r\n    code: Buffer.from(src),\r\n    targets: config.css?.lightningcss?.targets,\r\n    minify: config.isProduction && !!config.build.cssMinify,\r\n    analyzeDependencies: true\r\n  }) : await (await importLightningCSS()).bundleAsync({\r\n    ...config.css?.lightningcss,\r\n    filename,\r\n    resolver: {\r\n      read(filePath) {\r\n        if (filePath === filename) {\r\n          return src;\r\n        }\r\n        if (!filePath.endsWith(\".css\")) {\r\n          return src;\r\n        }\r\n        return fs__default.readFileSync(toAbsolute(filePath), \"utf-8\");\r\n      },\r\n      async resolve(id2, from) {\r\n        const publicFile = checkPublicFile(id2, config);\r\n        if (publicFile) {\r\n          return publicFile;\r\n        }\r\n        const resolved = await getAtImportResolvers(config).css(\r\n          id2,\r\n          toAbsolute(from)\r\n        );\r\n        if (resolved) {\r\n          deps.add(resolved);\r\n          return resolved;\r\n        }\r\n        return id2;\r\n      }\r\n    },\r\n    minify: config.isProduction && !!config.build.cssMinify,\r\n    sourceMap: config.command === \"build\" ? !!config.build.sourcemap : config.css?.devSourcemap,\r\n    analyzeDependencies: true,\r\n    cssModules: cssModuleRE.test(id) ? config.css?.lightningcss?.cssModules ?? true : void 0\r\n  });\r\n  let css = decoder.decode(res.code);\r\n  for (const dep of res.dependencies) {\r\n    switch (dep.type) {\r\n      case \"url\":\r\n        if (skipUrlReplacer(dep.url)) {\r\n          css = css.replace(dep.placeholder, () => dep.url);\r\n          break;\r\n        }\r\n        deps.add(dep.url);\r\n        if (urlReplacer) {\r\n          const replaceUrl = await urlReplacer(\r\n            dep.url,\r\n            toAbsolute(dep.loc.filePath)\r\n          );\r\n          css = css.replace(dep.placeholder, () => replaceUrl);\r\n        } else {\r\n          css = css.replace(dep.placeholder, () => dep.url);\r\n        }\r\n        break;\r\n      default:\r\n        throw new Error(`Unsupported dependency type: ${dep.type}`);\r\n    }\r\n  }\r\n  let modules;\r\n  if (\"exports\" in res && res.exports) {\r\n    modules = {};\r\n    const sortedEntries = Object.entries(res.exports).sort(\r\n      (a, b) => a[0].localeCompare(b[0])\r\n    );\r\n    for (const [key, value] of sortedEntries) {\r\n      modules[key] = value.name;\r\n      for (const c of value.composes) {\r\n        modules[key] += \" \" + c.name;\r\n      }\r\n    }\r\n  }\r\n  return {\r\n    code: css,\r\n    map: \"map\" in res ? res.map?.toString() : void 0,\r\n    deps,\r\n    modules\r\n  };\r\n}\r\nconst map = {\r\n  chrome: \"chrome\",\r\n  edge: \"edge\",\r\n  firefox: \"firefox\",\r\n  hermes: false,\r\n  ie: \"ie\",\r\n  ios: \"ios_saf\",\r\n  node: false,\r\n  opera: \"opera\",\r\n  rhino: false,\r\n  safari: \"safari\"\r\n};\r\nconst esMap = {\r\n  // https://caniuse.com/?search=es2015\r\n  2015: [\"chrome49\", \"edge13\", \"safari10\", \"firefox44\", \"opera36\"],\r\n  // https://caniuse.com/?search=es2016\r\n  2016: [\"chrome50\", \"edge13\", \"safari10\", \"firefox43\", \"opera37\"],\r\n  // https://caniuse.com/?search=es2017\r\n  2017: [\"chrome58\", \"edge15\", \"safari11\", \"firefox52\", \"opera45\"],\r\n  // https://caniuse.com/?search=es2018\r\n  2018: [\"chrome63\", \"edge79\", \"safari12\", \"firefox58\", \"opera50\"],\r\n  // https://caniuse.com/?search=es2019\r\n  2019: [\"chrome73\", \"edge79\", \"safari12.1\", \"firefox64\", \"opera60\"],\r\n  // https://caniuse.com/?search=es2020\r\n  2020: [\"chrome80\", \"edge80\", \"safari14.1\", \"firefox80\", \"opera67\"],\r\n  // https://caniuse.com/?search=es2021\r\n  2021: [\"chrome85\", \"edge85\", \"safari14.1\", \"firefox80\", \"opera71\"],\r\n  // https://caniuse.com/?search=es2022\r\n  2022: [\"chrome94\", \"edge94\", \"safari16.4\", \"firefox93\", \"opera80\"]\r\n};\r\nconst esRE = /es(\\d{4})/;\r\nconst versionRE = /\\d/;\r\nconst convertTargetsCache = /* @__PURE__ */ new Map();\r\nconst convertTargets = (esbuildTarget) => {\r\n  if (!esbuildTarget) return {};\r\n  const cached = convertTargetsCache.get(esbuildTarget);\r\n  if (cached) return cached;\r\n  const targets = {};\r\n  const entriesWithoutES = arraify(esbuildTarget).flatMap((e) => {\r\n    const match = esRE.exec(e);\r\n    if (!match) return e;\r\n    const year = Number(match[1]);\r\n    if (!esMap[year]) throw new Error(`Unsupported target \"${e}\"`);\r\n    return esMap[year];\r\n  });\r\n  for (const entry of entriesWithoutES) {\r\n    if (entry === \"esnext\") continue;\r\n    const index = entry.search(versionRE);\r\n    if (index >= 0) {\r\n      const browser = map[entry.slice(0, index)];\r\n      if (browser === false) continue;\r\n      if (browser) {\r\n        const [major, minor = 0] = entry.slice(index).split(\".\").map((v) => parseInt(v, 10));\r\n        if (!isNaN(major) && !isNaN(minor)) {\r\n          const version = major << 16 | minor << 8;\r\n          if (!targets[browser] || version < targets[browser]) {\r\n            targets[browser] = version;\r\n          }\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n    throw new Error(`Unsupported target \"${entry}\"`);\r\n  }\r\n  convertTargetsCache.set(esbuildTarget, targets);\r\n  return targets;\r\n};\r\n\r\nconst HASH_RE = /#/g;\r\nconst AMPERSAND_RE = /&/g;\r\nconst SLASH_RE = /\\//g;\r\nconst EQUAL_RE = /=/g;\r\nconst PLUS_RE = /\\+/g;\r\nconst ENC_CARET_RE = /%5e/gi;\r\nconst ENC_BACKTICK_RE = /%60/gi;\r\nconst ENC_PIPE_RE = /%7c/gi;\r\nconst ENC_SPACE_RE = /%20/gi;\r\nfunction encode(text) {\r\n  return encodeURI(\"\" + text).replace(ENC_PIPE_RE, \"|\");\r\n}\r\nfunction encodeQueryValue(input) {\r\n  return encode(typeof input === \"string\" ? input : JSON.stringify(input)).replace(PLUS_RE, \"%2B\").replace(ENC_SPACE_RE, \"+\").replace(HASH_RE, \"%23\").replace(AMPERSAND_RE, \"%26\").replace(ENC_BACKTICK_RE, \"`\").replace(ENC_CARET_RE, \"^\").replace(SLASH_RE, \"%2F\");\r\n}\r\nfunction encodeQueryKey(text) {\r\n  return encodeQueryValue(text).replace(EQUAL_RE, \"%3D\");\r\n}\r\nfunction encodeQueryItem(key, value) {\r\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\r\n    value = String(value);\r\n  }\r\n  if (!value) {\r\n    return encodeQueryKey(key);\r\n  }\r\n  if (Array.isArray(value)) {\r\n    return value.map((_value) => `${encodeQueryKey(key)}=${encodeQueryValue(_value)}`).join(\"&\");\r\n  }\r\n  return `${encodeQueryKey(key)}=${encodeQueryValue(value)}`;\r\n}\r\nfunction stringifyQuery(query) {\r\n  return Object.keys(query).filter((k) => query[k] !== void 0).map((k) => encodeQueryItem(k, query[k])).filter(Boolean).join(\"&\");\r\n}\r\n\r\nnew Set(builtinModules);\r\nfunction clearImports(imports) {\r\n  return (imports || \"\").replace(/(\\/\\/[^\\n]*\\n|\\/\\*.*\\*\\/)/g, \"\").replace(/\\s+/g, \" \");\r\n}\r\nfunction getImportNames(cleanedImports) {\r\n  const topLevelImports = cleanedImports.replace(/{([^}]*)}/, \"\");\r\n  const namespacedImport = topLevelImports.match(/\\* as \\s*(\\S*)/)?.[1];\r\n  const defaultImport = topLevelImports.split(\",\").find((index) => !/[*{}]/.test(index))?.trim() || void 0;\r\n  return {\r\n    namespacedImport,\r\n    defaultImport\r\n  };\r\n}\r\n\r\n/**\r\n * @typedef ErrnoExceptionFields\r\n * @property {number | undefined} [errnode]\r\n * @property {string | undefined} [code]\r\n * @property {string | undefined} [path]\r\n * @property {string | undefined} [syscall]\r\n * @property {string | undefined} [url]\r\n *\r\n * @typedef {Error & ErrnoExceptionFields} ErrnoException\r\n */\r\n\r\n\r\nconst own$1 = {}.hasOwnProperty;\r\n\r\nconst classRegExp = /^([A-Z][a-z\\d]*)+$/;\r\n// Sorted by a rough estimate on most frequently used entries.\r\nconst kTypes = new Set([\r\n  'string',\r\n  'function',\r\n  'number',\r\n  'object',\r\n  // Accept 'Function' and 'Object' as alternative to the lower cased version.\r\n  'Function',\r\n  'Object',\r\n  'boolean',\r\n  'bigint',\r\n  'symbol'\r\n]);\r\n\r\n/**\r\n * Create a list string in the form like 'A and B' or 'A, B, ..., and Z'.\r\n * We cannot use Intl.ListFormat because it's not available in\r\n * --without-intl builds.\r\n *\r\n * @param {Array<string>} array\r\n *   An array of strings.\r\n * @param {string} [type]\r\n *   The list type to be inserted before the last element.\r\n * @returns {string}\r\n */\r\nfunction formatList(array, type = 'and') {\r\n  return array.length < 3\r\n    ? array.join(` ${type} `)\r\n    : `${array.slice(0, -1).join(', ')}, ${type} ${array[array.length - 1]}`\r\n}\r\n\r\n/** @type {Map<string, MessageFunction | string>} */\r\nconst messages = new Map();\r\nconst nodeInternalPrefix = '__node_internal_';\r\n/** @type {number} */\r\nlet userStackTraceLimit;\r\n\r\ncreateError(\r\n  'ERR_INVALID_ARG_TYPE',\r\n  /**\r\n   * @param {string} name\r\n   * @param {Array<string> | string} expected\r\n   * @param {unknown} actual\r\n   */\r\n  (name, expected, actual) => {\r\n    assert$1(typeof name === 'string', \"'name' must be a string\");\r\n    if (!Array.isArray(expected)) {\r\n      expected = [expected];\r\n    }\r\n\r\n    let message = 'The ';\r\n    if (name.endsWith(' argument')) {\r\n      // For cases like 'first argument'\r\n      message += `${name} `;\r\n    } else {\r\n      const type = name.includes('.') ? 'property' : 'argument';\r\n      message += `\"${name}\" ${type} `;\r\n    }\r\n\r\n    message += 'must be ';\r\n\r\n    /** @type {Array<string>} */\r\n    const types = [];\r\n    /** @type {Array<string>} */\r\n    const instances = [];\r\n    /** @type {Array<string>} */\r\n    const other = [];\r\n\r\n    for (const value of expected) {\r\n      assert$1(\r\n        typeof value === 'string',\r\n        'All expected entries have to be of type string'\r\n      );\r\n\r\n      if (kTypes.has(value)) {\r\n        types.push(value.toLowerCase());\r\n      } else if (classRegExp.exec(value) === null) {\r\n        assert$1(\r\n          value !== 'object',\r\n          'The value \"object\" should be written as \"Object\"'\r\n        );\r\n        other.push(value);\r\n      } else {\r\n        instances.push(value);\r\n      }\r\n    }\r\n\r\n    // Special handle `object` in case other instances are allowed to outline\r\n    // the differences between each other.\r\n    if (instances.length > 0) {\r\n      const pos = types.indexOf('object');\r\n      if (pos !== -1) {\r\n        types.slice(pos, 1);\r\n        instances.push('Object');\r\n      }\r\n    }\r\n\r\n    if (types.length > 0) {\r\n      message += `${types.length > 1 ? 'one of type' : 'of type'} ${formatList(\r\n        types,\r\n        'or'\r\n      )}`;\r\n      if (instances.length > 0 || other.length > 0) message += ' or ';\r\n    }\r\n\r\n    if (instances.length > 0) {\r\n      message += `an instance of ${formatList(instances, 'or')}`;\r\n      if (other.length > 0) message += ' or ';\r\n    }\r\n\r\n    if (other.length > 0) {\r\n      if (other.length > 1) {\r\n        message += `one of ${formatList(other, 'or')}`;\r\n      } else {\r\n        if (other[0].toLowerCase() !== other[0]) message += 'an ';\r\n        message += `${other[0]}`;\r\n      }\r\n    }\r\n\r\n    message += `. Received ${determineSpecificType(actual)}`;\r\n\r\n    return message\r\n  },\r\n  TypeError\r\n);\r\n\r\ncreateError(\r\n  'ERR_INVALID_MODULE_SPECIFIER',\r\n  /**\r\n   * @param {string} request\r\n   * @param {string} reason\r\n   * @param {string} [base]\r\n   */\r\n  (request, reason, base = undefined) => {\r\n    return `Invalid module \"${request}\" ${reason}${\r\n      base ? ` imported from ${base}` : ''\r\n    }`\r\n  },\r\n  TypeError\r\n);\r\n\r\ncreateError(\r\n  'ERR_INVALID_PACKAGE_CONFIG',\r\n  /**\r\n   * @param {string} path\r\n   * @param {string} [base]\r\n   * @param {string} [message]\r\n   */\r\n  (path, base, message) => {\r\n    return `Invalid package config ${path}${\r\n      base ? ` while importing ${base}` : ''\r\n    }${message ? `. ${message}` : ''}`\r\n  },\r\n  Error\r\n);\r\n\r\ncreateError(\r\n  'ERR_INVALID_PACKAGE_TARGET',\r\n  /**\r\n   * @param {string} packagePath\r\n   * @param {string} key\r\n   * @param {unknown} target\r\n   * @param {boolean} [isImport=false]\r\n   * @param {string} [base]\r\n   */\r\n  (packagePath, key, target, isImport = false, base = undefined) => {\r\n    const relatedError =\r\n      typeof target === 'string' &&\r\n      !isImport &&\r\n      target.length > 0 &&\r\n      !target.startsWith('./');\r\n    if (key === '.') {\r\n      assert$1(isImport === false);\r\n      return (\r\n        `Invalid \"exports\" main target ${JSON.stringify(target)} defined ` +\r\n        `in the package config ${packagePath}package.json${\r\n          base ? ` imported from ${base}` : ''\r\n        }${relatedError ? '; targets must start with \"./\"' : ''}`\r\n      )\r\n    }\r\n\r\n    return `Invalid \"${\r\n      isImport ? 'imports' : 'exports'\r\n    }\" target ${JSON.stringify(\r\n      target\r\n    )} defined for '${key}' in the package config ${packagePath}package.json${\r\n      base ? ` imported from ${base}` : ''\r\n    }${relatedError ? '; targets must start with \"./\"' : ''}`\r\n  },\r\n  Error\r\n);\r\n\r\ncreateError(\r\n  'ERR_MODULE_NOT_FOUND',\r\n  /**\r\n   * @param {string} path\r\n   * @param {string} base\r\n   * @param {boolean} [exactUrl]\r\n   */\r\n  (path, base, exactUrl = false) => {\r\n    return `Cannot find ${\r\n      exactUrl ? 'module' : 'package'\r\n    } '${path}' imported from ${base}`\r\n  },\r\n  Error\r\n);\r\n\r\ncreateError(\r\n  'ERR_NETWORK_IMPORT_DISALLOWED',\r\n  \"import of '%s' by %s is not supported: %s\",\r\n  Error\r\n);\r\n\r\ncreateError(\r\n  'ERR_PACKAGE_IMPORT_NOT_DEFINED',\r\n  /**\r\n   * @param {string} specifier\r\n   * @param {string} packagePath\r\n   * @param {string} base\r\n   */\r\n  (specifier, packagePath, base) => {\r\n    return `Package import specifier \"${specifier}\" is not defined${\r\n      packagePath ? ` in package ${packagePath}package.json` : ''\r\n    } imported from ${base}`\r\n  },\r\n  TypeError\r\n);\r\n\r\ncreateError(\r\n  'ERR_PACKAGE_PATH_NOT_EXPORTED',\r\n  /**\r\n   * @param {string} packagePath\r\n   * @param {string} subpath\r\n   * @param {string} [base]\r\n   */\r\n  (packagePath, subpath, base = undefined) => {\r\n    if (subpath === '.')\r\n      return `No \"exports\" main defined in ${packagePath}package.json${\r\n        base ? ` imported from ${base}` : ''\r\n      }`\r\n    return `Package subpath '${subpath}' is not defined by \"exports\" in ${packagePath}package.json${\r\n      base ? ` imported from ${base}` : ''\r\n    }`\r\n  },\r\n  Error\r\n);\r\n\r\ncreateError(\r\n  'ERR_UNSUPPORTED_DIR_IMPORT',\r\n  \"Directory import '%s' is not supported \" +\r\n    'resolving ES modules imported from %s',\r\n  Error\r\n);\r\n\r\ncreateError(\r\n  'ERR_UNSUPPORTED_RESOLVE_REQUEST',\r\n  'Failed to resolve module specifier \"%s\" from \"%s\": Invalid relative URL or base scheme is not hierarchical.',\r\n  TypeError\r\n);\r\n\r\ncreateError(\r\n  'ERR_UNKNOWN_FILE_EXTENSION',\r\n  /**\r\n   * @param {string} extension\r\n   * @param {string} path\r\n   */\r\n  (extension, path) => {\r\n    return `Unknown file extension \"${extension}\" for ${path}`\r\n  },\r\n  TypeError\r\n);\r\n\r\ncreateError(\r\n  'ERR_INVALID_ARG_VALUE',\r\n  /**\r\n   * @param {string} name\r\n   * @param {unknown} value\r\n   * @param {string} [reason='is invalid']\r\n   */\r\n  (name, value, reason = 'is invalid') => {\r\n    let inspected = inspect(value);\r\n\r\n    if (inspected.length > 128) {\r\n      inspected = `${inspected.slice(0, 128)}...`;\r\n    }\r\n\r\n    const type = name.includes('.') ? 'property' : 'argument';\r\n\r\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\r\n  },\r\n  TypeError\r\n  // Note: extra classes have been shaken out.\r\n  // , RangeError\r\n);\r\n\r\n/**\r\n * Utility function for registering the error codes. Only used here. Exported\r\n * *only* to allow for testing.\r\n * @param {string} sym\r\n * @param {MessageFunction | string} value\r\n * @param {ErrorConstructor} constructor\r\n * @returns {new (...parameters: Array<any>) => Error}\r\n */\r\nfunction createError(sym, value, constructor) {\r\n  // Special case for SystemError that formats the error message differently\r\n  // The SystemErrors only have SystemError as their base classes.\r\n  messages.set(sym, value);\r\n\r\n  return makeNodeErrorWithCode(constructor, sym)\r\n}\r\n\r\n/**\r\n * @param {ErrorConstructor} Base\r\n * @param {string} key\r\n * @returns {ErrorConstructor}\r\n */\r\nfunction makeNodeErrorWithCode(Base, key) {\r\n  // @ts-expect-error It’s a Node error.\r\n  return NodeError\r\n  /**\r\n   * @param {Array<unknown>} parameters\r\n   */\r\n  function NodeError(...parameters) {\r\n    const limit = Error.stackTraceLimit;\r\n    if (isErrorStackTraceLimitWritable()) Error.stackTraceLimit = 0;\r\n    const error = new Base();\r\n    // Reset the limit and setting the name property.\r\n    if (isErrorStackTraceLimitWritable()) Error.stackTraceLimit = limit;\r\n    const message = getMessage(key, parameters, error);\r\n    Object.defineProperties(error, {\r\n      // Note: no need to implement `kIsNodeError` symbol, would be hard,\r\n      // probably.\r\n      message: {\r\n        value: message,\r\n        enumerable: false,\r\n        writable: true,\r\n        configurable: true\r\n      },\r\n      toString: {\r\n        /** @this {Error} */\r\n        value() {\r\n          return `${this.name} [${key}]: ${this.message}`\r\n        },\r\n        enumerable: false,\r\n        writable: true,\r\n        configurable: true\r\n      }\r\n    });\r\n\r\n    captureLargerStackTrace(error);\r\n    // @ts-expect-error It’s a Node error.\r\n    error.code = key;\r\n    return error\r\n  }\r\n}\r\n\r\n/**\r\n * @returns {boolean}\r\n */\r\nfunction isErrorStackTraceLimitWritable() {\r\n  // Do no touch Error.stackTraceLimit as V8 would attempt to install\r\n  // it again during deserialization.\r\n  try {\r\n    if (v8.startupSnapshot.isBuildingSnapshot()) {\r\n      return false\r\n    }\r\n  } catch {}\r\n\r\n  const desc = Object.getOwnPropertyDescriptor(Error, 'stackTraceLimit');\r\n  if (desc === undefined) {\r\n    return Object.isExtensible(Error)\r\n  }\r\n\r\n  return own$1.call(desc, 'writable') && desc.writable !== undefined\r\n    ? desc.writable\r\n    : desc.set !== undefined\r\n}\r\n\r\n/**\r\n * This function removes unnecessary frames from Node.js core errors.\r\n * @template {(...parameters: unknown[]) => unknown} T\r\n * @param {T} wrappedFunction\r\n * @returns {T}\r\n */\r\nfunction hideStackFrames(wrappedFunction) {\r\n  // We rename the functions that will be hidden to cut off the stacktrace\r\n  // at the outermost one\r\n  const hidden = nodeInternalPrefix + wrappedFunction.name;\r\n  Object.defineProperty(wrappedFunction, 'name', {value: hidden});\r\n  return wrappedFunction\r\n}\r\n\r\nconst captureLargerStackTrace = hideStackFrames(\r\n  /**\r\n   * @param {Error} error\r\n   * @returns {Error}\r\n   */\r\n  // @ts-expect-error: fine\r\n  function (error) {\r\n    const stackTraceLimitIsWritable = isErrorStackTraceLimitWritable();\r\n    if (stackTraceLimitIsWritable) {\r\n      userStackTraceLimit = Error.stackTraceLimit;\r\n      Error.stackTraceLimit = Number.POSITIVE_INFINITY;\r\n    }\r\n\r\n    Error.captureStackTrace(error);\r\n\r\n    // Reset the limit\r\n    if (stackTraceLimitIsWritable) Error.stackTraceLimit = userStackTraceLimit;\r\n\r\n    return error\r\n  }\r\n);\r\n\r\n/**\r\n * @param {string} key\r\n * @param {Array<unknown>} parameters\r\n * @param {Error} self\r\n * @returns {string}\r\n */\r\nfunction getMessage(key, parameters, self) {\r\n  const message = messages.get(key);\r\n  assert$1(message !== undefined, 'expected `message` to be found');\r\n\r\n  if (typeof message === 'function') {\r\n    assert$1(\r\n      message.length <= parameters.length, // Default options do not count.\r\n      `Code: ${key}; The provided arguments length (${parameters.length}) does not ` +\r\n        `match the required ones (${message.length}).`\r\n    );\r\n    return Reflect.apply(message, self, parameters)\r\n  }\r\n\r\n  const regex = /%[dfijoOs]/g;\r\n  let expectedLength = 0;\r\n  while (regex.exec(message) !== null) expectedLength++;\r\n  assert$1(\r\n    expectedLength === parameters.length,\r\n    `Code: ${key}; The provided arguments length (${parameters.length}) does not ` +\r\n      `match the required ones (${expectedLength}).`\r\n  );\r\n  if (parameters.length === 0) return message\r\n\r\n  parameters.unshift(message);\r\n  return Reflect.apply(format$2, null, parameters)\r\n}\r\n\r\n/**\r\n * Determine the specific type of a value for type-mismatch errors.\r\n * @param {unknown} value\r\n * @returns {string}\r\n */\r\nfunction determineSpecificType(value) {\r\n  if (value === null || value === undefined) {\r\n    return String(value)\r\n  }\r\n\r\n  if (typeof value === 'function' && value.name) {\r\n    return `function ${value.name}`\r\n  }\r\n\r\n  if (typeof value === 'object') {\r\n    if (value.constructor && value.constructor.name) {\r\n      return `an instance of ${value.constructor.name}`\r\n    }\r\n\r\n    return `${inspect(value, {depth: -1})}`\r\n  }\r\n\r\n  let inspected = inspect(value, {colors: false});\r\n\r\n  if (inspected.length > 28) {\r\n    inspected = `${inspected.slice(0, 25)}...`;\r\n  }\r\n\r\n  return `type ${typeof value} (${inspected})`\r\n}\r\n\r\nconst ESM_STATIC_IMPORT_RE = /(?<=\\s|^|;|\\})import\\s*([\\s\"']*(?<imports>[\\p{L}\\p{M}\\w\\t\\n\\r $*,/{}@.]+)from\\s*)?[\"']\\s*(?<specifier>(?<=\"\\s*)[^\"]*[^\\s\"](?=\\s*\")|(?<='\\s*)[^']*[^\\s'](?=\\s*'))\\s*[\"'][\\s;]*/gmu;\r\nconst TYPE_RE = /^\\s*?type\\s/;\r\nfunction parseStaticImport(matched) {\r\n  const cleanedImports = clearImports(matched.imports);\r\n  const namedImports = {};\r\n  const _matches = cleanedImports.match(/{([^}]*)}/)?.[1]?.split(\",\") || [];\r\n  for (const namedImport of _matches) {\r\n    const _match = namedImport.match(/^\\s*(\\S*) as (\\S*)\\s*$/);\r\n    const source = _match?.[1] || namedImport.trim();\r\n    const importName = _match?.[2] || source;\r\n    if (source && !TYPE_RE.test(source)) {\r\n      namedImports[source] = importName;\r\n    }\r\n  }\r\n  const { namespacedImport, defaultImport } = getImportNames(cleanedImports);\r\n  return {\r\n    ...matched,\r\n    defaultImport,\r\n    namespacedImport,\r\n    namedImports\r\n  };\r\n}\r\n\r\nconst ESM_RE = /([\\s;]|^)(import[\\s\\w*,{}]*from|import\\s*[\"'*{]|export\\b\\s*(?:[*{]|default|class|type|function|const|var|let|async function)|import\\.meta\\b)/m;\r\nconst COMMENT_RE = /\\/\\*.+?\\*\\/|\\/\\/.*(?=[nr])/g;\r\nfunction hasESMSyntax(code, opts = {}) {\r\n  if (opts.stripComments) {\r\n    code = code.replace(COMMENT_RE, \"\");\r\n  }\r\n  return ESM_RE.test(code);\r\n}\r\n\r\nconst { isMatch: isMatch$1, scan } = micromatch$2;\r\nfunction getAffectedGlobModules(file, server) {\r\n  const modules = [];\r\n  for (const [id, allGlobs] of server._importGlobMap) {\r\n    if (allGlobs.some(\r\n      ({ affirmed, negated }) => (!affirmed.length || affirmed.some((glob) => isMatch$1(file, glob))) && (!negated.length || negated.every((glob) => isMatch$1(file, glob)))\r\n    )) {\r\n      const mod = server.moduleGraph.getModuleById(id);\r\n      if (mod) modules.push(mod);\r\n    }\r\n  }\r\n  modules.forEach((i) => {\r\n    if (i?.file) server.moduleGraph.onFileChange(i.file);\r\n  });\r\n  return modules;\r\n}\r\nfunction importGlobPlugin(config) {\r\n  let server;\r\n  return {\r\n    name: \"vite:import-glob\",\r\n    configureServer(_server) {\r\n      server = _server;\r\n      server._importGlobMap.clear();\r\n    },\r\n    async transform(code, id) {\r\n      if (!code.includes(\"import.meta.glob\")) return;\r\n      const result = await transformGlobImport(\r\n        code,\r\n        id,\r\n        config.root,\r\n        (im, _, options) => this.resolve(im, id, options).then((i) => i?.id || im),\r\n        config.experimental.importGlobRestoreExtension,\r\n        config.logger\r\n      );\r\n      if (result) {\r\n        if (server) {\r\n          const allGlobs = result.matches.map((i) => i.globsResolved);\r\n          server._importGlobMap.set(\r\n            id,\r\n            allGlobs.map((globs) => {\r\n              const affirmed = [];\r\n              const negated = [];\r\n              for (const glob of globs) {\r\n                (glob[0] === \"!\" ? negated : affirmed).push(glob);\r\n              }\r\n              return { affirmed, negated };\r\n            })\r\n          );\r\n        }\r\n        return transformStableResult(result.s, id, config);\r\n      }\r\n    }\r\n  };\r\n}\r\nconst importGlobRE = /\\bimport\\.meta\\.glob(?:<\\w+>)?\\s*\\(/g;\r\nconst knownOptions = {\r\n  as: [\"string\"],\r\n  eager: [\"boolean\"],\r\n  import: [\"string\"],\r\n  exhaustive: [\"boolean\"],\r\n  query: [\"object\", \"string\"]\r\n};\r\nconst forceDefaultAs = [\"raw\", \"url\"];\r\nfunction err$1(e, pos) {\r\n  const error = new Error(e);\r\n  error.pos = pos;\r\n  return error;\r\n}\r\nfunction parseGlobOptions(rawOpts, optsStartIndex, logger) {\r\n  let opts = {};\r\n  try {\r\n    opts = evalValue(rawOpts);\r\n  } catch {\r\n    throw err$1(\r\n      \"Vite is unable to parse the glob options as the value is not static\",\r\n      optsStartIndex\r\n    );\r\n  }\r\n  if (opts == null) {\r\n    return {};\r\n  }\r\n  for (const key in opts) {\r\n    if (!(key in knownOptions)) {\r\n      throw err$1(`Unknown glob option \"${key}\"`, optsStartIndex);\r\n    }\r\n    const allowedTypes = knownOptions[key];\r\n    const valueType = typeof opts[key];\r\n    if (!allowedTypes.includes(valueType)) {\r\n      throw err$1(\r\n        `Expected glob option \"${key}\" to be of type ${allowedTypes.join(\r\n          \" or \"\r\n        )}, but got ${valueType}`,\r\n        optsStartIndex\r\n      );\r\n    }\r\n  }\r\n  if (typeof opts.query === \"object\") {\r\n    for (const key in opts.query) {\r\n      const value = opts.query[key];\r\n      if (![\"string\", \"number\", \"boolean\"].includes(typeof value)) {\r\n        throw err$1(\r\n          `Expected glob option \"query.${key}\" to be of type string, number, or boolean, but got ${typeof value}`,\r\n          optsStartIndex\r\n        );\r\n      }\r\n    }\r\n    opts.query = stringifyQuery(opts.query);\r\n  }\r\n  if (opts.as && logger) {\r\n    const importSuggestion = forceDefaultAs.includes(opts.as) ? `, import: 'default'` : \"\";\r\n    logger.warn(\r\n      colors$1.yellow(\r\n        `The glob option \"as\" has been deprecated in favour of \"query\". Please update \\`as: '${opts.as}'\\` to \\`query: '?${opts.as}'${importSuggestion}\\`.`\r\n      )\r\n    );\r\n  }\r\n  if (opts.as && forceDefaultAs.includes(opts.as)) {\r\n    if (opts.import && opts.import !== \"default\" && opts.import !== \"*\")\r\n      throw err$1(\r\n        `Option \"import\" can only be \"default\" or \"*\" when \"as\" is \"${opts.as}\", but got \"${opts.import}\"`,\r\n        optsStartIndex\r\n      );\r\n    opts.import = opts.import || \"default\";\r\n  }\r\n  if (opts.as && opts.query)\r\n    throw err$1(\r\n      'Options \"as\" and \"query\" cannot be used together',\r\n      optsStartIndex\r\n    );\r\n  if (opts.as) opts.query = opts.as;\r\n  if (opts.query && opts.query[0] !== \"?\") opts.query = `?${opts.query}`;\r\n  return opts;\r\n}\r\nasync function parseImportGlob(code, importer, root, resolveId, logger) {\r\n  let cleanCode;\r\n  try {\r\n    cleanCode = stripLiteral(code);\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n  const matches = Array.from(cleanCode.matchAll(importGlobRE));\r\n  const tasks = matches.map(async (match, index) => {\r\n    const start = match.index;\r\n    const err2 = (msg) => {\r\n      const e = new Error(`Invalid glob import syntax: ${msg}`);\r\n      e.pos = start;\r\n      return e;\r\n    };\r\n    const end = findCorrespondingCloseParenthesisPosition(\r\n      cleanCode,\r\n      start + match[0].length\r\n    ) + 1;\r\n    if (end <= 0) {\r\n      throw err2(\"Close parenthesis not found\");\r\n    }\r\n    const statementCode = code.slice(start, end);\r\n    const rootAst = (await parseAstAsync(statementCode)).body[0];\r\n    if (rootAst.type !== \"ExpressionStatement\") {\r\n      throw err2(`Expect CallExpression, got ${rootAst.type}`);\r\n    }\r\n    const ast = rootAst.expression;\r\n    if (ast.type !== \"CallExpression\") {\r\n      throw err2(`Expect CallExpression, got ${ast.type}`);\r\n    }\r\n    if (ast.arguments.length < 1 || ast.arguments.length > 2)\r\n      throw err2(`Expected 1-2 arguments, but got ${ast.arguments.length}`);\r\n    const arg1 = ast.arguments[0];\r\n    const arg2 = ast.arguments[1];\r\n    const globs = [];\r\n    const validateLiteral = (element) => {\r\n      if (!element) return;\r\n      if (element.type === \"Literal\") {\r\n        if (typeof element.value !== \"string\")\r\n          throw err2(\r\n            `Expected glob to be a string, but got \"${typeof element.value}\"`\r\n          );\r\n        globs.push(element.value);\r\n      } else if (element.type === \"TemplateLiteral\") {\r\n        if (element.expressions.length !== 0) {\r\n          throw err2(\r\n            `Expected glob to be a string, but got dynamic template literal`\r\n          );\r\n        }\r\n        globs.push(element.quasis[0].value.raw);\r\n      } else {\r\n        throw err2(\"Could only use literals\");\r\n      }\r\n    };\r\n    if (arg1.type === \"ArrayExpression\") {\r\n      for (const element of arg1.elements) {\r\n        validateLiteral(element);\r\n      }\r\n    } else {\r\n      validateLiteral(arg1);\r\n    }\r\n    let options = {};\r\n    if (arg2) {\r\n      if (arg2.type !== \"ObjectExpression\")\r\n        throw err2(\r\n          `Expected the second argument to be an object literal, but got \"${arg2.type}\"`\r\n        );\r\n      options = parseGlobOptions(\r\n        code.slice(start + arg2.start, start + arg2.end),\r\n        start + arg2.start,\r\n        logger\r\n      );\r\n    }\r\n    const globsResolved = await Promise.all(\r\n      globs.map((glob) => toAbsoluteGlob(glob, root, importer, resolveId))\r\n    );\r\n    const isRelative = globs.every((i) => \".!\".includes(i[0]));\r\n    return {\r\n      index,\r\n      globs,\r\n      globsResolved,\r\n      isRelative,\r\n      options,\r\n      start,\r\n      end\r\n    };\r\n  });\r\n  return (await Promise.all(tasks)).filter(Boolean);\r\n}\r\nfunction findCorrespondingCloseParenthesisPosition(cleanCode, openPos) {\r\n  const closePos = cleanCode.indexOf(\")\", openPos);\r\n  if (closePos < 0) return -1;\r\n  if (!cleanCode.slice(openPos, closePos).includes(\"(\")) return closePos;\r\n  let remainingParenthesisCount = 0;\r\n  const cleanCodeLen = cleanCode.length;\r\n  for (let pos = openPos; pos < cleanCodeLen; pos++) {\r\n    switch (cleanCode[pos]) {\r\n      case \"(\": {\r\n        remainingParenthesisCount++;\r\n        break;\r\n      }\r\n      case \")\": {\r\n        remainingParenthesisCount--;\r\n        if (remainingParenthesisCount <= 0) {\r\n          return pos;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return -1;\r\n}\r\nconst importPrefix = \"__vite_glob_\";\r\nconst { basename, dirname, relative, join } = posix$1;\r\nasync function transformGlobImport(code, id, root, resolveId, restoreQueryExtension = false, logger) {\r\n  id = slash$1(id);\r\n  root = slash$1(root);\r\n  const isVirtual = isVirtualModule(id);\r\n  const dir = isVirtual ? void 0 : dirname(id);\r\n  const matches = await parseImportGlob(\r\n    code,\r\n    isVirtual ? void 0 : id,\r\n    root,\r\n    resolveId,\r\n    logger\r\n  );\r\n  const matchedFiles = /* @__PURE__ */ new Set();\r\n  if (!matches.length) return null;\r\n  const s = new MagicString(code);\r\n  const staticImports = (await Promise.all(\r\n    matches.map(\r\n      async ({ globsResolved, isRelative, options, index, start, end }) => {\r\n        const cwd = getCommonBase(globsResolved) ?? root;\r\n        const files = (await glob(globsResolved, {\r\n          cwd,\r\n          absolute: true,\r\n          dot: !!options.exhaustive,\r\n          ignore: options.exhaustive ? [] : [join(cwd, \"**/node_modules/**\")]\r\n        })).filter((file) => file !== id).sort();\r\n        const objectProps = [];\r\n        const staticImports2 = [];\r\n        const resolvePaths = (file) => {\r\n          if (!dir) {\r\n            if (isRelative)\r\n              throw new Error(\r\n                \"In virtual modules, all globs must start with '/'\"\r\n              );\r\n            const filePath2 = `/${relative(root, file)}`;\r\n            return { filePath: filePath2, importPath: filePath2 };\r\n          }\r\n          let importPath = relative(dir, file);\r\n          if (importPath[0] !== \".\") importPath = `./${importPath}`;\r\n          let filePath;\r\n          if (isRelative) {\r\n            filePath = importPath;\r\n          } else {\r\n            filePath = relative(root, file);\r\n            if (filePath[0] !== \".\") filePath = `/${filePath}`;\r\n          }\r\n          return { filePath, importPath };\r\n        };\r\n        files.forEach((file, i) => {\r\n          const paths = resolvePaths(file);\r\n          const filePath = paths.filePath;\r\n          let importPath = paths.importPath;\r\n          let importQuery = options.query ?? \"\";\r\n          if (importQuery && importQuery !== \"?raw\") {\r\n            const fileExtension = basename(file).split(\".\").slice(-1)[0];\r\n            if (fileExtension && restoreQueryExtension)\r\n              importQuery = `${importQuery}&lang.${fileExtension}`;\r\n          }\r\n          importPath = `${importPath}${importQuery}`;\r\n          const importKey = options.import && options.import !== \"*\" ? options.import : void 0;\r\n          if (options.eager) {\r\n            const variableName = `${importPrefix}${index}_${i}`;\r\n            const expression = importKey ? `{ ${importKey} as ${variableName} }` : `* as ${variableName}`;\r\n            staticImports2.push(\r\n              `import ${expression} from ${JSON.stringify(importPath)}`\r\n            );\r\n            objectProps.push(`${JSON.stringify(filePath)}: ${variableName}`);\r\n          } else {\r\n            let importStatement = `import(${JSON.stringify(importPath)})`;\r\n            if (importKey)\r\n              importStatement += `.then(m => m[${JSON.stringify(importKey)}])`;\r\n            objectProps.push(\r\n              `${JSON.stringify(filePath)}: () => ${importStatement}`\r\n            );\r\n          }\r\n        });\r\n        files.forEach((i) => matchedFiles.add(i));\r\n        const originalLineBreakCount = code.slice(start, end).match(/\\n/g)?.length ?? 0;\r\n        const lineBreaks = originalLineBreakCount > 0 ? \"\\n\".repeat(originalLineBreakCount) : \"\";\r\n        const replacement = `/* #__PURE__ */ Object.assign({${objectProps.join(\r\n          \",\"\r\n        )}${lineBreaks}})`;\r\n        s.overwrite(start, end, replacement);\r\n        return staticImports2;\r\n      }\r\n    )\r\n  )).flat();\r\n  if (staticImports.length) s.prepend(`${staticImports.join(\";\")};`);\r\n  return {\r\n    s,\r\n    matches,\r\n    files: matchedFiles\r\n  };\r\n}\r\nfunction globSafePath(path) {\r\n  return glob.escapePath(normalizePath$3(path));\r\n}\r\nfunction lastNthChar(str, n) {\r\n  return str.charAt(str.length - 1 - n);\r\n}\r\nfunction globSafeResolvedPath(resolved, glob) {\r\n  let numEqual = 0;\r\n  const maxEqual = Math.min(resolved.length, glob.length);\r\n  while (numEqual < maxEqual && lastNthChar(resolved, numEqual) === lastNthChar(glob, numEqual)) {\r\n    numEqual += 1;\r\n  }\r\n  const staticPartEnd = resolved.length - numEqual;\r\n  const staticPart = resolved.slice(0, staticPartEnd);\r\n  const dynamicPart = resolved.slice(staticPartEnd);\r\n  return globSafePath(staticPart) + dynamicPart;\r\n}\r\nasync function toAbsoluteGlob(glob, root, importer, resolveId) {\r\n  let pre = \"\";\r\n  if (glob[0] === \"!\") {\r\n    pre = \"!\";\r\n    glob = glob.slice(1);\r\n  }\r\n  root = globSafePath(root);\r\n  const dir = importer ? globSafePath(dirname(importer)) : root;\r\n  if (glob[0] === \"/\") return pre + posix$1.join(root, glob.slice(1));\r\n  if (glob.startsWith(\"./\")) return pre + posix$1.join(dir, glob.slice(2));\r\n  if (glob.startsWith(\"../\")) return pre + posix$1.join(dir, glob);\r\n  if (glob.startsWith(\"**\")) return pre + glob;\r\n  const isSubImportsPattern = glob[0] === \"#\" && glob.includes(\"*\");\r\n  const resolved = normalizePath$3(\r\n    await resolveId(glob, importer, {\r\n      custom: { \"vite:import-glob\": { isSubImportsPattern } }\r\n    }) || glob\r\n  );\r\n  if (isAbsolute$1(resolved)) {\r\n    return pre + globSafeResolvedPath(resolved, glob);\r\n  }\r\n  throw new Error(\r\n    `Invalid glob: \"${glob}\" (resolved: \"${resolved}\"). It must start with '/' or './'`\r\n  );\r\n}\r\nfunction getCommonBase(globsResolved) {\r\n  const bases = globsResolved.filter((g) => g[0] !== \"!\").map((glob) => {\r\n    let { base } = scan(glob);\r\n    if (posix$1.basename(base).includes(\".\")) base = posix$1.dirname(base);\r\n    return base;\r\n  });\r\n  if (!bases.length) return null;\r\n  let commonAncestor = \"\";\r\n  const dirS = bases[0].split(\"/\");\r\n  for (let i = 0; i < dirS.length; i++) {\r\n    const candidate = dirS.slice(0, i + 1).join(\"/\");\r\n    if (bases.every((base) => base.startsWith(candidate)))\r\n      commonAncestor = candidate;\r\n    else break;\r\n  }\r\n  if (!commonAncestor) commonAncestor = \"/\";\r\n  return commonAncestor;\r\n}\r\nfunction isVirtualModule(id) {\r\n  return id.startsWith(\"virtual:\") || id[0] === \"\\0\" || !id.includes(\"/\");\r\n}\r\n\r\nvar src = {exports: {}};\r\n\r\nvar browser = {exports: {}};\r\n\r\nvar debug$f = {exports: {}};\r\n\r\n/**\r\n * Helpers.\r\n */\r\n\r\nvar ms;\r\nvar hasRequiredMs;\r\n\r\nfunction requireMs () {\r\n\tif (hasRequiredMs) return ms;\r\n\thasRequiredMs = 1;\r\n\tvar s = 1000;\r\n\tvar m = s * 60;\r\n\tvar h = m * 60;\r\n\tvar d = h * 24;\r\n\tvar y = d * 365.25;\r\n\r\n\t/**\r\n\t * Parse or format the given `val`.\r\n\t *\r\n\t * Options:\r\n\t *\r\n\t *  - `long` verbose formatting [false]\r\n\t *\r\n\t * @param {String|Number} val\r\n\t * @param {Object} [options]\r\n\t * @throws {Error} throw an error if val is not a non-empty string or a number\r\n\t * @return {String|Number}\r\n\t * @api public\r\n\t */\r\n\r\n\tms = function(val, options) {\r\n\t  options = options || {};\r\n\t  var type = typeof val;\r\n\t  if (type === 'string' && val.length > 0) {\r\n\t    return parse(val);\r\n\t  } else if (type === 'number' && isNaN(val) === false) {\r\n\t    return options.long ? fmtLong(val) : fmtShort(val);\r\n\t  }\r\n\t  throw new Error(\r\n\t    'val is not a non-empty string or a valid number. val=' +\r\n\t      JSON.stringify(val)\r\n\t  );\r\n\t};\r\n\r\n\t/**\r\n\t * Parse the given `str` and return milliseconds.\r\n\t *\r\n\t * @param {String} str\r\n\t * @return {Number}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction parse(str) {\r\n\t  str = String(str);\r\n\t  if (str.length > 100) {\r\n\t    return;\r\n\t  }\r\n\t  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\r\n\t    str\r\n\t  );\r\n\t  if (!match) {\r\n\t    return;\r\n\t  }\r\n\t  var n = parseFloat(match[1]);\r\n\t  var type = (match[2] || 'ms').toLowerCase();\r\n\t  switch (type) {\r\n\t    case 'years':\r\n\t    case 'year':\r\n\t    case 'yrs':\r\n\t    case 'yr':\r\n\t    case 'y':\r\n\t      return n * y;\r\n\t    case 'days':\r\n\t    case 'day':\r\n\t    case 'd':\r\n\t      return n * d;\r\n\t    case 'hours':\r\n\t    case 'hour':\r\n\t    case 'hrs':\r\n\t    case 'hr':\r\n\t    case 'h':\r\n\t      return n * h;\r\n\t    case 'minutes':\r\n\t    case 'minute':\r\n\t    case 'mins':\r\n\t    case 'min':\r\n\t    case 'm':\r\n\t      return n * m;\r\n\t    case 'seconds':\r\n\t    case 'second':\r\n\t    case 'secs':\r\n\t    case 'sec':\r\n\t    case 's':\r\n\t      return n * s;\r\n\t    case 'milliseconds':\r\n\t    case 'millisecond':\r\n\t    case 'msecs':\r\n\t    case 'msec':\r\n\t    case 'ms':\r\n\t      return n;\r\n\t    default:\r\n\t      return undefined;\r\n\t  }\r\n\t}\r\n\r\n\t/**\r\n\t * Short format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction fmtShort(ms) {\r\n\t  if (ms >= d) {\r\n\t    return Math.round(ms / d) + 'd';\r\n\t  }\r\n\t  if (ms >= h) {\r\n\t    return Math.round(ms / h) + 'h';\r\n\t  }\r\n\t  if (ms >= m) {\r\n\t    return Math.round(ms / m) + 'm';\r\n\t  }\r\n\t  if (ms >= s) {\r\n\t    return Math.round(ms / s) + 's';\r\n\t  }\r\n\t  return ms + 'ms';\r\n\t}\r\n\r\n\t/**\r\n\t * Long format for `ms`.\r\n\t *\r\n\t * @param {Number} ms\r\n\t * @return {String}\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction fmtLong(ms) {\r\n\t  return plural(ms, d, 'day') ||\r\n\t    plural(ms, h, 'hour') ||\r\n\t    plural(ms, m, 'minute') ||\r\n\t    plural(ms, s, 'second') ||\r\n\t    ms + ' ms';\r\n\t}\r\n\r\n\t/**\r\n\t * Pluralization helper.\r\n\t */\r\n\r\n\tfunction plural(ms, n, name) {\r\n\t  if (ms < n) {\r\n\t    return;\r\n\t  }\r\n\t  if (ms < n * 1.5) {\r\n\t    return Math.floor(ms / n) + ' ' + name;\r\n\t  }\r\n\t  return Math.ceil(ms / n) + ' ' + name + 's';\r\n\t}\r\n\treturn ms;\r\n}\r\n\r\nvar hasRequiredDebug;\r\n\r\nfunction requireDebug () {\r\n\tif (hasRequiredDebug) return debug$f.exports;\r\n\thasRequiredDebug = 1;\r\n\t(function (module, exports) {\r\n\t\t/**\r\n\t\t * This is the common logic for both the Node.js and web browser\r\n\t\t * implementations of `debug()`.\r\n\t\t *\r\n\t\t * Expose `debug()` as the module.\r\n\t\t */\r\n\r\n\t\texports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\r\n\t\texports.coerce = coerce;\r\n\t\texports.disable = disable;\r\n\t\texports.enable = enable;\r\n\t\texports.enabled = enabled;\r\n\t\texports.humanize = requireMs();\r\n\r\n\t\t/**\r\n\t\t * The currently active debug mode names, and names to skip.\r\n\t\t */\r\n\r\n\t\texports.names = [];\r\n\t\texports.skips = [];\r\n\r\n\t\t/**\r\n\t\t * Map of special \"%n\" handling functions, for the debug \"format\" argument.\r\n\t\t *\r\n\t\t * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\r\n\t\t */\r\n\r\n\t\texports.formatters = {};\r\n\r\n\t\t/**\r\n\t\t * Previous log timestamp.\r\n\t\t */\r\n\r\n\t\tvar prevTime;\r\n\r\n\t\t/**\r\n\t\t * Select a color.\r\n\t\t * @param {String} namespace\r\n\t\t * @return {Number}\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction selectColor(namespace) {\r\n\t\t  var hash = 0, i;\r\n\r\n\t\t  for (i in namespace) {\r\n\t\t    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\r\n\t\t    hash |= 0; // Convert to 32bit integer\r\n\t\t  }\r\n\r\n\t\t  return exports.colors[Math.abs(hash) % exports.colors.length];\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Create a debugger with the given `namespace`.\r\n\t\t *\r\n\t\t * @param {String} namespace\r\n\t\t * @return {Function}\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction createDebug(namespace) {\r\n\r\n\t\t  function debug() {\r\n\t\t    // disabled?\r\n\t\t    if (!debug.enabled) return;\r\n\r\n\t\t    var self = debug;\r\n\r\n\t\t    // set `diff` timestamp\r\n\t\t    var curr = +new Date();\r\n\t\t    var ms = curr - (prevTime || curr);\r\n\t\t    self.diff = ms;\r\n\t\t    self.prev = prevTime;\r\n\t\t    self.curr = curr;\r\n\t\t    prevTime = curr;\r\n\r\n\t\t    // turn the `arguments` into a proper Array\r\n\t\t    var args = new Array(arguments.length);\r\n\t\t    for (var i = 0; i < args.length; i++) {\r\n\t\t      args[i] = arguments[i];\r\n\t\t    }\r\n\r\n\t\t    args[0] = exports.coerce(args[0]);\r\n\r\n\t\t    if ('string' !== typeof args[0]) {\r\n\t\t      // anything else let's inspect with %O\r\n\t\t      args.unshift('%O');\r\n\t\t    }\r\n\r\n\t\t    // apply any `formatters` transformations\r\n\t\t    var index = 0;\r\n\t\t    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\r\n\t\t      // if we encounter an escaped % then don't increase the array index\r\n\t\t      if (match === '%%') return match;\r\n\t\t      index++;\r\n\t\t      var formatter = exports.formatters[format];\r\n\t\t      if ('function' === typeof formatter) {\r\n\t\t        var val = args[index];\r\n\t\t        match = formatter.call(self, val);\r\n\r\n\t\t        // now we need to remove `args[index]` since it's inlined in the `format`\r\n\t\t        args.splice(index, 1);\r\n\t\t        index--;\r\n\t\t      }\r\n\t\t      return match;\r\n\t\t    });\r\n\r\n\t\t    // apply env-specific formatting (colors, etc.)\r\n\t\t    exports.formatArgs.call(self, args);\r\n\r\n\t\t    var logFn = debug.log || exports.log || console.log.bind(console);\r\n\t\t    logFn.apply(self, args);\r\n\t\t  }\r\n\r\n\t\t  debug.namespace = namespace;\r\n\t\t  debug.enabled = exports.enabled(namespace);\r\n\t\t  debug.useColors = exports.useColors();\r\n\t\t  debug.color = selectColor(namespace);\r\n\r\n\t\t  // env-specific initialization logic for debug instances\r\n\t\t  if ('function' === typeof exports.init) {\r\n\t\t    exports.init(debug);\r\n\t\t  }\r\n\r\n\t\t  return debug;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Enables a debug mode by namespaces. This can include modes\r\n\t\t * separated by a colon and wildcards.\r\n\t\t *\r\n\t\t * @param {String} namespaces\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction enable(namespaces) {\r\n\t\t  exports.save(namespaces);\r\n\r\n\t\t  exports.names = [];\r\n\t\t  exports.skips = [];\r\n\r\n\t\t  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\r\n\t\t  var len = split.length;\r\n\r\n\t\t  for (var i = 0; i < len; i++) {\r\n\t\t    if (!split[i]) continue; // ignore empty strings\r\n\t\t    namespaces = split[i].replace(/\\*/g, '.*?');\r\n\t\t    if (namespaces[0] === '-') {\r\n\t\t      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\r\n\t\t    } else {\r\n\t\t      exports.names.push(new RegExp('^' + namespaces + '$'));\r\n\t\t    }\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Disable debug output.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction disable() {\r\n\t\t  exports.enable('');\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns true if the given mode name is enabled, false otherwise.\r\n\t\t *\r\n\t\t * @param {String} name\r\n\t\t * @return {Boolean}\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction enabled(name) {\r\n\t\t  var i, len;\r\n\t\t  for (i = 0, len = exports.skips.length; i < len; i++) {\r\n\t\t    if (exports.skips[i].test(name)) {\r\n\t\t      return false;\r\n\t\t    }\r\n\t\t  }\r\n\t\t  for (i = 0, len = exports.names.length; i < len; i++) {\r\n\t\t    if (exports.names[i].test(name)) {\r\n\t\t      return true;\r\n\t\t    }\r\n\t\t  }\r\n\t\t  return false;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Coerce `val`.\r\n\t\t *\r\n\t\t * @param {Mixed} val\r\n\t\t * @return {Mixed}\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction coerce(val) {\r\n\t\t  if (val instanceof Error) return val.stack || val.message;\r\n\t\t  return val;\r\n\t\t} \r\n\t} (debug$f, debug$f.exports));\r\n\treturn debug$f.exports;\r\n}\r\n\r\n/**\r\n * This is the web browser implementation of `debug()`.\r\n *\r\n * Expose `debug()` as the module.\r\n */\r\n\r\nvar hasRequiredBrowser;\r\n\r\nfunction requireBrowser () {\r\n\tif (hasRequiredBrowser) return browser.exports;\r\n\thasRequiredBrowser = 1;\r\n\t(function (module, exports) {\r\n\t\texports = module.exports = requireDebug();\r\n\t\texports.log = log;\r\n\t\texports.formatArgs = formatArgs;\r\n\t\texports.save = save;\r\n\t\texports.load = load;\r\n\t\texports.useColors = useColors;\r\n\t\texports.storage = 'undefined' != typeof chrome\r\n\t\t               && 'undefined' != typeof chrome.storage\r\n\t\t                  ? chrome.storage.local\r\n\t\t                  : localstorage();\r\n\r\n\t\t/**\r\n\t\t * Colors.\r\n\t\t */\r\n\r\n\t\texports.colors = [\r\n\t\t  'lightseagreen',\r\n\t\t  'forestgreen',\r\n\t\t  'goldenrod',\r\n\t\t  'dodgerblue',\r\n\t\t  'darkorchid',\r\n\t\t  'crimson'\r\n\t\t];\r\n\r\n\t\t/**\r\n\t\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\r\n\t\t * and the Firebug extension (any Firefox version) are known\r\n\t\t * to support \"%c\" CSS customizations.\r\n\t\t *\r\n\t\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\r\n\t\t */\r\n\r\n\t\tfunction useColors() {\r\n\t\t  // NB: In an Electron preload script, document will be defined but not fully\r\n\t\t  // initialized. Since we know we're in Chrome, we'll just detect this case\r\n\t\t  // explicitly\r\n\t\t  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\r\n\t\t    return true;\r\n\t\t  }\r\n\r\n\t\t  // is webkit? http://stackoverflow.com/a/16459606/376773\r\n\t\t  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\r\n\t\t  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\r\n\t\t    // is firebug? http://stackoverflow.com/a/398120/376773\r\n\t\t    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\r\n\t\t    // is firefox >= v31?\r\n\t\t    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\r\n\t\t    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\r\n\t\t    // double check webkit in userAgent just in case we are in a worker\r\n\t\t    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\r\n\t\t */\r\n\r\n\t\texports.formatters.j = function(v) {\r\n\t\t  try {\r\n\t\t    return JSON.stringify(v);\r\n\t\t  } catch (err) {\r\n\t\t    return '[UnexpectedJSONParseError]: ' + err.message;\r\n\t\t  }\r\n\t\t};\r\n\r\n\r\n\t\t/**\r\n\t\t * Colorize log arguments if enabled.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction formatArgs(args) {\r\n\t\t  var useColors = this.useColors;\r\n\r\n\t\t  args[0] = (useColors ? '%c' : '')\r\n\t\t    + this.namespace\r\n\t\t    + (useColors ? ' %c' : ' ')\r\n\t\t    + args[0]\r\n\t\t    + (useColors ? '%c ' : ' ')\r\n\t\t    + '+' + exports.humanize(this.diff);\r\n\r\n\t\t  if (!useColors) return;\r\n\r\n\t\t  var c = 'color: ' + this.color;\r\n\t\t  args.splice(1, 0, c, 'color: inherit');\r\n\r\n\t\t  // the final \"%c\" is somewhat tricky, because there could be other\r\n\t\t  // arguments passed either before or after the %c, so we need to\r\n\t\t  // figure out the correct index to insert the CSS into\r\n\t\t  var index = 0;\r\n\t\t  var lastC = 0;\r\n\t\t  args[0].replace(/%[a-zA-Z%]/g, function(match) {\r\n\t\t    if ('%%' === match) return;\r\n\t\t    index++;\r\n\t\t    if ('%c' === match) {\r\n\t\t      // we only are interested in the *last* %c\r\n\t\t      // (the user may have provided their own)\r\n\t\t      lastC = index;\r\n\t\t    }\r\n\t\t  });\r\n\r\n\t\t  args.splice(lastC, 0, c);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Invokes `console.log()` when available.\r\n\t\t * No-op when `console.log` is not a \"function\".\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction log() {\r\n\t\t  // this hackery is required for IE8/9, where\r\n\t\t  // the `console.log` function doesn't have 'apply'\r\n\t\t  return 'object' === typeof console\r\n\t\t    && console.log\r\n\t\t    && Function.prototype.apply.call(console.log, console, arguments);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Save `namespaces`.\r\n\t\t *\r\n\t\t * @param {String} namespaces\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction save(namespaces) {\r\n\t\t  try {\r\n\t\t    if (null == namespaces) {\r\n\t\t      exports.storage.removeItem('debug');\r\n\t\t    } else {\r\n\t\t      exports.storage.debug = namespaces;\r\n\t\t    }\r\n\t\t  } catch(e) {}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Load `namespaces`.\r\n\t\t *\r\n\t\t * @return {String} returns the previously persisted debug modes\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction load() {\r\n\t\t  var r;\r\n\t\t  try {\r\n\t\t    r = exports.storage.debug;\r\n\t\t  } catch(e) {}\r\n\r\n\t\t  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\r\n\t\t  if (!r && typeof process !== 'undefined' && 'env' in process) {\r\n\t\t    r = process.env.DEBUG;\r\n\t\t  }\r\n\r\n\t\t  return r;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Enable namespaces listed in `localStorage.debug` initially.\r\n\t\t */\r\n\r\n\t\texports.enable(load());\r\n\r\n\t\t/**\r\n\t\t * Localstorage attempts to return the localstorage.\r\n\t\t *\r\n\t\t * This is necessary because safari throws\r\n\t\t * when a user disables cookies/localstorage\r\n\t\t * and you attempt to access it.\r\n\t\t *\r\n\t\t * @return {LocalStorage}\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction localstorage() {\r\n\t\t  try {\r\n\t\t    return window.localStorage;\r\n\t\t  } catch (e) {}\r\n\t\t} \r\n\t} (browser, browser.exports));\r\n\treturn browser.exports;\r\n}\r\n\r\nvar node = {exports: {}};\r\n\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar hasRequiredNode;\r\n\r\nfunction requireNode () {\r\n\tif (hasRequiredNode) return node.exports;\r\n\thasRequiredNode = 1;\r\n\t(function (module, exports) {\r\n\t\tvar tty = require$$0$3;\r\n\t\tvar util = require$$0$5;\r\n\r\n\t\t/**\r\n\t\t * This is the Node.js implementation of `debug()`.\r\n\t\t *\r\n\t\t * Expose `debug()` as the module.\r\n\t\t */\r\n\r\n\t\texports = module.exports = requireDebug();\r\n\t\texports.init = init;\r\n\t\texports.log = log;\r\n\t\texports.formatArgs = formatArgs;\r\n\t\texports.save = save;\r\n\t\texports.load = load;\r\n\t\texports.useColors = useColors;\r\n\r\n\t\t/**\r\n\t\t * Colors.\r\n\t\t */\r\n\r\n\t\texports.colors = [6, 2, 3, 4, 5, 1];\r\n\r\n\t\t/**\r\n\t\t * Build up the default `inspectOpts` object from the environment variables.\r\n\t\t *\r\n\t\t *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\r\n\t\t */\r\n\r\n\t\texports.inspectOpts = Object.keys(process.env).filter(function (key) {\r\n\t\t  return /^debug_/i.test(key);\r\n\t\t}).reduce(function (obj, key) {\r\n\t\t  // camel-case\r\n\t\t  var prop = key\r\n\t\t    .substring(6)\r\n\t\t    .toLowerCase()\r\n\t\t    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\r\n\r\n\t\t  // coerce string value into JS value\r\n\t\t  var val = process.env[key];\r\n\t\t  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\r\n\t\t  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\r\n\t\t  else if (val === 'null') val = null;\r\n\t\t  else val = Number(val);\r\n\r\n\t\t  obj[prop] = val;\r\n\t\t  return obj;\r\n\t\t}, {});\r\n\r\n\t\t/**\r\n\t\t * The file descriptor to write the `debug()` calls to.\r\n\t\t * Set the `DEBUG_FD` env variable to override with another value. i.e.:\r\n\t\t *\r\n\t\t *   $ DEBUG_FD=3 node script.js 3>debug.log\r\n\t\t */\r\n\r\n\t\tvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\r\n\r\n\t\tif (1 !== fd && 2 !== fd) {\r\n\t\t  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')();\r\n\t\t}\r\n\r\n\t\tvar stream = 1 === fd ? process.stdout :\r\n\t\t             2 === fd ? process.stderr :\r\n\t\t             createWritableStdioStream(fd);\r\n\r\n\t\t/**\r\n\t\t * Is stdout a TTY? Colored output is enabled when `true`.\r\n\t\t */\r\n\r\n\t\tfunction useColors() {\r\n\t\t  return 'colors' in exports.inspectOpts\r\n\t\t    ? Boolean(exports.inspectOpts.colors)\r\n\t\t    : tty.isatty(fd);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Map %o to `util.inspect()`, all on a single line.\r\n\t\t */\r\n\r\n\t\texports.formatters.o = function(v) {\r\n\t\t  this.inspectOpts.colors = this.useColors;\r\n\t\t  return util.inspect(v, this.inspectOpts)\r\n\t\t    .split('\\n').map(function(str) {\r\n\t\t      return str.trim()\r\n\t\t    }).join(' ');\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Map %o to `util.inspect()`, allowing multiple lines if needed.\r\n\t\t */\r\n\r\n\t\texports.formatters.O = function(v) {\r\n\t\t  this.inspectOpts.colors = this.useColors;\r\n\t\t  return util.inspect(v, this.inspectOpts);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Adds ANSI color escape codes if enabled.\r\n\t\t *\r\n\t\t * @api public\r\n\t\t */\r\n\r\n\t\tfunction formatArgs(args) {\r\n\t\t  var name = this.namespace;\r\n\t\t  var useColors = this.useColors;\r\n\r\n\t\t  if (useColors) {\r\n\t\t    var c = this.color;\r\n\t\t    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\r\n\r\n\t\t    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\r\n\t\t    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\r\n\t\t  } else {\r\n\t\t    args[0] = new Date().toUTCString()\r\n\t\t      + ' ' + name + ' ' + args[0];\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Invokes `util.format()` with the specified arguments and writes to `stream`.\r\n\t\t */\r\n\r\n\t\tfunction log() {\r\n\t\t  return stream.write(util.format.apply(util, arguments) + '\\n');\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Save `namespaces`.\r\n\t\t *\r\n\t\t * @param {String} namespaces\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction save(namespaces) {\r\n\t\t  if (null == namespaces) {\r\n\t\t    // If you set a process.env field to null or undefined, it gets cast to the\r\n\t\t    // string 'null' or 'undefined'. Just delete instead.\r\n\t\t    delete process.env.DEBUG;\r\n\t\t  } else {\r\n\t\t    process.env.DEBUG = namespaces;\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Load `namespaces`.\r\n\t\t *\r\n\t\t * @return {String} returns the previously persisted debug modes\r\n\t\t * @api private\r\n\t\t */\r\n\r\n\t\tfunction load() {\r\n\t\t  return process.env.DEBUG;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Copied from `node/src/node.js`.\r\n\t\t *\r\n\t\t * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\r\n\t\t * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\r\n\t\t */\r\n\r\n\t\tfunction createWritableStdioStream (fd) {\r\n\t\t  var stream;\r\n\t\t  var tty_wrap = process.binding('tty_wrap');\r\n\r\n\t\t  // Note stream._type is used for test-module-load-list.js\r\n\r\n\t\t  switch (tty_wrap.guessHandleType(fd)) {\r\n\t\t    case 'TTY':\r\n\t\t      stream = new tty.WriteStream(fd);\r\n\t\t      stream._type = 'tty';\r\n\r\n\t\t      // Hack to have stream not keep the event loop alive.\r\n\t\t      // See https://github.com/joyent/node/issues/1726\r\n\t\t      if (stream._handle && stream._handle.unref) {\r\n\t\t        stream._handle.unref();\r\n\t\t      }\r\n\t\t      break;\r\n\r\n\t\t    case 'FILE':\r\n\t\t      var fs = require$$0__default;\r\n\t\t      stream = new fs.SyncWriteStream(fd, { autoClose: false });\r\n\t\t      stream._type = 'fs';\r\n\t\t      break;\r\n\r\n\t\t    case 'PIPE':\r\n\t\t    case 'TCP':\r\n\t\t      var net = require$$4$1;\r\n\t\t      stream = new net.Socket({\r\n\t\t        fd: fd,\r\n\t\t        readable: false,\r\n\t\t        writable: true\r\n\t\t      });\r\n\r\n\t\t      // FIXME Should probably have an option in net.Socket to create a\r\n\t\t      // stream from an existing fd which is writable only. But for now\r\n\t\t      // we'll just add this hack and set the `readable` member to false.\r\n\t\t      // Test: ./node test/fixtures/echo.js < /etc/passwd\r\n\t\t      stream.readable = false;\r\n\t\t      stream.read = null;\r\n\t\t      stream._type = 'pipe';\r\n\r\n\t\t      // FIXME Hack to have stream not keep the event loop alive.\r\n\t\t      // See https://github.com/joyent/node/issues/1726\r\n\t\t      if (stream._handle && stream._handle.unref) {\r\n\t\t        stream._handle.unref();\r\n\t\t      }\r\n\t\t      break;\r\n\r\n\t\t    default:\r\n\t\t      // Probably an error on in uv_guess_handle()\r\n\t\t      throw new Error('Implement me. Unknown stream file type!');\r\n\t\t  }\r\n\r\n\t\t  // For supporting legacy API we put the FD here.\r\n\t\t  stream.fd = fd;\r\n\r\n\t\t  stream._isStdio = true;\r\n\r\n\t\t  return stream;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Init logic for `debug` instances.\r\n\t\t *\r\n\t\t * Create a new `inspectOpts` object in case `useColors` is set\r\n\t\t * differently for a particular `debug` instance.\r\n\t\t */\r\n\r\n\t\tfunction init (debug) {\r\n\t\t  debug.inspectOpts = {};\r\n\r\n\t\t  var keys = Object.keys(exports.inspectOpts);\r\n\t\t  for (var i = 0; i < keys.length; i++) {\r\n\t\t    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Enable namespaces listed in `process.env.DEBUG` initially.\r\n\t\t */\r\n\r\n\t\texports.enable(load()); \r\n\t} (node, node.exports));\r\n\treturn node.exports;\r\n}\r\n\r\n/**\r\n * Detect Electron renderer process, which is node, but we should\r\n * treat as a browser.\r\n */\r\n\r\nif (typeof process !== 'undefined' && process.type === 'renderer') {\r\n  src.exports = requireBrowser();\r\n} else {\r\n  src.exports = requireNode();\r\n}\r\n\r\nvar srcExports = src.exports;\r\n\r\n/*!\r\n * encodeurl\r\n * Copyright(c) 2016 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar encodeurl = encodeUrl$1;\r\n\r\n/**\r\n * RegExp to match non-URL code points, *after* encoding (i.e. not including \"%\")\r\n * and including invalid escape sequences.\r\n * @private\r\n */\r\n\r\nvar ENCODE_CHARS_REGEXP = /(?:[^\\x21\\x25\\x26-\\x3B\\x3D\\x3F-\\x5B\\x5D\\x5F\\x61-\\x7A\\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g;\r\n\r\n/**\r\n * RegExp to match unmatched surrogate pair.\r\n * @private\r\n */\r\n\r\nvar UNMATCHED_SURROGATE_PAIR_REGEXP = /(^|[^\\uD800-\\uDBFF])[\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF]([^\\uDC00-\\uDFFF]|$)/g;\r\n\r\n/**\r\n * String to replace unmatched surrogate pair with.\r\n * @private\r\n */\r\n\r\nvar UNMATCHED_SURROGATE_PAIR_REPLACE = '$1\\uFFFD$2';\r\n\r\n/**\r\n * Encode a URL to a percent-encoded form, excluding already-encoded sequences.\r\n *\r\n * This function will take an already-encoded URL and encode all the non-URL\r\n * code points. This function will not encode the \"%\" character unless it is\r\n * not part of a valid sequence (`%20` will be left as-is, but `%foo` will\r\n * be encoded as `%25foo`).\r\n *\r\n * This encode is meant to be \"safe\" and does not throw errors. It will try as\r\n * hard as it can to properly encode the given URL, including replacing any raw,\r\n * unpaired surrogate pairs with the Unicode replacement character prior to\r\n * encoding.\r\n *\r\n * @param {string} url\r\n * @return {string}\r\n * @public\r\n */\r\n\r\nfunction encodeUrl$1 (url) {\r\n  return String(url)\r\n    .replace(UNMATCHED_SURROGATE_PAIR_REGEXP, UNMATCHED_SURROGATE_PAIR_REPLACE)\r\n    .replace(ENCODE_CHARS_REGEXP, encodeURI)\r\n}\r\n\r\n/*!\r\n * escape-html\r\n * Copyright(c) 2012-2013 TJ Holowaychuk\r\n * Copyright(c) 2015 Andreas Lubbe\r\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar matchHtmlRegExp = /[\"'&<>]/;\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar escapeHtml_1 = escapeHtml$1;\r\n\r\n/**\r\n * Escape special characters in the given string of html.\r\n *\r\n * @param  {string} string The string to escape for inserting into HTML\r\n * @return {string}\r\n * @public\r\n */\r\n\r\nfunction escapeHtml$1(string) {\r\n  var str = '' + string;\r\n  var match = matchHtmlRegExp.exec(str);\r\n\r\n  if (!match) {\r\n    return str;\r\n  }\r\n\r\n  var escape;\r\n  var html = '';\r\n  var index = 0;\r\n  var lastIndex = 0;\r\n\r\n  for (index = match.index; index < str.length; index++) {\r\n    switch (str.charCodeAt(index)) {\r\n      case 34: // \"\r\n        escape = '&quot;';\r\n        break;\r\n      case 38: // &\r\n        escape = '&amp;';\r\n        break;\r\n      case 39: // '\r\n        escape = '&#39;';\r\n        break;\r\n      case 60: // <\r\n        escape = '&lt;';\r\n        break;\r\n      case 62: // >\r\n        escape = '&gt;';\r\n        break;\r\n      default:\r\n        continue;\r\n    }\r\n\r\n    if (lastIndex !== index) {\r\n      html += str.substring(lastIndex, index);\r\n    }\r\n\r\n    lastIndex = index + 1;\r\n    html += escape;\r\n  }\r\n\r\n  return lastIndex !== index\r\n    ? html + str.substring(lastIndex, index)\r\n    : html;\r\n}\r\n\r\nvar escapeHtml$2 = /*@__PURE__*/getDefaultExportFromCjs(escapeHtml_1);\r\n\r\nvar onFinished$2 = {exports: {}};\r\n\r\n/*!\r\n * ee-first\r\n * Copyright(c) 2014 Jonathan Ong\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar eeFirst = first$1;\r\n\r\n/**\r\n * Get the first event in a set of event emitters and event pairs.\r\n *\r\n * @param {array} stuff\r\n * @param {function} done\r\n * @public\r\n */\r\n\r\nfunction first$1(stuff, done) {\r\n  if (!Array.isArray(stuff))\r\n    throw new TypeError('arg must be an array of [ee, events...] arrays')\r\n\r\n  var cleanups = [];\r\n\r\n  for (var i = 0; i < stuff.length; i++) {\r\n    var arr = stuff[i];\r\n\r\n    if (!Array.isArray(arr) || arr.length < 2)\r\n      throw new TypeError('each array member must be [ee, events...]')\r\n\r\n    var ee = arr[0];\r\n\r\n    for (var j = 1; j < arr.length; j++) {\r\n      var event = arr[j];\r\n      var fn = listener(event, callback);\r\n\r\n      // listen to the event\r\n      ee.on(event, fn);\r\n      // push this listener to the list of cleanups\r\n      cleanups.push({\r\n        ee: ee,\r\n        event: event,\r\n        fn: fn,\r\n      });\r\n    }\r\n  }\r\n\r\n  function callback() {\r\n    cleanup();\r\n    done.apply(null, arguments);\r\n  }\r\n\r\n  function cleanup() {\r\n    var x;\r\n    for (var i = 0; i < cleanups.length; i++) {\r\n      x = cleanups[i];\r\n      x.ee.removeListener(x.event, x.fn);\r\n    }\r\n  }\r\n\r\n  function thunk(fn) {\r\n    done = fn;\r\n  }\r\n\r\n  thunk.cancel = cleanup;\r\n\r\n  return thunk\r\n}\r\n\r\n/**\r\n * Create the event listener.\r\n * @private\r\n */\r\n\r\nfunction listener(event, done) {\r\n  return function onevent(arg1) {\r\n    var args = new Array(arguments.length);\r\n    var ee = this;\r\n    var err = event === 'error'\r\n      ? arg1\r\n      : null;\r\n\r\n    // copy args to prevent arguments escaping scope\r\n    for (var i = 0; i < args.length; i++) {\r\n      args[i] = arguments[i];\r\n    }\r\n\r\n    done(err, ee, event, args);\r\n  }\r\n}\r\n\r\n/*!\r\n * on-finished\r\n * Copyright(c) 2013 Jonathan Ong\r\n * Copyright(c) 2014 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nonFinished$2.exports = onFinished$1;\r\nonFinished$2.exports.isFinished = isFinished$1;\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar first = eeFirst;\r\n\r\n/**\r\n * Variables.\r\n * @private\r\n */\r\n\r\n/* istanbul ignore next */\r\nvar defer$2 = typeof setImmediate === 'function'\r\n  ? setImmediate\r\n  : function(fn){ process.nextTick(fn.bind.apply(fn, arguments)); };\r\n\r\n/**\r\n * Invoke callback when the response has finished, useful for\r\n * cleaning up resources afterwards.\r\n *\r\n * @param {object} msg\r\n * @param {function} listener\r\n * @return {object}\r\n * @public\r\n */\r\n\r\nfunction onFinished$1(msg, listener) {\r\n  if (isFinished$1(msg) !== false) {\r\n    defer$2(listener, null, msg);\r\n    return msg\r\n  }\r\n\r\n  // attach the listener to the message\r\n  attachListener(msg, listener);\r\n\r\n  return msg\r\n}\r\n\r\n/**\r\n * Determine if message is already finished.\r\n *\r\n * @param {object} msg\r\n * @return {boolean}\r\n * @public\r\n */\r\n\r\nfunction isFinished$1(msg) {\r\n  var socket = msg.socket;\r\n\r\n  if (typeof msg.finished === 'boolean') {\r\n    // OutgoingMessage\r\n    return Boolean(msg.finished || (socket && !socket.writable))\r\n  }\r\n\r\n  if (typeof msg.complete === 'boolean') {\r\n    // IncomingMessage\r\n    return Boolean(msg.upgrade || !socket || !socket.readable || (msg.complete && !msg.readable))\r\n  }\r\n\r\n  // don't know\r\n  return undefined\r\n}\r\n\r\n/**\r\n * Attach a finished listener to the message.\r\n *\r\n * @param {object} msg\r\n * @param {function} callback\r\n * @private\r\n */\r\n\r\nfunction attachFinishedListener(msg, callback) {\r\n  var eeMsg;\r\n  var eeSocket;\r\n  var finished = false;\r\n\r\n  function onFinish(error) {\r\n    eeMsg.cancel();\r\n    eeSocket.cancel();\r\n\r\n    finished = true;\r\n    callback(error);\r\n  }\r\n\r\n  // finished on first message event\r\n  eeMsg = eeSocket = first([[msg, 'end', 'finish']], onFinish);\r\n\r\n  function onSocket(socket) {\r\n    // remove listener\r\n    msg.removeListener('socket', onSocket);\r\n\r\n    if (finished) return\r\n    if (eeMsg !== eeSocket) return\r\n\r\n    // finished on first socket event\r\n    eeSocket = first([[socket, 'error', 'close']], onFinish);\r\n  }\r\n\r\n  if (msg.socket) {\r\n    // socket already assigned\r\n    onSocket(msg.socket);\r\n    return\r\n  }\r\n\r\n  // wait for socket to be assigned\r\n  msg.on('socket', onSocket);\r\n\r\n  if (msg.socket === undefined) {\r\n    // node.js 0.8 patch\r\n    patchAssignSocket(msg, onSocket);\r\n  }\r\n}\r\n\r\n/**\r\n * Attach the listener to the message.\r\n *\r\n * @param {object} msg\r\n * @return {function}\r\n * @private\r\n */\r\n\r\nfunction attachListener(msg, listener) {\r\n  var attached = msg.__onFinished;\r\n\r\n  // create a private single listener with queue\r\n  if (!attached || !attached.queue) {\r\n    attached = msg.__onFinished = createListener(msg);\r\n    attachFinishedListener(msg, attached);\r\n  }\r\n\r\n  attached.queue.push(listener);\r\n}\r\n\r\n/**\r\n * Create listener on message.\r\n *\r\n * @param {object} msg\r\n * @return {function}\r\n * @private\r\n */\r\n\r\nfunction createListener(msg) {\r\n  function listener(err) {\r\n    if (msg.__onFinished === listener) msg.__onFinished = null;\r\n    if (!listener.queue) return\r\n\r\n    var queue = listener.queue;\r\n    listener.queue = null;\r\n\r\n    for (var i = 0; i < queue.length; i++) {\r\n      queue[i](err, msg);\r\n    }\r\n  }\r\n\r\n  listener.queue = [];\r\n\r\n  return listener\r\n}\r\n\r\n/**\r\n * Patch ServerResponse.prototype.assignSocket for node.js 0.8.\r\n *\r\n * @param {ServerResponse} res\r\n * @param {function} callback\r\n * @private\r\n */\r\n\r\nfunction patchAssignSocket(res, callback) {\r\n  var assignSocket = res.assignSocket;\r\n\r\n  if (typeof assignSocket !== 'function') return\r\n\r\n  // res.on('socket', callback) is broken in 0.8\r\n  res.assignSocket = function _assignSocket(socket) {\r\n    assignSocket.call(this, socket);\r\n    callback(socket);\r\n  };\r\n}\r\n\r\nvar onFinishedExports = onFinished$2.exports;\r\n\r\nvar parseurl$1 = {exports: {}};\r\n\r\n/*!\r\n * parseurl\r\n * Copyright(c) 2014 Jonathan Ong\r\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar url$3 = require$$0$9;\r\nvar parse$8 = url$3.parse;\r\nvar Url = url$3.Url;\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nparseurl$1.exports = parseurl;\r\nparseurl$1.exports.original = originalurl;\r\n\r\n/**\r\n * Parse the `req` url with memoization.\r\n *\r\n * @param {ServerRequest} req\r\n * @return {Object}\r\n * @public\r\n */\r\n\r\nfunction parseurl (req) {\r\n  var url = req.url;\r\n\r\n  if (url === undefined) {\r\n    // URL is undefined\r\n    return undefined\r\n  }\r\n\r\n  var parsed = req._parsedUrl;\r\n\r\n  if (fresh(url, parsed)) {\r\n    // Return cached URL parse\r\n    return parsed\r\n  }\r\n\r\n  // Parse the URL\r\n  parsed = fastparse(url);\r\n  parsed._raw = url;\r\n\r\n  return (req._parsedUrl = parsed)\r\n}\r\n/**\r\n * Parse the `req` original url with fallback and memoization.\r\n *\r\n * @param {ServerRequest} req\r\n * @return {Object}\r\n * @public\r\n */\r\n\r\nfunction originalurl (req) {\r\n  var url = req.originalUrl;\r\n\r\n  if (typeof url !== 'string') {\r\n    // Fallback\r\n    return parseurl(req)\r\n  }\r\n\r\n  var parsed = req._parsedOriginalUrl;\r\n\r\n  if (fresh(url, parsed)) {\r\n    // Return cached URL parse\r\n    return parsed\r\n  }\r\n\r\n  // Parse the URL\r\n  parsed = fastparse(url);\r\n  parsed._raw = url;\r\n\r\n  return (req._parsedOriginalUrl = parsed)\r\n}\r\n/**\r\n * Parse the `str` url with fast-path short-cut.\r\n *\r\n * @param {string} str\r\n * @return {Object}\r\n * @private\r\n */\r\n\r\nfunction fastparse (str) {\r\n  if (typeof str !== 'string' || str.charCodeAt(0) !== 0x2f /* / */) {\r\n    return parse$8(str)\r\n  }\r\n\r\n  var pathname = str;\r\n  var query = null;\r\n  var search = null;\r\n\r\n  // This takes the regexp from https://github.com/joyent/node/pull/7878\r\n  // Which is /^(\\/[^?#\\s]*)(\\?[^#\\s]*)?$/\r\n  // And unrolls it into a for loop\r\n  for (var i = 1; i < str.length; i++) {\r\n    switch (str.charCodeAt(i)) {\r\n      case 0x3f: /* ?  */\r\n        if (search === null) {\r\n          pathname = str.substring(0, i);\r\n          query = str.substring(i + 1);\r\n          search = str.substring(i);\r\n        }\r\n        break\r\n      case 0x09: /* \\t */\r\n      case 0x0a: /* \\n */\r\n      case 0x0c: /* \\f */\r\n      case 0x0d: /* \\r */\r\n      case 0x20: /*    */\r\n      case 0x23: /* #  */\r\n      case 0xa0:\r\n      case 0xfeff:\r\n        return parse$8(str)\r\n    }\r\n  }\r\n\r\n  var url = Url !== undefined\r\n    ? new Url()\r\n    : {};\r\n\r\n  url.path = str;\r\n  url.href = str;\r\n  url.pathname = pathname;\r\n\r\n  if (search !== null) {\r\n    url.query = query;\r\n    url.search = search;\r\n  }\r\n\r\n  return url\r\n}\r\n\r\n/**\r\n * Determine if parsed is still fresh for url.\r\n *\r\n * @param {string} url\r\n * @param {object} parsedUrl\r\n * @return {boolean}\r\n * @private\r\n */\r\n\r\nfunction fresh (url, parsedUrl) {\r\n  return typeof parsedUrl === 'object' &&\r\n    parsedUrl !== null &&\r\n    (Url === undefined || parsedUrl instanceof Url) &&\r\n    parsedUrl._raw === url\r\n}\r\n\r\nvar parseurlExports = parseurl$1.exports;\r\n\r\nvar require$$0$1 = {\r\n\t\"100\": \"Continue\",\r\n\t\"101\": \"Switching Protocols\",\r\n\t\"102\": \"Processing\",\r\n\t\"103\": \"Early Hints\",\r\n\t\"200\": \"OK\",\r\n\t\"201\": \"Created\",\r\n\t\"202\": \"Accepted\",\r\n\t\"203\": \"Non-Authoritative Information\",\r\n\t\"204\": \"No Content\",\r\n\t\"205\": \"Reset Content\",\r\n\t\"206\": \"Partial Content\",\r\n\t\"207\": \"Multi-Status\",\r\n\t\"208\": \"Already Reported\",\r\n\t\"226\": \"IM Used\",\r\n\t\"300\": \"Multiple Choices\",\r\n\t\"301\": \"Moved Permanently\",\r\n\t\"302\": \"Found\",\r\n\t\"303\": \"See Other\",\r\n\t\"304\": \"Not Modified\",\r\n\t\"305\": \"Use Proxy\",\r\n\t\"306\": \"(Unused)\",\r\n\t\"307\": \"Temporary Redirect\",\r\n\t\"308\": \"Permanent Redirect\",\r\n\t\"400\": \"Bad Request\",\r\n\t\"401\": \"Unauthorized\",\r\n\t\"402\": \"Payment Required\",\r\n\t\"403\": \"Forbidden\",\r\n\t\"404\": \"Not Found\",\r\n\t\"405\": \"Method Not Allowed\",\r\n\t\"406\": \"Not Acceptable\",\r\n\t\"407\": \"Proxy Authentication Required\",\r\n\t\"408\": \"Request Timeout\",\r\n\t\"409\": \"Conflict\",\r\n\t\"410\": \"Gone\",\r\n\t\"411\": \"Length Required\",\r\n\t\"412\": \"Precondition Failed\",\r\n\t\"413\": \"Payload Too Large\",\r\n\t\"414\": \"URI Too Long\",\r\n\t\"415\": \"Unsupported Media Type\",\r\n\t\"416\": \"Range Not Satisfiable\",\r\n\t\"417\": \"Expectation Failed\",\r\n\t\"418\": \"I'm a teapot\",\r\n\t\"421\": \"Misdirected Request\",\r\n\t\"422\": \"Unprocessable Entity\",\r\n\t\"423\": \"Locked\",\r\n\t\"424\": \"Failed Dependency\",\r\n\t\"425\": \"Unordered Collection\",\r\n\t\"426\": \"Upgrade Required\",\r\n\t\"428\": \"Precondition Required\",\r\n\t\"429\": \"Too Many Requests\",\r\n\t\"431\": \"Request Header Fields Too Large\",\r\n\t\"451\": \"Unavailable For Legal Reasons\",\r\n\t\"500\": \"Internal Server Error\",\r\n\t\"501\": \"Not Implemented\",\r\n\t\"502\": \"Bad Gateway\",\r\n\t\"503\": \"Service Unavailable\",\r\n\t\"504\": \"Gateway Timeout\",\r\n\t\"505\": \"HTTP Version Not Supported\",\r\n\t\"506\": \"Variant Also Negotiates\",\r\n\t\"507\": \"Insufficient Storage\",\r\n\t\"508\": \"Loop Detected\",\r\n\t\"509\": \"Bandwidth Limit Exceeded\",\r\n\t\"510\": \"Not Extended\",\r\n\t\"511\": \"Network Authentication Required\"\r\n};\r\n\r\n/*!\r\n * statuses\r\n * Copyright(c) 2014 Jonathan Ong\r\n * Copyright(c) 2016 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar codes = require$$0$1;\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar statuses$1 = status;\r\n\r\n// status code to message map\r\nstatus.STATUS_CODES = codes;\r\n\r\n// array of status codes\r\nstatus.codes = populateStatusesMap(status, codes);\r\n\r\n// status codes for redirects\r\nstatus.redirect = {\r\n  300: true,\r\n  301: true,\r\n  302: true,\r\n  303: true,\r\n  305: true,\r\n  307: true,\r\n  308: true\r\n};\r\n\r\n// status codes for empty bodies\r\nstatus.empty = {\r\n  204: true,\r\n  205: true,\r\n  304: true\r\n};\r\n\r\n// status codes for when you should retry the request\r\nstatus.retry = {\r\n  502: true,\r\n  503: true,\r\n  504: true\r\n};\r\n\r\n/**\r\n * Populate the statuses map for given codes.\r\n * @private\r\n */\r\n\r\nfunction populateStatusesMap (statuses, codes) {\r\n  var arr = [];\r\n\r\n  Object.keys(codes).forEach(function forEachCode (code) {\r\n    var message = codes[code];\r\n    var status = Number(code);\r\n\r\n    // Populate properties\r\n    statuses[status] = message;\r\n    statuses[message] = status;\r\n    statuses[message.toLowerCase()] = status;\r\n\r\n    // Add to array\r\n    arr.push(status);\r\n  });\r\n\r\n  return arr\r\n}\r\n\r\n/**\r\n * Get the status code.\r\n *\r\n * Given a number, this will throw if it is not a known status\r\n * code, otherwise the code will be returned. Given a string,\r\n * the string will be parsed for a number and return the code\r\n * if valid, otherwise will lookup the code assuming this is\r\n * the status message.\r\n *\r\n * @param {string|number} code\r\n * @returns {number}\r\n * @public\r\n */\r\n\r\nfunction status (code) {\r\n  if (typeof code === 'number') {\r\n    if (!status[code]) throw new Error('invalid status code: ' + code)\r\n    return code\r\n  }\r\n\r\n  if (typeof code !== 'string') {\r\n    throw new TypeError('code must be a number or string')\r\n  }\r\n\r\n  // '403'\r\n  var n = parseInt(code, 10);\r\n  if (!isNaN(n)) {\r\n    if (!status[n]) throw new Error('invalid status code: ' + n)\r\n    return n\r\n  }\r\n\r\n  n = status[code.toLowerCase()];\r\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\r\n  return n\r\n}\r\n\r\n/*!\r\n * unpipe\r\n * Copyright(c) 2015 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar unpipe_1 = unpipe$1;\r\n\r\n/**\r\n * Determine if there are Node.js pipe-like data listeners.\r\n * @private\r\n */\r\n\r\nfunction hasPipeDataListeners(stream) {\r\n  var listeners = stream.listeners('data');\r\n\r\n  for (var i = 0; i < listeners.length; i++) {\r\n    if (listeners[i].name === 'ondata') {\r\n      return true\r\n    }\r\n  }\r\n\r\n  return false\r\n}\r\n\r\n/**\r\n * Unpipe a stream from all destinations.\r\n *\r\n * @param {object} stream\r\n * @public\r\n */\r\n\r\nfunction unpipe$1(stream) {\r\n  if (!stream) {\r\n    throw new TypeError('argument stream is required')\r\n  }\r\n\r\n  if (typeof stream.unpipe === 'function') {\r\n    // new-style\r\n    stream.unpipe();\r\n    return\r\n  }\r\n\r\n  // Node.js 0.8 hack\r\n  if (!hasPipeDataListeners(stream)) {\r\n    return\r\n  }\r\n\r\n  var listener;\r\n  var listeners = stream.listeners('close');\r\n\r\n  for (var i = 0; i < listeners.length; i++) {\r\n    listener = listeners[i];\r\n\r\n    if (listener.name !== 'cleanup' && listener.name !== 'onclose') {\r\n      continue\r\n    }\r\n\r\n    // invoke the listener\r\n    listener.call(stream);\r\n  }\r\n}\r\n\r\n/*!\r\n * finalhandler\r\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar debug$e = srcExports('finalhandler');\r\nvar encodeUrl = encodeurl;\r\nvar escapeHtml = escapeHtml_1;\r\nvar onFinished = onFinishedExports;\r\nvar parseUrl$2 = parseurlExports;\r\nvar statuses = statuses$1;\r\nvar unpipe = unpipe_1;\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar DOUBLE_SPACE_REGEXP = /\\x20{2}/g;\r\nvar NEWLINE_REGEXP = /\\n/g;\r\n\r\n/* istanbul ignore next */\r\nvar defer$1 = typeof setImmediate === 'function'\r\n  ? setImmediate\r\n  : function (fn) { process.nextTick(fn.bind.apply(fn, arguments)); };\r\nvar isFinished = onFinished.isFinished;\r\n\r\n/**\r\n * Create a minimal HTML document.\r\n *\r\n * @param {string} message\r\n * @private\r\n */\r\n\r\nfunction createHtmlDocument (message) {\r\n  var body = escapeHtml(message)\r\n    .replace(NEWLINE_REGEXP, '<br>')\r\n    .replace(DOUBLE_SPACE_REGEXP, ' &nbsp;');\r\n\r\n  return '<!DOCTYPE html>\\n' +\r\n    '<html lang=\"en\">\\n' +\r\n    '<head>\\n' +\r\n    '<meta charset=\"utf-8\">\\n' +\r\n    '<title>Error</title>\\n' +\r\n    '</head>\\n' +\r\n    '<body>\\n' +\r\n    '<pre>' + body + '</pre>\\n' +\r\n    '</body>\\n' +\r\n    '</html>\\n'\r\n}\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar finalhandler_1 = finalhandler$1;\r\n\r\n/**\r\n * Create a function to handle the final response.\r\n *\r\n * @param {Request} req\r\n * @param {Response} res\r\n * @param {Object} [options]\r\n * @return {Function}\r\n * @public\r\n */\r\n\r\nfunction finalhandler$1 (req, res, options) {\r\n  var opts = options || {};\r\n\r\n  // get environment\r\n  var env = opts.env || process.env.NODE_ENV || 'development';\r\n\r\n  // get error callback\r\n  var onerror = opts.onerror;\r\n\r\n  return function (err) {\r\n    var headers;\r\n    var msg;\r\n    var status;\r\n\r\n    // ignore 404 on in-flight response\r\n    if (!err && headersSent(res)) {\r\n      debug$e('cannot 404 after headers sent');\r\n      return\r\n    }\r\n\r\n    // unhandled error\r\n    if (err) {\r\n      // respect status code from error\r\n      status = getErrorStatusCode(err);\r\n\r\n      if (status === undefined) {\r\n        // fallback to status code on response\r\n        status = getResponseStatusCode(res);\r\n      } else {\r\n        // respect headers from error\r\n        headers = getErrorHeaders(err);\r\n      }\r\n\r\n      // get error message\r\n      msg = getErrorMessage(err, status, env);\r\n    } else {\r\n      // not found\r\n      status = 404;\r\n      msg = 'Cannot ' + req.method + ' ' + encodeUrl(getResourceName(req));\r\n    }\r\n\r\n    debug$e('default %s', status);\r\n\r\n    // schedule onerror callback\r\n    if (err && onerror) {\r\n      defer$1(onerror, err, req, res);\r\n    }\r\n\r\n    // cannot actually respond\r\n    if (headersSent(res)) {\r\n      debug$e('cannot %d after headers sent', status);\r\n      req.socket.destroy();\r\n      return\r\n    }\r\n\r\n    // send response\r\n    send$2(req, res, status, headers, msg);\r\n  }\r\n}\r\n\r\n/**\r\n * Get headers from Error object.\r\n *\r\n * @param {Error} err\r\n * @return {object}\r\n * @private\r\n */\r\n\r\nfunction getErrorHeaders (err) {\r\n  if (!err.headers || typeof err.headers !== 'object') {\r\n    return undefined\r\n  }\r\n\r\n  var headers = Object.create(null);\r\n  var keys = Object.keys(err.headers);\r\n\r\n  for (var i = 0; i < keys.length; i++) {\r\n    var key = keys[i];\r\n    headers[key] = err.headers[key];\r\n  }\r\n\r\n  return headers\r\n}\r\n\r\n/**\r\n * Get message from Error object, fallback to status message.\r\n *\r\n * @param {Error} err\r\n * @param {number} status\r\n * @param {string} env\r\n * @return {string}\r\n * @private\r\n */\r\n\r\nfunction getErrorMessage (err, status, env) {\r\n  var msg;\r\n\r\n  if (env !== 'production') {\r\n    // use err.stack, which typically includes err.message\r\n    msg = err.stack;\r\n\r\n    // fallback to err.toString() when possible\r\n    if (!msg && typeof err.toString === 'function') {\r\n      msg = err.toString();\r\n    }\r\n  }\r\n\r\n  return msg || statuses[status]\r\n}\r\n\r\n/**\r\n * Get status code from Error object.\r\n *\r\n * @param {Error} err\r\n * @return {number}\r\n * @private\r\n */\r\n\r\nfunction getErrorStatusCode (err) {\r\n  // check err.status\r\n  if (typeof err.status === 'number' && err.status >= 400 && err.status < 600) {\r\n    return err.status\r\n  }\r\n\r\n  // check err.statusCode\r\n  if (typeof err.statusCode === 'number' && err.statusCode >= 400 && err.statusCode < 600) {\r\n    return err.statusCode\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\n/**\r\n * Get resource name for the request.\r\n *\r\n * This is typically just the original pathname of the request\r\n * but will fallback to \"resource\" is that cannot be determined.\r\n *\r\n * @param {IncomingMessage} req\r\n * @return {string}\r\n * @private\r\n */\r\n\r\nfunction getResourceName (req) {\r\n  try {\r\n    return parseUrl$2.original(req).pathname\r\n  } catch (e) {\r\n    return 'resource'\r\n  }\r\n}\r\n\r\n/**\r\n * Get status code from response.\r\n *\r\n * @param {OutgoingMessage} res\r\n * @return {number}\r\n * @private\r\n */\r\n\r\nfunction getResponseStatusCode (res) {\r\n  var status = res.statusCode;\r\n\r\n  // default status code to 500 if outside valid range\r\n  if (typeof status !== 'number' || status < 400 || status > 599) {\r\n    status = 500;\r\n  }\r\n\r\n  return status\r\n}\r\n\r\n/**\r\n * Determine if the response headers have been sent.\r\n *\r\n * @param {object} res\r\n * @returns {boolean}\r\n * @private\r\n */\r\n\r\nfunction headersSent (res) {\r\n  return typeof res.headersSent !== 'boolean'\r\n    ? Boolean(res._header)\r\n    : res.headersSent\r\n}\r\n\r\n/**\r\n * Send response.\r\n *\r\n * @param {IncomingMessage} req\r\n * @param {OutgoingMessage} res\r\n * @param {number} status\r\n * @param {object} headers\r\n * @param {string} message\r\n * @private\r\n */\r\n\r\nfunction send$2 (req, res, status, headers, message) {\r\n  function write () {\r\n    // response body\r\n    var body = createHtmlDocument(message);\r\n\r\n    // response status\r\n    res.statusCode = status;\r\n    res.statusMessage = statuses[status];\r\n\r\n    // response headers\r\n    setHeaders(res, headers);\r\n\r\n    // security headers\r\n    res.setHeader('Content-Security-Policy', \"default-src 'none'\");\r\n    res.setHeader('X-Content-Type-Options', 'nosniff');\r\n\r\n    // standard headers\r\n    res.setHeader('Content-Type', 'text/html; charset=utf-8');\r\n    res.setHeader('Content-Length', Buffer.byteLength(body, 'utf8'));\r\n\r\n    if (req.method === 'HEAD') {\r\n      res.end();\r\n      return\r\n    }\r\n\r\n    res.end(body, 'utf8');\r\n  }\r\n\r\n  if (isFinished(req)) {\r\n    write();\r\n    return\r\n  }\r\n\r\n  // unpipe everything from the request\r\n  unpipe(req);\r\n\r\n  // flush the request\r\n  onFinished(req, write);\r\n  req.resume();\r\n}\r\n\r\n/**\r\n * Set response headers from an object.\r\n *\r\n * @param {OutgoingMessage} res\r\n * @param {object} headers\r\n * @private\r\n */\r\n\r\nfunction setHeaders (res, headers) {\r\n  if (!headers) {\r\n    return\r\n  }\r\n\r\n  var keys = Object.keys(headers);\r\n  for (var i = 0; i < keys.length; i++) {\r\n    var key = keys[i];\r\n    res.setHeader(key, headers[key]);\r\n  }\r\n}\r\n\r\nvar utilsMerge = {exports: {}};\r\n\r\n/**\r\n * Merge object b with object a.\r\n *\r\n *     var a = { foo: 'bar' }\r\n *       , b = { bar: 'baz' };\r\n *\r\n *     merge(a, b);\r\n *     // => { foo: 'bar', bar: 'baz' }\r\n *\r\n * @param {Object} a\r\n * @param {Object} b\r\n * @return {Object}\r\n * @api public\r\n */\r\n\r\n(function (module, exports) {\r\n\tmodule.exports = function(a, b){\r\n\t  if (a && b) {\r\n\t    for (var key in b) {\r\n\t      a[key] = b[key];\r\n\t    }\r\n\t  }\r\n\t  return a;\r\n\t}; \r\n} (utilsMerge));\r\n\r\nvar utilsMergeExports = utilsMerge.exports;\r\n\r\n/*!\r\n * connect\r\n * Copyright(c) 2010 Sencha Inc.\r\n * Copyright(c) 2011 TJ Holowaychuk\r\n * Copyright(c) 2015 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar debug$d = srcExports('connect:dispatcher');\r\nvar EventEmitter$3 = require$$0$7.EventEmitter;\r\nvar finalhandler = finalhandler_1;\r\nvar http$4 = require$$1;\r\nvar merge = utilsMergeExports;\r\nvar parseUrl$1 = parseurlExports;\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar connect = createServer$1;\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar env = process.env.NODE_ENV || 'development';\r\nvar proto = {};\r\n\r\n/* istanbul ignore next */\r\nvar defer = typeof setImmediate === 'function'\r\n  ? setImmediate\r\n  : function(fn){ process.nextTick(fn.bind.apply(fn, arguments)); };\r\n\r\n/**\r\n * Create a new connect server.\r\n *\r\n * @return {function}\r\n * @public\r\n */\r\n\r\nfunction createServer$1() {\r\n  function app(req, res, next){ app.handle(req, res, next); }\r\n  merge(app, proto);\r\n  merge(app, EventEmitter$3.prototype);\r\n  app.route = '/';\r\n  app.stack = [];\r\n  return app;\r\n}\r\n\r\n/**\r\n * Utilize the given middleware `handle` to the given `route`,\r\n * defaulting to _/_. This \"route\" is the mount-point for the\r\n * middleware, when given a value other than _/_ the middleware\r\n * is only effective when that segment is present in the request's\r\n * pathname.\r\n *\r\n * For example if we were to mount a function at _/admin_, it would\r\n * be invoked on _/admin_, and _/admin/settings_, however it would\r\n * not be invoked for _/_, or _/posts_.\r\n *\r\n * @param {String|Function|Server} route, callback or server\r\n * @param {Function|Server} callback or server\r\n * @return {Server} for chaining\r\n * @public\r\n */\r\n\r\nproto.use = function use(route, fn) {\r\n  var handle = fn;\r\n  var path = route;\r\n\r\n  // default route to '/'\r\n  if (typeof route !== 'string') {\r\n    handle = route;\r\n    path = '/';\r\n  }\r\n\r\n  // wrap sub-apps\r\n  if (typeof handle.handle === 'function') {\r\n    var server = handle;\r\n    server.route = path;\r\n    handle = function (req, res, next) {\r\n      server.handle(req, res, next);\r\n    };\r\n  }\r\n\r\n  // wrap vanilla http.Servers\r\n  if (handle instanceof http$4.Server) {\r\n    handle = handle.listeners('request')[0];\r\n  }\r\n\r\n  // strip trailing slash\r\n  if (path[path.length - 1] === '/') {\r\n    path = path.slice(0, -1);\r\n  }\r\n\r\n  // add the middleware\r\n  debug$d('use %s %s', path || '/', handle.name || 'anonymous');\r\n  this.stack.push({ route: path, handle: handle });\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Handle server requests, punting them down\r\n * the middleware stack.\r\n *\r\n * @private\r\n */\r\n\r\nproto.handle = function handle(req, res, out) {\r\n  var index = 0;\r\n  var protohost = getProtohost(req.url) || '';\r\n  var removed = '';\r\n  var slashAdded = false;\r\n  var stack = this.stack;\r\n\r\n  // final function handler\r\n  var done = out || finalhandler(req, res, {\r\n    env: env,\r\n    onerror: logerror\r\n  });\r\n\r\n  // store the original URL\r\n  req.originalUrl = req.originalUrl || req.url;\r\n\r\n  function next(err) {\r\n    if (slashAdded) {\r\n      req.url = req.url.substr(1);\r\n      slashAdded = false;\r\n    }\r\n\r\n    if (removed.length !== 0) {\r\n      req.url = protohost + removed + req.url.substr(protohost.length);\r\n      removed = '';\r\n    }\r\n\r\n    // next callback\r\n    var layer = stack[index++];\r\n\r\n    // all done\r\n    if (!layer) {\r\n      defer(done, err);\r\n      return;\r\n    }\r\n\r\n    // route data\r\n    var path = parseUrl$1(req).pathname || '/';\r\n    var route = layer.route;\r\n\r\n    // skip this layer if the route doesn't match\r\n    if (path.toLowerCase().substr(0, route.length) !== route.toLowerCase()) {\r\n      return next(err);\r\n    }\r\n\r\n    // skip if route match does not border \"/\", \".\", or end\r\n    var c = path.length > route.length && path[route.length];\r\n    if (c && c !== '/' && c !== '.') {\r\n      return next(err);\r\n    }\r\n\r\n    // trim off the part of the url that matches the route\r\n    if (route.length !== 0 && route !== '/') {\r\n      removed = route;\r\n      req.url = protohost + req.url.substr(protohost.length + removed.length);\r\n\r\n      // ensure leading slash\r\n      if (!protohost && req.url[0] !== '/') {\r\n        req.url = '/' + req.url;\r\n        slashAdded = true;\r\n      }\r\n    }\r\n\r\n    // call the layer handle\r\n    call(layer.handle, route, err, req, res, next);\r\n  }\r\n\r\n  next();\r\n};\r\n\r\n/**\r\n * Listen for connections.\r\n *\r\n * This method takes the same arguments\r\n * as node's `http.Server#listen()`.\r\n *\r\n * HTTP and HTTPS:\r\n *\r\n * If you run your application both as HTTP\r\n * and HTTPS you may wrap them individually,\r\n * since your Connect \"server\" is really just\r\n * a JavaScript `Function`.\r\n *\r\n *      var connect = require('connect')\r\n *        , http = require('http')\r\n *        , https = require('https');\r\n *\r\n *      var app = connect();\r\n *\r\n *      http.createServer(app).listen(80);\r\n *      https.createServer(options, app).listen(443);\r\n *\r\n * @return {http.Server}\r\n * @api public\r\n */\r\n\r\nproto.listen = function listen() {\r\n  var server = http$4.createServer(this);\r\n  return server.listen.apply(server, arguments);\r\n};\r\n\r\n/**\r\n * Invoke a route handle.\r\n * @private\r\n */\r\n\r\nfunction call(handle, route, err, req, res, next) {\r\n  var arity = handle.length;\r\n  var error = err;\r\n  var hasError = Boolean(err);\r\n\r\n  debug$d('%s %s : %s', handle.name || '<anonymous>', route, req.originalUrl);\r\n\r\n  try {\r\n    if (hasError && arity === 4) {\r\n      // error-handling middleware\r\n      handle(err, req, res, next);\r\n      return;\r\n    } else if (!hasError && arity < 4) {\r\n      // request-handling middleware\r\n      handle(req, res, next);\r\n      return;\r\n    }\r\n  } catch (e) {\r\n    // replace the error\r\n    error = e;\r\n  }\r\n\r\n  // continue\r\n  next(error);\r\n}\r\n\r\n/**\r\n * Log error using console.error.\r\n *\r\n * @param {Error} err\r\n * @private\r\n */\r\n\r\nfunction logerror(err) {\r\n  if (env !== 'test') console.error(err.stack || err.toString());\r\n}\r\n\r\n/**\r\n * Get get protocol + host for a URL.\r\n *\r\n * @param {string} url\r\n * @private\r\n */\r\n\r\nfunction getProtohost(url) {\r\n  if (url.length === 0 || url[0] === '/') {\r\n    return undefined;\r\n  }\r\n\r\n  var fqdnIndex = url.indexOf('://');\r\n\r\n  return fqdnIndex !== -1 && url.lastIndexOf('?', fqdnIndex) === -1\r\n    ? url.substr(0, url.indexOf('/', 3 + fqdnIndex))\r\n    : undefined;\r\n}\r\n\r\nvar connect$1 = /*@__PURE__*/getDefaultExportFromCjs(connect);\r\n\r\nvar lib = {exports: {}};\r\n\r\n/*\r\nobject-assign\r\n(c) Sindre Sorhus\r\n@license MIT\r\n*/\r\n/* eslint-disable no-unused-vars */\r\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\r\n\r\nfunction toObject(val) {\r\n\tif (val === null || val === undefined) {\r\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\r\n\t}\r\n\r\n\treturn Object(val);\r\n}\r\n\r\nfunction shouldUseNative() {\r\n\ttry {\r\n\t\tif (!Object.assign) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Detect buggy property enumeration order in older V8 versions.\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\r\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\r\n\t\ttest1[5] = 'de';\r\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\r\n\t\tvar test2 = {};\r\n\t\tfor (var i = 0; i < 10; i++) {\r\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\r\n\t\t}\r\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\r\n\t\t\treturn test2[n];\r\n\t\t});\r\n\t\tif (order2.join('') !== '0123456789') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\r\n\t\tvar test3 = {};\r\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\r\n\t\t\ttest3[letter] = letter;\r\n\t\t});\r\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\r\n\t\t\t\t'abcdefghijklmnopqrst') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\t// We don't expect any of the above to throw, but better to be safe.\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\r\n\tvar from;\r\n\tvar to = toObject(target);\r\n\tvar symbols;\r\n\r\n\tfor (var s = 1; s < arguments.length; s++) {\r\n\t\tfrom = Object(arguments[s]);\r\n\r\n\t\tfor (var key in from) {\r\n\t\t\tif (hasOwnProperty.call(from, key)) {\r\n\t\t\t\tto[key] = from[key];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (getOwnPropertySymbols) {\r\n\t\t\tsymbols = getOwnPropertySymbols(from);\r\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\r\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\r\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn to;\r\n};\r\n\r\nvar vary$1 = {exports: {}};\r\n\r\n/*!\r\n * vary\r\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n */\r\n\r\nvary$1.exports = vary;\r\nvary$1.exports.append = append;\r\n\r\n/**\r\n * RegExp to match field-name in RFC 7230 sec 3.2\r\n *\r\n * field-name    = token\r\n * token         = 1*tchar\r\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\r\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\r\n *               / DIGIT / ALPHA\r\n *               ; any VCHAR, except delimiters\r\n */\r\n\r\nvar FIELD_NAME_REGEXP = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/;\r\n\r\n/**\r\n * Append a field to a vary header.\r\n *\r\n * @param {String} header\r\n * @param {String|Array} field\r\n * @return {String}\r\n * @public\r\n */\r\n\r\nfunction append (header, field) {\r\n  if (typeof header !== 'string') {\r\n    throw new TypeError('header argument is required')\r\n  }\r\n\r\n  if (!field) {\r\n    throw new TypeError('field argument is required')\r\n  }\r\n\r\n  // get fields array\r\n  var fields = !Array.isArray(field)\r\n    ? parse$7(String(field))\r\n    : field;\r\n\r\n  // assert on invalid field names\r\n  for (var j = 0; j < fields.length; j++) {\r\n    if (!FIELD_NAME_REGEXP.test(fields[j])) {\r\n      throw new TypeError('field argument contains an invalid header name')\r\n    }\r\n  }\r\n\r\n  // existing, unspecified vary\r\n  if (header === '*') {\r\n    return header\r\n  }\r\n\r\n  // enumerate current values\r\n  var val = header;\r\n  var vals = parse$7(header.toLowerCase());\r\n\r\n  // unspecified vary\r\n  if (fields.indexOf('*') !== -1 || vals.indexOf('*') !== -1) {\r\n    return '*'\r\n  }\r\n\r\n  for (var i = 0; i < fields.length; i++) {\r\n    var fld = fields[i].toLowerCase();\r\n\r\n    // append value (case-preserving)\r\n    if (vals.indexOf(fld) === -1) {\r\n      vals.push(fld);\r\n      val = val\r\n        ? val + ', ' + fields[i]\r\n        : fields[i];\r\n    }\r\n  }\r\n\r\n  return val\r\n}\r\n\r\n/**\r\n * Parse a vary header into an array.\r\n *\r\n * @param {String} header\r\n * @return {Array}\r\n * @private\r\n */\r\n\r\nfunction parse$7 (header) {\r\n  var end = 0;\r\n  var list = [];\r\n  var start = 0;\r\n\r\n  // gather tokens\r\n  for (var i = 0, len = header.length; i < len; i++) {\r\n    switch (header.charCodeAt(i)) {\r\n      case 0x20: /*   */\r\n        if (start === end) {\r\n          start = end = i + 1;\r\n        }\r\n        break\r\n      case 0x2c: /* , */\r\n        list.push(header.substring(start, end));\r\n        start = end = i + 1;\r\n        break\r\n      default:\r\n        end = i + 1;\r\n        break\r\n    }\r\n  }\r\n\r\n  // final token\r\n  list.push(header.substring(start, end));\r\n\r\n  return list\r\n}\r\n\r\n/**\r\n * Mark that a request is varied on a header field.\r\n *\r\n * @param {Object} res\r\n * @param {String|Array} field\r\n * @public\r\n */\r\n\r\nfunction vary (res, field) {\r\n  if (!res || !res.getHeader || !res.setHeader) {\r\n    // quack quack\r\n    throw new TypeError('res argument is required')\r\n  }\r\n\r\n  // get existing header\r\n  var val = res.getHeader('Vary') || '';\r\n  var header = Array.isArray(val)\r\n    ? val.join(', ')\r\n    : String(val);\r\n\r\n  // set new header\r\n  if ((val = append(header, field))) {\r\n    res.setHeader('Vary', val);\r\n  }\r\n}\r\n\r\nvar varyExports = vary$1.exports;\r\n\r\n(function () {\r\n\r\n  var assign = objectAssign;\r\n  var vary = varyExports;\r\n\r\n  var defaults = {\r\n    origin: '*',\r\n    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\r\n    preflightContinue: false,\r\n    optionsSuccessStatus: 204\r\n  };\r\n\r\n  function isString(s) {\r\n    return typeof s === 'string' || s instanceof String;\r\n  }\r\n\r\n  function isOriginAllowed(origin, allowedOrigin) {\r\n    if (Array.isArray(allowedOrigin)) {\r\n      for (var i = 0; i < allowedOrigin.length; ++i) {\r\n        if (isOriginAllowed(origin, allowedOrigin[i])) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    } else if (isString(allowedOrigin)) {\r\n      return origin === allowedOrigin;\r\n    } else if (allowedOrigin instanceof RegExp) {\r\n      return allowedOrigin.test(origin);\r\n    } else {\r\n      return !!allowedOrigin;\r\n    }\r\n  }\r\n\r\n  function configureOrigin(options, req) {\r\n    var requestOrigin = req.headers.origin,\r\n      headers = [],\r\n      isAllowed;\r\n\r\n    if (!options.origin || options.origin === '*') {\r\n      // allow any origin\r\n      headers.push([{\r\n        key: 'Access-Control-Allow-Origin',\r\n        value: '*'\r\n      }]);\r\n    } else if (isString(options.origin)) {\r\n      // fixed origin\r\n      headers.push([{\r\n        key: 'Access-Control-Allow-Origin',\r\n        value: options.origin\r\n      }]);\r\n      headers.push([{\r\n        key: 'Vary',\r\n        value: 'Origin'\r\n      }]);\r\n    } else {\r\n      isAllowed = isOriginAllowed(requestOrigin, options.origin);\r\n      // reflect origin\r\n      headers.push([{\r\n        key: 'Access-Control-Allow-Origin',\r\n        value: isAllowed ? requestOrigin : false\r\n      }]);\r\n      headers.push([{\r\n        key: 'Vary',\r\n        value: 'Origin'\r\n      }]);\r\n    }\r\n\r\n    return headers;\r\n  }\r\n\r\n  function configureMethods(options) {\r\n    var methods = options.methods;\r\n    if (methods.join) {\r\n      methods = options.methods.join(','); // .methods is an array, so turn it into a string\r\n    }\r\n    return {\r\n      key: 'Access-Control-Allow-Methods',\r\n      value: methods\r\n    };\r\n  }\r\n\r\n  function configureCredentials(options) {\r\n    if (options.credentials === true) {\r\n      return {\r\n        key: 'Access-Control-Allow-Credentials',\r\n        value: 'true'\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function configureAllowedHeaders(options, req) {\r\n    var allowedHeaders = options.allowedHeaders || options.headers;\r\n    var headers = [];\r\n\r\n    if (!allowedHeaders) {\r\n      allowedHeaders = req.headers['access-control-request-headers']; // .headers wasn't specified, so reflect the request headers\r\n      headers.push([{\r\n        key: 'Vary',\r\n        value: 'Access-Control-Request-Headers'\r\n      }]);\r\n    } else if (allowedHeaders.join) {\r\n      allowedHeaders = allowedHeaders.join(','); // .headers is an array, so turn it into a string\r\n    }\r\n    if (allowedHeaders && allowedHeaders.length) {\r\n      headers.push([{\r\n        key: 'Access-Control-Allow-Headers',\r\n        value: allowedHeaders\r\n      }]);\r\n    }\r\n\r\n    return headers;\r\n  }\r\n\r\n  function configureExposedHeaders(options) {\r\n    var headers = options.exposedHeaders;\r\n    if (!headers) {\r\n      return null;\r\n    } else if (headers.join) {\r\n      headers = headers.join(','); // .headers is an array, so turn it into a string\r\n    }\r\n    if (headers && headers.length) {\r\n      return {\r\n        key: 'Access-Control-Expose-Headers',\r\n        value: headers\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function configureMaxAge(options) {\r\n    var maxAge = (typeof options.maxAge === 'number' || options.maxAge) && options.maxAge.toString();\r\n    if (maxAge && maxAge.length) {\r\n      return {\r\n        key: 'Access-Control-Max-Age',\r\n        value: maxAge\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function applyHeaders(headers, res) {\r\n    for (var i = 0, n = headers.length; i < n; i++) {\r\n      var header = headers[i];\r\n      if (header) {\r\n        if (Array.isArray(header)) {\r\n          applyHeaders(header, res);\r\n        } else if (header.key === 'Vary' && header.value) {\r\n          vary(res, header.value);\r\n        } else if (header.value) {\r\n          res.setHeader(header.key, header.value);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function cors(options, req, res, next) {\r\n    var headers = [],\r\n      method = req.method && req.method.toUpperCase && req.method.toUpperCase();\r\n\r\n    if (method === 'OPTIONS') {\r\n      // preflight\r\n      headers.push(configureOrigin(options, req));\r\n      headers.push(configureCredentials(options));\r\n      headers.push(configureMethods(options));\r\n      headers.push(configureAllowedHeaders(options, req));\r\n      headers.push(configureMaxAge(options));\r\n      headers.push(configureExposedHeaders(options));\r\n      applyHeaders(headers, res);\r\n\r\n      if (options.preflightContinue) {\r\n        next();\r\n      } else {\r\n        // Safari (and potentially other browsers) need content-length 0,\r\n        //   for 204 or they just hang waiting for a body\r\n        res.statusCode = options.optionsSuccessStatus;\r\n        res.setHeader('Content-Length', '0');\r\n        res.end();\r\n      }\r\n    } else {\r\n      // actual response\r\n      headers.push(configureOrigin(options, req));\r\n      headers.push(configureCredentials(options));\r\n      headers.push(configureExposedHeaders(options));\r\n      applyHeaders(headers, res);\r\n      next();\r\n    }\r\n  }\r\n\r\n  function middlewareWrapper(o) {\r\n    // if options are static (either via defaults or custom options passed in), wrap in a function\r\n    var optionsCallback = null;\r\n    if (typeof o === 'function') {\r\n      optionsCallback = o;\r\n    } else {\r\n      optionsCallback = function (req, cb) {\r\n        cb(null, o);\r\n      };\r\n    }\r\n\r\n    return function corsMiddleware(req, res, next) {\r\n      optionsCallback(req, function (err, options) {\r\n        if (err) {\r\n          next(err);\r\n        } else {\r\n          var corsOptions = assign({}, defaults, options);\r\n          var originCallback = null;\r\n          if (corsOptions.origin && typeof corsOptions.origin === 'function') {\r\n            originCallback = corsOptions.origin;\r\n          } else if (corsOptions.origin) {\r\n            originCallback = function (origin, cb) {\r\n              cb(null, corsOptions.origin);\r\n            };\r\n          }\r\n\r\n          if (originCallback) {\r\n            originCallback(req.headers.origin, function (err2, origin) {\r\n              if (err2 || !origin) {\r\n                next(err2);\r\n              } else {\r\n                corsOptions.origin = origin;\r\n                cors(corsOptions, req, res, next);\r\n              }\r\n            });\r\n          } else {\r\n            next();\r\n          }\r\n        }\r\n      });\r\n    };\r\n  }\r\n\r\n  // can pass either an options hash, an options delegate, or nothing\r\n  lib.exports = middlewareWrapper;\r\n\r\n}());\r\n\r\nvar libExports = lib.exports;\r\nvar corsMiddleware = /*@__PURE__*/getDefaultExportFromCjs(libExports);\r\n\r\nvar chokidar = {};\r\n\r\nconst fs$8 = require$$0__default;\r\nconst { Readable } = require$$0$6;\r\nconst sysPath$3 = require$$0$4;\r\nconst { promisify: promisify$3 } = require$$0$5;\r\nconst picomatch$1 = picomatch$3;\r\n\r\nconst readdir$1 = promisify$3(fs$8.readdir);\r\nconst stat$3 = promisify$3(fs$8.stat);\r\nconst lstat$2 = promisify$3(fs$8.lstat);\r\nconst realpath$1 = promisify$3(fs$8.realpath);\r\n\r\n/**\r\n * @typedef {Object} EntryInfo\r\n * @property {String} path\r\n * @property {String} fullPath\r\n * @property {fs.Stats=} stats\r\n * @property {fs.Dirent=} dirent\r\n * @property {String} basename\r\n */\r\n\r\nconst BANG$2 = '!';\r\nconst RECURSIVE_ERROR_CODE = 'READDIRP_RECURSIVE_ERROR';\r\nconst NORMAL_FLOW_ERRORS = new Set(['ENOENT', 'EPERM', 'EACCES', 'ELOOP', RECURSIVE_ERROR_CODE]);\r\nconst FILE_TYPE = 'files';\r\nconst DIR_TYPE = 'directories';\r\nconst FILE_DIR_TYPE = 'files_directories';\r\nconst EVERYTHING_TYPE = 'all';\r\nconst ALL_TYPES = [FILE_TYPE, DIR_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE];\r\n\r\nconst isNormalFlowError = error => NORMAL_FLOW_ERRORS.has(error.code);\r\nconst [maj, min] = process.versions.node.split('.').slice(0, 2).map(n => Number.parseInt(n, 10));\r\nconst wantBigintFsStats = process.platform === 'win32' && (maj > 10 || (maj === 10 && min >= 5));\r\n\r\nconst normalizeFilter = filter => {\r\n  if (filter === undefined) return;\r\n  if (typeof filter === 'function') return filter;\r\n\r\n  if (typeof filter === 'string') {\r\n    const glob = picomatch$1(filter.trim());\r\n    return entry => glob(entry.basename);\r\n  }\r\n\r\n  if (Array.isArray(filter)) {\r\n    const positive = [];\r\n    const negative = [];\r\n    for (const item of filter) {\r\n      const trimmed = item.trim();\r\n      if (trimmed.charAt(0) === BANG$2) {\r\n        negative.push(picomatch$1(trimmed.slice(1)));\r\n      } else {\r\n        positive.push(picomatch$1(trimmed));\r\n      }\r\n    }\r\n\r\n    if (negative.length > 0) {\r\n      if (positive.length > 0) {\r\n        return entry =>\r\n          positive.some(f => f(entry.basename)) && !negative.some(f => f(entry.basename));\r\n      }\r\n      return entry => !negative.some(f => f(entry.basename));\r\n    }\r\n    return entry => positive.some(f => f(entry.basename));\r\n  }\r\n};\r\n\r\nclass ReaddirpStream extends Readable {\r\n  static get defaultOptions() {\r\n    return {\r\n      root: '.',\r\n      /* eslint-disable no-unused-vars */\r\n      fileFilter: (path) => true,\r\n      directoryFilter: (path) => true,\r\n      /* eslint-enable no-unused-vars */\r\n      type: FILE_TYPE,\r\n      lstat: false,\r\n      depth: 2147483648,\r\n      alwaysStat: false\r\n    };\r\n  }\r\n\r\n  constructor(options = {}) {\r\n    super({\r\n      objectMode: true,\r\n      autoDestroy: true,\r\n      highWaterMark: options.highWaterMark || 4096\r\n    });\r\n    const opts = { ...ReaddirpStream.defaultOptions, ...options };\r\n    const { root, type } = opts;\r\n\r\n    this._fileFilter = normalizeFilter(opts.fileFilter);\r\n    this._directoryFilter = normalizeFilter(opts.directoryFilter);\r\n\r\n    const statMethod = opts.lstat ? lstat$2 : stat$3;\r\n    // Use bigint stats if it's windows and stat() supports options (node 10+).\r\n    if (wantBigintFsStats) {\r\n      this._stat = path => statMethod(path, { bigint: true });\r\n    } else {\r\n      this._stat = statMethod;\r\n    }\r\n\r\n    this._maxDepth = opts.depth;\r\n    this._wantsDir = [DIR_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE].includes(type);\r\n    this._wantsFile = [FILE_TYPE, FILE_DIR_TYPE, EVERYTHING_TYPE].includes(type);\r\n    this._wantsEverything = type === EVERYTHING_TYPE;\r\n    this._root = sysPath$3.resolve(root);\r\n    this._isDirent = ('Dirent' in fs$8) && !opts.alwaysStat;\r\n    this._statsProp = this._isDirent ? 'dirent' : 'stats';\r\n    this._rdOptions = { encoding: 'utf8', withFileTypes: this._isDirent };\r\n\r\n    // Launch stream with one parent, the root dir.\r\n    this.parents = [this._exploreDir(root, 1)];\r\n    this.reading = false;\r\n    this.parent = undefined;\r\n  }\r\n\r\n  async _read(batch) {\r\n    if (this.reading) return;\r\n    this.reading = true;\r\n\r\n    try {\r\n      while (!this.destroyed && batch > 0) {\r\n        const { path, depth, files = [] } = this.parent || {};\r\n\r\n        if (files.length > 0) {\r\n          const slice = files.splice(0, batch).map(dirent => this._formatEntry(dirent, path));\r\n          for (const entry of await Promise.all(slice)) {\r\n            if (this.destroyed) return;\r\n\r\n            const entryType = await this._getEntryType(entry);\r\n            if (entryType === 'directory' && this._directoryFilter(entry)) {\r\n              if (depth <= this._maxDepth) {\r\n                this.parents.push(this._exploreDir(entry.fullPath, depth + 1));\r\n              }\r\n\r\n              if (this._wantsDir) {\r\n                this.push(entry);\r\n                batch--;\r\n              }\r\n            } else if ((entryType === 'file' || this._includeAsFile(entry)) && this._fileFilter(entry)) {\r\n              if (this._wantsFile) {\r\n                this.push(entry);\r\n                batch--;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          const parent = this.parents.pop();\r\n          if (!parent) {\r\n            this.push(null);\r\n            break;\r\n          }\r\n          this.parent = await parent;\r\n          if (this.destroyed) return;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      this.destroy(error);\r\n    } finally {\r\n      this.reading = false;\r\n    }\r\n  }\r\n\r\n  async _exploreDir(path, depth) {\r\n    let files;\r\n    try {\r\n      files = await readdir$1(path, this._rdOptions);\r\n    } catch (error) {\r\n      this._onError(error);\r\n    }\r\n    return { files, depth, path };\r\n  }\r\n\r\n  async _formatEntry(dirent, path) {\r\n    let entry;\r\n    try {\r\n      const basename = this._isDirent ? dirent.name : dirent;\r\n      const fullPath = sysPath$3.resolve(sysPath$3.join(path, basename));\r\n      entry = { path: sysPath$3.relative(this._root, fullPath), fullPath, basename };\r\n      entry[this._statsProp] = this._isDirent ? dirent : await this._stat(fullPath);\r\n    } catch (err) {\r\n      this._onError(err);\r\n    }\r\n    return entry;\r\n  }\r\n\r\n  _onError(err) {\r\n    if (isNormalFlowError(err) && !this.destroyed) {\r\n      this.emit('warn', err);\r\n    } else {\r\n      this.destroy(err);\r\n    }\r\n  }\r\n\r\n  async _getEntryType(entry) {\r\n    // entry may be undefined, because a warning or an error were emitted\r\n    // and the statsProp is undefined\r\n    const stats = entry && entry[this._statsProp];\r\n    if (!stats) {\r\n      return;\r\n    }\r\n    if (stats.isFile()) {\r\n      return 'file';\r\n    }\r\n    if (stats.isDirectory()) {\r\n      return 'directory';\r\n    }\r\n    if (stats && stats.isSymbolicLink()) {\r\n      const full = entry.fullPath;\r\n      try {\r\n        const entryRealPath = await realpath$1(full);\r\n        const entryRealPathStats = await lstat$2(entryRealPath);\r\n        if (entryRealPathStats.isFile()) {\r\n          return 'file';\r\n        }\r\n        if (entryRealPathStats.isDirectory()) {\r\n          const len = entryRealPath.length;\r\n          if (full.startsWith(entryRealPath) && full.substr(len, 1) === sysPath$3.sep) {\r\n            const recursiveError = new Error(\r\n              `Circular symlink detected: \"${full}\" points to \"${entryRealPath}\"`\r\n            );\r\n            recursiveError.code = RECURSIVE_ERROR_CODE;\r\n            return this._onError(recursiveError);\r\n          }\r\n          return 'directory';\r\n        }\r\n      } catch (error) {\r\n        this._onError(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  _includeAsFile(entry) {\r\n    const stats = entry && entry[this._statsProp];\r\n\r\n    return stats && this._wantsEverything && !stats.isDirectory();\r\n  }\r\n}\r\n\r\n/**\r\n * @typedef {Object} ReaddirpArguments\r\n * @property {Function=} fileFilter\r\n * @property {Function=} directoryFilter\r\n * @property {String=} type\r\n * @property {Number=} depth\r\n * @property {String=} root\r\n * @property {Boolean=} lstat\r\n * @property {Boolean=} bigint\r\n */\r\n\r\n/**\r\n * Main function which ends up calling readdirRec and reads all files and directories in given root recursively.\r\n * @param {String} root Root directory\r\n * @param {ReaddirpArguments=} options Options to specify root (start directory), filters and recursion depth\r\n */\r\nconst readdirp$1 = (root, options = {}) => {\r\n  let type = options.entryType || options.type;\r\n  if (type === 'both') type = FILE_DIR_TYPE; // backwards-compatibility\r\n  if (type) options.type = type;\r\n  if (!root) {\r\n    throw new Error('readdirp: root argument is required. Usage: readdirp(root, options)');\r\n  } else if (typeof root !== 'string') {\r\n    throw new TypeError('readdirp: root argument must be a string. Usage: readdirp(root, options)');\r\n  } else if (type && !ALL_TYPES.includes(type)) {\r\n    throw new Error(`readdirp: Invalid type passed. Use one of ${ALL_TYPES.join(', ')}`);\r\n  }\r\n\r\n  options.root = root;\r\n  return new ReaddirpStream(options);\r\n};\r\n\r\nconst readdirpPromise = (root, options = {}) => {\r\n  return new Promise((resolve, reject) => {\r\n    const files = [];\r\n    readdirp$1(root, options)\r\n      .on('data', entry => files.push(entry))\r\n      .on('end', () => resolve(files))\r\n      .on('error', error => reject(error));\r\n  });\r\n};\r\n\r\nreaddirp$1.promise = readdirpPromise;\r\nreaddirp$1.ReaddirpStream = ReaddirpStream;\r\nreaddirp$1.default = readdirp$1;\r\n\r\nvar readdirp_1 = readdirp$1;\r\n\r\nvar anymatch$2 = {exports: {}};\r\n\r\n/*!\r\n * normalize-path <https://github.com/jonschlinkert/normalize-path>\r\n *\r\n * Copyright (c) 2014-2018, Jon Schlinkert.\r\n * Released under the MIT License.\r\n */\r\n\r\nvar normalizePath$2 = function(path, stripTrailing) {\r\n  if (typeof path !== 'string') {\r\n    throw new TypeError('expected path to be a string');\r\n  }\r\n\r\n  if (path === '\\\\' || path === '/') return '/';\r\n\r\n  var len = path.length;\r\n  if (len <= 1) return path;\r\n\r\n  // ensure that win32 namespaces has two leading slashes, so that the path is\r\n  // handled properly by the win32 version of path.parse() after being normalized\r\n  // https://msdn.microsoft.com/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces\r\n  var prefix = '';\r\n  if (len > 4 && path[3] === '\\\\') {\r\n    var ch = path[2];\r\n    if ((ch === '?' || ch === '.') && path.slice(0, 2) === '\\\\\\\\') {\r\n      path = path.slice(2);\r\n      prefix = '//';\r\n    }\r\n  }\r\n\r\n  var segs = path.split(/[/\\\\]+/);\r\n  if (stripTrailing !== false && segs[segs.length - 1] === '') {\r\n    segs.pop();\r\n  }\r\n  return prefix + segs.join('/');\r\n};\r\n\r\nvar anymatch_1 = anymatch$2.exports;\r\n\r\nObject.defineProperty(anymatch_1, \"__esModule\", { value: true });\r\n\r\nconst picomatch = picomatch$3;\r\nconst normalizePath$1 = normalizePath$2;\r\n\r\n/**\r\n * @typedef {(testString: string) => boolean} AnymatchFn\r\n * @typedef {string|RegExp|AnymatchFn} AnymatchPattern\r\n * @typedef {AnymatchPattern|AnymatchPattern[]} AnymatchMatcher\r\n */\r\nconst BANG$1 = '!';\r\nconst DEFAULT_OPTIONS = {returnIndex: false};\r\nconst arrify$1 = (item) => Array.isArray(item) ? item : [item];\r\n\r\n/**\r\n * @param {AnymatchPattern} matcher\r\n * @param {object} options\r\n * @returns {AnymatchFn}\r\n */\r\nconst createPattern = (matcher, options) => {\r\n  if (typeof matcher === 'function') {\r\n    return matcher;\r\n  }\r\n  if (typeof matcher === 'string') {\r\n    const glob = picomatch(matcher, options);\r\n    return (string) => matcher === string || glob(string);\r\n  }\r\n  if (matcher instanceof RegExp) {\r\n    return (string) => matcher.test(string);\r\n  }\r\n  return (string) => false;\r\n};\r\n\r\n/**\r\n * @param {Array<Function>} patterns\r\n * @param {Array<Function>} negPatterns\r\n * @param {String|Array} args\r\n * @param {Boolean} returnIndex\r\n * @returns {boolean|number}\r\n */\r\nconst matchPatterns = (patterns, negPatterns, args, returnIndex) => {\r\n  const isList = Array.isArray(args);\r\n  const _path = isList ? args[0] : args;\r\n  if (!isList && typeof _path !== 'string') {\r\n    throw new TypeError('anymatch: second argument must be a string: got ' +\r\n      Object.prototype.toString.call(_path))\r\n  }\r\n  const path = normalizePath$1(_path);\r\n\r\n  for (let index = 0; index < negPatterns.length; index++) {\r\n    const nglob = negPatterns[index];\r\n    if (nglob(path)) {\r\n      return returnIndex ? -1 : false;\r\n    }\r\n  }\r\n\r\n  const applied = isList && [path].concat(args.slice(1));\r\n  for (let index = 0; index < patterns.length; index++) {\r\n    const pattern = patterns[index];\r\n    if (isList ? pattern(...applied) : pattern(path)) {\r\n      return returnIndex ? index : true;\r\n    }\r\n  }\r\n\r\n  return returnIndex ? -1 : false;\r\n};\r\n\r\n/**\r\n * @param {AnymatchMatcher} matchers\r\n * @param {Array|string} testString\r\n * @param {object} options\r\n * @returns {boolean|number|Function}\r\n */\r\nconst anymatch$1 = (matchers, testString, options = DEFAULT_OPTIONS) => {\r\n  if (matchers == null) {\r\n    throw new TypeError('anymatch: specify first argument');\r\n  }\r\n  const opts = typeof options === 'boolean' ? {returnIndex: options} : options;\r\n  const returnIndex = opts.returnIndex || false;\r\n\r\n  // Early cache for matchers.\r\n  const mtchers = arrify$1(matchers);\r\n  const negatedGlobs = mtchers\r\n    .filter(item => typeof item === 'string' && item.charAt(0) === BANG$1)\r\n    .map(item => item.slice(1))\r\n    .map(item => picomatch(item, opts));\r\n  const patterns = mtchers\r\n    .filter(item => typeof item !== 'string' || (typeof item === 'string' && item.charAt(0) !== BANG$1))\r\n    .map(matcher => createPattern(matcher, opts));\r\n\r\n  if (testString == null) {\r\n    return (testString, ri = false) => {\r\n      const returnIndex = typeof ri === 'boolean' ? ri : false;\r\n      return matchPatterns(patterns, negatedGlobs, testString, returnIndex);\r\n    }\r\n  }\r\n\r\n  return matchPatterns(patterns, negatedGlobs, testString, returnIndex);\r\n};\r\n\r\nanymatch$1.default = anymatch$1;\r\nanymatch$2.exports = anymatch$1;\r\n\r\nvar anymatchExports = anymatch$2.exports;\r\n\r\nvar require$$0 = [\r\n\t\"3dm\",\r\n\t\"3ds\",\r\n\t\"3g2\",\r\n\t\"3gp\",\r\n\t\"7z\",\r\n\t\"a\",\r\n\t\"aac\",\r\n\t\"adp\",\r\n\t\"ai\",\r\n\t\"aif\",\r\n\t\"aiff\",\r\n\t\"alz\",\r\n\t\"ape\",\r\n\t\"apk\",\r\n\t\"appimage\",\r\n\t\"ar\",\r\n\t\"arj\",\r\n\t\"asf\",\r\n\t\"au\",\r\n\t\"avi\",\r\n\t\"bak\",\r\n\t\"baml\",\r\n\t\"bh\",\r\n\t\"bin\",\r\n\t\"bk\",\r\n\t\"bmp\",\r\n\t\"btif\",\r\n\t\"bz2\",\r\n\t\"bzip2\",\r\n\t\"cab\",\r\n\t\"caf\",\r\n\t\"cgm\",\r\n\t\"class\",\r\n\t\"cmx\",\r\n\t\"cpio\",\r\n\t\"cr2\",\r\n\t\"cur\",\r\n\t\"dat\",\r\n\t\"dcm\",\r\n\t\"deb\",\r\n\t\"dex\",\r\n\t\"djvu\",\r\n\t\"dll\",\r\n\t\"dmg\",\r\n\t\"dng\",\r\n\t\"doc\",\r\n\t\"docm\",\r\n\t\"docx\",\r\n\t\"dot\",\r\n\t\"dotm\",\r\n\t\"dra\",\r\n\t\"DS_Store\",\r\n\t\"dsk\",\r\n\t\"dts\",\r\n\t\"dtshd\",\r\n\t\"dvb\",\r\n\t\"dwg\",\r\n\t\"dxf\",\r\n\t\"ecelp4800\",\r\n\t\"ecelp7470\",\r\n\t\"ecelp9600\",\r\n\t\"egg\",\r\n\t\"eol\",\r\n\t\"eot\",\r\n\t\"epub\",\r\n\t\"exe\",\r\n\t\"f4v\",\r\n\t\"fbs\",\r\n\t\"fh\",\r\n\t\"fla\",\r\n\t\"flac\",\r\n\t\"flatpak\",\r\n\t\"fli\",\r\n\t\"flv\",\r\n\t\"fpx\",\r\n\t\"fst\",\r\n\t\"fvt\",\r\n\t\"g3\",\r\n\t\"gh\",\r\n\t\"gif\",\r\n\t\"graffle\",\r\n\t\"gz\",\r\n\t\"gzip\",\r\n\t\"h261\",\r\n\t\"h263\",\r\n\t\"h264\",\r\n\t\"icns\",\r\n\t\"ico\",\r\n\t\"ief\",\r\n\t\"img\",\r\n\t\"ipa\",\r\n\t\"iso\",\r\n\t\"jar\",\r\n\t\"jpeg\",\r\n\t\"jpg\",\r\n\t\"jpgv\",\r\n\t\"jpm\",\r\n\t\"jxr\",\r\n\t\"key\",\r\n\t\"ktx\",\r\n\t\"lha\",\r\n\t\"lib\",\r\n\t\"lvp\",\r\n\t\"lz\",\r\n\t\"lzh\",\r\n\t\"lzma\",\r\n\t\"lzo\",\r\n\t\"m3u\",\r\n\t\"m4a\",\r\n\t\"m4v\",\r\n\t\"mar\",\r\n\t\"mdi\",\r\n\t\"mht\",\r\n\t\"mid\",\r\n\t\"midi\",\r\n\t\"mj2\",\r\n\t\"mka\",\r\n\t\"mkv\",\r\n\t\"mmr\",\r\n\t\"mng\",\r\n\t\"mobi\",\r\n\t\"mov\",\r\n\t\"movie\",\r\n\t\"mp3\",\r\n\t\"mp4\",\r\n\t\"mp4a\",\r\n\t\"mpeg\",\r\n\t\"mpg\",\r\n\t\"mpga\",\r\n\t\"mxu\",\r\n\t\"nef\",\r\n\t\"npx\",\r\n\t\"numbers\",\r\n\t\"nupkg\",\r\n\t\"o\",\r\n\t\"odp\",\r\n\t\"ods\",\r\n\t\"odt\",\r\n\t\"oga\",\r\n\t\"ogg\",\r\n\t\"ogv\",\r\n\t\"otf\",\r\n\t\"ott\",\r\n\t\"pages\",\r\n\t\"pbm\",\r\n\t\"pcx\",\r\n\t\"pdb\",\r\n\t\"pdf\",\r\n\t\"pea\",\r\n\t\"pgm\",\r\n\t\"pic\",\r\n\t\"png\",\r\n\t\"pnm\",\r\n\t\"pot\",\r\n\t\"potm\",\r\n\t\"potx\",\r\n\t\"ppa\",\r\n\t\"ppam\",\r\n\t\"ppm\",\r\n\t\"pps\",\r\n\t\"ppsm\",\r\n\t\"ppsx\",\r\n\t\"ppt\",\r\n\t\"pptm\",\r\n\t\"pptx\",\r\n\t\"psd\",\r\n\t\"pya\",\r\n\t\"pyc\",\r\n\t\"pyo\",\r\n\t\"pyv\",\r\n\t\"qt\",\r\n\t\"rar\",\r\n\t\"ras\",\r\n\t\"raw\",\r\n\t\"resources\",\r\n\t\"rgb\",\r\n\t\"rip\",\r\n\t\"rlc\",\r\n\t\"rmf\",\r\n\t\"rmvb\",\r\n\t\"rpm\",\r\n\t\"rtf\",\r\n\t\"rz\",\r\n\t\"s3m\",\r\n\t\"s7z\",\r\n\t\"scpt\",\r\n\t\"sgi\",\r\n\t\"shar\",\r\n\t\"snap\",\r\n\t\"sil\",\r\n\t\"sketch\",\r\n\t\"slk\",\r\n\t\"smv\",\r\n\t\"snk\",\r\n\t\"so\",\r\n\t\"stl\",\r\n\t\"suo\",\r\n\t\"sub\",\r\n\t\"swf\",\r\n\t\"tar\",\r\n\t\"tbz\",\r\n\t\"tbz2\",\r\n\t\"tga\",\r\n\t\"tgz\",\r\n\t\"thmx\",\r\n\t\"tif\",\r\n\t\"tiff\",\r\n\t\"tlz\",\r\n\t\"ttc\",\r\n\t\"ttf\",\r\n\t\"txz\",\r\n\t\"udf\",\r\n\t\"uvh\",\r\n\t\"uvi\",\r\n\t\"uvm\",\r\n\t\"uvp\",\r\n\t\"uvs\",\r\n\t\"uvu\",\r\n\t\"viv\",\r\n\t\"vob\",\r\n\t\"war\",\r\n\t\"wav\",\r\n\t\"wax\",\r\n\t\"wbmp\",\r\n\t\"wdp\",\r\n\t\"weba\",\r\n\t\"webm\",\r\n\t\"webp\",\r\n\t\"whl\",\r\n\t\"wim\",\r\n\t\"wm\",\r\n\t\"wma\",\r\n\t\"wmv\",\r\n\t\"wmx\",\r\n\t\"woff\",\r\n\t\"woff2\",\r\n\t\"wrm\",\r\n\t\"wvx\",\r\n\t\"xbm\",\r\n\t\"xif\",\r\n\t\"xla\",\r\n\t\"xlam\",\r\n\t\"xls\",\r\n\t\"xlsb\",\r\n\t\"xlsm\",\r\n\t\"xlsx\",\r\n\t\"xlt\",\r\n\t\"xltm\",\r\n\t\"xltx\",\r\n\t\"xm\",\r\n\t\"xmind\",\r\n\t\"xpi\",\r\n\t\"xpm\",\r\n\t\"xwd\",\r\n\t\"xz\",\r\n\t\"z\",\r\n\t\"zip\",\r\n\t\"zipx\"\r\n];\r\n\r\nvar binaryExtensions$1 = require$$0;\r\n\r\nconst path$8 = require$$0$4;\r\nconst binaryExtensions = binaryExtensions$1;\r\n\r\nconst extensions = new Set(binaryExtensions);\r\n\r\nvar isBinaryPath$1 = filePath => extensions.has(path$8.extname(filePath).slice(1).toLowerCase());\r\n\r\nvar constants$1 = {};\r\n\r\n(function (exports) {\r\n\r\n\tconst {sep} = require$$0$4;\r\n\tconst {platform} = process;\r\n\tconst os = require$$2;\r\n\r\n\texports.EV_ALL = 'all';\r\n\texports.EV_READY = 'ready';\r\n\texports.EV_ADD = 'add';\r\n\texports.EV_CHANGE = 'change';\r\n\texports.EV_ADD_DIR = 'addDir';\r\n\texports.EV_UNLINK = 'unlink';\r\n\texports.EV_UNLINK_DIR = 'unlinkDir';\r\n\texports.EV_RAW = 'raw';\r\n\texports.EV_ERROR = 'error';\r\n\r\n\texports.STR_DATA = 'data';\r\n\texports.STR_END = 'end';\r\n\texports.STR_CLOSE = 'close';\r\n\r\n\texports.FSEVENT_CREATED = 'created';\r\n\texports.FSEVENT_MODIFIED = 'modified';\r\n\texports.FSEVENT_DELETED = 'deleted';\r\n\texports.FSEVENT_MOVED = 'moved';\r\n\texports.FSEVENT_CLONED = 'cloned';\r\n\texports.FSEVENT_UNKNOWN = 'unknown';\r\n\texports.FSEVENT_FLAG_MUST_SCAN_SUBDIRS = 1;\r\n\texports.FSEVENT_TYPE_FILE = 'file';\r\n\texports.FSEVENT_TYPE_DIRECTORY = 'directory';\r\n\texports.FSEVENT_TYPE_SYMLINK = 'symlink';\r\n\r\n\texports.KEY_LISTENERS = 'listeners';\r\n\texports.KEY_ERR = 'errHandlers';\r\n\texports.KEY_RAW = 'rawEmitters';\r\n\texports.HANDLER_KEYS = [exports.KEY_LISTENERS, exports.KEY_ERR, exports.KEY_RAW];\r\n\r\n\texports.DOT_SLASH = `.${sep}`;\r\n\r\n\texports.BACK_SLASH_RE = /\\\\/g;\r\n\texports.DOUBLE_SLASH_RE = /\\/\\//;\r\n\texports.SLASH_OR_BACK_SLASH_RE = /[/\\\\]/;\r\n\texports.DOT_RE = /\\..*\\.(sw[px])$|~$|\\.subl.*\\.tmp/;\r\n\texports.REPLACER_RE = /^\\.[/\\\\]/;\r\n\r\n\texports.SLASH = '/';\r\n\texports.SLASH_SLASH = '//';\r\n\texports.BRACE_START = '{';\r\n\texports.BANG = '!';\r\n\texports.ONE_DOT = '.';\r\n\texports.TWO_DOTS = '..';\r\n\texports.STAR = '*';\r\n\texports.GLOBSTAR = '**';\r\n\texports.ROOT_GLOBSTAR = '/**/*';\r\n\texports.SLASH_GLOBSTAR = '/**';\r\n\texports.DIR_SUFFIX = 'Dir';\r\n\texports.ANYMATCH_OPTS = {dot: true};\r\n\texports.STRING_TYPE = 'string';\r\n\texports.FUNCTION_TYPE = 'function';\r\n\texports.EMPTY_STR = '';\r\n\texports.EMPTY_FN = () => {};\r\n\texports.IDENTITY_FN = val => val;\r\n\r\n\texports.isWindows = platform === 'win32';\r\n\texports.isMacos = platform === 'darwin';\r\n\texports.isLinux = platform === 'linux';\r\n\texports.isIBMi = os.type() === 'OS400'; \r\n} (constants$1));\r\n\r\nconst fs$7 = require$$0__default;\r\nconst sysPath$2 = require$$0$4;\r\nconst { promisify: promisify$2 } = require$$0$5;\r\nconst isBinaryPath = isBinaryPath$1;\r\nconst {\r\n  isWindows: isWindows$2,\r\n  isLinux,\r\n  EMPTY_FN: EMPTY_FN$2,\r\n  EMPTY_STR: EMPTY_STR$1,\r\n  KEY_LISTENERS,\r\n  KEY_ERR,\r\n  KEY_RAW,\r\n  HANDLER_KEYS,\r\n  EV_CHANGE: EV_CHANGE$2,\r\n  EV_ADD: EV_ADD$2,\r\n  EV_ADD_DIR: EV_ADD_DIR$2,\r\n  EV_ERROR: EV_ERROR$2,\r\n  STR_DATA: STR_DATA$1,\r\n  STR_END: STR_END$2,\r\n  BRACE_START: BRACE_START$1,\r\n  STAR\r\n} = constants$1;\r\n\r\nconst THROTTLE_MODE_WATCH = 'watch';\r\n\r\nconst open$2 = promisify$2(fs$7.open);\r\nconst stat$2 = promisify$2(fs$7.stat);\r\nconst lstat$1 = promisify$2(fs$7.lstat);\r\nconst close = promisify$2(fs$7.close);\r\nconst fsrealpath = promisify$2(fs$7.realpath);\r\n\r\nconst statMethods$1 = { lstat: lstat$1, stat: stat$2 };\r\n\r\n// TODO: emit errors properly. Example: EMFILE on Macos.\r\nconst foreach = (val, fn) => {\r\n  if (val instanceof Set) {\r\n    val.forEach(fn);\r\n  } else {\r\n    fn(val);\r\n  }\r\n};\r\n\r\nconst addAndConvert = (main, prop, item) => {\r\n  let container = main[prop];\r\n  if (!(container instanceof Set)) {\r\n    main[prop] = container = new Set([container]);\r\n  }\r\n  container.add(item);\r\n};\r\n\r\nconst clearItem = cont => key => {\r\n  const set = cont[key];\r\n  if (set instanceof Set) {\r\n    set.clear();\r\n  } else {\r\n    delete cont[key];\r\n  }\r\n};\r\n\r\nconst delFromSet = (main, prop, item) => {\r\n  const container = main[prop];\r\n  if (container instanceof Set) {\r\n    container.delete(item);\r\n  } else if (container === item) {\r\n    delete main[prop];\r\n  }\r\n};\r\n\r\nconst isEmptySet = (val) => val instanceof Set ? val.size === 0 : !val;\r\n\r\n/**\r\n * @typedef {String} Path\r\n */\r\n\r\n// fs_watch helpers\r\n\r\n// object to hold per-process fs_watch instances\r\n// (may be shared across chokidar FSWatcher instances)\r\n\r\n/**\r\n * @typedef {Object} FsWatchContainer\r\n * @property {Set} listeners\r\n * @property {Set} errHandlers\r\n * @property {Set} rawEmitters\r\n * @property {fs.FSWatcher=} watcher\r\n * @property {Boolean=} watcherUnusable\r\n */\r\n\r\n/**\r\n * @type {Map<String,FsWatchContainer>}\r\n */\r\nconst FsWatchInstances = new Map();\r\n\r\n/**\r\n * Instantiates the fs_watch interface\r\n * @param {String} path to be watched\r\n * @param {Object} options to be passed to fs_watch\r\n * @param {Function} listener main event handler\r\n * @param {Function} errHandler emits info about errors\r\n * @param {Function} emitRaw emits raw event data\r\n * @returns {fs.FSWatcher} new fsevents instance\r\n */\r\nfunction createFsWatchInstance(path, options, listener, errHandler, emitRaw) {\r\n  const handleEvent = (rawEvent, evPath) => {\r\n    listener(path);\r\n    emitRaw(rawEvent, evPath, {watchedPath: path});\r\n\r\n    // emit based on events occurring for files from a directory's watcher in\r\n    // case the file's watcher misses it (and rely on throttling to de-dupe)\r\n    if (evPath && path !== evPath) {\r\n      fsWatchBroadcast(\r\n        sysPath$2.resolve(path, evPath), KEY_LISTENERS, sysPath$2.join(path, evPath)\r\n      );\r\n    }\r\n  };\r\n  try {\r\n    return fs$7.watch(path, options, handleEvent);\r\n  } catch (error) {\r\n    errHandler(error);\r\n  }\r\n}\r\n\r\n/**\r\n * Helper for passing fs_watch event data to a collection of listeners\r\n * @param {Path} fullPath absolute path bound to fs_watch instance\r\n * @param {String} type listener type\r\n * @param {*=} val1 arguments to be passed to listeners\r\n * @param {*=} val2\r\n * @param {*=} val3\r\n */\r\nconst fsWatchBroadcast = (fullPath, type, val1, val2, val3) => {\r\n  const cont = FsWatchInstances.get(fullPath);\r\n  if (!cont) return;\r\n  foreach(cont[type], (listener) => {\r\n    listener(val1, val2, val3);\r\n  });\r\n};\r\n\r\n/**\r\n * Instantiates the fs_watch interface or binds listeners\r\n * to an existing one covering the same file system entry\r\n * @param {String} path\r\n * @param {String} fullPath absolute path\r\n * @param {Object} options to be passed to fs_watch\r\n * @param {Object} handlers container for event listener functions\r\n */\r\nconst setFsWatchListener = (path, fullPath, options, handlers) => {\r\n  const {listener, errHandler, rawEmitter} = handlers;\r\n  let cont = FsWatchInstances.get(fullPath);\r\n\r\n  /** @type {fs.FSWatcher=} */\r\n  let watcher;\r\n  if (!options.persistent) {\r\n    watcher = createFsWatchInstance(\r\n      path, options, listener, errHandler, rawEmitter\r\n    );\r\n    return watcher.close.bind(watcher);\r\n  }\r\n  if (cont) {\r\n    addAndConvert(cont, KEY_LISTENERS, listener);\r\n    addAndConvert(cont, KEY_ERR, errHandler);\r\n    addAndConvert(cont, KEY_RAW, rawEmitter);\r\n  } else {\r\n    watcher = createFsWatchInstance(\r\n      path,\r\n      options,\r\n      fsWatchBroadcast.bind(null, fullPath, KEY_LISTENERS),\r\n      errHandler, // no need to use broadcast here\r\n      fsWatchBroadcast.bind(null, fullPath, KEY_RAW)\r\n    );\r\n    if (!watcher) return;\r\n    watcher.on(EV_ERROR$2, async (error) => {\r\n      const broadcastErr = fsWatchBroadcast.bind(null, fullPath, KEY_ERR);\r\n      cont.watcherUnusable = true; // documented since Node 10.4.1\r\n      // Workaround for https://github.com/joyent/node/issues/4337\r\n      if (isWindows$2 && error.code === 'EPERM') {\r\n        try {\r\n          const fd = await open$2(path, 'r');\r\n          await close(fd);\r\n          broadcastErr(error);\r\n        } catch (err) {}\r\n      } else {\r\n        broadcastErr(error);\r\n      }\r\n    });\r\n    cont = {\r\n      listeners: listener,\r\n      errHandlers: errHandler,\r\n      rawEmitters: rawEmitter,\r\n      watcher\r\n    };\r\n    FsWatchInstances.set(fullPath, cont);\r\n  }\r\n  // const index = cont.listeners.indexOf(listener);\r\n\r\n  // removes this instance's listeners and closes the underlying fs_watch\r\n  // instance if there are no more listeners left\r\n  return () => {\r\n    delFromSet(cont, KEY_LISTENERS, listener);\r\n    delFromSet(cont, KEY_ERR, errHandler);\r\n    delFromSet(cont, KEY_RAW, rawEmitter);\r\n    if (isEmptySet(cont.listeners)) {\r\n      // Check to protect against issue gh-730.\r\n      // if (cont.watcherUnusable) {\r\n      cont.watcher.close();\r\n      // }\r\n      FsWatchInstances.delete(fullPath);\r\n      HANDLER_KEYS.forEach(clearItem(cont));\r\n      cont.watcher = undefined;\r\n      Object.freeze(cont);\r\n    }\r\n  };\r\n};\r\n\r\n// fs_watchFile helpers\r\n\r\n// object to hold per-process fs_watchFile instances\r\n// (may be shared across chokidar FSWatcher instances)\r\nconst FsWatchFileInstances = new Map();\r\n\r\n/**\r\n * Instantiates the fs_watchFile interface or binds listeners\r\n * to an existing one covering the same file system entry\r\n * @param {String} path to be watched\r\n * @param {String} fullPath absolute path\r\n * @param {Object} options options to be passed to fs_watchFile\r\n * @param {Object} handlers container for event listener functions\r\n * @returns {Function} closer\r\n */\r\nconst setFsWatchFileListener = (path, fullPath, options, handlers) => {\r\n  const {listener, rawEmitter} = handlers;\r\n  let cont = FsWatchFileInstances.get(fullPath);\r\n\r\n  const copts = cont && cont.options;\r\n  if (copts && (copts.persistent < options.persistent || copts.interval > options.interval)) {\r\n    fs$7.unwatchFile(fullPath);\r\n    cont = undefined;\r\n  }\r\n\r\n  /* eslint-enable no-unused-vars, prefer-destructuring */\r\n\r\n  if (cont) {\r\n    addAndConvert(cont, KEY_LISTENERS, listener);\r\n    addAndConvert(cont, KEY_RAW, rawEmitter);\r\n  } else {\r\n    // TODO\r\n    // listeners.add(listener);\r\n    // rawEmitters.add(rawEmitter);\r\n    cont = {\r\n      listeners: listener,\r\n      rawEmitters: rawEmitter,\r\n      options,\r\n      watcher: fs$7.watchFile(fullPath, options, (curr, prev) => {\r\n        foreach(cont.rawEmitters, (rawEmitter) => {\r\n          rawEmitter(EV_CHANGE$2, fullPath, {curr, prev});\r\n        });\r\n        const currmtime = curr.mtimeMs;\r\n        if (curr.size !== prev.size || currmtime > prev.mtimeMs || currmtime === 0) {\r\n          foreach(cont.listeners, (listener) => listener(path, curr));\r\n        }\r\n      })\r\n    };\r\n    FsWatchFileInstances.set(fullPath, cont);\r\n  }\r\n  // const index = cont.listeners.indexOf(listener);\r\n\r\n  // Removes this instance's listeners and closes the underlying fs_watchFile\r\n  // instance if there are no more listeners left.\r\n  return () => {\r\n    delFromSet(cont, KEY_LISTENERS, listener);\r\n    delFromSet(cont, KEY_RAW, rawEmitter);\r\n    if (isEmptySet(cont.listeners)) {\r\n      FsWatchFileInstances.delete(fullPath);\r\n      fs$7.unwatchFile(fullPath);\r\n      cont.options = cont.watcher = undefined;\r\n      Object.freeze(cont);\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * @mixin\r\n */\r\nlet NodeFsHandler$1 = class NodeFsHandler {\r\n\r\n/**\r\n * @param {import(\"../index\").FSWatcher} fsW\r\n */\r\nconstructor(fsW) {\r\n  this.fsw = fsW;\r\n  this._boundHandleError = (error) => fsW._handleError(error);\r\n}\r\n\r\n/**\r\n * Watch file for changes with fs_watchFile or fs_watch.\r\n * @param {String} path to file or dir\r\n * @param {Function} listener on fs change\r\n * @returns {Function} closer for the watcher instance\r\n */\r\n_watchWithNodeFs(path, listener) {\r\n  const opts = this.fsw.options;\r\n  const directory = sysPath$2.dirname(path);\r\n  const basename = sysPath$2.basename(path);\r\n  const parent = this.fsw._getWatchedDir(directory);\r\n  parent.add(basename);\r\n  const absolutePath = sysPath$2.resolve(path);\r\n  const options = {persistent: opts.persistent};\r\n  if (!listener) listener = EMPTY_FN$2;\r\n\r\n  let closer;\r\n  if (opts.usePolling) {\r\n    options.interval = opts.enableBinaryInterval && isBinaryPath(basename) ?\r\n      opts.binaryInterval : opts.interval;\r\n    closer = setFsWatchFileListener(path, absolutePath, options, {\r\n      listener,\r\n      rawEmitter: this.fsw._emitRaw\r\n    });\r\n  } else {\r\n    closer = setFsWatchListener(path, absolutePath, options, {\r\n      listener,\r\n      errHandler: this._boundHandleError,\r\n      rawEmitter: this.fsw._emitRaw\r\n    });\r\n  }\r\n  return closer;\r\n}\r\n\r\n/**\r\n * Watch a file and emit add event if warranted.\r\n * @param {Path} file Path\r\n * @param {fs.Stats} stats result of fs_stat\r\n * @param {Boolean} initialAdd was the file added at watch instantiation?\r\n * @returns {Function} closer for the watcher instance\r\n */\r\n_handleFile(file, stats, initialAdd) {\r\n  if (this.fsw.closed) {\r\n    return;\r\n  }\r\n  const dirname = sysPath$2.dirname(file);\r\n  const basename = sysPath$2.basename(file);\r\n  const parent = this.fsw._getWatchedDir(dirname);\r\n  // stats is always present\r\n  let prevStats = stats;\r\n\r\n  // if the file is already being watched, do nothing\r\n  if (parent.has(basename)) return;\r\n\r\n  const listener = async (path, newStats) => {\r\n    if (!this.fsw._throttle(THROTTLE_MODE_WATCH, file, 5)) return;\r\n    if (!newStats || newStats.mtimeMs === 0) {\r\n      try {\r\n        const newStats = await stat$2(file);\r\n        if (this.fsw.closed) return;\r\n        // Check that change event was not fired because of changed only accessTime.\r\n        const at = newStats.atimeMs;\r\n        const mt = newStats.mtimeMs;\r\n        if (!at || at <= mt || mt !== prevStats.mtimeMs) {\r\n          this.fsw._emit(EV_CHANGE$2, file, newStats);\r\n        }\r\n        if (isLinux && prevStats.ino !== newStats.ino) {\r\n          this.fsw._closeFile(path);\r\n          prevStats = newStats;\r\n          this.fsw._addPathCloser(path, this._watchWithNodeFs(file, listener));\r\n        } else {\r\n          prevStats = newStats;\r\n        }\r\n      } catch (error) {\r\n        // Fix issues where mtime is null but file is still present\r\n        this.fsw._remove(dirname, basename);\r\n      }\r\n      // add is about to be emitted if file not already tracked in parent\r\n    } else if (parent.has(basename)) {\r\n      // Check that change event was not fired because of changed only accessTime.\r\n      const at = newStats.atimeMs;\r\n      const mt = newStats.mtimeMs;\r\n      if (!at || at <= mt || mt !== prevStats.mtimeMs) {\r\n        this.fsw._emit(EV_CHANGE$2, file, newStats);\r\n      }\r\n      prevStats = newStats;\r\n    }\r\n  };\r\n  // kick off the watcher\r\n  const closer = this._watchWithNodeFs(file, listener);\r\n\r\n  // emit an add event if we're supposed to\r\n  if (!(initialAdd && this.fsw.options.ignoreInitial) && this.fsw._isntIgnored(file)) {\r\n    if (!this.fsw._throttle(EV_ADD$2, file, 0)) return;\r\n    this.fsw._emit(EV_ADD$2, file, stats);\r\n  }\r\n\r\n  return closer;\r\n}\r\n\r\n/**\r\n * Handle symlinks encountered while reading a dir.\r\n * @param {Object} entry returned by readdirp\r\n * @param {String} directory path of dir being read\r\n * @param {String} path of this item\r\n * @param {String} item basename of this item\r\n * @returns {Promise<Boolean>} true if no more processing is needed for this entry.\r\n */\r\nasync _handleSymlink(entry, directory, path, item) {\r\n  if (this.fsw.closed) {\r\n    return;\r\n  }\r\n  const full = entry.fullPath;\r\n  const dir = this.fsw._getWatchedDir(directory);\r\n\r\n  if (!this.fsw.options.followSymlinks) {\r\n    // watch symlink directly (don't follow) and detect changes\r\n    this.fsw._incrReadyCount();\r\n\r\n    let linkPath;\r\n    try {\r\n      linkPath = await fsrealpath(path);\r\n    } catch (e) {\r\n      this.fsw._emitReady();\r\n      return true;\r\n    }\r\n\r\n    if (this.fsw.closed) return;\r\n    if (dir.has(item)) {\r\n      if (this.fsw._symlinkPaths.get(full) !== linkPath) {\r\n        this.fsw._symlinkPaths.set(full, linkPath);\r\n        this.fsw._emit(EV_CHANGE$2, path, entry.stats);\r\n      }\r\n    } else {\r\n      dir.add(item);\r\n      this.fsw._symlinkPaths.set(full, linkPath);\r\n      this.fsw._emit(EV_ADD$2, path, entry.stats);\r\n    }\r\n    this.fsw._emitReady();\r\n    return true;\r\n  }\r\n\r\n  // don't follow the same symlink more than once\r\n  if (this.fsw._symlinkPaths.has(full)) {\r\n    return true;\r\n  }\r\n\r\n  this.fsw._symlinkPaths.set(full, true);\r\n}\r\n\r\n_handleRead(directory, initialAdd, wh, target, dir, depth, throttler) {\r\n  // Normalize the directory name on Windows\r\n  directory = sysPath$2.join(directory, EMPTY_STR$1);\r\n\r\n  if (!wh.hasGlob) {\r\n    throttler = this.fsw._throttle('readdir', directory, 1000);\r\n    if (!throttler) return;\r\n  }\r\n\r\n  const previous = this.fsw._getWatchedDir(wh.path);\r\n  const current = new Set();\r\n\r\n  let stream = this.fsw._readdirp(directory, {\r\n    fileFilter: entry => wh.filterPath(entry),\r\n    directoryFilter: entry => wh.filterDir(entry),\r\n    depth: 0\r\n  }).on(STR_DATA$1, async (entry) => {\r\n    if (this.fsw.closed) {\r\n      stream = undefined;\r\n      return;\r\n    }\r\n    const item = entry.path;\r\n    let path = sysPath$2.join(directory, item);\r\n    current.add(item);\r\n\r\n    if (entry.stats.isSymbolicLink() && await this._handleSymlink(entry, directory, path, item)) {\r\n      return;\r\n    }\r\n\r\n    if (this.fsw.closed) {\r\n      stream = undefined;\r\n      return;\r\n    }\r\n    // Files that present in current directory snapshot\r\n    // but absent in previous are added to watch list and\r\n    // emit `add` event.\r\n    if (item === target || !target && !previous.has(item)) {\r\n      this.fsw._incrReadyCount();\r\n\r\n      // ensure relativeness of path is preserved in case of watcher reuse\r\n      path = sysPath$2.join(dir, sysPath$2.relative(dir, path));\r\n\r\n      this._addToNodeFs(path, initialAdd, wh, depth + 1);\r\n    }\r\n  }).on(EV_ERROR$2, this._boundHandleError);\r\n\r\n  return new Promise(resolve =>\r\n    stream.once(STR_END$2, () => {\r\n      if (this.fsw.closed) {\r\n        stream = undefined;\r\n        return;\r\n      }\r\n      const wasThrottled = throttler ? throttler.clear() : false;\r\n\r\n      resolve();\r\n\r\n      // Files that absent in current directory snapshot\r\n      // but present in previous emit `remove` event\r\n      // and are removed from @watched[directory].\r\n      previous.getChildren().filter((item) => {\r\n        return item !== directory &&\r\n          !current.has(item) &&\r\n          // in case of intersecting globs;\r\n          // a path may have been filtered out of this readdir, but\r\n          // shouldn't be removed because it matches a different glob\r\n          (!wh.hasGlob || wh.filterPath({\r\n            fullPath: sysPath$2.resolve(directory, item)\r\n          }));\r\n      }).forEach((item) => {\r\n        this.fsw._remove(directory, item);\r\n      });\r\n\r\n      stream = undefined;\r\n\r\n      // one more time for any missed in case changes came in extremely quickly\r\n      if (wasThrottled) this._handleRead(directory, false, wh, target, dir, depth, throttler);\r\n    })\r\n  );\r\n}\r\n\r\n/**\r\n * Read directory to add / remove files from `@watched` list and re-read it on change.\r\n * @param {String} dir fs path\r\n * @param {fs.Stats} stats\r\n * @param {Boolean} initialAdd\r\n * @param {Number} depth relative to user-supplied path\r\n * @param {String} target child path targeted for watch\r\n * @param {Object} wh Common watch helpers for this path\r\n * @param {String} realpath\r\n * @returns {Promise<Function>} closer for the watcher instance.\r\n */\r\nasync _handleDir(dir, stats, initialAdd, depth, target, wh, realpath) {\r\n  const parentDir = this.fsw._getWatchedDir(sysPath$2.dirname(dir));\r\n  const tracked = parentDir.has(sysPath$2.basename(dir));\r\n  if (!(initialAdd && this.fsw.options.ignoreInitial) && !target && !tracked) {\r\n    if (!wh.hasGlob || wh.globFilter(dir)) this.fsw._emit(EV_ADD_DIR$2, dir, stats);\r\n  }\r\n\r\n  // ensure dir is tracked (harmless if redundant)\r\n  parentDir.add(sysPath$2.basename(dir));\r\n  this.fsw._getWatchedDir(dir);\r\n  let throttler;\r\n  let closer;\r\n\r\n  const oDepth = this.fsw.options.depth;\r\n  if ((oDepth == null || depth <= oDepth) && !this.fsw._symlinkPaths.has(realpath)) {\r\n    if (!target) {\r\n      await this._handleRead(dir, initialAdd, wh, target, dir, depth, throttler);\r\n      if (this.fsw.closed) return;\r\n    }\r\n\r\n    closer = this._watchWithNodeFs(dir, (dirPath, stats) => {\r\n      // if current directory is removed, do nothing\r\n      if (stats && stats.mtimeMs === 0) return;\r\n\r\n      this._handleRead(dirPath, false, wh, target, dir, depth, throttler);\r\n    });\r\n  }\r\n  return closer;\r\n}\r\n\r\n/**\r\n * Handle added file, directory, or glob pattern.\r\n * Delegates call to _handleFile / _handleDir after checks.\r\n * @param {String} path to file or ir\r\n * @param {Boolean} initialAdd was the file added at watch instantiation?\r\n * @param {Object} priorWh depth relative to user-supplied path\r\n * @param {Number} depth Child path actually targeted for watch\r\n * @param {String=} target Child path actually targeted for watch\r\n * @returns {Promise}\r\n */\r\nasync _addToNodeFs(path, initialAdd, priorWh, depth, target) {\r\n  const ready = this.fsw._emitReady;\r\n  if (this.fsw._isIgnored(path) || this.fsw.closed) {\r\n    ready();\r\n    return false;\r\n  }\r\n\r\n  const wh = this.fsw._getWatchHelpers(path, depth);\r\n  if (!wh.hasGlob && priorWh) {\r\n    wh.hasGlob = priorWh.hasGlob;\r\n    wh.globFilter = priorWh.globFilter;\r\n    wh.filterPath = entry => priorWh.filterPath(entry);\r\n    wh.filterDir = entry => priorWh.filterDir(entry);\r\n  }\r\n\r\n  // evaluate what is at the path we're being asked to watch\r\n  try {\r\n    const stats = await statMethods$1[wh.statMethod](wh.watchPath);\r\n    if (this.fsw.closed) return;\r\n    if (this.fsw._isIgnored(wh.watchPath, stats)) {\r\n      ready();\r\n      return false;\r\n    }\r\n\r\n    const follow = this.fsw.options.followSymlinks && !path.includes(STAR) && !path.includes(BRACE_START$1);\r\n    let closer;\r\n    if (stats.isDirectory()) {\r\n      const absPath = sysPath$2.resolve(path);\r\n      const targetPath = follow ? await fsrealpath(path) : path;\r\n      if (this.fsw.closed) return;\r\n      closer = await this._handleDir(wh.watchPath, stats, initialAdd, depth, target, wh, targetPath);\r\n      if (this.fsw.closed) return;\r\n      // preserve this symlink's target path\r\n      if (absPath !== targetPath && targetPath !== undefined) {\r\n        this.fsw._symlinkPaths.set(absPath, targetPath);\r\n      }\r\n    } else if (stats.isSymbolicLink()) {\r\n      const targetPath = follow ? await fsrealpath(path) : path;\r\n      if (this.fsw.closed) return;\r\n      const parent = sysPath$2.dirname(wh.watchPath);\r\n      this.fsw._getWatchedDir(parent).add(wh.watchPath);\r\n      this.fsw._emit(EV_ADD$2, wh.watchPath, stats);\r\n      closer = await this._handleDir(parent, stats, initialAdd, depth, path, wh, targetPath);\r\n      if (this.fsw.closed) return;\r\n\r\n      // preserve this symlink's target path\r\n      if (targetPath !== undefined) {\r\n        this.fsw._symlinkPaths.set(sysPath$2.resolve(path), targetPath);\r\n      }\r\n    } else {\r\n      closer = this._handleFile(wh.watchPath, stats, initialAdd);\r\n    }\r\n    ready();\r\n\r\n    this.fsw._addPathCloser(path, closer);\r\n    return false;\r\n\r\n  } catch (error) {\r\n    if (this.fsw._handleError(error)) {\r\n      ready();\r\n      return path;\r\n    }\r\n  }\r\n}\r\n\r\n};\r\n\r\nvar nodefsHandler = NodeFsHandler$1;\r\n\r\nvar fseventsHandler = {exports: {}};\r\n\r\nconst fs$6 = require$$0__default;\r\nconst sysPath$1 = require$$0$4;\r\nconst { promisify: promisify$1 } = require$$0$5;\r\n\r\nlet fsevents;\r\ntry {\r\n  fsevents = __require('fsevents');\r\n} catch (error) {\r\n  if (process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR) console.error(error);\r\n}\r\n\r\nif (fsevents) {\r\n  // TODO: real check\r\n  const mtch = process.version.match(/v(\\d+)\\.(\\d+)/);\r\n  if (mtch && mtch[1] && mtch[2]) {\r\n    const maj = Number.parseInt(mtch[1], 10);\r\n    const min = Number.parseInt(mtch[2], 10);\r\n    if (maj === 8 && min < 16) {\r\n      fsevents = undefined;\r\n    }\r\n  }\r\n}\r\n\r\nconst {\r\n  EV_ADD: EV_ADD$1,\r\n  EV_CHANGE: EV_CHANGE$1,\r\n  EV_ADD_DIR: EV_ADD_DIR$1,\r\n  EV_UNLINK: EV_UNLINK$1,\r\n  EV_ERROR: EV_ERROR$1,\r\n  STR_DATA,\r\n  STR_END: STR_END$1,\r\n  FSEVENT_CREATED,\r\n  FSEVENT_MODIFIED,\r\n  FSEVENT_DELETED,\r\n  FSEVENT_MOVED,\r\n  // FSEVENT_CLONED,\r\n  FSEVENT_UNKNOWN,\r\n  FSEVENT_FLAG_MUST_SCAN_SUBDIRS,\r\n  FSEVENT_TYPE_FILE,\r\n  FSEVENT_TYPE_DIRECTORY,\r\n  FSEVENT_TYPE_SYMLINK,\r\n\r\n  ROOT_GLOBSTAR,\r\n  DIR_SUFFIX,\r\n  DOT_SLASH,\r\n  FUNCTION_TYPE: FUNCTION_TYPE$1,\r\n  EMPTY_FN: EMPTY_FN$1,\r\n  IDENTITY_FN\r\n} = constants$1;\r\n\r\nconst Depth = (value) => isNaN(value) ? {} : {depth: value};\r\n\r\nconst stat$1 = promisify$1(fs$6.stat);\r\nconst lstat = promisify$1(fs$6.lstat);\r\nconst realpath = promisify$1(fs$6.realpath);\r\n\r\nconst statMethods = { stat: stat$1, lstat };\r\n\r\n/**\r\n * @typedef {String} Path\r\n */\r\n\r\n/**\r\n * @typedef {Object} FsEventsWatchContainer\r\n * @property {Set<Function>} listeners\r\n * @property {Function} rawEmitter\r\n * @property {{stop: Function}} watcher\r\n */\r\n\r\n// fsevents instance helper functions\r\n/**\r\n * Object to hold per-process fsevents instances (may be shared across chokidar FSWatcher instances)\r\n * @type {Map<Path,FsEventsWatchContainer>}\r\n */\r\nconst FSEventsWatchers = new Map();\r\n\r\n// Threshold of duplicate path prefixes at which to start\r\n// consolidating going forward\r\nconst consolidateThreshhold = 10;\r\n\r\nconst wrongEventFlags = new Set([\r\n  69888, 70400, 71424, 72704, 73472, 131328, 131840, 262912\r\n]);\r\n\r\n/**\r\n * Instantiates the fsevents interface\r\n * @param {Path} path path to be watched\r\n * @param {Function} callback called when fsevents is bound and ready\r\n * @returns {{stop: Function}} new fsevents instance\r\n */\r\nconst createFSEventsInstance = (path, callback) => {\r\n  const stop = fsevents.watch(path, callback);\r\n  return {stop};\r\n};\r\n\r\n/**\r\n * Instantiates the fsevents interface or binds listeners to an existing one covering\r\n * the same file tree.\r\n * @param {Path} path           - to be watched\r\n * @param {Path} realPath       - real path for symlinks\r\n * @param {Function} listener   - called when fsevents emits events\r\n * @param {Function} rawEmitter - passes data to listeners of the 'raw' event\r\n * @returns {Function} closer\r\n */\r\nfunction setFSEventsListener(path, realPath, listener, rawEmitter) {\r\n  let watchPath = sysPath$1.extname(realPath) ? sysPath$1.dirname(realPath) : realPath;\r\n\r\n  const parentPath = sysPath$1.dirname(watchPath);\r\n  let cont = FSEventsWatchers.get(watchPath);\r\n\r\n  // If we've accumulated a substantial number of paths that\r\n  // could have been consolidated by watching one directory\r\n  // above the current one, create a watcher on the parent\r\n  // path instead, so that we do consolidate going forward.\r\n  if (couldConsolidate(parentPath)) {\r\n    watchPath = parentPath;\r\n  }\r\n\r\n  const resolvedPath = sysPath$1.resolve(path);\r\n  const hasSymlink = resolvedPath !== realPath;\r\n\r\n  const filteredListener = (fullPath, flags, info) => {\r\n    if (hasSymlink) fullPath = fullPath.replace(realPath, resolvedPath);\r\n    if (\r\n      fullPath === resolvedPath ||\r\n      !fullPath.indexOf(resolvedPath + sysPath$1.sep)\r\n    ) listener(fullPath, flags, info);\r\n  };\r\n\r\n  // check if there is already a watcher on a parent path\r\n  // modifies `watchPath` to the parent path when it finds a match\r\n  let watchedParent = false;\r\n  for (const watchedPath of FSEventsWatchers.keys()) {\r\n    if (realPath.indexOf(sysPath$1.resolve(watchedPath) + sysPath$1.sep) === 0) {\r\n      watchPath = watchedPath;\r\n      cont = FSEventsWatchers.get(watchPath);\r\n      watchedParent = true;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (cont || watchedParent) {\r\n    cont.listeners.add(filteredListener);\r\n  } else {\r\n    cont = {\r\n      listeners: new Set([filteredListener]),\r\n      rawEmitter,\r\n      watcher: createFSEventsInstance(watchPath, (fullPath, flags) => {\r\n        if (!cont.listeners.size) return;\r\n        if (flags & FSEVENT_FLAG_MUST_SCAN_SUBDIRS) return;\r\n        const info = fsevents.getInfo(fullPath, flags);\r\n        cont.listeners.forEach(list => {\r\n          list(fullPath, flags, info);\r\n        });\r\n\r\n        cont.rawEmitter(info.event, fullPath, info);\r\n      })\r\n    };\r\n    FSEventsWatchers.set(watchPath, cont);\r\n  }\r\n\r\n  // removes this instance's listeners and closes the underlying fsevents\r\n  // instance if there are no more listeners left\r\n  return () => {\r\n    const lst = cont.listeners;\r\n\r\n    lst.delete(filteredListener);\r\n    if (!lst.size) {\r\n      FSEventsWatchers.delete(watchPath);\r\n      if (cont.watcher) return cont.watcher.stop().then(() => {\r\n        cont.rawEmitter = cont.watcher = undefined;\r\n        Object.freeze(cont);\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\n// Decide whether or not we should start a new higher-level\r\n// parent watcher\r\nconst couldConsolidate = (path) => {\r\n  let count = 0;\r\n  for (const watchPath of FSEventsWatchers.keys()) {\r\n    if (watchPath.indexOf(path) === 0) {\r\n      count++;\r\n      if (count >= consolidateThreshhold) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\n// returns boolean indicating whether fsevents can be used\r\nconst canUse = () => fsevents && FSEventsWatchers.size < 128;\r\n\r\n// determines subdirectory traversal levels from root to path\r\nconst calcDepth = (path, root) => {\r\n  let i = 0;\r\n  while (!path.indexOf(root) && (path = sysPath$1.dirname(path)) !== root) i++;\r\n  return i;\r\n};\r\n\r\n// returns boolean indicating whether the fsevents' event info has the same type\r\n// as the one returned by fs.stat\r\nconst sameTypes = (info, stats) => (\r\n  info.type === FSEVENT_TYPE_DIRECTORY && stats.isDirectory() ||\r\n  info.type === FSEVENT_TYPE_SYMLINK && stats.isSymbolicLink() ||\r\n  info.type === FSEVENT_TYPE_FILE && stats.isFile()\r\n);\r\n\r\n/**\r\n * @mixin\r\n */\r\nlet FsEventsHandler$1 = class FsEventsHandler {\r\n\r\n/**\r\n * @param {import('../index').FSWatcher} fsw\r\n */\r\nconstructor(fsw) {\r\n  this.fsw = fsw;\r\n}\r\ncheckIgnored(path, stats) {\r\n  const ipaths = this.fsw._ignoredPaths;\r\n  if (this.fsw._isIgnored(path, stats)) {\r\n    ipaths.add(path);\r\n    if (stats && stats.isDirectory()) {\r\n      ipaths.add(path + ROOT_GLOBSTAR);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  ipaths.delete(path);\r\n  ipaths.delete(path + ROOT_GLOBSTAR);\r\n}\r\n\r\naddOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts) {\r\n  const event = watchedDir.has(item) ? EV_CHANGE$1 : EV_ADD$1;\r\n  this.handleEvent(event, path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n}\r\n\r\nasync checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts) {\r\n  try {\r\n    const stats = await stat$1(path);\r\n    if (this.fsw.closed) return;\r\n    if (sameTypes(info, stats)) {\r\n      this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n    } else {\r\n      this.handleEvent(EV_UNLINK$1, path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n    }\r\n  } catch (error) {\r\n    if (error.code === 'EACCES') {\r\n      this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n    } else {\r\n      this.handleEvent(EV_UNLINK$1, path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n    }\r\n  }\r\n}\r\n\r\nhandleEvent(event, path, fullPath, realPath, parent, watchedDir, item, info, opts) {\r\n  if (this.fsw.closed || this.checkIgnored(path)) return;\r\n\r\n  if (event === EV_UNLINK$1) {\r\n    const isDirectory = info.type === FSEVENT_TYPE_DIRECTORY;\r\n    // suppress unlink events on never before seen files\r\n    if (isDirectory || watchedDir.has(item)) {\r\n      this.fsw._remove(parent, item, isDirectory);\r\n    }\r\n  } else {\r\n    if (event === EV_ADD$1) {\r\n      // track new directories\r\n      if (info.type === FSEVENT_TYPE_DIRECTORY) this.fsw._getWatchedDir(path);\r\n\r\n      if (info.type === FSEVENT_TYPE_SYMLINK && opts.followSymlinks) {\r\n        // push symlinks back to the top of the stack to get handled\r\n        const curDepth = opts.depth === undefined ?\r\n          undefined : calcDepth(fullPath, realPath) + 1;\r\n        return this._addToFsEvents(path, false, true, curDepth);\r\n      }\r\n\r\n      // track new paths\r\n      // (other than symlinks being followed, which will be tracked soon)\r\n      this.fsw._getWatchedDir(parent).add(item);\r\n    }\r\n    /**\r\n     * @type {'add'|'addDir'|'unlink'|'unlinkDir'}\r\n     */\r\n    const eventName = info.type === FSEVENT_TYPE_DIRECTORY ? event + DIR_SUFFIX : event;\r\n    this.fsw._emit(eventName, path);\r\n    if (eventName === EV_ADD_DIR$1) this._addToFsEvents(path, false, true);\r\n  }\r\n}\r\n\r\n/**\r\n * Handle symlinks encountered during directory scan\r\n * @param {String} watchPath  - file/dir path to be watched with fsevents\r\n * @param {String} realPath   - real path (in case of symlinks)\r\n * @param {Function} transform  - path transformer\r\n * @param {Function} globFilter - path filter in case a glob pattern was provided\r\n * @returns {Function} closer for the watcher instance\r\n*/\r\n_watchWithFsEvents(watchPath, realPath, transform, globFilter) {\r\n  if (this.fsw.closed || this.fsw._isIgnored(watchPath)) return;\r\n  const opts = this.fsw.options;\r\n  const watchCallback = async (fullPath, flags, info) => {\r\n    // PATCH: bypass the callback for better perf when fullPath hit the ignored file list \r\n    if (this.fsw.closed || this.fsw._isIgnored(fullPath)) return;\r\n    if (\r\n      opts.depth !== undefined &&\r\n      calcDepth(fullPath, realPath) > opts.depth\r\n    ) return;\r\n    const path = transform(sysPath$1.join(\r\n      watchPath, sysPath$1.relative(watchPath, fullPath)\r\n    ));\r\n    if (globFilter && !globFilter(path)) return;\r\n    // ensure directories are tracked\r\n    const parent = sysPath$1.dirname(path);\r\n    const item = sysPath$1.basename(path);\r\n    const watchedDir = this.fsw._getWatchedDir(\r\n      info.type === FSEVENT_TYPE_DIRECTORY ? path : parent\r\n    );\r\n\r\n    // correct for wrong events emitted\r\n    if (wrongEventFlags.has(flags) || info.event === FSEVENT_UNKNOWN) {\r\n      if (typeof opts.ignored === FUNCTION_TYPE$1) {\r\n        let stats;\r\n        try {\r\n          stats = await stat$1(path);\r\n        } catch (error) {}\r\n        if (this.fsw.closed) return;\r\n        if (this.checkIgnored(path, stats)) return;\r\n        if (sameTypes(info, stats)) {\r\n          this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n        } else {\r\n          this.handleEvent(EV_UNLINK$1, path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n        }\r\n      } else {\r\n        this.checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n      }\r\n    } else {\r\n      switch (info.event) {\r\n      case FSEVENT_CREATED:\r\n      case FSEVENT_MODIFIED:\r\n        return this.addOrChange(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n      case FSEVENT_DELETED:\r\n      case FSEVENT_MOVED:\r\n        return this.checkExists(path, fullPath, realPath, parent, watchedDir, item, info, opts);\r\n      }\r\n    }\r\n  };\r\n\r\n  const closer = setFSEventsListener(\r\n    watchPath,\r\n    realPath,\r\n    watchCallback,\r\n    this.fsw._emitRaw\r\n  );\r\n\r\n  this.fsw._emitReady();\r\n  return closer;\r\n}\r\n\r\n/**\r\n * Handle symlinks encountered during directory scan\r\n * @param {String} linkPath path to symlink\r\n * @param {String} fullPath absolute path to the symlink\r\n * @param {Function} transform pre-existing path transformer\r\n * @param {Number} curDepth level of subdirectories traversed to where symlink is\r\n * @returns {Promise<void>}\r\n */\r\nasync _handleFsEventsSymlink(linkPath, fullPath, transform, curDepth) {\r\n  // don't follow the same symlink more than once\r\n  if (this.fsw.closed || this.fsw._symlinkPaths.has(fullPath)) return;\r\n\r\n  this.fsw._symlinkPaths.set(fullPath, true);\r\n  this.fsw._incrReadyCount();\r\n\r\n  try {\r\n    const linkTarget = await realpath(linkPath);\r\n    if (this.fsw.closed) return;\r\n    if (this.fsw._isIgnored(linkTarget)) {\r\n      return this.fsw._emitReady();\r\n    }\r\n\r\n    this.fsw._incrReadyCount();\r\n\r\n    // add the linkTarget for watching with a wrapper for transform\r\n    // that causes emitted paths to incorporate the link's path\r\n    this._addToFsEvents(linkTarget || linkPath, (path) => {\r\n      let aliasedPath = linkPath;\r\n      if (linkTarget && linkTarget !== DOT_SLASH) {\r\n        aliasedPath = path.replace(linkTarget, linkPath);\r\n      } else if (path !== DOT_SLASH) {\r\n        aliasedPath = sysPath$1.join(linkPath, path);\r\n      }\r\n      return transform(aliasedPath);\r\n    }, false, curDepth);\r\n  } catch(error) {\r\n    if (this.fsw._handleError(error)) {\r\n      return this.fsw._emitReady();\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {Path} newPath\r\n * @param {fs.Stats} stats\r\n */\r\nemitAdd(newPath, stats, processPath, opts, forceAdd) {\r\n  const pp = processPath(newPath);\r\n  const isDir = stats.isDirectory();\r\n  const dirObj = this.fsw._getWatchedDir(sysPath$1.dirname(pp));\r\n  const base = sysPath$1.basename(pp);\r\n\r\n  // ensure empty dirs get tracked\r\n  if (isDir) this.fsw._getWatchedDir(pp);\r\n  if (dirObj.has(base)) return;\r\n  dirObj.add(base);\r\n\r\n  if (!opts.ignoreInitial || forceAdd === true) {\r\n    this.fsw._emit(isDir ? EV_ADD_DIR$1 : EV_ADD$1, pp, stats);\r\n  }\r\n}\r\n\r\ninitWatch(realPath, path, wh, processPath) {\r\n  if (this.fsw.closed) return;\r\n  const closer = this._watchWithFsEvents(\r\n    wh.watchPath,\r\n    sysPath$1.resolve(realPath || wh.watchPath),\r\n    processPath,\r\n    wh.globFilter\r\n  );\r\n  this.fsw._addPathCloser(path, closer);\r\n}\r\n\r\n/**\r\n * Handle added path with fsevents\r\n * @param {String} path file/dir path or glob pattern\r\n * @param {Function|Boolean=} transform converts working path to what the user expects\r\n * @param {Boolean=} forceAdd ensure add is emitted\r\n * @param {Number=} priorDepth Level of subdirectories already traversed.\r\n * @returns {Promise<void>}\r\n */\r\nasync _addToFsEvents(path, transform, forceAdd, priorDepth) {\r\n  if (this.fsw.closed) {\r\n    return;\r\n  }\r\n  const opts = this.fsw.options;\r\n  const processPath = typeof transform === FUNCTION_TYPE$1 ? transform : IDENTITY_FN;\r\n\r\n  const wh = this.fsw._getWatchHelpers(path);\r\n\r\n  // evaluate what is at the path we're being asked to watch\r\n  try {\r\n    const stats = await statMethods[wh.statMethod](wh.watchPath);\r\n    if (this.fsw.closed) return;\r\n    if (this.fsw._isIgnored(wh.watchPath, stats)) {\r\n      throw null;\r\n    }\r\n    if (stats.isDirectory()) {\r\n      // emit addDir unless this is a glob parent\r\n      if (!wh.globFilter) this.emitAdd(processPath(path), stats, processPath, opts, forceAdd);\r\n\r\n      // don't recurse further if it would exceed depth setting\r\n      if (priorDepth && priorDepth > opts.depth) return;\r\n\r\n      // scan the contents of the dir\r\n      this.fsw._readdirp(wh.watchPath, {\r\n        fileFilter: entry => wh.filterPath(entry),\r\n        directoryFilter: entry => wh.filterDir(entry),\r\n        ...Depth(opts.depth - (priorDepth || 0))\r\n      }).on(STR_DATA, (entry) => {\r\n        // need to check filterPath on dirs b/c filterDir is less restrictive\r\n        if (this.fsw.closed) {\r\n          return;\r\n        }\r\n        if (entry.stats.isDirectory() && !wh.filterPath(entry)) return;\r\n\r\n        const joinedPath = sysPath$1.join(wh.watchPath, entry.path);\r\n        const {fullPath} = entry;\r\n\r\n        if (wh.followSymlinks && entry.stats.isSymbolicLink()) {\r\n          // preserve the current depth here since it can't be derived from\r\n          // real paths past the symlink\r\n          const curDepth = opts.depth === undefined ?\r\n            undefined : calcDepth(joinedPath, sysPath$1.resolve(wh.watchPath)) + 1;\r\n\r\n          this._handleFsEventsSymlink(joinedPath, fullPath, processPath, curDepth);\r\n        } else {\r\n          this.emitAdd(joinedPath, entry.stats, processPath, opts, forceAdd);\r\n        }\r\n      }).on(EV_ERROR$1, EMPTY_FN$1).on(STR_END$1, () => {\r\n        this.fsw._emitReady();\r\n      });\r\n    } else {\r\n      this.emitAdd(wh.watchPath, stats, processPath, opts, forceAdd);\r\n      this.fsw._emitReady();\r\n    }\r\n  } catch (error) {\r\n    if (!error || this.fsw._handleError(error)) {\r\n      // TODO: Strange thing: \"should not choke on an ignored watch path\" will be failed without 2 ready calls -__-\r\n      this.fsw._emitReady();\r\n      this.fsw._emitReady();\r\n    }\r\n  }\r\n\r\n  if (opts.persistent && forceAdd !== true) {\r\n    if (typeof transform === FUNCTION_TYPE$1) {\r\n      // realpath has already been resolved\r\n      this.initWatch(undefined, path, wh, processPath);\r\n    } else {\r\n      let realPath;\r\n      try {\r\n        realPath = await realpath(wh.watchPath);\r\n      } catch (e) {}\r\n      this.initWatch(realPath, path, wh, processPath);\r\n    }\r\n  }\r\n}\r\n\r\n};\r\n\r\nfseventsHandler.exports = FsEventsHandler$1;\r\nfseventsHandler.exports.canUse = canUse;\r\n\r\nvar fseventsHandlerExports = fseventsHandler.exports;\r\n\r\nconst { EventEmitter: EventEmitter$2 } = require$$0$7;\r\nconst fs$5 = require$$0__default;\r\nconst sysPath = require$$0$4;\r\nconst { promisify } = require$$0$5;\r\nconst readdirp = readdirp_1;\r\nconst anymatch = anymatchExports.default;\r\nconst globParent = globParent$2;\r\nconst isGlob = isGlob$2;\r\nconst braces = braces_1;\r\nconst normalizePath = normalizePath$2;\r\n\r\nconst NodeFsHandler = nodefsHandler;\r\nconst FsEventsHandler = fseventsHandlerExports;\r\nconst {\r\n  EV_ALL,\r\n  EV_READY,\r\n  EV_ADD,\r\n  EV_CHANGE,\r\n  EV_UNLINK,\r\n  EV_ADD_DIR,\r\n  EV_UNLINK_DIR,\r\n  EV_RAW,\r\n  EV_ERROR,\r\n\r\n  STR_CLOSE,\r\n  STR_END,\r\n\r\n  BACK_SLASH_RE,\r\n  DOUBLE_SLASH_RE,\r\n  SLASH_OR_BACK_SLASH_RE,\r\n  DOT_RE,\r\n  REPLACER_RE,\r\n\r\n  SLASH,\r\n  SLASH_SLASH,\r\n  BRACE_START,\r\n  BANG,\r\n  ONE_DOT,\r\n  TWO_DOTS,\r\n  GLOBSTAR,\r\n  SLASH_GLOBSTAR,\r\n  ANYMATCH_OPTS,\r\n  STRING_TYPE,\r\n  FUNCTION_TYPE,\r\n  EMPTY_STR,\r\n  EMPTY_FN,\r\n\r\n  isWindows: isWindows$1,\r\n  isMacos,\r\n  isIBMi\r\n} = constants$1;\r\n\r\nconst stat = promisify(fs$5.stat);\r\nconst readdir = promisify(fs$5.readdir);\r\n\r\n/**\r\n * @typedef {String} Path\r\n * @typedef {'all'|'add'|'addDir'|'change'|'unlink'|'unlinkDir'|'raw'|'error'|'ready'} EventName\r\n * @typedef {'readdir'|'watch'|'add'|'remove'|'change'} ThrottleType\r\n */\r\n\r\n/**\r\n *\r\n * @typedef {Object} WatchHelpers\r\n * @property {Boolean} followSymlinks\r\n * @property {'stat'|'lstat'} statMethod\r\n * @property {Path} path\r\n * @property {Path} watchPath\r\n * @property {Function} entryPath\r\n * @property {Boolean} hasGlob\r\n * @property {Object} globFilter\r\n * @property {Function} filterPath\r\n * @property {Function} filterDir\r\n */\r\n\r\nconst arrify = (value = []) => Array.isArray(value) ? value : [value];\r\nconst flatten = (list, result = []) => {\r\n  list.forEach(item => {\r\n    if (Array.isArray(item)) {\r\n      flatten(item, result);\r\n    } else {\r\n      result.push(item);\r\n    }\r\n  });\r\n  return result;\r\n};\r\n\r\nconst unifyPaths = (paths_) => {\r\n  /**\r\n   * @type {Array<String>}\r\n   */\r\n  const paths = flatten(arrify(paths_));\r\n  if (!paths.every(p => typeof p === STRING_TYPE)) {\r\n    throw new TypeError(`Non-string provided as watch path: ${paths}`);\r\n  }\r\n  return paths.map(normalizePathToUnix);\r\n};\r\n\r\n// If SLASH_SLASH occurs at the beginning of path, it is not replaced\r\n//     because \"//StoragePC/DrivePool/Movies\" is a valid network path\r\nconst toUnix = (string) => {\r\n  let str = string.replace(BACK_SLASH_RE, SLASH);\r\n  let prepend = false;\r\n  if (str.startsWith(SLASH_SLASH)) {\r\n    prepend = true;\r\n  }\r\n  while (str.match(DOUBLE_SLASH_RE)) {\r\n    str = str.replace(DOUBLE_SLASH_RE, SLASH);\r\n  }\r\n  if (prepend) {\r\n    str = SLASH + str;\r\n  }\r\n  return str;\r\n};\r\n\r\n// Our version of upath.normalize\r\n// TODO: this is not equal to path-normalize module - investigate why\r\nconst normalizePathToUnix = (path) => toUnix(sysPath.normalize(toUnix(path)));\r\n\r\nconst normalizeIgnored = (cwd = EMPTY_STR) => (path) => {\r\n  if (typeof path !== STRING_TYPE) return path;\r\n  return normalizePathToUnix(sysPath.isAbsolute(path) ? path : sysPath.join(cwd, path));\r\n};\r\n\r\nconst getAbsolutePath = (path, cwd) => {\r\n  if (sysPath.isAbsolute(path)) {\r\n    return path;\r\n  }\r\n  if (path.startsWith(BANG)) {\r\n    return BANG + sysPath.join(cwd, path.slice(1));\r\n  }\r\n  return sysPath.join(cwd, path);\r\n};\r\n\r\nconst undef = (opts, key) => opts[key] === undefined;\r\n\r\n/**\r\n * Directory entry.\r\n * @property {Path} path\r\n * @property {Set<Path>} items\r\n */\r\nclass DirEntry {\r\n  /**\r\n   * @param {Path} dir\r\n   * @param {Function} removeWatcher\r\n   */\r\n  constructor(dir, removeWatcher) {\r\n    this.path = dir;\r\n    this._removeWatcher = removeWatcher;\r\n    /** @type {Set<Path>} */\r\n    this.items = new Set();\r\n  }\r\n\r\n  add(item) {\r\n    const {items} = this;\r\n    if (!items) return;\r\n    if (item !== ONE_DOT && item !== TWO_DOTS) items.add(item);\r\n  }\r\n\r\n  async remove(item) {\r\n    const {items} = this;\r\n    if (!items) return;\r\n    items.delete(item);\r\n    if (items.size > 0) return;\r\n\r\n    const dir = this.path;\r\n    try {\r\n      await readdir(dir);\r\n    } catch (err) {\r\n      if (this._removeWatcher) {\r\n        this._removeWatcher(sysPath.dirname(dir), sysPath.basename(dir));\r\n      }\r\n    }\r\n  }\r\n\r\n  has(item) {\r\n    const {items} = this;\r\n    if (!items) return;\r\n    return items.has(item);\r\n  }\r\n\r\n  /**\r\n   * @returns {Array<String>}\r\n   */\r\n  getChildren() {\r\n    const {items} = this;\r\n    if (!items) return;\r\n    return [...items.values()];\r\n  }\r\n\r\n  dispose() {\r\n    this.items.clear();\r\n    delete this.path;\r\n    delete this._removeWatcher;\r\n    delete this.items;\r\n    Object.freeze(this);\r\n  }\r\n}\r\n\r\nconst STAT_METHOD_F = 'stat';\r\nconst STAT_METHOD_L = 'lstat';\r\nclass WatchHelper {\r\n  constructor(path, watchPath, follow, fsw) {\r\n    this.fsw = fsw;\r\n    this.path = path = path.replace(REPLACER_RE, EMPTY_STR);\r\n    this.watchPath = watchPath;\r\n    this.fullWatchPath = sysPath.resolve(watchPath);\r\n    this.hasGlob = watchPath !== path;\r\n    /** @type {object|boolean} */\r\n    if (path === EMPTY_STR) this.hasGlob = false;\r\n    this.globSymlink = this.hasGlob && follow ? undefined : false;\r\n    this.globFilter = this.hasGlob ? anymatch(path, undefined, ANYMATCH_OPTS) : false;\r\n    this.dirParts = this.getDirParts(path);\r\n    this.dirParts.forEach((parts) => {\r\n      if (parts.length > 1) parts.pop();\r\n    });\r\n    this.followSymlinks = follow;\r\n    this.statMethod = follow ? STAT_METHOD_F : STAT_METHOD_L;\r\n  }\r\n\r\n  checkGlobSymlink(entry) {\r\n    // only need to resolve once\r\n    // first entry should always have entry.parentDir === EMPTY_STR\r\n    if (this.globSymlink === undefined) {\r\n      this.globSymlink = entry.fullParentDir === this.fullWatchPath ?\r\n        false : {realPath: entry.fullParentDir, linkPath: this.fullWatchPath};\r\n    }\r\n\r\n    if (this.globSymlink) {\r\n      return entry.fullPath.replace(this.globSymlink.realPath, this.globSymlink.linkPath);\r\n    }\r\n\r\n    return entry.fullPath;\r\n  }\r\n\r\n  entryPath(entry) {\r\n    return sysPath.join(this.watchPath,\r\n      sysPath.relative(this.watchPath, this.checkGlobSymlink(entry))\r\n    );\r\n  }\r\n\r\n  filterPath(entry) {\r\n    const {stats} = entry;\r\n    if (stats && stats.isSymbolicLink()) return this.filterDir(entry);\r\n    const resolvedPath = this.entryPath(entry);\r\n    const matchesGlob = this.hasGlob && typeof this.globFilter === FUNCTION_TYPE ?\r\n      this.globFilter(resolvedPath) : true;\r\n    return matchesGlob &&\r\n      this.fsw._isntIgnored(resolvedPath, stats) &&\r\n      this.fsw._hasReadPermissions(stats);\r\n  }\r\n\r\n  getDirParts(path) {\r\n    if (!this.hasGlob) return [];\r\n    const parts = [];\r\n    const expandedPath = path.includes(BRACE_START) ? braces.expand(path) : [path];\r\n    expandedPath.forEach((path) => {\r\n      parts.push(sysPath.relative(this.watchPath, path).split(SLASH_OR_BACK_SLASH_RE));\r\n    });\r\n    return parts;\r\n  }\r\n\r\n  filterDir(entry) {\r\n    if (this.hasGlob) {\r\n      const entryParts = this.getDirParts(this.checkGlobSymlink(entry));\r\n      let globstar = false;\r\n      this.unmatchedGlob = !this.dirParts.some((parts) => {\r\n        return parts.every((part, i) => {\r\n          if (part === GLOBSTAR) globstar = true;\r\n          return globstar || !entryParts[0][i] || anymatch(part, entryParts[0][i], ANYMATCH_OPTS);\r\n        });\r\n      });\r\n    }\r\n    return !this.unmatchedGlob && this.fsw._isntIgnored(this.entryPath(entry), entry.stats);\r\n  }\r\n}\r\n\r\n/**\r\n * Watches files & directories for changes. Emitted events:\r\n * `add`, `addDir`, `change`, `unlink`, `unlinkDir`, `all`, `error`\r\n *\r\n *     new FSWatcher()\r\n *       .add(directories)\r\n *       .on('add', path => log('File', path, 'was added'))\r\n */\r\nclass FSWatcher extends EventEmitter$2 {\r\n// Not indenting methods for history sake; for now.\r\nconstructor(_opts) {\r\n  super();\r\n\r\n  const opts = {};\r\n  if (_opts) Object.assign(opts, _opts); // for frozen objects\r\n\r\n  /** @type {Map<String, DirEntry>} */\r\n  this._watched = new Map();\r\n  /** @type {Map<String, Array>} */\r\n  this._closers = new Map();\r\n  /** @type {Set<String>} */\r\n  this._ignoredPaths = new Set();\r\n\r\n  /** @type {Map<ThrottleType, Map>} */\r\n  this._throttled = new Map();\r\n\r\n  /** @type {Map<Path, String|Boolean>} */\r\n  this._symlinkPaths = new Map();\r\n\r\n  this._streams = new Set();\r\n  this.closed = false;\r\n\r\n  // Set up default options.\r\n  if (undef(opts, 'persistent')) opts.persistent = true;\r\n  if (undef(opts, 'ignoreInitial')) opts.ignoreInitial = false;\r\n  if (undef(opts, 'ignorePermissionErrors')) opts.ignorePermissionErrors = false;\r\n  if (undef(opts, 'interval')) opts.interval = 100;\r\n  if (undef(opts, 'binaryInterval')) opts.binaryInterval = 300;\r\n  if (undef(opts, 'disableGlobbing')) opts.disableGlobbing = false;\r\n  opts.enableBinaryInterval = opts.binaryInterval !== opts.interval;\r\n\r\n  // Enable fsevents on OS X when polling isn't explicitly enabled.\r\n  if (undef(opts, 'useFsEvents')) opts.useFsEvents = !opts.usePolling;\r\n\r\n  // If we can't use fsevents, ensure the options reflect it's disabled.\r\n  const canUseFsEvents = FsEventsHandler.canUse();\r\n  if (!canUseFsEvents) opts.useFsEvents = false;\r\n\r\n  // Use polling on Mac if not using fsevents.\r\n  // Other platforms use non-polling fs_watch.\r\n  if (undef(opts, 'usePolling') && !opts.useFsEvents) {\r\n    opts.usePolling = isMacos;\r\n  }\r\n\r\n  // Always default to polling on IBM i because fs.watch() is not available on IBM i.\r\n  if(isIBMi) {\r\n    opts.usePolling = true;\r\n  }\r\n\r\n  // Global override (useful for end-developers that need to force polling for all\r\n  // instances of chokidar, regardless of usage/dependency depth)\r\n  const envPoll = process.env.CHOKIDAR_USEPOLLING;\r\n  if (envPoll !== undefined) {\r\n    const envLower = envPoll.toLowerCase();\r\n\r\n    if (envLower === 'false' || envLower === '0') {\r\n      opts.usePolling = false;\r\n    } else if (envLower === 'true' || envLower === '1') {\r\n      opts.usePolling = true;\r\n    } else {\r\n      opts.usePolling = !!envLower;\r\n    }\r\n  }\r\n  const envInterval = process.env.CHOKIDAR_INTERVAL;\r\n  if (envInterval) {\r\n    opts.interval = Number.parseInt(envInterval, 10);\r\n  }\r\n\r\n  // Editor atomic write normalization enabled by default with fs.watch\r\n  if (undef(opts, 'atomic')) opts.atomic = !opts.usePolling && !opts.useFsEvents;\r\n  if (opts.atomic) this._pendingUnlinks = new Map();\r\n\r\n  if (undef(opts, 'followSymlinks')) opts.followSymlinks = true;\r\n\r\n  if (undef(opts, 'awaitWriteFinish')) opts.awaitWriteFinish = false;\r\n  if (opts.awaitWriteFinish === true) opts.awaitWriteFinish = {};\r\n  const awf = opts.awaitWriteFinish;\r\n  if (awf) {\r\n    if (!awf.stabilityThreshold) awf.stabilityThreshold = 2000;\r\n    if (!awf.pollInterval) awf.pollInterval = 100;\r\n    this._pendingWrites = new Map();\r\n  }\r\n  if (opts.ignored) opts.ignored = arrify(opts.ignored);\r\n\r\n  let readyCalls = 0;\r\n  this._emitReady = () => {\r\n    readyCalls++;\r\n    if (readyCalls >= this._readyCount) {\r\n      this._emitReady = EMPTY_FN;\r\n      this._readyEmitted = true;\r\n      // use process.nextTick to allow time for listener to be bound\r\n      process.nextTick(() => this.emit(EV_READY));\r\n    }\r\n  };\r\n  this._emitRaw = (...args) => this.emit(EV_RAW, ...args);\r\n  this._readyEmitted = false;\r\n  this.options = opts;\r\n\r\n  // Initialize with proper watcher.\r\n  if (opts.useFsEvents) {\r\n    this._fsEventsHandler = new FsEventsHandler(this);\r\n  } else {\r\n    this._nodeFsHandler = new NodeFsHandler(this);\r\n  }\r\n\r\n  // You’re frozen when your heart’s not open.\r\n  Object.freeze(opts);\r\n}\r\n\r\n// Public methods\r\n\r\n/**\r\n * Adds paths to be watched on an existing FSWatcher instance\r\n * @param {Path|Array<Path>} paths_\r\n * @param {String=} _origAdd private; for handling non-existent paths to be watched\r\n * @param {Boolean=} _internal private; indicates a non-user add\r\n * @returns {FSWatcher} for chaining\r\n */\r\nadd(paths_, _origAdd, _internal) {\r\n  const {cwd, disableGlobbing} = this.options;\r\n  this.closed = false;\r\n  let paths = unifyPaths(paths_);\r\n  if (cwd) {\r\n    paths = paths.map((path) => {\r\n      const absPath = getAbsolutePath(path, cwd);\r\n\r\n      // Check `path` instead of `absPath` because the cwd portion can't be a glob\r\n      if (disableGlobbing || !isGlob(path)) {\r\n        return absPath;\r\n      }\r\n      return normalizePath(absPath);\r\n    });\r\n  }\r\n\r\n  // set aside negated glob strings\r\n  paths = paths.filter((path) => {\r\n    if (path.startsWith(BANG)) {\r\n      this._ignoredPaths.add(path.slice(1));\r\n      return false;\r\n    }\r\n\r\n    // if a path is being added that was previously ignored, stop ignoring it\r\n    this._ignoredPaths.delete(path);\r\n    this._ignoredPaths.delete(path + SLASH_GLOBSTAR);\r\n\r\n    // reset the cached userIgnored anymatch fn\r\n    // to make ignoredPaths changes effective\r\n    this._userIgnored = undefined;\r\n\r\n    return true;\r\n  });\r\n\r\n  if (this.options.useFsEvents && this._fsEventsHandler) {\r\n    if (!this._readyCount) this._readyCount = paths.length;\r\n    if (this.options.persistent) this._readyCount += paths.length;\r\n    paths.forEach((path) => this._fsEventsHandler._addToFsEvents(path));\r\n  } else {\r\n    if (!this._readyCount) this._readyCount = 0;\r\n    this._readyCount += paths.length;\r\n    Promise.all(\r\n      paths.map(async path => {\r\n        const res = await this._nodeFsHandler._addToNodeFs(path, !_internal, 0, 0, _origAdd);\r\n        if (res) this._emitReady();\r\n        return res;\r\n      })\r\n    ).then(results => {\r\n      if (this.closed) return;\r\n      results.filter(item => item).forEach(item => {\r\n        this.add(sysPath.dirname(item), sysPath.basename(_origAdd || item));\r\n      });\r\n    });\r\n  }\r\n\r\n  return this;\r\n}\r\n\r\n/**\r\n * Close watchers or start ignoring events from specified paths.\r\n * @param {Path|Array<Path>} paths_ - string or array of strings, file/directory paths and/or globs\r\n * @returns {FSWatcher} for chaining\r\n*/\r\nunwatch(paths_) {\r\n  if (this.closed) return this;\r\n  const paths = unifyPaths(paths_);\r\n  const {cwd} = this.options;\r\n\r\n  paths.forEach((path) => {\r\n    // convert to absolute path unless relative path already matches\r\n    if (!sysPath.isAbsolute(path) && !this._closers.has(path)) {\r\n      if (cwd) path = sysPath.join(cwd, path);\r\n      path = sysPath.resolve(path);\r\n    }\r\n\r\n    this._closePath(path);\r\n\r\n    this._ignoredPaths.add(path);\r\n    if (this._watched.has(path)) {\r\n      this._ignoredPaths.add(path + SLASH_GLOBSTAR);\r\n    }\r\n\r\n    // reset the cached userIgnored anymatch fn\r\n    // to make ignoredPaths changes effective\r\n    this._userIgnored = undefined;\r\n  });\r\n\r\n  return this;\r\n}\r\n\r\n/**\r\n * Close watchers and remove all listeners from watched paths.\r\n * @returns {Promise<void>}.\r\n*/\r\nclose() {\r\n  if (this.closed) return this._closePromise;\r\n  this.closed = true;\r\n\r\n  // Memory management.\r\n  this.removeAllListeners();\r\n  const closers = [];\r\n  this._closers.forEach(closerList => closerList.forEach(closer => {\r\n    const promise = closer();\r\n    if (promise instanceof Promise) closers.push(promise);\r\n  }));\r\n  this._streams.forEach(stream => stream.destroy());\r\n  this._userIgnored = undefined;\r\n  this._readyCount = 0;\r\n  this._readyEmitted = false;\r\n  this._watched.forEach(dirent => dirent.dispose());\r\n  ['closers', 'watched', 'streams', 'symlinkPaths', 'throttled'].forEach(key => {\r\n    this[`_${key}`].clear();\r\n  });\r\n\r\n  this._closePromise = closers.length ? Promise.all(closers).then(() => undefined) : Promise.resolve();\r\n  return this._closePromise;\r\n}\r\n\r\n/**\r\n * Expose list of watched paths\r\n * @returns {Object} for chaining\r\n*/\r\ngetWatched() {\r\n  const watchList = {};\r\n  this._watched.forEach((entry, dir) => {\r\n    const key = this.options.cwd ? sysPath.relative(this.options.cwd, dir) : dir;\r\n    watchList[key || ONE_DOT] = entry.getChildren().sort();\r\n  });\r\n  return watchList;\r\n}\r\n\r\nemitWithAll(event, args) {\r\n  this.emit(...args);\r\n  if (event !== EV_ERROR) this.emit(EV_ALL, ...args);\r\n}\r\n\r\n// Common helpers\r\n// --------------\r\n\r\n/**\r\n * Normalize and emit events.\r\n * Calling _emit DOES NOT MEAN emit() would be called!\r\n * @param {EventName} event Type of event\r\n * @param {Path} path File or directory path\r\n * @param {*=} val1 arguments to be passed with event\r\n * @param {*=} val2\r\n * @param {*=} val3\r\n * @returns the error if defined, otherwise the value of the FSWatcher instance's `closed` flag\r\n */\r\nasync _emit(event, path, val1, val2, val3) {\r\n  if (this.closed) return;\r\n\r\n  const opts = this.options;\r\n  if (isWindows$1) path = sysPath.normalize(path);\r\n  if (opts.cwd) path = sysPath.relative(opts.cwd, path);\r\n  /** @type Array<any> */\r\n  const args = [event, path];\r\n  if (val3 !== undefined) args.push(val1, val2, val3);\r\n  else if (val2 !== undefined) args.push(val1, val2);\r\n  else if (val1 !== undefined) args.push(val1);\r\n\r\n  const awf = opts.awaitWriteFinish;\r\n  let pw;\r\n  if (awf && (pw = this._pendingWrites.get(path))) {\r\n    pw.lastChange = new Date();\r\n    return this;\r\n  }\r\n\r\n  if (opts.atomic) {\r\n    if (event === EV_UNLINK) {\r\n      this._pendingUnlinks.set(path, args);\r\n      setTimeout(() => {\r\n        this._pendingUnlinks.forEach((entry, path) => {\r\n          this.emit(...entry);\r\n          this.emit(EV_ALL, ...entry);\r\n          this._pendingUnlinks.delete(path);\r\n        });\r\n      }, typeof opts.atomic === 'number' ? opts.atomic : 100);\r\n      return this;\r\n    }\r\n    if (event === EV_ADD && this._pendingUnlinks.has(path)) {\r\n      event = args[0] = EV_CHANGE;\r\n      this._pendingUnlinks.delete(path);\r\n    }\r\n  }\r\n\r\n  if (awf && (event === EV_ADD || event === EV_CHANGE) && this._readyEmitted) {\r\n    const awfEmit = (err, stats) => {\r\n      if (err) {\r\n        event = args[0] = EV_ERROR;\r\n        args[1] = err;\r\n        this.emitWithAll(event, args);\r\n      } else if (stats) {\r\n        // if stats doesn't exist the file must have been deleted\r\n        if (args.length > 2) {\r\n          args[2] = stats;\r\n        } else {\r\n          args.push(stats);\r\n        }\r\n        this.emitWithAll(event, args);\r\n      }\r\n    };\r\n\r\n    this._awaitWriteFinish(path, awf.stabilityThreshold, event, awfEmit);\r\n    return this;\r\n  }\r\n\r\n  if (event === EV_CHANGE) {\r\n    const isThrottled = !this._throttle(EV_CHANGE, path, 50);\r\n    if (isThrottled) return this;\r\n  }\r\n\r\n  if (opts.alwaysStat && val1 === undefined &&\r\n    (event === EV_ADD || event === EV_ADD_DIR || event === EV_CHANGE)\r\n  ) {\r\n    const fullPath = opts.cwd ? sysPath.join(opts.cwd, path) : path;\r\n    let stats;\r\n    try {\r\n      stats = await stat(fullPath);\r\n    } catch (err) {}\r\n    // Suppress event when fs_stat fails, to avoid sending undefined 'stat'\r\n    if (!stats || this.closed) return;\r\n    args.push(stats);\r\n  }\r\n  this.emitWithAll(event, args);\r\n\r\n  return this;\r\n}\r\n\r\n/**\r\n * Common handler for errors\r\n * @param {Error} error\r\n * @returns {Error|Boolean} The error if defined, otherwise the value of the FSWatcher instance's `closed` flag\r\n */\r\n_handleError(error) {\r\n  const code = error && error.code;\r\n  if (error && code !== 'ENOENT' && code !== 'ENOTDIR' &&\r\n    (!this.options.ignorePermissionErrors || (code !== 'EPERM' && code !== 'EACCES'))\r\n  ) {\r\n    this.emit(EV_ERROR, error);\r\n  }\r\n  return error || this.closed;\r\n}\r\n\r\n/**\r\n * Helper utility for throttling\r\n * @param {ThrottleType} actionType type being throttled\r\n * @param {Path} path being acted upon\r\n * @param {Number} timeout duration of time to suppress duplicate actions\r\n * @returns {Object|false} tracking object or false if action should be suppressed\r\n */\r\n_throttle(actionType, path, timeout) {\r\n  if (!this._throttled.has(actionType)) {\r\n    this._throttled.set(actionType, new Map());\r\n  }\r\n\r\n  /** @type {Map<Path, Object>} */\r\n  const action = this._throttled.get(actionType);\r\n  /** @type {Object} */\r\n  const actionPath = action.get(path);\r\n\r\n  if (actionPath) {\r\n    actionPath.count++;\r\n    return false;\r\n  }\r\n\r\n  let timeoutObject;\r\n  const clear = () => {\r\n    const item = action.get(path);\r\n    const count = item ? item.count : 0;\r\n    action.delete(path);\r\n    clearTimeout(timeoutObject);\r\n    if (item) clearTimeout(item.timeoutObject);\r\n    return count;\r\n  };\r\n  timeoutObject = setTimeout(clear, timeout);\r\n  const thr = {timeoutObject, clear, count: 0};\r\n  action.set(path, thr);\r\n  return thr;\r\n}\r\n\r\n_incrReadyCount() {\r\n  return this._readyCount++;\r\n}\r\n\r\n/**\r\n * Awaits write operation to finish.\r\n * Polls a newly created file for size variations. When files size does not change for 'threshold' milliseconds calls callback.\r\n * @param {Path} path being acted upon\r\n * @param {Number} threshold Time in milliseconds a file size must be fixed before acknowledging write OP is finished\r\n * @param {EventName} event\r\n * @param {Function} awfEmit Callback to be called when ready for event to be emitted.\r\n */\r\n_awaitWriteFinish(path, threshold, event, awfEmit) {\r\n  let timeoutHandler;\r\n\r\n  let fullPath = path;\r\n  if (this.options.cwd && !sysPath.isAbsolute(path)) {\r\n    fullPath = sysPath.join(this.options.cwd, path);\r\n  }\r\n\r\n  const now = new Date();\r\n\r\n  const awaitWriteFinish = (prevStat) => {\r\n    fs$5.stat(fullPath, (err, curStat) => {\r\n      if (err || !this._pendingWrites.has(path)) {\r\n        if (err && err.code !== 'ENOENT') awfEmit(err);\r\n        return;\r\n      }\r\n\r\n      const now = Number(new Date());\r\n\r\n      if (prevStat && curStat.size !== prevStat.size) {\r\n        this._pendingWrites.get(path).lastChange = now;\r\n      }\r\n      const pw = this._pendingWrites.get(path);\r\n      const df = now - pw.lastChange;\r\n\r\n      if (df >= threshold) {\r\n        this._pendingWrites.delete(path);\r\n        awfEmit(undefined, curStat);\r\n      } else {\r\n        timeoutHandler = setTimeout(\r\n          awaitWriteFinish,\r\n          this.options.awaitWriteFinish.pollInterval,\r\n          curStat\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  if (!this._pendingWrites.has(path)) {\r\n    this._pendingWrites.set(path, {\r\n      lastChange: now,\r\n      cancelWait: () => {\r\n        this._pendingWrites.delete(path);\r\n        clearTimeout(timeoutHandler);\r\n        return event;\r\n      }\r\n    });\r\n    timeoutHandler = setTimeout(\r\n      awaitWriteFinish,\r\n      this.options.awaitWriteFinish.pollInterval\r\n    );\r\n  }\r\n}\r\n\r\n_getGlobIgnored() {\r\n  return [...this._ignoredPaths.values()];\r\n}\r\n\r\n/**\r\n * Determines whether user has asked to ignore this path.\r\n * @param {Path} path filepath or dir\r\n * @param {fs.Stats=} stats result of fs.stat\r\n * @returns {Boolean}\r\n */\r\n_isIgnored(path, stats) {\r\n  if (this.options.atomic && DOT_RE.test(path)) return true;\r\n  if (!this._userIgnored) {\r\n    const {cwd} = this.options;\r\n    const ign = this.options.ignored;\r\n\r\n    const ignored = ign && ign.map(normalizeIgnored(cwd));\r\n    const paths = arrify(ignored)\r\n      .filter((path) => typeof path === STRING_TYPE && !isGlob(path))\r\n      .map((path) => path + SLASH_GLOBSTAR);\r\n    const list = this._getGlobIgnored().map(normalizeIgnored(cwd)).concat(ignored, paths);\r\n    this._userIgnored = anymatch(list, undefined, ANYMATCH_OPTS);\r\n  }\r\n\r\n  return this._userIgnored([path, stats]);\r\n}\r\n\r\n_isntIgnored(path, stat) {\r\n  return !this._isIgnored(path, stat);\r\n}\r\n\r\n/**\r\n * Provides a set of common helpers and properties relating to symlink and glob handling.\r\n * @param {Path} path file, directory, or glob pattern being watched\r\n * @param {Number=} depth at any depth > 0, this isn't a glob\r\n * @returns {WatchHelper} object containing helpers for this path\r\n */\r\n_getWatchHelpers(path, depth) {\r\n  const watchPath = depth || this.options.disableGlobbing || !isGlob(path) ? path : globParent(path);\r\n  const follow = this.options.followSymlinks;\r\n\r\n  return new WatchHelper(path, watchPath, follow, this);\r\n}\r\n\r\n// Directory helpers\r\n// -----------------\r\n\r\n/**\r\n * Provides directory tracking objects\r\n * @param {String} directory path of the directory\r\n * @returns {DirEntry} the directory's tracking object\r\n */\r\n_getWatchedDir(directory) {\r\n  if (!this._boundRemove) this._boundRemove = this._remove.bind(this);\r\n  const dir = sysPath.resolve(directory);\r\n  if (!this._watched.has(dir)) this._watched.set(dir, new DirEntry(dir, this._boundRemove));\r\n  return this._watched.get(dir);\r\n}\r\n\r\n// File helpers\r\n// ------------\r\n\r\n/**\r\n * Check for read permissions.\r\n * Based on this answer on SO: https://stackoverflow.com/a/11781404/1358405\r\n * @param {fs.Stats} stats - object, result of fs_stat\r\n * @returns {Boolean} indicates whether the file can be read\r\n*/\r\n_hasReadPermissions(stats) {\r\n  if (this.options.ignorePermissionErrors) return true;\r\n\r\n  // stats.mode may be bigint\r\n  const md = stats && Number.parseInt(stats.mode, 10);\r\n  const st = md & 0o777;\r\n  const it = Number.parseInt(st.toString(8)[0], 10);\r\n  return Boolean(4 & it);\r\n}\r\n\r\n/**\r\n * Handles emitting unlink events for\r\n * files and directories, and via recursion, for\r\n * files and directories within directories that are unlinked\r\n * @param {String} directory within which the following item is located\r\n * @param {String} item      base path of item/directory\r\n * @returns {void}\r\n*/\r\n_remove(directory, item, isDirectory) {\r\n  // if what is being deleted is a directory, get that directory's paths\r\n  // for recursive deleting and cleaning of watched object\r\n  // if it is not a directory, nestedDirectoryChildren will be empty array\r\n  const path = sysPath.join(directory, item);\r\n  const fullPath = sysPath.resolve(path);\r\n  isDirectory = isDirectory != null\r\n    ? isDirectory\r\n    : this._watched.has(path) || this._watched.has(fullPath);\r\n\r\n  // prevent duplicate handling in case of arriving here nearly simultaneously\r\n  // via multiple paths (such as _handleFile and _handleDir)\r\n  if (!this._throttle('remove', path, 100)) return;\r\n\r\n  // if the only watched file is removed, watch for its return\r\n  if (!isDirectory && !this.options.useFsEvents && this._watched.size === 1) {\r\n    this.add(directory, item, true);\r\n  }\r\n\r\n  // This will create a new entry in the watched object in either case\r\n  // so we got to do the directory check beforehand\r\n  const wp = this._getWatchedDir(path);\r\n  const nestedDirectoryChildren = wp.getChildren();\r\n\r\n  // Recursively remove children directories / files.\r\n  nestedDirectoryChildren.forEach(nested => this._remove(path, nested));\r\n\r\n  // Check if item was on the watched list and remove it\r\n  const parent = this._getWatchedDir(directory);\r\n  const wasTracked = parent.has(item);\r\n  parent.remove(item);\r\n\r\n  // Fixes issue #1042 -> Relative paths were detected and added as symlinks\r\n  // (https://github.com/paulmillr/chokidar/blob/e1753ddbc9571bdc33b4a4af172d52cb6e611c10/lib/nodefs-handler.js#L612),\r\n  // but never removed from the map in case the path was deleted.\r\n  // This leads to an incorrect state if the path was recreated:\r\n  // https://github.com/paulmillr/chokidar/blob/e1753ddbc9571bdc33b4a4af172d52cb6e611c10/lib/nodefs-handler.js#L553\r\n  if (this._symlinkPaths.has(fullPath)) {\r\n    this._symlinkPaths.delete(fullPath);\r\n  }\r\n\r\n  // If we wait for this file to be fully written, cancel the wait.\r\n  let relPath = path;\r\n  if (this.options.cwd) relPath = sysPath.relative(this.options.cwd, path);\r\n  if (this.options.awaitWriteFinish && this._pendingWrites.has(relPath)) {\r\n    const event = this._pendingWrites.get(relPath).cancelWait();\r\n    if (event === EV_ADD) return;\r\n  }\r\n\r\n  // The Entry will either be a directory that just got removed\r\n  // or a bogus entry to a file, in either case we have to remove it\r\n  this._watched.delete(path);\r\n  this._watched.delete(fullPath);\r\n  const eventName = isDirectory ? EV_UNLINK_DIR : EV_UNLINK;\r\n  if (wasTracked && !this._isIgnored(path)) this._emit(eventName, path);\r\n\r\n  // Avoid conflicts if we later create another file with the same name\r\n  if (!this.options.useFsEvents) {\r\n    this._closePath(path);\r\n  }\r\n}\r\n\r\n/**\r\n * Closes all watchers for a path\r\n * @param {Path} path\r\n */\r\n_closePath(path) {\r\n  this._closeFile(path);\r\n  const dir = sysPath.dirname(path);\r\n  this._getWatchedDir(dir).remove(sysPath.basename(path));\r\n}\r\n\r\n/**\r\n * Closes only file-specific watchers\r\n * @param {Path} path\r\n */\r\n_closeFile(path) {\r\n  const closers = this._closers.get(path);\r\n  if (!closers) return;\r\n  closers.forEach(closer => closer());\r\n  this._closers.delete(path);\r\n}\r\n\r\n/**\r\n *\r\n * @param {Path} path\r\n * @param {Function} closer\r\n */\r\n_addPathCloser(path, closer) {\r\n  if (!closer) return;\r\n  let list = this._closers.get(path);\r\n  if (!list) {\r\n    list = [];\r\n    this._closers.set(path, list);\r\n  }\r\n  list.push(closer);\r\n}\r\n\r\n_readdirp(root, opts) {\r\n  if (this.closed) return;\r\n  const options = {type: EV_ALL, alwaysStat: true, lstat: true, ...opts};\r\n  let stream = readdirp(root, options);\r\n  this._streams.add(stream);\r\n  stream.once(STR_CLOSE, () => {\r\n    stream = undefined;\r\n  });\r\n  stream.once(STR_END, () => {\r\n    if (stream) {\r\n      this._streams.delete(stream);\r\n      stream = undefined;\r\n    }\r\n  });\r\n  return stream;\r\n}\r\n\r\n}\r\n\r\n// Export FSWatcher class\r\nchokidar.FSWatcher = FSWatcher;\r\n\r\n/**\r\n * Instantiates watcher with paths to be tracked.\r\n * @param {String|Array<String>} paths file/directory paths and/or globs\r\n * @param {Object=} options chokidar opts\r\n * @returns an instance of FSWatcher for chaining.\r\n */\r\nconst watch = (paths, options) => {\r\n  const watcher = new FSWatcher(options);\r\n  watcher.add(paths);\r\n  return watcher;\r\n};\r\n\r\nchokidar.watch = watch;\r\n\r\nvar shellQuote$1 = {};\r\n\r\nvar quote = function quote(xs) {\r\n\treturn xs.map(function (s) {\r\n\t\tif (s && typeof s === 'object') {\r\n\t\t\treturn s.op.replace(/(.)/g, '\\\\$1');\r\n\t\t}\r\n\t\tif ((/[\"\\s]/).test(s) && !(/'/).test(s)) {\r\n\t\t\treturn \"'\" + s.replace(/(['\\\\])/g, '\\\\$1') + \"'\";\r\n\t\t}\r\n\t\tif ((/[\"'\\s]/).test(s)) {\r\n\t\t\treturn '\"' + s.replace(/([\"\\\\$`!])/g, '\\\\$1') + '\"';\r\n\t\t}\r\n\t\treturn String(s).replace(/([A-Za-z]:)?([#!\"$&'()*,:;<=>?@[\\\\\\]^`{|}])/g, '$1\\\\$2');\r\n\t}).join(' ');\r\n};\r\n\r\n// '<(' is process substitution operator and\r\n// can be parsed the same as control operator\r\nvar CONTROL = '(?:' + [\r\n\t'\\\\|\\\\|',\r\n\t'\\\\&\\\\&',\r\n\t';;',\r\n\t'\\\\|\\\\&',\r\n\t'\\\\<\\\\(',\r\n\t'\\\\<\\\\<\\\\<',\r\n\t'>>',\r\n\t'>\\\\&',\r\n\t'<\\\\&',\r\n\t'[&;()|<>]'\r\n].join('|') + ')';\r\nvar controlRE = new RegExp('^' + CONTROL + '$');\r\nvar META = '|&;()<> \\\\t';\r\nvar SINGLE_QUOTE = '\"((\\\\\\\\\"|[^\"])*?)\"';\r\nvar DOUBLE_QUOTE = '\\'((\\\\\\\\\\'|[^\\'])*?)\\'';\r\nvar hash = /^#$/;\r\n\r\nvar SQ = \"'\";\r\nvar DQ = '\"';\r\nvar DS = '$';\r\n\r\nvar TOKEN = '';\r\nvar mult = 0x100000000; // Math.pow(16, 8);\r\nfor (var i = 0; i < 4; i++) {\r\n\tTOKEN += (mult * Math.random()).toString(16);\r\n}\r\nvar startsWithToken = new RegExp('^' + TOKEN);\r\n\r\nfunction matchAll(s, r) {\r\n\tvar origIndex = r.lastIndex;\r\n\r\n\tvar matches = [];\r\n\tvar matchObj;\r\n\r\n\twhile ((matchObj = r.exec(s))) {\r\n\t\tmatches.push(matchObj);\r\n\t\tif (r.lastIndex === matchObj.index) {\r\n\t\t\tr.lastIndex += 1;\r\n\t\t}\r\n\t}\r\n\r\n\tr.lastIndex = origIndex;\r\n\r\n\treturn matches;\r\n}\r\n\r\nfunction getVar(env, pre, key) {\r\n\tvar r = typeof env === 'function' ? env(key) : env[key];\r\n\tif (typeof r === 'undefined' && key != '') {\r\n\t\tr = '';\r\n\t} else if (typeof r === 'undefined') {\r\n\t\tr = '$';\r\n\t}\r\n\r\n\tif (typeof r === 'object') {\r\n\t\treturn pre + TOKEN + JSON.stringify(r) + TOKEN;\r\n\t}\r\n\treturn pre + r;\r\n}\r\n\r\nfunction parseInternal(string, env, opts) {\r\n\tif (!opts) {\r\n\t\topts = {};\r\n\t}\r\n\tvar BS = opts.escape || '\\\\';\r\n\tvar BAREWORD = '(\\\\' + BS + '[\\'\"' + META + ']|[^\\\\s\\'\"' + META + '])+';\r\n\r\n\tvar chunker = new RegExp([\r\n\t\t'(' + CONTROL + ')', // control chars\r\n\t\t'(' + BAREWORD + '|' + SINGLE_QUOTE + '|' + DOUBLE_QUOTE + ')+'\r\n\t].join('|'), 'g');\r\n\r\n\tvar matches = matchAll(string, chunker);\r\n\r\n\tif (matches.length === 0) {\r\n\t\treturn [];\r\n\t}\r\n\tif (!env) {\r\n\t\tenv = {};\r\n\t}\r\n\r\n\tvar commented = false;\r\n\r\n\treturn matches.map(function (match) {\r\n\t\tvar s = match[0];\r\n\t\tif (!s || commented) {\r\n\t\t\treturn void undefined;\r\n\t\t}\r\n\t\tif (controlRE.test(s)) {\r\n\t\t\treturn { op: s };\r\n\t\t}\r\n\r\n\t\t// Hand-written scanner/parser for Bash quoting rules:\r\n\t\t//\r\n\t\t// 1. inside single quotes, all characters are printed literally.\r\n\t\t// 2. inside double quotes, all characters are printed literally\r\n\t\t//    except variables prefixed by '$' and backslashes followed by\r\n\t\t//    either a double quote or another backslash.\r\n\t\t// 3. outside of any quotes, backslashes are treated as escape\r\n\t\t//    characters and not printed (unless they are themselves escaped)\r\n\t\t// 4. quote context can switch mid-token if there is no whitespace\r\n\t\t//     between the two quote contexts (e.g. all'one'\"token\" parses as\r\n\t\t//     \"allonetoken\")\r\n\t\tvar quote = false;\r\n\t\tvar esc = false;\r\n\t\tvar out = '';\r\n\t\tvar isGlob = false;\r\n\t\tvar i;\r\n\r\n\t\tfunction parseEnvVar() {\r\n\t\t\ti += 1;\r\n\t\t\tvar varend;\r\n\t\t\tvar varname;\r\n\t\t\tvar char = s.charAt(i);\r\n\r\n\t\t\tif (char === '{') {\r\n\t\t\t\ti += 1;\r\n\t\t\t\tif (s.charAt(i) === '}') {\r\n\t\t\t\t\tthrow new Error('Bad substitution: ' + s.slice(i - 2, i + 1));\r\n\t\t\t\t}\r\n\t\t\t\tvarend = s.indexOf('}', i);\r\n\t\t\t\tif (varend < 0) {\r\n\t\t\t\t\tthrow new Error('Bad substitution: ' + s.slice(i));\r\n\t\t\t\t}\r\n\t\t\t\tvarname = s.slice(i, varend);\r\n\t\t\t\ti = varend;\r\n\t\t\t} else if ((/[*@#?$!_-]/).test(char)) {\r\n\t\t\t\tvarname = char;\r\n\t\t\t\ti += 1;\r\n\t\t\t} else {\r\n\t\t\t\tvar slicedFromI = s.slice(i);\r\n\t\t\t\tvarend = slicedFromI.match(/[^\\w\\d_]/);\r\n\t\t\t\tif (!varend) {\r\n\t\t\t\t\tvarname = slicedFromI;\r\n\t\t\t\t\ti = s.length;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvarname = slicedFromI.slice(0, varend.index);\r\n\t\t\t\t\ti += varend.index - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn getVar(env, '', varname);\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < s.length; i++) {\r\n\t\t\tvar c = s.charAt(i);\r\n\t\t\tisGlob = isGlob || (!quote && (c === '*' || c === '?'));\r\n\t\t\tif (esc) {\r\n\t\t\t\tout += c;\r\n\t\t\t\tesc = false;\r\n\t\t\t} else if (quote) {\r\n\t\t\t\tif (c === quote) {\r\n\t\t\t\t\tquote = false;\r\n\t\t\t\t} else if (quote == SQ) {\r\n\t\t\t\t\tout += c;\r\n\t\t\t\t} else { // Double quote\r\n\t\t\t\t\tif (c === BS) {\r\n\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t\tc = s.charAt(i);\r\n\t\t\t\t\t\tif (c === DQ || c === BS || c === DS) {\r\n\t\t\t\t\t\t\tout += c;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tout += BS + c;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (c === DS) {\r\n\t\t\t\t\t\tout += parseEnvVar();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tout += c;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (c === DQ || c === SQ) {\r\n\t\t\t\tquote = c;\r\n\t\t\t} else if (controlRE.test(c)) {\r\n\t\t\t\treturn { op: s };\r\n\t\t\t} else if (hash.test(c)) {\r\n\t\t\t\tcommented = true;\r\n\t\t\t\tvar commentObj = { comment: string.slice(match.index + i + 1) };\r\n\t\t\t\tif (out.length) {\r\n\t\t\t\t\treturn [out, commentObj];\r\n\t\t\t\t}\r\n\t\t\t\treturn [commentObj];\r\n\t\t\t} else if (c === BS) {\r\n\t\t\t\tesc = true;\r\n\t\t\t} else if (c === DS) {\r\n\t\t\t\tout += parseEnvVar();\r\n\t\t\t} else {\r\n\t\t\t\tout += c;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isGlob) {\r\n\t\t\treturn { op: 'glob', pattern: out };\r\n\t\t}\r\n\r\n\t\treturn out;\r\n\t}).reduce(function (prev, arg) { // finalize parsed arguments\r\n\t\t// TODO: replace this whole reduce with a concat\r\n\t\treturn typeof arg === 'undefined' ? prev : prev.concat(arg);\r\n\t}, []);\r\n}\r\n\r\nvar parse$6 = function parse(s, env, opts) {\r\n\tvar mapped = parseInternal(s, env, opts);\r\n\tif (typeof env !== 'function') {\r\n\t\treturn mapped;\r\n\t}\r\n\treturn mapped.reduce(function (acc, s) {\r\n\t\tif (typeof s === 'object') {\r\n\t\t\treturn acc.concat(s);\r\n\t\t}\r\n\t\tvar xs = s.split(RegExp('(' + TOKEN + '.*?' + TOKEN + ')', 'g'));\r\n\t\tif (xs.length === 1) {\r\n\t\t\treturn acc.concat(xs[0]);\r\n\t\t}\r\n\t\treturn acc.concat(xs.filter(Boolean).map(function (x) {\r\n\t\t\tif (startsWithToken.test(x)) {\r\n\t\t\t\treturn JSON.parse(x.split(TOKEN)[1]);\r\n\t\t\t}\r\n\t\t\treturn x;\r\n\t\t}));\r\n\t}, []);\r\n};\r\n\r\nshellQuote$1.quote = quote;\r\nshellQuote$1.parse = parse$6;\r\n\r\nvar macos = {\r\n  '/Applications/Atom.app/Contents/MacOS/Atom': 'atom',\r\n  '/Applications/Atom Beta.app/Contents/MacOS/Atom Beta':\r\n    '/Applications/Atom Beta.app/Contents/MacOS/Atom Beta',\r\n  '/Applications/Brackets.app/Contents/MacOS/Brackets': 'brackets',\r\n  '/Applications/Sublime Text.app/Contents/MacOS/Sublime Text':\r\n    '/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl',\r\n  '/Applications/Sublime Text.app/Contents/MacOS/sublime_text':\r\n    '/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl',\r\n  '/Applications/Sublime Text 2.app/Contents/MacOS/Sublime Text 2':\r\n    '/Applications/Sublime Text 2.app/Contents/SharedSupport/bin/subl',\r\n  '/Applications/Sublime Text Dev.app/Contents/MacOS/Sublime Text':\r\n    '/Applications/Sublime Text Dev.app/Contents/SharedSupport/bin/subl',\r\n  '/Applications/Visual Studio Code.app/Contents/MacOS/Electron': 'code',\r\n  '/Applications/Visual Studio Code - Insiders.app/Contents/MacOS/Electron':\r\n    'code-insiders',\r\n  '/Applications/VSCodium.app/Contents/MacOS/Electron': 'codium',\r\n  '/Applications/Cursor.app/Contents/MacOS/Cursor': 'cursor',\r\n  '/Applications/AppCode.app/Contents/MacOS/appcode':\r\n    '/Applications/AppCode.app/Contents/MacOS/appcode',\r\n  '/Applications/CLion.app/Contents/MacOS/clion':\r\n    '/Applications/CLion.app/Contents/MacOS/clion',\r\n  '/Applications/IntelliJ IDEA.app/Contents/MacOS/idea':\r\n    '/Applications/IntelliJ IDEA.app/Contents/MacOS/idea',\r\n  '/Applications/IntelliJ IDEA Ultimate.app/Contents/MacOS/idea':\r\n    '/Applications/IntelliJ IDEA Ultimate.app/Contents/MacOS/idea',\r\n  '/Applications/IntelliJ IDEA Community Edition.app/Contents/MacOS/idea':\r\n    '/Applications/IntelliJ IDEA Community Edition.app/Contents/MacOS/idea',\r\n  '/Applications/PhpStorm.app/Contents/MacOS/phpstorm':\r\n    '/Applications/PhpStorm.app/Contents/MacOS/phpstorm',\r\n  '/Applications/PyCharm.app/Contents/MacOS/pycharm':\r\n    '/Applications/PyCharm.app/Contents/MacOS/pycharm',\r\n  '/Applications/PyCharm CE.app/Contents/MacOS/pycharm':\r\n    '/Applications/PyCharm CE.app/Contents/MacOS/pycharm',\r\n  '/Applications/RubyMine.app/Contents/MacOS/rubymine':\r\n    '/Applications/RubyMine.app/Contents/MacOS/rubymine',\r\n  '/Applications/WebStorm.app/Contents/MacOS/webstorm':\r\n    '/Applications/WebStorm.app/Contents/MacOS/webstorm',\r\n  '/Applications/MacVim.app/Contents/MacOS/MacVim': 'mvim',\r\n  '/Applications/GoLand.app/Contents/MacOS/goland':\r\n    '/Applications/GoLand.app/Contents/MacOS/goland',\r\n  '/Applications/Rider.app/Contents/MacOS/rider':\r\n    '/Applications/Rider.app/Contents/MacOS/rider',\r\n  '/Applications/Zed.app/Contents/MacOS/zed': 'zed'\r\n};\r\n\r\nvar linux = {\r\n  atom: 'atom',\r\n  Brackets: 'brackets',\r\n  'code-insiders': 'code-insiders',\r\n  code: 'code',\r\n  vscodium: 'vscodium',\r\n  codium: 'codium',\r\n  emacs: 'emacs',\r\n  gvim: 'gvim',\r\n  idea: 'idea',\r\n  'idea.sh': 'idea',\r\n  phpstorm: 'phpstorm',\r\n  'phpstorm.sh': 'phpstorm',\r\n  pycharm: 'pycharm',\r\n  'pycharm.sh': 'pycharm',\r\n  rubymine: 'rubymine',\r\n  'rubymine.sh': 'rubymine',\r\n  sublime_text: 'subl',\r\n  vim: 'vim',\r\n  webstorm: 'webstorm',\r\n  'webstorm.sh': 'webstorm',\r\n  goland: 'goland',\r\n  'goland.sh': 'goland',\r\n  rider: 'rider',\r\n  'rider.sh': 'rider'\r\n};\r\n\r\nvar windows$1 = [\r\n  'Brackets.exe',\r\n  'Code.exe',\r\n  'Code - Insiders.exe',\r\n  'VSCodium.exe',\r\n  'atom.exe',\r\n  'sublime_text.exe',\r\n  'notepad++.exe',\r\n  'clion.exe',\r\n  'clion64.exe',\r\n  'idea.exe',\r\n  'idea64.exe',\r\n  'phpstorm.exe',\r\n  'phpstorm64.exe',\r\n  'pycharm.exe',\r\n  'pycharm64.exe',\r\n  'rubymine.exe',\r\n  'rubymine64.exe',\r\n  'webstorm.exe',\r\n  'webstorm64.exe',\r\n  'goland.exe',\r\n  'goland64.exe',\r\n  'rider.exe',\r\n  'rider64.exe'\r\n];\r\n\r\nconst path$7 = require$$0$4;\r\nconst shellQuote = shellQuote$1;\r\nconst childProcess$2 = require$$2$1;\r\n\r\n// Map from full process name to binary that starts the process\r\n// We can't just re-use full process name, because it will spawn a new instance\r\n// of the app every time\r\nconst COMMON_EDITORS_MACOS = macos;\r\nconst COMMON_EDITORS_LINUX = linux;\r\nconst COMMON_EDITORS_WIN = windows$1;\r\n\r\nvar guess = function guessEditor (specifiedEditor) {\r\n  if (specifiedEditor) {\r\n    return shellQuote.parse(specifiedEditor)\r\n  }\r\n\r\n  if (process.env.LAUNCH_EDITOR) {\r\n    return [process.env.LAUNCH_EDITOR]\r\n  }\r\n\r\n  if (process.versions.webcontainer) {\r\n    return [process.env.EDITOR || 'code']\r\n  }\r\n\r\n  // We can find out which editor is currently running by:\r\n  // `ps x` on macOS and Linux\r\n  // `Get-Process` on Windows\r\n  try {\r\n    if (process.platform === 'darwin') {\r\n      const output = childProcess$2\r\n        .execSync('ps x -o comm=', {\r\n          stdio: ['pipe', 'pipe', 'ignore']\r\n        })\r\n        .toString();\r\n      const processNames = Object.keys(COMMON_EDITORS_MACOS);\r\n      const processList = output.split('\\n');\r\n      for (let i = 0; i < processNames.length; i++) {\r\n        const processName = processNames[i];\r\n        // Find editor by exact match.\r\n        if (processList.includes(processName)) {\r\n          return [COMMON_EDITORS_MACOS[processName]]\r\n        }\r\n        const processNameWithoutApplications = processName.replace('/Applications', '');\r\n        // Find editor installation not in /Applications.\r\n        if (output.indexOf(processNameWithoutApplications) !== -1) {\r\n          // Use the CLI command if one is specified\r\n          if (processName !== COMMON_EDITORS_MACOS[processName]) {\r\n            return [COMMON_EDITORS_MACOS[processName]]\r\n          }\r\n          // Use a partial match to find the running process path.  If one is found, use the\r\n          // existing path since it can be running from anywhere.\r\n          const runningProcess = processList.find((procName) => procName.endsWith(processNameWithoutApplications));\r\n          if (runningProcess !== undefined) {\r\n            return [runningProcess]\r\n          }\r\n        }\r\n      }\r\n    } else if (process.platform === 'win32') {\r\n      const output = childProcess$2\r\n        .execSync(\r\n          'powershell -NoProfile -Command \"Get-CimInstance -Query \\\\\"select executablepath from win32_process where executablepath is not null\\\\\" | % { $_.ExecutablePath }\"',\r\n          {\r\n            stdio: ['pipe', 'pipe', 'ignore']\r\n          }\r\n        )\r\n        .toString();\r\n      const runningProcesses = output.split('\\r\\n');\r\n      for (let i = 0; i < runningProcesses.length; i++) {\r\n        const fullProcessPath = runningProcesses[i].trim();\r\n        const shortProcessName = path$7.basename(fullProcessPath);\r\n\r\n        if (COMMON_EDITORS_WIN.indexOf(shortProcessName) !== -1) {\r\n          return [fullProcessPath]\r\n        }\r\n      }\r\n    } else if (process.platform === 'linux') {\r\n      // --no-heading No header line\r\n      // x List all processes owned by you\r\n      // -o comm Need only names column\r\n      const output = childProcess$2\r\n        .execSync('ps x --no-heading -o comm --sort=comm', {\r\n          stdio: ['pipe', 'pipe', 'ignore']\r\n        })\r\n        .toString();\r\n      const processNames = Object.keys(COMMON_EDITORS_LINUX);\r\n      for (let i = 0; i < processNames.length; i++) {\r\n        const processName = processNames[i];\r\n        if (output.indexOf(processName) !== -1) {\r\n          return [COMMON_EDITORS_LINUX[processName]]\r\n        }\r\n      }\r\n    }\r\n  } catch (ignoreError) {\r\n    // Ignore...\r\n  }\r\n\r\n  // Last resort, use old skool env vars\r\n  if (process.env.VISUAL) {\r\n    return [process.env.VISUAL]\r\n  } else if (process.env.EDITOR) {\r\n    return [process.env.EDITOR]\r\n  }\r\n\r\n  return [null]\r\n};\r\n\r\nconst path$6 = require$$0$4;\r\n\r\n// normalize file/line numbers into command line args for specific editors\r\nvar getArgs = function getArgumentsForPosition (\r\n  editor,\r\n  fileName,\r\n  lineNumber,\r\n  columnNumber = 1\r\n) {\r\n  const editorBasename = path$6.basename(editor).replace(/\\.(exe|cmd|bat)$/i, '');\r\n  switch (editorBasename) {\r\n    case 'atom':\r\n    case 'Atom':\r\n    case 'Atom Beta':\r\n    case 'subl':\r\n    case 'sublime':\r\n    case 'sublime_text':\r\n    case 'wstorm':\r\n    case 'charm':\r\n    case 'zed':\r\n      return [`${fileName}:${lineNumber}:${columnNumber}`]\r\n    case 'notepad++':\r\n      return ['-n' + lineNumber, '-c' + columnNumber, fileName]\r\n    case 'vim':\r\n    case 'mvim':\r\n      return [`+call cursor(${lineNumber}, ${columnNumber})`, fileName]\r\n    case 'joe':\r\n    case 'gvim':\r\n      return ['+' + `${lineNumber}`, fileName]\r\n    case 'emacs':\r\n    case 'emacsclient':\r\n      return [`+${lineNumber}:${columnNumber}`, fileName]\r\n    case 'rmate':\r\n    case 'mate':\r\n    case 'mine':\r\n      return ['--line', lineNumber, fileName]\r\n    case 'code':\r\n    case 'Code':\r\n    case 'code-insiders':\r\n    case 'Code - Insiders':\r\n    case 'codium':\r\n    case 'cursor':\r\n    case 'vscodium':\r\n    case 'VSCodium':\r\n      return ['-r', '-g', `${fileName}:${lineNumber}:${columnNumber}`]\r\n    case 'appcode':\r\n    case 'clion':\r\n    case 'clion64':\r\n    case 'idea':\r\n    case 'idea64':\r\n    case 'phpstorm':\r\n    case 'phpstorm64':\r\n    case 'pycharm':\r\n    case 'pycharm64':\r\n    case 'rubymine':\r\n    case 'rubymine64':\r\n    case 'webstorm':\r\n    case 'webstorm64':\r\n    case 'goland':\r\n    case 'goland64':\r\n    case 'rider':\r\n    case 'rider64':\r\n      return ['--line', lineNumber, '--column', columnNumber, fileName]\r\n  }\r\n\r\n  if (process.env.LAUNCH_EDITOR) {\r\n    return [fileName, lineNumber, columnNumber]\r\n  }\r\n\r\n  // For all others, drop the lineNumber until we have\r\n  // a mapping above, since providing the lineNumber incorrectly\r\n  // can result in errors or confusing behavior.\r\n  return [fileName]\r\n};\r\n\r\n/**\r\n * Copyright (c) 2015-present, Facebook, Inc.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file at\r\n * https://github.com/facebookincubator/create-react-app/blob/master/LICENSE\r\n *\r\n * Modified by Yuxi Evan You\r\n */\r\n\r\nconst fs$4 = require$$0__default;\r\nconst os$1 = require$$2;\r\nconst path$5 = require$$0$4;\r\nconst colors = picocolorsExports;\r\nconst childProcess$1 = require$$2$1;\r\n\r\nconst guessEditor = guess;\r\nconst getArgumentsForPosition = getArgs;\r\n\r\nfunction wrapErrorCallback (cb) {\r\n  return (fileName, errorMessage) => {\r\n    console.log();\r\n    console.log(\r\n      colors.red('Could not open ' + path$5.basename(fileName) + ' in the editor.')\r\n    );\r\n    if (errorMessage) {\r\n      if (errorMessage[errorMessage.length - 1] !== '.') {\r\n        errorMessage += '.';\r\n      }\r\n      console.log(\r\n        colors.red('The editor process exited with an error: ' + errorMessage)\r\n      );\r\n    }\r\n    console.log();\r\n    if (cb) cb(fileName, errorMessage);\r\n  }\r\n}\r\n\r\nfunction isTerminalEditor (editor) {\r\n  switch (editor) {\r\n    case 'vim':\r\n    case 'emacs':\r\n    case 'nano':\r\n      return true\r\n  }\r\n  return false\r\n}\r\n\r\nconst positionRE = /:(\\d+)(:(\\d+))?$/;\r\nfunction parseFile (file) {\r\n  const fileName = file.replace(positionRE, '');\r\n  const match = file.match(positionRE);\r\n  const lineNumber = match && match[1];\r\n  const columnNumber = match && match[3];\r\n  return {\r\n    fileName,\r\n    lineNumber,\r\n    columnNumber\r\n  }\r\n}\r\n\r\nlet _childProcess = null;\r\n\r\nfunction launchEditor (file, specifiedEditor, onErrorCallback) {\r\n  const parsed = parseFile(file);\r\n  let { fileName } = parsed;\r\n  const { lineNumber, columnNumber } = parsed;\r\n\r\n  if (!fs$4.existsSync(fileName)) {\r\n    return\r\n  }\r\n\r\n  if (typeof specifiedEditor === 'function') {\r\n    onErrorCallback = specifiedEditor;\r\n    specifiedEditor = undefined;\r\n  }\r\n\r\n  onErrorCallback = wrapErrorCallback(onErrorCallback);\r\n\r\n  const [editor, ...args] = guessEditor(specifiedEditor);\r\n  if (!editor) {\r\n    onErrorCallback(fileName, null);\r\n    return\r\n  }\r\n\r\n  if (\r\n    process.platform === 'linux' &&\r\n    fileName.startsWith('/mnt/') &&\r\n    /Microsoft/i.test(os$1.release())\r\n  ) {\r\n    // Assume WSL / \"Bash on Ubuntu on Windows\" is being used, and\r\n    // that the file exists on the Windows file system.\r\n    // `os.release()` is \"4.4.0-43-Microsoft\" in the current release\r\n    // build of WSL, see: https://github.com/Microsoft/BashOnWindows/issues/423#issuecomment-221627364\r\n    // When a Windows editor is specified, interop functionality can\r\n    // handle the path translation, but only if a relative path is used.\r\n    fileName = path$5.relative('', fileName);\r\n  }\r\n\r\n  if (lineNumber) {\r\n    const extraArgs = getArgumentsForPosition(editor, fileName, lineNumber, columnNumber);\r\n    args.push.apply(args, extraArgs);\r\n  } else {\r\n    args.push(fileName);\r\n  }\r\n\r\n  if (_childProcess && isTerminalEditor(editor)) {\r\n    // There's an existing editor process already and it's attached\r\n    // to the terminal, so go kill it. Otherwise two separate editor\r\n    // instances attach to the stdin/stdout which gets confusing.\r\n    _childProcess.kill('SIGKILL');\r\n  }\r\n\r\n  if (process.platform === 'win32') {\r\n    // On Windows, we need to use `exec` with the `shell: true` option,\r\n    // and some more sanitization is required.\r\n\r\n    // However, CMD.exe on Windows is vulnerable to RCE attacks given a file name of the\r\n    // form \"C:\\Users\\myusername\\Downloads\\& curl 172.21.93.52\".\r\n    // `create-react-app` used a safe file name pattern to validate user-provided file names:\r\n    // - https://github.com/facebook/create-react-app/pull/4866\r\n    // - https://github.com/facebook/create-react-app/pull/5431\r\n    // But that's not a viable solution for this package because\r\n    // it's depended on by so many meta frameworks that heavily rely on\r\n    // special characters in file names for filesystem-based routing.\r\n    // We need to at least:\r\n    // - Support `+` because it's used in SvelteKit and Vike\r\n    // - Support `$` because it's used in Remix\r\n    // - Support `(` and `)` because they are used in Analog, SolidStart, and Vike\r\n    // - Support `@` because it's used in Vike\r\n    // - Support `[` and `]` because they are widely used for [slug]\r\n    // So here we choose to use `^` to escape special characters instead.\r\n\r\n    // According to https://ss64.com/nt/syntax-esc.html,\r\n    // we can use `^` to escape `&`, `<`, `>`, `|`, `%`, and `^`\r\n    // I'm not sure if we have to escape all of these, but let's do it anyway\r\n    function escapeCmdArgs (cmdArgs) {\r\n      return cmdArgs.replace(/([&|<>,;=^])/g, '^$1')\r\n    }\r\n\r\n    // Need to double quote the editor path in case it contains spaces;\r\n    // If the fileName contains spaces, we also need to double quote it in the arguments\r\n    // However, there's a case that it's concatenated with line number and column number\r\n    // which is separated by `:`. We need to double quote the whole string in this case.\r\n    // Also, if the string contains the escape character `^`, it needs to be quoted, too.\r\n    function doubleQuoteIfNeeded(str) {\r\n      if (str.includes('^')) {\r\n        // If a string includes an escaped character, not only does it need to be quoted,\r\n        // but the quotes need to be escaped too.\r\n        return `^\"${str}^\"`\r\n      } else if (str.includes(' ')) {\r\n        return `\"${str}\"`\r\n      } \r\n      return str\r\n    }\r\n    const launchCommand = [editor, ...args.map(escapeCmdArgs)]\r\n      .map(doubleQuoteIfNeeded)\r\n      .join(' ');\r\n\r\n    _childProcess = childProcess$1.exec(launchCommand, {\r\n      stdio: 'inherit',\r\n      shell: true\r\n    });\r\n  } else {\r\n    _childProcess = childProcess$1.spawn(editor, args, { stdio: 'inherit' });\r\n  }\r\n  _childProcess.on('exit', function (errorCode) {\r\n    _childProcess = null;\r\n\r\n    if (errorCode) {\r\n      onErrorCallback(fileName, '(code ' + errorCode + ')');\r\n    }\r\n  });\r\n\r\n  _childProcess.on('error', function (error) {\r\n    let { code, message } = error;\r\n    if ('ENOENT' === code) {\r\n      message = `${message} ('${editor}' command does not exist in 'PATH')`;\r\n    }\r\n    onErrorCallback(fileName, message);\r\n  });\r\n}\r\n\r\nvar launchEditor_1 = launchEditor;\r\n\r\nconst url$2 = require$$0$9;\r\nconst path$4 = require$$0$4;\r\nconst launch = launchEditor_1;\r\n\r\nvar launchEditorMiddleware = (specifiedEditor, srcRoot, onErrorCallback) => {\r\n  if (typeof specifiedEditor === 'function') {\r\n    onErrorCallback = specifiedEditor;\r\n    specifiedEditor = undefined;\r\n  }\r\n\r\n  if (typeof srcRoot === 'function') {\r\n    onErrorCallback = srcRoot;\r\n    srcRoot = undefined;\r\n  }\r\n\r\n  srcRoot = srcRoot || process.cwd();\r\n\r\n  return function launchEditorMiddleware (req, res) {\r\n    const { file } = url$2.parse(req.url, true).query || {};\r\n    if (!file) {\r\n      res.statusCode = 500;\r\n      res.end(`launch-editor-middleware: required query param \"file\" is missing.`);\r\n    } else {\r\n      launch(path$4.resolve(srcRoot, file), specifiedEditor, onErrorCallback);\r\n      res.end();\r\n    }\r\n  }\r\n};\r\n\r\nvar launchEditorMiddleware$1 = /*@__PURE__*/getDefaultExportFromCjs(launchEditorMiddleware);\r\n\r\nasync function resolveHttpServer({ proxy }, app, httpsOptions) {\r\n  if (!httpsOptions) {\r\n    const { createServer } = await import('node:http');\r\n    return createServer(app);\r\n  }\r\n  if (proxy) {\r\n    const { createServer } = await import('node:https');\r\n    return createServer(httpsOptions, app);\r\n  } else {\r\n    const { createSecureServer } = await import('node:http2');\r\n    return createSecureServer(\r\n      {\r\n        // Manually increase the session memory to prevent 502 ENHANCE_YOUR_CALM\r\n        // errors on large numbers of requests\r\n        maxSessionMemory: 1e3,\r\n        ...httpsOptions,\r\n        allowHTTP1: true\r\n      },\r\n      // @ts-expect-error TODO: is this correct?\r\n      app\r\n    );\r\n  }\r\n}\r\nasync function resolveHttpsConfig(https) {\r\n  if (!https) return void 0;\r\n  const [ca, cert, key, pfx] = await Promise.all([\r\n    readFileIfExists(https.ca),\r\n    readFileIfExists(https.cert),\r\n    readFileIfExists(https.key),\r\n    readFileIfExists(https.pfx)\r\n  ]);\r\n  return { ...https, ca, cert, key, pfx };\r\n}\r\nasync function readFileIfExists(value) {\r\n  if (typeof value === \"string\") {\r\n    return fsp.readFile(path$n.resolve(value)).catch(() => value);\r\n  }\r\n  return value;\r\n}\r\nasync function httpServerStart(httpServer, serverOptions) {\r\n  let { port, strictPort, host, logger } = serverOptions;\r\n  return new Promise((resolve, reject) => {\r\n    const onError = (e) => {\r\n      if (e.code === \"EADDRINUSE\") {\r\n        if (strictPort) {\r\n          httpServer.removeListener(\"error\", onError);\r\n          reject(new Error(`Port ${port} is already in use`));\r\n        } else {\r\n          logger.info(`Port ${port} is in use, trying another one...`);\r\n          httpServer.listen(++port, host);\r\n        }\r\n      } else {\r\n        httpServer.removeListener(\"error\", onError);\r\n        reject(e);\r\n      }\r\n    };\r\n    httpServer.on(\"error\", onError);\r\n    httpServer.listen(port, host, () => {\r\n      httpServer.removeListener(\"error\", onError);\r\n      resolve(port);\r\n    });\r\n  });\r\n}\r\nfunction setClientErrorHandler(server, logger) {\r\n  server.on(\"clientError\", (err, socket) => {\r\n    let msg = \"400 Bad Request\";\r\n    if (err.code === \"HPE_HEADER_OVERFLOW\") {\r\n      msg = \"431 Request Header Fields Too Large\";\r\n      logger.warn(\r\n        colors$1.yellow(\r\n          \"Server responded with status code 431. See https://vite.dev/guide/troubleshooting.html#_431-request-header-fields-too-large.\"\r\n        )\r\n      );\r\n    }\r\n    if (err.code === \"ECONNRESET\" || !socket.writable) {\r\n      return;\r\n    }\r\n    socket.end(`HTTP/1.1 ${msg}\\r\r\n\\r\r\n`);\r\n  });\r\n}\r\n\r\nconst commonFsUtils = {\r\n  existsSync: fs__default.existsSync,\r\n  isDirectory,\r\n  tryResolveRealFile,\r\n  tryResolveRealFileWithExtensions,\r\n  tryResolveRealFileOrType\r\n};\r\nconst cachedFsUtilsMap = /* @__PURE__ */ new WeakMap();\r\nfunction getFsUtils(config) {\r\n  let fsUtils = cachedFsUtilsMap.get(config);\r\n  if (!fsUtils) {\r\n    if (config.command !== \"serve\" || config.server.fs.cachedChecks !== true || config.server.watch?.ignored || process.versions.pnp) {\r\n      fsUtils = commonFsUtils;\r\n    } else if (!config.resolve.preserveSymlinks && config.root !== getRealPath(config.root)) {\r\n      fsUtils = commonFsUtils;\r\n    } else {\r\n      fsUtils = createCachedFsUtils(config);\r\n    }\r\n    cachedFsUtilsMap.set(config, fsUtils);\r\n  }\r\n  return fsUtils;\r\n}\r\nfunction readDirCacheSync(file) {\r\n  let dirents;\r\n  try {\r\n    dirents = fs__default.readdirSync(file, { withFileTypes: true });\r\n  } catch {\r\n    return;\r\n  }\r\n  return direntsToDirentMap(dirents);\r\n}\r\nfunction direntsToDirentMap(fsDirents) {\r\n  const dirents = /* @__PURE__ */ new Map();\r\n  for (const dirent of fsDirents) {\r\n    const type = dirent.isDirectory() ? \"directory\" : dirent.isSymbolicLink() ? \"symlink\" : dirent.isFile() ? \"file\" : void 0;\r\n    if (type) {\r\n      dirents.set(dirent.name, { type });\r\n    }\r\n  }\r\n  return dirents;\r\n}\r\nfunction ensureFileMaybeSymlinkIsResolved(direntCache, filePath) {\r\n  if (direntCache.type !== \"file_maybe_symlink\") return;\r\n  const isSymlink = fs__default.lstatSync(filePath, { throwIfNoEntry: false })?.isSymbolicLink();\r\n  direntCache.type = isSymlink === void 0 ? \"error\" : isSymlink ? \"symlink\" : \"file\";\r\n}\r\nfunction pathUntilPart(root, parts, i) {\r\n  let p = root;\r\n  for (let k = 0; k < i; k++) p += \"/\" + parts[k];\r\n  return p;\r\n}\r\nfunction createCachedFsUtils(config) {\r\n  const root = config.root;\r\n  const rootDirPath = `${root}/`;\r\n  const rootCache = { type: \"directory\" };\r\n  const getDirentCacheSync = (parts) => {\r\n    let direntCache = rootCache;\r\n    for (let i = 0; i < parts.length; i++) {\r\n      if (direntCache.type === \"directory\") {\r\n        let dirPath;\r\n        if (!direntCache.dirents) {\r\n          dirPath = pathUntilPart(root, parts, i);\r\n          const dirents = readDirCacheSync(dirPath);\r\n          if (!dirents) {\r\n            direntCache.type = \"error\";\r\n            return;\r\n          }\r\n          direntCache.dirents = dirents;\r\n        }\r\n        const nextDirentCache = direntCache.dirents.get(parts[i]);\r\n        if (!nextDirentCache) {\r\n          return;\r\n        }\r\n        if (nextDirentCache.type === \"directory_maybe_symlink\") {\r\n          dirPath ??= pathUntilPart(root, parts, i + 1);\r\n          const isSymlink = fs__default.lstatSync(dirPath, { throwIfNoEntry: false })?.isSymbolicLink();\r\n          nextDirentCache.type = isSymlink ? \"symlink\" : \"directory\";\r\n        }\r\n        direntCache = nextDirentCache;\r\n      } else if (direntCache.type === \"symlink\") {\r\n        return direntCache;\r\n      } else if (direntCache.type === \"error\") {\r\n        return direntCache;\r\n      } else {\r\n        if (i !== parts.length - 1) {\r\n          return;\r\n        }\r\n        if (direntCache.type === \"file_maybe_symlink\") {\r\n          ensureFileMaybeSymlinkIsResolved(\r\n            direntCache,\r\n            pathUntilPart(root, parts, i)\r\n          );\r\n          return direntCache;\r\n        } else if (direntCache.type === \"file\") {\r\n          return direntCache;\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    return direntCache;\r\n  };\r\n  function getDirentCacheFromPath(normalizedFile) {\r\n    if (normalizedFile[normalizedFile.length - 1] === \"/\") {\r\n      normalizedFile = normalizedFile.slice(0, -1);\r\n    }\r\n    if (normalizedFile === root) {\r\n      return rootCache;\r\n    }\r\n    if (!normalizedFile.startsWith(rootDirPath)) {\r\n      return void 0;\r\n    }\r\n    const pathFromRoot = normalizedFile.slice(rootDirPath.length);\r\n    const parts = pathFromRoot.split(\"/\");\r\n    const direntCache = getDirentCacheSync(parts);\r\n    if (!direntCache || direntCache.type === \"error\") {\r\n      return false;\r\n    }\r\n    return direntCache;\r\n  }\r\n  function onPathAdd(file, type) {\r\n    const direntCache = getDirentCacheFromPath(\r\n      normalizePath$3(path$n.dirname(file))\r\n    );\r\n    if (direntCache && direntCache.type === \"directory\" && direntCache.dirents) {\r\n      direntCache.dirents.set(path$n.basename(file), { type });\r\n    }\r\n  }\r\n  function onPathUnlink(file) {\r\n    const direntCache = getDirentCacheFromPath(\r\n      normalizePath$3(path$n.dirname(file))\r\n    );\r\n    if (direntCache && direntCache.type === \"directory\" && direntCache.dirents) {\r\n      direntCache.dirents.delete(path$n.basename(file));\r\n    }\r\n  }\r\n  return {\r\n    existsSync(file) {\r\n      if (isInNodeModules$1(file)) {\r\n        return fs__default.existsSync(file);\r\n      }\r\n      const normalizedFile = normalizePath$3(file);\r\n      const direntCache = getDirentCacheFromPath(normalizedFile);\r\n      if (direntCache === void 0 || direntCache && direntCache.type === \"symlink\") {\r\n        return fs__default.existsSync(file);\r\n      }\r\n      return !!direntCache;\r\n    },\r\n    tryResolveRealFile(file, preserveSymlinks) {\r\n      if (isInNodeModules$1(file)) {\r\n        return tryResolveRealFile(file, preserveSymlinks);\r\n      }\r\n      const normalizedFile = normalizePath$3(file);\r\n      const direntCache = getDirentCacheFromPath(normalizedFile);\r\n      if (direntCache === void 0 || direntCache && direntCache.type === \"symlink\") {\r\n        return tryResolveRealFile(file, preserveSymlinks);\r\n      }\r\n      if (!direntCache || direntCache.type === \"directory\") {\r\n        return;\r\n      }\r\n      return normalizedFile;\r\n    },\r\n    tryResolveRealFileWithExtensions(file, extensions, preserveSymlinks) {\r\n      if (isInNodeModules$1(file)) {\r\n        return tryResolveRealFileWithExtensions(\r\n          file,\r\n          extensions,\r\n          preserveSymlinks\r\n        );\r\n      }\r\n      const normalizedFile = normalizePath$3(file);\r\n      const dirPath = path$n.posix.dirname(normalizedFile);\r\n      const direntCache = getDirentCacheFromPath(dirPath);\r\n      if (direntCache === void 0 || direntCache && direntCache.type === \"symlink\") {\r\n        return tryResolveRealFileWithExtensions(\r\n          file,\r\n          extensions,\r\n          preserveSymlinks\r\n        );\r\n      }\r\n      if (!direntCache || direntCache.type !== \"directory\") {\r\n        return;\r\n      }\r\n      if (!direntCache.dirents) {\r\n        const dirents = readDirCacheSync(dirPath);\r\n        if (!dirents) {\r\n          direntCache.type = \"error\";\r\n          return;\r\n        }\r\n        direntCache.dirents = dirents;\r\n      }\r\n      const base = path$n.posix.basename(normalizedFile);\r\n      for (const ext of extensions) {\r\n        const fileName = base + ext;\r\n        const fileDirentCache = direntCache.dirents.get(fileName);\r\n        if (fileDirentCache) {\r\n          const filePath = dirPath + \"/\" + fileName;\r\n          ensureFileMaybeSymlinkIsResolved(fileDirentCache, filePath);\r\n          if (fileDirentCache.type === \"symlink\") {\r\n            return tryResolveRealFile(filePath, preserveSymlinks);\r\n          }\r\n          if (fileDirentCache.type === \"file\") {\r\n            return filePath;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    tryResolveRealFileOrType(file, preserveSymlinks) {\r\n      if (isInNodeModules$1(file)) {\r\n        return tryResolveRealFileOrType(file, preserveSymlinks);\r\n      }\r\n      const normalizedFile = normalizePath$3(file);\r\n      const direntCache = getDirentCacheFromPath(normalizedFile);\r\n      if (direntCache === void 0 || direntCache && direntCache.type === \"symlink\") {\r\n        return tryResolveRealFileOrType(file, preserveSymlinks);\r\n      }\r\n      if (!direntCache) {\r\n        return;\r\n      }\r\n      if (direntCache.type === \"directory\") {\r\n        return { type: \"directory\" };\r\n      }\r\n      return { path: normalizedFile, type: \"file\" };\r\n    },\r\n    isDirectory(dirPath) {\r\n      if (isInNodeModules$1(dirPath)) {\r\n        return isDirectory(dirPath);\r\n      }\r\n      const direntCache = getDirentCacheFromPath(normalizePath$3(dirPath));\r\n      if (direntCache === void 0 || direntCache && direntCache.type === \"symlink\") {\r\n        return isDirectory(dirPath);\r\n      }\r\n      return direntCache && direntCache.type === \"directory\";\r\n    },\r\n    initWatcher(watcher) {\r\n      watcher.on(\"add\", (file) => {\r\n        onPathAdd(file, \"file_maybe_symlink\");\r\n      });\r\n      watcher.on(\"addDir\", (dir) => {\r\n        onPathAdd(dir, \"directory_maybe_symlink\");\r\n      });\r\n      watcher.on(\"unlink\", onPathUnlink);\r\n      watcher.on(\"unlinkDir\", onPathUnlink);\r\n    }\r\n  };\r\n}\r\nfunction tryResolveRealFile(file, preserveSymlinks) {\r\n  const stat = tryStatSync(file);\r\n  if (stat?.isFile()) return getRealPath(file, preserveSymlinks);\r\n}\r\nfunction tryResolveRealFileWithExtensions(filePath, extensions, preserveSymlinks) {\r\n  for (const ext of extensions) {\r\n    const res = tryResolveRealFile(filePath + ext, preserveSymlinks);\r\n    if (res) return res;\r\n  }\r\n}\r\nfunction tryResolveRealFileOrType(file, preserveSymlinks) {\r\n  const fileStat = tryStatSync(file);\r\n  if (fileStat?.isFile()) {\r\n    return { path: getRealPath(file, preserveSymlinks), type: \"file\" };\r\n  }\r\n  if (fileStat?.isDirectory()) {\r\n    return { type: \"directory\" };\r\n  }\r\n  return;\r\n}\r\nfunction getRealPath(resolved, preserveSymlinks) {\r\n  if (!preserveSymlinks) {\r\n    resolved = safeRealpathSync(resolved);\r\n  }\r\n  return normalizePath$3(resolved);\r\n}\r\nfunction isDirectory(path2) {\r\n  const stat = tryStatSync(path2);\r\n  return stat?.isDirectory() ?? false;\r\n}\r\n\r\n/*!\r\n * etag\r\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nvar etag_1 = etag;\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar crypto = require$$3$1;\r\nvar Stats = require$$0__default.Stats;\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar toString = Object.prototype.toString;\r\n\r\n/**\r\n * Generate an entity tag.\r\n *\r\n * @param {Buffer|string} entity\r\n * @return {string}\r\n * @private\r\n */\r\n\r\nfunction entitytag (entity) {\r\n  if (entity.length === 0) {\r\n    // fast-path empty\r\n    return '\"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk\"'\r\n  }\r\n\r\n  // compute hash of entity\r\n  var hash = crypto\r\n    .createHash('sha1')\r\n    .update(entity, 'utf8')\r\n    .digest('base64')\r\n    .substring(0, 27);\r\n\r\n  // compute length of entity\r\n  var len = typeof entity === 'string'\r\n    ? Buffer.byteLength(entity, 'utf8')\r\n    : entity.length;\r\n\r\n  return '\"' + len.toString(16) + '-' + hash + '\"'\r\n}\r\n\r\n/**\r\n * Create a simple ETag.\r\n *\r\n * @param {string|Buffer|Stats} entity\r\n * @param {object} [options]\r\n * @param {boolean} [options.weak]\r\n * @return {String}\r\n * @public\r\n */\r\n\r\nfunction etag (entity, options) {\r\n  if (entity == null) {\r\n    throw new TypeError('argument entity is required')\r\n  }\r\n\r\n  // support fs.Stats object\r\n  var isStats = isstats(entity);\r\n  var weak = options && typeof options.weak === 'boolean'\r\n    ? options.weak\r\n    : isStats;\r\n\r\n  // validate argument\r\n  if (!isStats && typeof entity !== 'string' && !Buffer.isBuffer(entity)) {\r\n    throw new TypeError('argument entity must be string, Buffer, or fs.Stats')\r\n  }\r\n\r\n  // generate entity tag\r\n  var tag = isStats\r\n    ? stattag(entity)\r\n    : entitytag(entity);\r\n\r\n  return weak\r\n    ? 'W/' + tag\r\n    : tag\r\n}\r\n\r\n/**\r\n * Determine if object is a Stats object.\r\n *\r\n * @param {object} obj\r\n * @return {boolean}\r\n * @api private\r\n */\r\n\r\nfunction isstats (obj) {\r\n  // genuine fs.Stats\r\n  if (typeof Stats === 'function' && obj instanceof Stats) {\r\n    return true\r\n  }\r\n\r\n  // quack quack\r\n  return obj && typeof obj === 'object' &&\r\n    'ctime' in obj && toString.call(obj.ctime) === '[object Date]' &&\r\n    'mtime' in obj && toString.call(obj.mtime) === '[object Date]' &&\r\n    'ino' in obj && typeof obj.ino === 'number' &&\r\n    'size' in obj && typeof obj.size === 'number'\r\n}\r\n\r\n/**\r\n * Generate a tag for a stat.\r\n *\r\n * @param {object} stat\r\n * @return {string}\r\n * @private\r\n */\r\n\r\nfunction stattag (stat) {\r\n  var mtime = stat.mtime.getTime().toString(16);\r\n  var size = stat.size.toString(16);\r\n\r\n  return '\"' + size + '-' + mtime + '\"'\r\n}\r\n\r\nvar getEtag = /*@__PURE__*/getDefaultExportFromCjs(etag_1);\r\n\r\nfunction e(e,n,r){throw new Error(r?`No known conditions for \"${n}\" specifier in \"${e}\" package`:`Missing \"${n}\" specifier in \"${e}\" package`)}function n(n,i,o,f){let s,u,l=r(n,o),c=function(e){let n=new Set([\"default\",...e.conditions||[]]);return e.unsafe||n.add(e.require?\"require\":\"import\"),e.unsafe||n.add(e.browser?\"browser\":\"node\"),n}(f||{}),a=i[l];if(void 0===a){let e,n,r,t;for(t in i)n&&t.length<n.length||(\"/\"===t[t.length-1]&&l.startsWith(t)?(u=l.substring(t.length),n=t):t.length>1&&(r=t.indexOf(\"*\",1),~r&&(e=RegExp(\"^\"+t.substring(0,r)+\"(.*)\"+t.substring(1+r)).exec(l),e&&e[1]&&(u=e[1],n=t))));a=i[n];}return a||e(n,l),s=t(a,c),s||e(n,l,1),u&&function(e,n){let r,t=0,i=e.length,o=/[*]/g,f=/[/]$/;for(;t<i;t++)e[t]=o.test(r=e[t])?r.replace(o,n):f.test(r)?r+n:r;}(s,u),s}function r(e,n,r){if(e===n||\".\"===n)return \".\";let t=e+\"/\",i=t.length,o=n.slice(0,i)===t,f=o?n.slice(i):n;return \"#\"===f[0]?f:o||!r?\"./\"===f.slice(0,2)?f:\"./\"+f:f}function t(e,n,r){if(e){if(\"string\"==typeof e)return r&&r.add(e),[e];let i,o;if(Array.isArray(e)){for(o=r||new Set,i=0;i<e.length;i++)t(e[i],n,o);if(!r&&o.size)return [...o]}else for(i in e)if(n.has(i))return t(e[i],n,r)}}function o(e,r,t){let i,o=e.exports;if(o){if(\"string\"==typeof o)o={\".\":o};else for(i in o){\".\"!==i[0]&&(o={\".\":o});break}return n(e.name,o,r||\".\",t)}}function f(e,r,t){if(e.imports)return n(e.name,e.imports,r,t)}\r\n\r\nconst normalizedClientEntry$1 = normalizePath$3(CLIENT_ENTRY);\r\nconst normalizedEnvEntry$1 = normalizePath$3(ENV_ENTRY);\r\nconst ERR_RESOLVE_PACKAGE_ENTRY_FAIL = \"ERR_RESOLVE_PACKAGE_ENTRY_FAIL\";\r\nconst browserExternalId = \"__vite-browser-external\";\r\nconst optionalPeerDepId = \"__vite-optional-peer-dep\";\r\nconst subpathImportsPrefix = \"#\";\r\nconst startsWithWordCharRE = /^\\w/;\r\nconst debug$c = createDebugger(\"vite:resolve-details\", {\r\n  onlyWhenFocused: true\r\n});\r\nfunction resolvePlugin(resolveOptions) {\r\n  const {\r\n    root,\r\n    isProduction,\r\n    asSrc,\r\n    ssrConfig,\r\n    preferRelative = false\r\n  } = resolveOptions;\r\n  const {\r\n    target: ssrTarget,\r\n    noExternal: ssrNoExternal,\r\n    external: ssrExternal\r\n  } = ssrConfig ?? {};\r\n  const rootInRoot = tryStatSync(path$n.join(root, root))?.isDirectory() ?? false;\r\n  return {\r\n    name: \"vite:resolve\",\r\n    async resolveId(id, importer, resolveOpts) {\r\n      if (id[0] === \"\\0\" || id.startsWith(\"virtual:\") || // When injected directly in html/client code\r\n      id.startsWith(\"/virtual:\")) {\r\n        return;\r\n      }\r\n      const ssr = resolveOpts?.ssr === true;\r\n      const depsOptimizer = resolveOptions.getDepsOptimizer?.(ssr);\r\n      if (id.startsWith(browserExternalId)) {\r\n        return id;\r\n      }\r\n      const targetWeb = !ssr || ssrTarget === \"webworker\";\r\n      const isRequire = resolveOpts?.custom?.[\"node-resolve\"]?.isRequire ?? false;\r\n      const ssrConditions = resolveOptions.ssrConfig?.resolve?.conditions || resolveOptions.conditions;\r\n      const options = {\r\n        isRequire,\r\n        ...resolveOptions,\r\n        scan: resolveOpts?.scan ?? resolveOptions.scan,\r\n        conditions: ssr ? ssrConditions : resolveOptions.conditions\r\n      };\r\n      const resolvedImports = resolveSubpathImports(\r\n        id,\r\n        importer,\r\n        options,\r\n        targetWeb\r\n      );\r\n      if (resolvedImports) {\r\n        id = resolvedImports;\r\n        if (resolveOpts.custom?.[\"vite:import-glob\"]?.isSubImportsPattern) {\r\n          return normalizePath$3(path$n.join(root, id));\r\n        }\r\n      }\r\n      if (importer) {\r\n        if (isTsRequest(importer) || resolveOpts.custom?.depScan?.loader?.startsWith(\"ts\")) {\r\n          options.isFromTsImporter = true;\r\n        } else {\r\n          const moduleLang = this.getModuleInfo(importer)?.meta?.vite?.lang;\r\n          options.isFromTsImporter = moduleLang && isTsRequest(`.${moduleLang}`);\r\n        }\r\n      }\r\n      let res;\r\n      if (asSrc && depsOptimizer?.isOptimizedDepUrl(id)) {\r\n        const optimizedPath = id.startsWith(FS_PREFIX) ? fsPathFromId(id) : normalizePath$3(path$n.resolve(root, id.slice(1)));\r\n        return optimizedPath;\r\n      }\r\n      if (asSrc && id.startsWith(FS_PREFIX)) {\r\n        res = fsPathFromId(id);\r\n        debug$c?.(`[@fs] ${colors$1.cyan(id)} -> ${colors$1.dim(res)}`);\r\n        return ensureVersionQuery(res, id, options, depsOptimizer);\r\n      }\r\n      if (asSrc && id[0] === \"/\" && (rootInRoot || !id.startsWith(withTrailingSlash(root)))) {\r\n        const fsPath = path$n.resolve(root, id.slice(1));\r\n        if (res = tryFsResolve(fsPath, options)) {\r\n          debug$c?.(`[url] ${colors$1.cyan(id)} -> ${colors$1.dim(res)}`);\r\n          return ensureVersionQuery(res, id, options, depsOptimizer);\r\n        }\r\n      }\r\n      if (id[0] === \".\" || (preferRelative || importer?.endsWith(\".html\")) && startsWithWordCharRE.test(id)) {\r\n        const basedir = importer ? path$n.dirname(importer) : process.cwd();\r\n        const fsPath = path$n.resolve(basedir, id);\r\n        const normalizedFsPath = normalizePath$3(fsPath);\r\n        if (depsOptimizer?.isOptimizedDepFile(normalizedFsPath)) {\r\n          if (!resolveOptions.isBuild && !DEP_VERSION_RE.test(normalizedFsPath)) {\r\n            const browserHash = optimizedDepInfoFromFile(\r\n              depsOptimizer.metadata,\r\n              normalizedFsPath\r\n            )?.browserHash;\r\n            if (browserHash) {\r\n              return injectQuery(normalizedFsPath, `v=${browserHash}`);\r\n            }\r\n          }\r\n          return normalizedFsPath;\r\n        }\r\n        if (targetWeb && options.mainFields.includes(\"browser\") && (res = tryResolveBrowserMapping(fsPath, importer, options, true))) {\r\n          return res;\r\n        }\r\n        if (res = tryFsResolve(fsPath, options)) {\r\n          res = ensureVersionQuery(res, id, options, depsOptimizer);\r\n          debug$c?.(`[relative] ${colors$1.cyan(id)} -> ${colors$1.dim(res)}`);\r\n          if (!options.idOnly && !options.scan && options.isBuild && !importer?.endsWith(\".html\")) {\r\n            const resPkg = findNearestPackageData(\r\n              path$n.dirname(res),\r\n              options.packageCache\r\n            );\r\n            if (resPkg) {\r\n              return {\r\n                id: res,\r\n                moduleSideEffects: resPkg.hasSideEffects(res)\r\n              };\r\n            }\r\n          }\r\n          return res;\r\n        }\r\n      }\r\n      if (isWindows$3 && id[0] === \"/\") {\r\n        const basedir = importer ? path$n.dirname(importer) : process.cwd();\r\n        const fsPath = path$n.resolve(basedir, id);\r\n        if (res = tryFsResolve(fsPath, options)) {\r\n          debug$c?.(`[drive-relative] ${colors$1.cyan(id)} -> ${colors$1.dim(res)}`);\r\n          return ensureVersionQuery(res, id, options, depsOptimizer);\r\n        }\r\n      }\r\n      if (isNonDriveRelativeAbsolutePath(id) && (res = tryFsResolve(id, options))) {\r\n        debug$c?.(`[fs] ${colors$1.cyan(id)} -> ${colors$1.dim(res)}`);\r\n        return ensureVersionQuery(res, id, options, depsOptimizer);\r\n      }\r\n      if (isExternalUrl(id)) {\r\n        return options.idOnly ? id : { id, external: true };\r\n      }\r\n      if (isDataUrl(id)) {\r\n        return null;\r\n      }\r\n      if (bareImportRE.test(id)) {\r\n        const external = options.shouldExternalize?.(id, importer);\r\n        if (!external && asSrc && depsOptimizer && !options.scan && (res = await tryOptimizedResolve(\r\n          depsOptimizer,\r\n          id,\r\n          importer,\r\n          options.preserveSymlinks,\r\n          options.packageCache\r\n        ))) {\r\n          return res;\r\n        }\r\n        if (targetWeb && options.mainFields.includes(\"browser\") && (res = tryResolveBrowserMapping(\r\n          id,\r\n          importer,\r\n          options,\r\n          false,\r\n          external\r\n        ))) {\r\n          return res;\r\n        }\r\n        if (res = tryNodeResolve(\r\n          id,\r\n          importer,\r\n          options,\r\n          targetWeb,\r\n          depsOptimizer,\r\n          ssr,\r\n          external\r\n        )) {\r\n          return res;\r\n        }\r\n        if (isBuiltin(id)) {\r\n          if (ssr) {\r\n            if (targetWeb && ssrNoExternal === true && // if both noExternal and external are true, noExternal will take the higher priority and bundle it.\r\n            // only if the id is explicitly listed in external, we will externalize it and skip this error.\r\n            (ssrExternal === true || !ssrExternal?.includes(id))) {\r\n              let message = `Cannot bundle Node.js built-in \"${id}\"`;\r\n              if (importer) {\r\n                message += ` imported from \"${path$n.relative(\r\n                  process.cwd(),\r\n                  importer\r\n                )}\"`;\r\n              }\r\n              message += `. Consider disabling ssr.noExternal or remove the built-in dependency.`;\r\n              this.error(message);\r\n            }\r\n            return options.idOnly ? id : { id, external: true, moduleSideEffects: false };\r\n          } else {\r\n            if (!asSrc) {\r\n              debug$c?.(\r\n                `externalized node built-in \"${id}\" to empty module. (imported by: ${colors$1.white(colors$1.dim(importer))})`\r\n              );\r\n            } else if (isProduction) {\r\n              this.warn(\r\n                `Module \"${id}\" has been externalized for browser compatibility, imported by \"${importer}\". See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`\r\n              );\r\n            }\r\n            return isProduction ? browserExternalId : `${browserExternalId}:${id}`;\r\n          }\r\n        }\r\n      }\r\n      debug$c?.(`[fallthrough] ${colors$1.dim(id)}`);\r\n    },\r\n    load(id) {\r\n      if (id.startsWith(browserExternalId)) {\r\n        if (isProduction) {\r\n          return `export default {}`;\r\n        } else {\r\n          id = id.slice(browserExternalId.length + 1);\r\n          return `export default new Proxy({}, {\r\n  get(_, key) {\r\n    throw new Error(\\`Module \"${id}\" has been externalized for browser compatibility. Cannot access \"${id}.\\${key}\" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.\\`)\r\n  }\r\n})`;\r\n        }\r\n      }\r\n      if (id.startsWith(optionalPeerDepId)) {\r\n        if (isProduction) {\r\n          return `export default {}`;\r\n        } else {\r\n          const [, peerDep, parentDep] = id.split(\":\");\r\n          return `throw new Error(\\`Could not resolve \"${peerDep}\" imported by \"${parentDep}\". Is it installed?\\`)`;\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction resolveSubpathImports(id, importer, options, targetWeb) {\r\n  if (!importer || !id.startsWith(subpathImportsPrefix)) return;\r\n  const basedir = path$n.dirname(importer);\r\n  const pkgData = findNearestPackageData(basedir, options.packageCache);\r\n  if (!pkgData) return;\r\n  let { file: idWithoutPostfix, postfix } = splitFileAndPostfix(id.slice(1));\r\n  idWithoutPostfix = \"#\" + idWithoutPostfix;\r\n  let importsPath = resolveExportsOrImports(\r\n    pkgData.data,\r\n    idWithoutPostfix,\r\n    options,\r\n    targetWeb,\r\n    \"imports\"\r\n  );\r\n  if (importsPath?.[0] === \".\") {\r\n    importsPath = path$n.relative(basedir, path$n.join(pkgData.dir, importsPath));\r\n    if (importsPath[0] !== \".\") {\r\n      importsPath = `./${importsPath}`;\r\n    }\r\n  }\r\n  return importsPath + postfix;\r\n}\r\nfunction ensureVersionQuery(resolved, id, options, depsOptimizer) {\r\n  if (!options.isBuild && !options.scan && depsOptimizer && !(resolved === normalizedClientEntry$1 || resolved === normalizedEnvEntry$1)) {\r\n    const isNodeModule = isInNodeModules$1(id) || isInNodeModules$1(resolved);\r\n    if (isNodeModule && !DEP_VERSION_RE.test(resolved)) {\r\n      const versionHash = depsOptimizer.metadata.browserHash;\r\n      if (versionHash && isOptimizable(resolved, depsOptimizer.options)) {\r\n        resolved = injectQuery(resolved, `v=${versionHash}`);\r\n      }\r\n    }\r\n  }\r\n  return resolved;\r\n}\r\nfunction splitFileAndPostfix(path2) {\r\n  const file = cleanUrl(path2);\r\n  return { file, postfix: path2.slice(file.length) };\r\n}\r\nfunction tryFsResolve(fsPath, options, tryIndex = true, targetWeb = true, skipPackageJson = false) {\r\n  const hashIndex = fsPath.indexOf(\"#\");\r\n  if (hashIndex >= 0 && isInNodeModules$1(fsPath)) {\r\n    const queryIndex = fsPath.indexOf(\"?\");\r\n    if (queryIndex < 0 || queryIndex > hashIndex) {\r\n      const file2 = queryIndex > hashIndex ? fsPath.slice(0, queryIndex) : fsPath;\r\n      const res2 = tryCleanFsResolve(\r\n        file2,\r\n        options,\r\n        tryIndex,\r\n        targetWeb,\r\n        skipPackageJson\r\n      );\r\n      if (res2) return res2 + fsPath.slice(file2.length);\r\n    }\r\n  }\r\n  const { file, postfix } = splitFileAndPostfix(fsPath);\r\n  const res = tryCleanFsResolve(\r\n    file,\r\n    options,\r\n    tryIndex,\r\n    targetWeb,\r\n    skipPackageJson\r\n  );\r\n  if (res) return res + postfix;\r\n}\r\nconst knownTsOutputRE = /\\.(?:js|mjs|cjs|jsx)$/;\r\nconst isPossibleTsOutput = (url) => knownTsOutputRE.test(url);\r\nfunction tryCleanFsResolve(file, options, tryIndex = true, targetWeb = true, skipPackageJson = false) {\r\n  const { tryPrefix, extensions, preserveSymlinks } = options;\r\n  const fsUtils = options.fsUtils ?? commonFsUtils;\r\n  const fileResult = fsUtils.tryResolveRealFileOrType(\r\n    file,\r\n    options.preserveSymlinks\r\n  );\r\n  if (fileResult?.path) return fileResult.path;\r\n  let res;\r\n  const possibleJsToTs = options.isFromTsImporter && isPossibleTsOutput(file);\r\n  if (possibleJsToTs || options.extensions.length || tryPrefix) {\r\n    const dirPath = path$n.dirname(file);\r\n    if (fsUtils.isDirectory(dirPath)) {\r\n      if (possibleJsToTs) {\r\n        const fileExt = path$n.extname(file);\r\n        const fileName = file.slice(0, -fileExt.length);\r\n        if (res = fsUtils.tryResolveRealFile(\r\n          fileName + fileExt.replace(\"js\", \"ts\"),\r\n          preserveSymlinks\r\n        ))\r\n          return res;\r\n        if (fileExt === \".js\" && (res = fsUtils.tryResolveRealFile(\r\n          fileName + \".tsx\",\r\n          preserveSymlinks\r\n        )))\r\n          return res;\r\n      }\r\n      if (res = fsUtils.tryResolveRealFileWithExtensions(\r\n        file,\r\n        extensions,\r\n        preserveSymlinks\r\n      ))\r\n        return res;\r\n      if (tryPrefix) {\r\n        const prefixed = `${dirPath}/${options.tryPrefix}${path$n.basename(file)}`;\r\n        if (res = fsUtils.tryResolveRealFile(prefixed, preserveSymlinks))\r\n          return res;\r\n        if (res = fsUtils.tryResolveRealFileWithExtensions(\r\n          prefixed,\r\n          extensions,\r\n          preserveSymlinks\r\n        ))\r\n          return res;\r\n      }\r\n    }\r\n  }\r\n  if (tryIndex && fileResult?.type === \"directory\") {\r\n    const dirPath = file;\r\n    if (!skipPackageJson) {\r\n      let pkgPath = `${dirPath}/package.json`;\r\n      try {\r\n        if (fsUtils.existsSync(pkgPath)) {\r\n          if (!options.preserveSymlinks) {\r\n            pkgPath = safeRealpathSync(pkgPath);\r\n          }\r\n          const pkg = loadPackageData(pkgPath);\r\n          return resolvePackageEntry(dirPath, pkg, targetWeb, options);\r\n        }\r\n      } catch (e) {\r\n        if (e.code !== ERR_RESOLVE_PACKAGE_ENTRY_FAIL && e.code !== \"ENOENT\")\r\n          throw e;\r\n      }\r\n    }\r\n    if (res = fsUtils.tryResolveRealFileWithExtensions(\r\n      `${dirPath}/index`,\r\n      extensions,\r\n      preserveSymlinks\r\n    ))\r\n      return res;\r\n    if (tryPrefix) {\r\n      if (res = fsUtils.tryResolveRealFileWithExtensions(\r\n        `${dirPath}/${options.tryPrefix}index`,\r\n        extensions,\r\n        preserveSymlinks\r\n      ))\r\n        return res;\r\n    }\r\n  }\r\n}\r\nfunction tryNodeResolve(id, importer, options, targetWeb, depsOptimizer, ssr = false, externalize, allowLinkedExternal = true) {\r\n  const { root, dedupe, isBuild, preserveSymlinks, packageCache } = options;\r\n  const deepMatch = deepImportRE.exec(id);\r\n  const pkgId = deepMatch ? deepMatch[1] || deepMatch[2] : cleanUrl(id);\r\n  let basedir;\r\n  if (dedupe?.includes(pkgId)) {\r\n    basedir = root;\r\n  } else if (importer && path$n.isAbsolute(importer) && // css processing appends `*` for importer\r\n  (importer[importer.length - 1] === \"*\" || fs__default.existsSync(cleanUrl(importer)))) {\r\n    basedir = path$n.dirname(importer);\r\n  } else {\r\n    basedir = root;\r\n  }\r\n  let selfPkg = null;\r\n  if (!isBuiltin(id) && !id.includes(\"\\0\") && bareImportRE.test(id)) {\r\n    const selfPackageData = findNearestPackageData(basedir, packageCache);\r\n    selfPkg = selfPackageData?.data.exports && selfPackageData?.data.name === pkgId ? selfPackageData : null;\r\n  }\r\n  const pkg = selfPkg || resolvePackageData(pkgId, basedir, preserveSymlinks, packageCache);\r\n  if (!pkg) {\r\n    if (basedir !== root && // root has no peer dep\r\n    !isBuiltin(id) && !id.includes(\"\\0\") && bareImportRE.test(id)) {\r\n      const mainPkg = findNearestMainPackageData(basedir, packageCache)?.data;\r\n      if (mainPkg) {\r\n        const pkgName = getNpmPackageName(id);\r\n        if (pkgName != null && mainPkg.peerDependencies?.[pkgName] && mainPkg.peerDependenciesMeta?.[pkgName]?.optional) {\r\n          return {\r\n            id: `${optionalPeerDepId}:${id}:${mainPkg.name}`\r\n          };\r\n        }\r\n      }\r\n    }\r\n    return;\r\n  }\r\n  const resolveId = deepMatch ? resolveDeepImport : resolvePackageEntry;\r\n  const unresolvedId = deepMatch ? \".\" + id.slice(pkgId.length) : id;\r\n  let resolved;\r\n  try {\r\n    resolved = resolveId(unresolvedId, pkg, targetWeb, options);\r\n  } catch (err) {\r\n    if (!options.tryEsmOnly) {\r\n      throw err;\r\n    }\r\n  }\r\n  if (!resolved && options.tryEsmOnly) {\r\n    resolved = resolveId(unresolvedId, pkg, targetWeb, {\r\n      ...options,\r\n      isRequire: false,\r\n      mainFields: DEFAULT_MAIN_FIELDS,\r\n      extensions: DEFAULT_EXTENSIONS\r\n    });\r\n  }\r\n  if (!resolved) {\r\n    return;\r\n  }\r\n  const processResult = (resolved2) => {\r\n    if (!externalize) {\r\n      return resolved2;\r\n    }\r\n    if (!allowLinkedExternal && !isInNodeModules$1(resolved2.id)) {\r\n      return resolved2;\r\n    }\r\n    const resolvedExt = path$n.extname(resolved2.id);\r\n    if (resolvedExt && resolvedExt !== \".js\" && resolvedExt !== \".mjs\" && resolvedExt !== \".cjs\") {\r\n      return resolved2;\r\n    }\r\n    let resolvedId = id;\r\n    if (deepMatch && !pkg?.data.exports && path$n.extname(id) !== resolvedExt) {\r\n      const index = resolved2.id.indexOf(id);\r\n      if (index > -1) {\r\n        resolvedId = resolved2.id.slice(index);\r\n        debug$c?.(\r\n          `[processResult] ${colors$1.cyan(id)} -> ${colors$1.dim(resolvedId)}`\r\n        );\r\n      }\r\n    }\r\n    return { ...resolved2, id: resolvedId, external: true };\r\n  };\r\n  if (!options.idOnly && (!options.scan && isBuild && !depsOptimizer || externalize)) {\r\n    return processResult({\r\n      id: resolved,\r\n      moduleSideEffects: pkg.hasSideEffects(resolved)\r\n    });\r\n  }\r\n  if (!options.ssrOptimizeCheck && (!isInNodeModules$1(resolved) || // linked\r\n  !depsOptimizer || // resolving before listening to the server\r\n  options.scan)) {\r\n    return { id: resolved };\r\n  }\r\n  const isJsType = depsOptimizer ? isOptimizable(resolved, depsOptimizer.options) : OPTIMIZABLE_ENTRY_RE.test(resolved);\r\n  let exclude = depsOptimizer?.options.exclude;\r\n  let include = depsOptimizer?.options.include;\r\n  if (options.ssrOptimizeCheck) {\r\n    exclude = options.ssrConfig?.optimizeDeps?.exclude;\r\n    include = options.ssrConfig?.optimizeDeps?.include;\r\n  }\r\n  const skipOptimization = !options.ssrOptimizeCheck && depsOptimizer?.options.noDiscovery || !isJsType || importer && isInNodeModules$1(importer) || exclude?.includes(pkgId) || exclude?.includes(id) || SPECIAL_QUERY_RE.test(resolved) || // During dev SSR, we don't have a way to reload the module graph if\r\n  // a non-optimized dep is found. So we need to skip optimization here.\r\n  // The only optimized deps are the ones explicitly listed in the config.\r\n  !options.ssrOptimizeCheck && !isBuild && ssr || // Only optimize non-external CJS deps during SSR by default\r\n  ssr && isFilePathESM(resolved, options.packageCache) && !(include?.includes(pkgId) || include?.includes(id));\r\n  if (options.ssrOptimizeCheck) {\r\n    return {\r\n      id: skipOptimization ? injectQuery(resolved, `__vite_skip_optimization`) : resolved\r\n    };\r\n  }\r\n  if (skipOptimization) {\r\n    if (!isBuild) {\r\n      const versionHash = depsOptimizer.metadata.browserHash;\r\n      if (versionHash && isJsType) {\r\n        resolved = injectQuery(resolved, `v=${versionHash}`);\r\n      }\r\n    }\r\n  } else {\r\n    const optimizedInfo = depsOptimizer.registerMissingImport(id, resolved);\r\n    resolved = depsOptimizer.getOptimizedDepId(optimizedInfo);\r\n  }\r\n  if (!options.idOnly && !options.scan && isBuild) {\r\n    return {\r\n      id: resolved,\r\n      moduleSideEffects: pkg.hasSideEffects(resolved)\r\n    };\r\n  } else {\r\n    return { id: resolved };\r\n  }\r\n}\r\nasync function tryOptimizedResolve(depsOptimizer, id, importer, preserveSymlinks, packageCache) {\r\n  await depsOptimizer.scanProcessing;\r\n  const metadata = depsOptimizer.metadata;\r\n  const depInfo = optimizedDepInfoFromId(metadata, id);\r\n  if (depInfo) {\r\n    return depsOptimizer.getOptimizedDepId(depInfo);\r\n  }\r\n  if (!importer) return;\r\n  let idPkgDir;\r\n  const nestedIdMatch = `> ${id}`;\r\n  for (const optimizedData of metadata.depInfoList) {\r\n    if (!optimizedData.src) continue;\r\n    if (!optimizedData.id.endsWith(nestedIdMatch)) continue;\r\n    if (idPkgDir == null) {\r\n      const pkgName = getNpmPackageName(id);\r\n      if (!pkgName) break;\r\n      idPkgDir = resolvePackageData(\r\n        pkgName,\r\n        importer,\r\n        preserveSymlinks,\r\n        packageCache\r\n      )?.dir;\r\n      if (idPkgDir == null) break;\r\n      idPkgDir = normalizePath$3(idPkgDir);\r\n    }\r\n    if (optimizedData.src.startsWith(withTrailingSlash(idPkgDir))) {\r\n      return depsOptimizer.getOptimizedDepId(optimizedData);\r\n    }\r\n  }\r\n}\r\nfunction resolvePackageEntry(id, { dir, data, setResolvedCache, getResolvedCache }, targetWeb, options) {\r\n  const { file: idWithoutPostfix, postfix } = splitFileAndPostfix(id);\r\n  const cached = getResolvedCache(\".\", targetWeb);\r\n  if (cached) {\r\n    return cached + postfix;\r\n  }\r\n  try {\r\n    let entryPoint;\r\n    if (data.exports) {\r\n      entryPoint = resolveExportsOrImports(\r\n        data,\r\n        \".\",\r\n        options,\r\n        targetWeb,\r\n        \"exports\"\r\n      );\r\n    }\r\n    if (!entryPoint) {\r\n      for (const field of options.mainFields) {\r\n        if (field === \"browser\") {\r\n          if (targetWeb) {\r\n            entryPoint = tryResolveBrowserEntry(dir, data, options);\r\n            if (entryPoint) {\r\n              break;\r\n            }\r\n          }\r\n        } else if (typeof data[field] === \"string\") {\r\n          entryPoint = data[field];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    entryPoint ||= data.main;\r\n    const entryPoints = entryPoint ? [entryPoint] : [\"index.js\", \"index.json\", \"index.node\"];\r\n    for (let entry of entryPoints) {\r\n      let skipPackageJson = false;\r\n      if (options.mainFields[0] === \"sass\" && !options.extensions.includes(path$n.extname(entry))) {\r\n        entry = \"\";\r\n        skipPackageJson = true;\r\n      } else {\r\n        const { browser: browserField } = data;\r\n        if (targetWeb && options.mainFields.includes(\"browser\") && isObject$1(browserField)) {\r\n          entry = mapWithBrowserField(entry, browserField) || entry;\r\n        }\r\n      }\r\n      const entryPointPath = path$n.join(dir, entry);\r\n      const resolvedEntryPoint = tryFsResolve(\r\n        entryPointPath,\r\n        options,\r\n        true,\r\n        true,\r\n        skipPackageJson\r\n      );\r\n      if (resolvedEntryPoint) {\r\n        debug$c?.(\r\n          `[package entry] ${colors$1.cyan(idWithoutPostfix)} -> ${colors$1.dim(\r\n            resolvedEntryPoint\r\n          )}${postfix !== \"\" ? ` (postfix: ${postfix})` : \"\"}`\r\n        );\r\n        setResolvedCache(\".\", resolvedEntryPoint, targetWeb);\r\n        return resolvedEntryPoint + postfix;\r\n      }\r\n    }\r\n  } catch (e) {\r\n    packageEntryFailure(id, e.message);\r\n  }\r\n  packageEntryFailure(id);\r\n}\r\nfunction packageEntryFailure(id, details) {\r\n  const err = new Error(\r\n    `Failed to resolve entry for package \"${id}\". The package may have incorrect main/module/exports specified in its package.json` + (details ? \": \" + details : \".\")\r\n  );\r\n  err.code = ERR_RESOLVE_PACKAGE_ENTRY_FAIL;\r\n  throw err;\r\n}\r\nfunction resolveExportsOrImports(pkg, key, options, targetWeb, type) {\r\n  const additionalConditions = new Set(\r\n    options.overrideConditions || [\r\n      \"production\",\r\n      \"development\",\r\n      \"module\",\r\n      ...options.conditions\r\n    ]\r\n  );\r\n  const conditions = [...additionalConditions].filter((condition) => {\r\n    switch (condition) {\r\n      case \"production\":\r\n        return options.isProduction;\r\n      case \"development\":\r\n        return !options.isProduction;\r\n    }\r\n    return true;\r\n  });\r\n  const fn = type === \"imports\" ? f : o;\r\n  const result = fn(pkg, key, {\r\n    browser: targetWeb && !additionalConditions.has(\"node\"),\r\n    require: options.isRequire && !additionalConditions.has(\"import\"),\r\n    conditions\r\n  });\r\n  return result ? result[0] : void 0;\r\n}\r\nfunction resolveDeepImport(id, {\r\n  webResolvedImports,\r\n  setResolvedCache,\r\n  getResolvedCache,\r\n  dir,\r\n  data\r\n}, targetWeb, options) {\r\n  const cache = getResolvedCache(id, targetWeb);\r\n  if (cache) {\r\n    return cache;\r\n  }\r\n  let relativeId = id;\r\n  const { exports: exportsField, browser: browserField } = data;\r\n  if (exportsField) {\r\n    if (isObject$1(exportsField) && !Array.isArray(exportsField)) {\r\n      const { file, postfix } = splitFileAndPostfix(relativeId);\r\n      const exportsId = resolveExportsOrImports(\r\n        data,\r\n        file,\r\n        options,\r\n        targetWeb,\r\n        \"exports\"\r\n      );\r\n      if (exportsId !== void 0) {\r\n        relativeId = exportsId + postfix;\r\n      } else {\r\n        relativeId = void 0;\r\n      }\r\n    } else {\r\n      relativeId = void 0;\r\n    }\r\n    if (!relativeId) {\r\n      throw new Error(\r\n        `Package subpath '${relativeId}' is not defined by \"exports\" in ${path$n.join(dir, \"package.json\")}.`\r\n      );\r\n    }\r\n  } else if (targetWeb && options.mainFields.includes(\"browser\") && isObject$1(browserField)) {\r\n    const { file, postfix } = splitFileAndPostfix(relativeId);\r\n    const mapped = mapWithBrowserField(file, browserField);\r\n    if (mapped) {\r\n      relativeId = mapped + postfix;\r\n    } else if (mapped === false) {\r\n      return webResolvedImports[id] = browserExternalId;\r\n    }\r\n  }\r\n  if (relativeId) {\r\n    const resolved = tryFsResolve(\r\n      path$n.join(dir, relativeId),\r\n      options,\r\n      !exportsField,\r\n      // try index only if no exports field\r\n      targetWeb\r\n    );\r\n    if (resolved) {\r\n      debug$c?.(\r\n        `[node/deep-import] ${colors$1.cyan(id)} -> ${colors$1.dim(resolved)}`\r\n      );\r\n      setResolvedCache(id, resolved, targetWeb);\r\n      return resolved;\r\n    }\r\n  }\r\n}\r\nfunction tryResolveBrowserMapping(id, importer, options, isFilePath, externalize) {\r\n  let res;\r\n  const pkg = importer && findNearestPackageData(path$n.dirname(importer), options.packageCache);\r\n  if (pkg && isObject$1(pkg.data.browser)) {\r\n    const mapId = isFilePath ? \"./\" + slash$1(path$n.relative(pkg.dir, id)) : id;\r\n    const browserMappedPath = mapWithBrowserField(mapId, pkg.data.browser);\r\n    if (browserMappedPath) {\r\n      if (res = bareImportRE.test(browserMappedPath) ? tryNodeResolve(browserMappedPath, importer, options, true)?.id : tryFsResolve(path$n.join(pkg.dir, browserMappedPath), options)) {\r\n        debug$c?.(`[browser mapped] ${colors$1.cyan(id)} -> ${colors$1.dim(res)}`);\r\n        let result = { id: res };\r\n        if (options.idOnly) {\r\n          return result;\r\n        }\r\n        if (!options.scan && options.isBuild) {\r\n          const resPkg = findNearestPackageData(\r\n            path$n.dirname(res),\r\n            options.packageCache\r\n          );\r\n          if (resPkg) {\r\n            result = {\r\n              id: res,\r\n              moduleSideEffects: resPkg.hasSideEffects(res)\r\n            };\r\n          }\r\n        }\r\n        return externalize ? { ...result, external: true } : result;\r\n      }\r\n    } else if (browserMappedPath === false) {\r\n      return browserExternalId;\r\n    }\r\n  }\r\n}\r\nfunction tryResolveBrowserEntry(dir, data, options) {\r\n  const browserEntry = typeof data.browser === \"string\" ? data.browser : isObject$1(data.browser) && data.browser[\".\"];\r\n  if (browserEntry) {\r\n    if (!options.isRequire && options.mainFields.includes(\"module\") && typeof data.module === \"string\" && data.module !== browserEntry) {\r\n      const resolvedBrowserEntry = tryFsResolve(\r\n        path$n.join(dir, browserEntry),\r\n        options\r\n      );\r\n      if (resolvedBrowserEntry) {\r\n        const content = fs__default.readFileSync(resolvedBrowserEntry, \"utf-8\");\r\n        if (hasESMSyntax(content)) {\r\n          return browserEntry;\r\n        } else {\r\n          return data.module;\r\n        }\r\n      }\r\n    } else {\r\n      return browserEntry;\r\n    }\r\n  }\r\n}\r\nfunction mapWithBrowserField(relativePathInPkgDir, map) {\r\n  const normalizedPath = path$n.posix.normalize(relativePathInPkgDir);\r\n  for (const key in map) {\r\n    const normalizedKey = path$n.posix.normalize(key);\r\n    if (normalizedPath === normalizedKey || equalWithoutSuffix(normalizedPath, normalizedKey, \".js\") || equalWithoutSuffix(normalizedPath, normalizedKey, \"/index.js\")) {\r\n      return map[key];\r\n    }\r\n  }\r\n}\r\nfunction equalWithoutSuffix(path2, key, suffix) {\r\n  return key.endsWith(suffix) && key.slice(0, -suffix.length) === path2;\r\n}\r\n\r\nconst externalWithConversionNamespace = \"vite:dep-pre-bundle:external-conversion\";\r\nconst convertedExternalPrefix = \"vite-dep-pre-bundle-external:\";\r\nconst cjsExternalFacadeNamespace = \"vite:cjs-external-facade\";\r\nconst nonFacadePrefix = \"vite-cjs-external-facade:\";\r\nconst externalTypes = [\r\n  \"css\",\r\n  // supported pre-processor types\r\n  \"less\",\r\n  \"sass\",\r\n  \"scss\",\r\n  \"styl\",\r\n  \"stylus\",\r\n  \"pcss\",\r\n  \"postcss\",\r\n  // wasm\r\n  \"wasm\",\r\n  // known SFC types\r\n  \"vue\",\r\n  \"svelte\",\r\n  \"marko\",\r\n  \"astro\",\r\n  \"imba\",\r\n  // JSX/TSX may be configured to be compiled differently from how esbuild\r\n  // handles it by default, so exclude them as well\r\n  \"jsx\",\r\n  \"tsx\",\r\n  ...KNOWN_ASSET_TYPES\r\n];\r\nfunction esbuildDepPlugin(qualified, external, config, ssr) {\r\n  const { extensions } = getDepOptimizationConfig(config, ssr);\r\n  const allExternalTypes = extensions ? externalTypes.filter((type) => !extensions?.includes(\".\" + type)) : externalTypes;\r\n  const esmPackageCache = /* @__PURE__ */ new Map();\r\n  const cjsPackageCache = /* @__PURE__ */ new Map();\r\n  const _resolve = config.createResolver({\r\n    asSrc: false,\r\n    scan: true,\r\n    packageCache: esmPackageCache\r\n  });\r\n  const _resolveRequire = config.createResolver({\r\n    asSrc: false,\r\n    isRequire: true,\r\n    scan: true,\r\n    packageCache: cjsPackageCache\r\n  });\r\n  const resolve = (id, importer, kind, resolveDir) => {\r\n    let _importer;\r\n    {\r\n      _importer = importer in qualified ? qualified[importer] : importer;\r\n    }\r\n    const resolver = kind.startsWith(\"require\") ? _resolveRequire : _resolve;\r\n    return resolver(id, _importer, void 0, ssr);\r\n  };\r\n  const resolveResult = (id, resolved) => {\r\n    if (resolved.startsWith(browserExternalId)) {\r\n      return {\r\n        path: id,\r\n        namespace: \"browser-external\"\r\n      };\r\n    }\r\n    if (resolved.startsWith(optionalPeerDepId)) {\r\n      return {\r\n        path: resolved,\r\n        namespace: \"optional-peer-dep\"\r\n      };\r\n    }\r\n    if (ssr && isBuiltin(resolved)) {\r\n      return;\r\n    }\r\n    if (isExternalUrl(resolved)) {\r\n      return {\r\n        path: resolved,\r\n        external: true\r\n      };\r\n    }\r\n    return {\r\n      path: path$n.resolve(resolved)\r\n    };\r\n  };\r\n  return {\r\n    name: \"vite:dep-pre-bundle\",\r\n    setup(build) {\r\n      build.onEnd(() => {\r\n        esmPackageCache.clear();\r\n        cjsPackageCache.clear();\r\n      });\r\n      build.onResolve(\r\n        {\r\n          filter: new RegExp(\r\n            `\\\\.(` + allExternalTypes.join(\"|\") + `)(\\\\?.*)?$`\r\n          )\r\n        },\r\n        async ({ path: id, importer, kind }) => {\r\n          if (id.startsWith(convertedExternalPrefix)) {\r\n            return {\r\n              path: id.slice(convertedExternalPrefix.length),\r\n              external: true\r\n            };\r\n          }\r\n          const resolved = await resolve(id, importer, kind);\r\n          if (resolved) {\r\n            if (kind === \"require-call\") {\r\n              if (resolved.endsWith(\".js\")) {\r\n                return {\r\n                  path: resolved,\r\n                  external: false\r\n                };\r\n              }\r\n              return {\r\n                path: resolved,\r\n                namespace: externalWithConversionNamespace\r\n              };\r\n            }\r\n            return {\r\n              path: resolved,\r\n              external: true\r\n            };\r\n          }\r\n        }\r\n      );\r\n      build.onLoad(\r\n        { filter: /./, namespace: externalWithConversionNamespace },\r\n        (args) => {\r\n          const modulePath = `\"${convertedExternalPrefix}${args.path}\"`;\r\n          return {\r\n            contents: isCSSRequest(args.path) && !isModuleCSSRequest(args.path) ? `import ${modulePath};` : `export { default } from ${modulePath};export * from ${modulePath};`,\r\n            loader: \"js\"\r\n          };\r\n        }\r\n      );\r\n      function resolveEntry(id) {\r\n        const flatId = flattenId(id);\r\n        if (flatId in qualified) {\r\n          return {\r\n            path: qualified[flatId]\r\n          };\r\n        }\r\n      }\r\n      build.onResolve(\r\n        { filter: /^[\\w@][^:]/ },\r\n        async ({ path: id, importer, kind }) => {\r\n          if (moduleListContains(external, id)) {\r\n            return {\r\n              path: id,\r\n              external: true\r\n            };\r\n          }\r\n          let entry;\r\n          if (!importer) {\r\n            if (entry = resolveEntry(id)) return entry;\r\n            const aliased = await _resolve(id, void 0, true);\r\n            if (aliased && (entry = resolveEntry(aliased))) {\r\n              return entry;\r\n            }\r\n          }\r\n          const resolved = await resolve(id, importer, kind);\r\n          if (resolved) {\r\n            return resolveResult(id, resolved);\r\n          }\r\n        }\r\n      );\r\n      build.onLoad(\r\n        { filter: /.*/, namespace: \"browser-external\" },\r\n        ({ path: path2 }) => {\r\n          if (config.isProduction) {\r\n            return {\r\n              contents: \"module.exports = {}\"\r\n            };\r\n          } else {\r\n            return {\r\n              // Return in CJS to intercept named imports. Use `Object.create` to\r\n              // create the Proxy in the prototype to workaround esbuild issue. Why?\r\n              //\r\n              // In short, esbuild cjs->esm flow:\r\n              // 1. Create empty object using `Object.create(Object.getPrototypeOf(module.exports))`.\r\n              // 2. Assign props of `module.exports` to the object.\r\n              // 3. Return object for ESM use.\r\n              //\r\n              // If we do `module.exports = new Proxy({}, {})`, step 1 returns empty object,\r\n              // step 2 does nothing as there's no props for `module.exports`. The final object\r\n              // is just an empty object.\r\n              //\r\n              // Creating the Proxy in the prototype satisfies step 1 immediately, which means\r\n              // the returned object is a Proxy that we can intercept.\r\n              //\r\n              // Note: Skip keys that are accessed by esbuild and browser devtools.\r\n              contents: `module.exports = Object.create(new Proxy({}, {\r\n  get(_, key) {\r\n    if (\r\n      key !== '__esModule' &&\r\n      key !== '__proto__' &&\r\n      key !== 'constructor' &&\r\n      key !== 'splice'\r\n    ) {\r\n      console.warn(\\`Module \"${path2}\" has been externalized for browser compatibility. Cannot access \"${path2}.\\${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.\\`)\r\n    }\r\n  }\r\n}))`\r\n            };\r\n          }\r\n        }\r\n      );\r\n      build.onLoad(\r\n        { filter: /.*/, namespace: \"optional-peer-dep\" },\r\n        ({ path: path2 }) => {\r\n          if (config.isProduction) {\r\n            return {\r\n              contents: \"module.exports = {}\"\r\n            };\r\n          } else {\r\n            const [, peerDep, parentDep] = path2.split(\":\");\r\n            return {\r\n              contents: `throw new Error(\\`Could not resolve \"${peerDep}\" imported by \"${parentDep}\". Is it installed?\\`)`\r\n            };\r\n          }\r\n        }\r\n      );\r\n    }\r\n  };\r\n}\r\nconst matchesEntireLine = (text) => `^${escapeRegex(text)}$`;\r\nfunction esbuildCjsExternalPlugin(externals, platform) {\r\n  return {\r\n    name: \"cjs-external\",\r\n    setup(build) {\r\n      const filter = new RegExp(externals.map(matchesEntireLine).join(\"|\"));\r\n      build.onResolve({ filter: new RegExp(`^${nonFacadePrefix}`) }, (args) => {\r\n        return {\r\n          path: args.path.slice(nonFacadePrefix.length),\r\n          external: true\r\n        };\r\n      });\r\n      build.onResolve({ filter }, (args) => {\r\n        if (args.kind === \"require-call\" && platform !== \"node\") {\r\n          return {\r\n            path: args.path,\r\n            namespace: cjsExternalFacadeNamespace\r\n          };\r\n        }\r\n        return {\r\n          path: args.path,\r\n          external: true\r\n        };\r\n      });\r\n      build.onLoad(\r\n        { filter: /.*/, namespace: cjsExternalFacadeNamespace },\r\n        (args) => ({\r\n          contents: `import * as m from ${JSON.stringify(\r\n            nonFacadePrefix + args.path\r\n          )};module.exports = m;`\r\n        })\r\n      );\r\n    }\r\n  };\r\n}\r\n\r\nconst debug$b = createDebugger(\"vite:ssr-external\");\r\nconst isSsrExternalCache = /* @__PURE__ */ new WeakMap();\r\nfunction shouldExternalizeForSSR(id, importer, config) {\r\n  let isSsrExternal = isSsrExternalCache.get(config);\r\n  if (!isSsrExternal) {\r\n    isSsrExternal = createIsSsrExternal(config);\r\n    isSsrExternalCache.set(config, isSsrExternal);\r\n  }\r\n  return isSsrExternal(id, importer);\r\n}\r\nfunction createIsConfiguredAsSsrExternal(config) {\r\n  const { ssr, root } = config;\r\n  const noExternal = ssr?.noExternal;\r\n  const noExternalFilter = noExternal !== \"undefined\" && typeof noExternal !== \"boolean\" && createFilter(void 0, noExternal, { resolve: false });\r\n  const targetConditions = config.ssr.resolve?.externalConditions || [];\r\n  const resolveOptions = {\r\n    ...config.resolve,\r\n    root,\r\n    isProduction: false,\r\n    isBuild: true,\r\n    conditions: targetConditions\r\n  };\r\n  const isExternalizable = (id, importer, configuredAsExternal) => {\r\n    if (!bareImportRE.test(id) || id.includes(\"\\0\")) {\r\n      return false;\r\n    }\r\n    try {\r\n      return !!tryNodeResolve(\r\n        id,\r\n        // Skip passing importer in build to avoid externalizing non-hoisted dependencies\r\n        // unresolvable from root (which would be unresolvable from output bundles also)\r\n        config.command === \"build\" ? void 0 : importer,\r\n        resolveOptions,\r\n        ssr?.target === \"webworker\",\r\n        void 0,\r\n        true,\r\n        // try to externalize, will return undefined or an object without\r\n        // a external flag if it isn't externalizable\r\n        true,\r\n        // Allow linked packages to be externalized if they are explicitly\r\n        // configured as external\r\n        !!configuredAsExternal\r\n      )?.external;\r\n    } catch (e) {\r\n      debug$b?.(\r\n        `Failed to node resolve \"${id}\". Skipping externalizing it by default.`\r\n      );\r\n      return false;\r\n    }\r\n  };\r\n  return (id, importer) => {\r\n    if (\r\n      // If this id is defined as external, force it as external\r\n      // Note that individual package entries are allowed in ssr.external\r\n      ssr.external !== true && ssr.external?.includes(id)\r\n    ) {\r\n      return true;\r\n    }\r\n    const pkgName = getNpmPackageName(id);\r\n    if (!pkgName) {\r\n      return isExternalizable(id, importer);\r\n    }\r\n    if (\r\n      // A package name in ssr.external externalizes every\r\n      // externalizable package entry\r\n      ssr.external !== true && ssr.external?.includes(pkgName)\r\n    ) {\r\n      return isExternalizable(id, importer, true);\r\n    }\r\n    if (typeof noExternal === \"boolean\") {\r\n      return !noExternal;\r\n    }\r\n    if (noExternalFilter && !noExternalFilter(pkgName)) {\r\n      return false;\r\n    }\r\n    return isExternalizable(id, importer, ssr.external === true);\r\n  };\r\n}\r\nfunction createIsSsrExternal(config) {\r\n  const processedIds = /* @__PURE__ */ new Map();\r\n  const isConfiguredAsExternal = createIsConfiguredAsSsrExternal(config);\r\n  return (id, importer) => {\r\n    if (processedIds.has(id)) {\r\n      return processedIds.get(id);\r\n    }\r\n    let external = false;\r\n    if (id[0] !== \".\" && !path$n.isAbsolute(id)) {\r\n      external = isBuiltin(id) || isConfiguredAsExternal(id, importer);\r\n    }\r\n    processedIds.set(id, external);\r\n    return external;\r\n  };\r\n}\r\n\r\nconst jsonExtRE = /\\.json(?:$|\\?)(?!commonjs-(?:proxy|external))/;\r\nconst jsonLangs = `\\\\.(?:json|json5)(?:$|\\\\?)`;\r\nconst jsonLangRE = new RegExp(jsonLangs);\r\nconst isJSONRequest = (request) => jsonLangRE.test(request);\r\nfunction jsonPlugin(options = {}, isBuild) {\r\n  return {\r\n    name: \"vite:json\",\r\n    transform(json, id) {\r\n      if (!jsonExtRE.test(id)) return null;\r\n      if (SPECIAL_QUERY_RE.test(id)) return null;\r\n      json = stripBomTag(json);\r\n      try {\r\n        if (options.stringify) {\r\n          if (isBuild) {\r\n            return {\r\n              // during build, parse then double-stringify to remove all\r\n              // unnecessary whitespaces to reduce bundle size.\r\n              code: `export default JSON.parse(${JSON.stringify(\r\n                JSON.stringify(JSON.parse(json))\r\n              )})`,\r\n              map: { mappings: \"\" }\r\n            };\r\n          } else {\r\n            return `export default JSON.parse(${JSON.stringify(json)})`;\r\n          }\r\n        }\r\n        const parsed = JSON.parse(json);\r\n        return {\r\n          code: dataToEsm(parsed, {\r\n            preferConst: true,\r\n            namedExports: options.namedExports\r\n          }),\r\n          map: { mappings: \"\" }\r\n        };\r\n      } catch (e) {\r\n        const position = extractJsonErrorPosition(e.message, json.length);\r\n        const msg = position ? `, invalid JSON syntax found at position ${position}` : `.`;\r\n        this.error(`Failed to parse JSON file` + msg, position);\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction extractJsonErrorPosition(errorMessage, inputLength) {\r\n  if (errorMessage.startsWith(\"Unexpected end of JSON input\")) {\r\n    return inputLength - 1;\r\n  }\r\n  const errorMessageList = /at position (\\d+)/.exec(errorMessage);\r\n  return errorMessageList ? Math.max(parseInt(errorMessageList[1], 10) - 1, 0) : void 0;\r\n}\r\n\r\nconst ERR_OPTIMIZE_DEPS_PROCESSING_ERROR = \"ERR_OPTIMIZE_DEPS_PROCESSING_ERROR\";\r\nconst ERR_OUTDATED_OPTIMIZED_DEP = \"ERR_OUTDATED_OPTIMIZED_DEP\";\r\nconst ERR_FILE_NOT_FOUND_IN_OPTIMIZED_DEP_DIR = \"ERR_FILE_NOT_FOUND_IN_OPTIMIZED_DEP_DIR\";\r\nconst debug$a = createDebugger(\"vite:optimize-deps\");\r\nfunction optimizedDepsPlugin(config) {\r\n  return {\r\n    name: \"vite:optimized-deps\",\r\n    resolveId(id, source, { ssr }) {\r\n      if (getDepsOptimizer(config, ssr)?.isOptimizedDepFile(id)) {\r\n        return id;\r\n      }\r\n    },\r\n    // this.load({ id }) isn't implemented in PluginContainer\r\n    // The logic to register an id to wait until it is processed\r\n    // is in importAnalysis, see call to delayDepsOptimizerUntil\r\n    async load(id, options) {\r\n      const ssr = options?.ssr === true;\r\n      const depsOptimizer = getDepsOptimizer(config, ssr);\r\n      if (depsOptimizer?.isOptimizedDepFile(id)) {\r\n        const metadata = depsOptimizer.metadata;\r\n        const file = cleanUrl(id);\r\n        const versionMatch = DEP_VERSION_RE.exec(file);\r\n        const browserHash = versionMatch ? versionMatch[1].split(\"=\")[1] : void 0;\r\n        const info = optimizedDepInfoFromFile(metadata, file);\r\n        if (info) {\r\n          if (browserHash && info.browserHash !== browserHash) {\r\n            throwOutdatedRequest(id);\r\n          }\r\n          try {\r\n            await info.processing;\r\n          } catch {\r\n            throwProcessingError(id);\r\n          }\r\n          const newMetadata = depsOptimizer.metadata;\r\n          if (metadata !== newMetadata) {\r\n            const currentInfo = optimizedDepInfoFromFile(newMetadata, file);\r\n            if (info.browserHash !== currentInfo?.browserHash) {\r\n              throwOutdatedRequest(id);\r\n            }\r\n          }\r\n        }\r\n        debug$a?.(`load ${colors$1.cyan(file)}`);\r\n        try {\r\n          return await fsp.readFile(file, \"utf-8\");\r\n        } catch (e) {\r\n          const newMetadata = depsOptimizer.metadata;\r\n          if (optimizedDepInfoFromFile(newMetadata, file)) {\r\n            throwOutdatedRequest(id);\r\n          }\r\n          throwFileNotFoundInOptimizedDep(id);\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction throwProcessingError(id) {\r\n  const err = new Error(\r\n    `Something unexpected happened while optimizing \"${id}\". The current page should have reloaded by now`\r\n  );\r\n  err.code = ERR_OPTIMIZE_DEPS_PROCESSING_ERROR;\r\n  throw err;\r\n}\r\nfunction throwOutdatedRequest(id) {\r\n  const err = new Error(\r\n    `There is a new version of the pre-bundle for \"${id}\", a page reload is going to ask for it.`\r\n  );\r\n  err.code = ERR_OUTDATED_OPTIMIZED_DEP;\r\n  throw err;\r\n}\r\nfunction throwFileNotFoundInOptimizedDep(id) {\r\n  const err = new Error(\r\n    `The file does not exist at \"${id}\" which is in the optimize deps directory. The dependency might be incompatible with the dep optimizer. Try adding it to \\`optimizeDeps.exclude\\`.`\r\n  );\r\n  err.code = ERR_FILE_NOT_FOUND_IN_OPTIMIZED_DEP_DIR;\r\n  throw err;\r\n}\r\n\r\nconst nonJsRe = /\\.json(?:$|\\?)/;\r\nconst isNonJsRequest = (request) => nonJsRe.test(request);\r\nconst importMetaEnvMarker = \"__vite_import_meta_env__\";\r\nconst importMetaEnvKeyReCache = /* @__PURE__ */ new Map();\r\nfunction definePlugin(config) {\r\n  const isBuild = config.command === \"build\";\r\n  const isBuildLib = isBuild && config.build.lib;\r\n  const processEnv = {};\r\n  if (!isBuildLib) {\r\n    const nodeEnv = process.env.NODE_ENV || config.mode;\r\n    Object.assign(processEnv, {\r\n      \"process.env\": `{}`,\r\n      \"global.process.env\": `{}`,\r\n      \"globalThis.process.env\": `{}`,\r\n      \"process.env.NODE_ENV\": JSON.stringify(nodeEnv),\r\n      \"global.process.env.NODE_ENV\": JSON.stringify(nodeEnv),\r\n      \"globalThis.process.env.NODE_ENV\": JSON.stringify(nodeEnv)\r\n    });\r\n  }\r\n  const importMetaKeys = {};\r\n  const importMetaEnvKeys = {};\r\n  const importMetaFallbackKeys = {};\r\n  if (isBuild) {\r\n    importMetaKeys[\"import.meta.hot\"] = `undefined`;\r\n    for (const key in config.env) {\r\n      const val = JSON.stringify(config.env[key]);\r\n      importMetaKeys[`import.meta.env.${key}`] = val;\r\n      importMetaEnvKeys[key] = val;\r\n    }\r\n    importMetaKeys[\"import.meta.env.SSR\"] = `undefined`;\r\n    importMetaFallbackKeys[\"import.meta.env\"] = `undefined`;\r\n  }\r\n  const userDefine = {};\r\n  const userDefineEnv = {};\r\n  for (const key in config.define) {\r\n    userDefine[key] = handleDefineValue(config.define[key]);\r\n    if (isBuild && key.startsWith(\"import.meta.env.\")) {\r\n      userDefineEnv[key.slice(16)] = config.define[key];\r\n    }\r\n  }\r\n  function generatePattern(ssr) {\r\n    const replaceProcessEnv = !ssr || config.ssr?.target === \"webworker\";\r\n    const define = {\r\n      ...replaceProcessEnv ? processEnv : {},\r\n      ...importMetaKeys,\r\n      ...userDefine,\r\n      ...importMetaFallbackKeys\r\n    };\r\n    if (\"import.meta.env.SSR\" in define) {\r\n      define[\"import.meta.env.SSR\"] = ssr + \"\";\r\n    }\r\n    if (\"import.meta.env\" in define) {\r\n      define[\"import.meta.env\"] = importMetaEnvMarker;\r\n    }\r\n    const importMetaEnvVal = serializeDefine({\r\n      ...importMetaEnvKeys,\r\n      SSR: ssr + \"\",\r\n      ...userDefineEnv\r\n    });\r\n    const patternKeys = Object.keys(userDefine);\r\n    if (replaceProcessEnv && Object.keys(processEnv).length) {\r\n      patternKeys.push(\"process.env\");\r\n    }\r\n    if (Object.keys(importMetaKeys).length) {\r\n      patternKeys.push(\"import.meta.env\", \"import.meta.hot\");\r\n    }\r\n    const pattern = patternKeys.length ? new RegExp(patternKeys.map(escapeRegex).join(\"|\")) : null;\r\n    return [define, pattern, importMetaEnvVal];\r\n  }\r\n  const defaultPattern = generatePattern(false);\r\n  const ssrPattern = generatePattern(true);\r\n  return {\r\n    name: \"vite:define\",\r\n    async transform(code, id, options) {\r\n      const ssr = options?.ssr === true;\r\n      if (!ssr && !isBuild) {\r\n        return;\r\n      }\r\n      if (\r\n        // exclude html, css and static assets for performance\r\n        isHTMLRequest(id) || isCSSRequest(id) || isNonJsRequest(id) || config.assetsInclude(id)\r\n      ) {\r\n        return;\r\n      }\r\n      let [define, pattern, importMetaEnvVal] = ssr ? ssrPattern : defaultPattern;\r\n      if (!pattern) return;\r\n      pattern.lastIndex = 0;\r\n      if (!pattern.test(code)) return;\r\n      const hasDefineImportMetaEnv = \"import.meta.env\" in define;\r\n      let marker = importMetaEnvMarker;\r\n      if (hasDefineImportMetaEnv && code.includes(marker)) {\r\n        let i = 1;\r\n        do {\r\n          marker = importMetaEnvMarker + i++;\r\n        } while (code.includes(marker));\r\n        if (marker !== importMetaEnvMarker) {\r\n          define = { ...define, \"import.meta.env\": marker };\r\n        }\r\n      }\r\n      const result = await replaceDefine(code, id, define, config);\r\n      if (hasDefineImportMetaEnv) {\r\n        result.code = result.code.replaceAll(\r\n          getImportMetaEnvKeyRe(marker),\r\n          (m) => \"undefined\".padEnd(m.length)\r\n        );\r\n        if (result.code.includes(marker)) {\r\n          result.code = `const ${marker} = ${importMetaEnvVal};\r\n` + result.code;\r\n          if (result.map) {\r\n            const map = JSON.parse(result.map);\r\n            map.mappings = \";\" + map.mappings;\r\n            result.map = map;\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  };\r\n}\r\nasync function replaceDefine(code, id, define, config) {\r\n  const esbuildOptions = config.esbuild || {};\r\n  const result = await transform$1(code, {\r\n    loader: \"js\",\r\n    charset: esbuildOptions.charset ?? \"utf8\",\r\n    platform: \"neutral\",\r\n    define,\r\n    sourcefile: id,\r\n    sourcemap: config.command === \"build\" ? !!config.build.sourcemap : true\r\n  });\r\n  if (result.map.includes(\"<define:\")) {\r\n    const originalMap = new TraceMap(result.map);\r\n    if (originalMap.sources.length >= 2) {\r\n      const sourceIndex = originalMap.sources.indexOf(id);\r\n      const decoded = decodedMap(originalMap);\r\n      decoded.sources = [id];\r\n      decoded.mappings = decoded.mappings.map(\r\n        (segments) => segments.filter((segment) => {\r\n          const index = segment[1];\r\n          segment[1] = 0;\r\n          return index === sourceIndex;\r\n        })\r\n      );\r\n      result.map = JSON.stringify(encodedMap(new TraceMap(decoded)));\r\n    }\r\n  }\r\n  return {\r\n    code: result.code,\r\n    map: result.map || null\r\n  };\r\n}\r\nfunction serializeDefine(define) {\r\n  let res = `{`;\r\n  const keys = Object.keys(define).sort();\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const key = keys[i];\r\n    const val = define[key];\r\n    res += `${JSON.stringify(key)}: ${handleDefineValue(val)}`;\r\n    if (i !== keys.length - 1) {\r\n      res += `, `;\r\n    }\r\n  }\r\n  return res + `}`;\r\n}\r\nfunction handleDefineValue(value) {\r\n  if (typeof value === \"undefined\") return \"undefined\";\r\n  if (typeof value === \"string\") return value;\r\n  return JSON.stringify(value);\r\n}\r\nfunction getImportMetaEnvKeyRe(marker) {\r\n  let re = importMetaEnvKeyReCache.get(marker);\r\n  if (!re) {\r\n    re = new RegExp(`${marker}\\\\..+?\\\\b`, \"g\");\r\n    importMetaEnvKeyReCache.set(marker, re);\r\n  }\r\n  return re;\r\n}\r\n\r\nconst normalizedClientEntry = normalizePath$3(CLIENT_ENTRY);\r\nconst normalizedEnvEntry = normalizePath$3(ENV_ENTRY);\r\nfunction clientInjectionsPlugin(config) {\r\n  let injectConfigValues;\r\n  return {\r\n    name: \"vite:client-inject\",\r\n    async buildStart() {\r\n      const resolvedServerHostname = (await resolveHostname(config.server.host)).name;\r\n      const resolvedServerPort = config.server.port;\r\n      const devBase = config.base;\r\n      const serverHost = `${resolvedServerHostname}:${resolvedServerPort}${devBase}`;\r\n      let hmrConfig = config.server.hmr;\r\n      hmrConfig = isObject$1(hmrConfig) ? hmrConfig : void 0;\r\n      const host = hmrConfig?.host || null;\r\n      const protocol = hmrConfig?.protocol || null;\r\n      const timeout = hmrConfig?.timeout || 3e4;\r\n      const overlay = hmrConfig?.overlay !== false;\r\n      const isHmrServerSpecified = !!hmrConfig?.server;\r\n      const hmrConfigName = path$n.basename(config.configFile || \"vite.config.js\");\r\n      let port = hmrConfig?.clientPort || hmrConfig?.port || null;\r\n      if (config.server.middlewareMode && !isHmrServerSpecified) {\r\n        port ||= 24678;\r\n      }\r\n      let directTarget = hmrConfig?.host || resolvedServerHostname;\r\n      directTarget += `:${hmrConfig?.port || resolvedServerPort}`;\r\n      directTarget += devBase;\r\n      let hmrBase = devBase;\r\n      if (hmrConfig?.path) {\r\n        hmrBase = path$n.posix.join(hmrBase, hmrConfig.path);\r\n      }\r\n      const userDefine = {};\r\n      for (const key in config.define) {\r\n        if (!key.startsWith(\"import.meta.env.\")) {\r\n          userDefine[key] = config.define[key];\r\n        }\r\n      }\r\n      const serializedDefines = serializeDefine(userDefine);\r\n      const modeReplacement = escapeReplacement(config.mode);\r\n      const baseReplacement = escapeReplacement(devBase);\r\n      const definesReplacement = () => serializedDefines;\r\n      const serverHostReplacement = escapeReplacement(serverHost);\r\n      const hmrProtocolReplacement = escapeReplacement(protocol);\r\n      const hmrHostnameReplacement = escapeReplacement(host);\r\n      const hmrPortReplacement = escapeReplacement(port);\r\n      const hmrDirectTargetReplacement = escapeReplacement(directTarget);\r\n      const hmrBaseReplacement = escapeReplacement(hmrBase);\r\n      const hmrTimeoutReplacement = escapeReplacement(timeout);\r\n      const hmrEnableOverlayReplacement = escapeReplacement(overlay);\r\n      const hmrConfigNameReplacement = escapeReplacement(hmrConfigName);\r\n      injectConfigValues = (code) => {\r\n        return code.replace(`__MODE__`, modeReplacement).replace(/__BASE__/g, baseReplacement).replace(`__DEFINES__`, definesReplacement).replace(`__SERVER_HOST__`, serverHostReplacement).replace(`__HMR_PROTOCOL__`, hmrProtocolReplacement).replace(`__HMR_HOSTNAME__`, hmrHostnameReplacement).replace(`__HMR_PORT__`, hmrPortReplacement).replace(`__HMR_DIRECT_TARGET__`, hmrDirectTargetReplacement).replace(`__HMR_BASE__`, hmrBaseReplacement).replace(`__HMR_TIMEOUT__`, hmrTimeoutReplacement).replace(`__HMR_ENABLE_OVERLAY__`, hmrEnableOverlayReplacement).replace(`__HMR_CONFIG_NAME__`, hmrConfigNameReplacement);\r\n      };\r\n    },\r\n    async transform(code, id, options) {\r\n      if (id === normalizedClientEntry || id === normalizedEnvEntry) {\r\n        return injectConfigValues(code);\r\n      } else if (!options?.ssr && code.includes(\"process.env.NODE_ENV\")) {\r\n        const nodeEnv = config.define?.[\"process.env.NODE_ENV\"] || JSON.stringify(process.env.NODE_ENV || config.mode);\r\n        return await replaceDefine(\r\n          code,\r\n          id,\r\n          {\r\n            \"process.env.NODE_ENV\": nodeEnv,\r\n            \"global.process.env.NODE_ENV\": nodeEnv,\r\n            \"globalThis.process.env.NODE_ENV\": nodeEnv\r\n          },\r\n          config\r\n        );\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction escapeReplacement(value) {\r\n  const jsonValue = JSON.stringify(value);\r\n  return () => jsonValue;\r\n}\r\n\r\nconst wasmHelperId = \"\\0vite/wasm-helper.js\";\r\nconst wasmHelper = async (opts = {}, url) => {\r\n  let result;\r\n  if (url.startsWith(\"data:\")) {\r\n    const urlContent = url.replace(/^data:.*?base64,/, \"\");\r\n    let bytes;\r\n    if (typeof Buffer === \"function\" && typeof Buffer.from === \"function\") {\r\n      bytes = Buffer.from(urlContent, \"base64\");\r\n    } else if (typeof atob === \"function\") {\r\n      const binaryString = atob(urlContent);\r\n      bytes = new Uint8Array(binaryString.length);\r\n      for (let i = 0; i < binaryString.length; i++) {\r\n        bytes[i] = binaryString.charCodeAt(i);\r\n      }\r\n    } else {\r\n      throw new Error(\r\n        \"Failed to decode base64-encoded data URL, Buffer and atob are not supported\"\r\n      );\r\n    }\r\n    result = await WebAssembly.instantiate(bytes, opts);\r\n  } else {\r\n    const response = await fetch(url);\r\n    const contentType = response.headers.get(\"Content-Type\") || \"\";\r\n    if (\"instantiateStreaming\" in WebAssembly && contentType.startsWith(\"application/wasm\")) {\r\n      result = await WebAssembly.instantiateStreaming(response, opts);\r\n    } else {\r\n      const buffer = await response.arrayBuffer();\r\n      result = await WebAssembly.instantiate(buffer, opts);\r\n    }\r\n  }\r\n  return result.instance;\r\n};\r\nconst wasmHelperCode = wasmHelper.toString();\r\nconst wasmHelperPlugin = (config) => {\r\n  return {\r\n    name: \"vite:wasm-helper\",\r\n    resolveId(id) {\r\n      if (id === wasmHelperId) {\r\n        return id;\r\n      }\r\n    },\r\n    async load(id) {\r\n      if (id === wasmHelperId) {\r\n        return `export default ${wasmHelperCode}`;\r\n      }\r\n      if (!id.endsWith(\".wasm?init\")) {\r\n        return;\r\n      }\r\n      const url = await fileToUrl$1(id, config, this);\r\n      return `\r\nimport initWasm from \"${wasmHelperId}\"\r\nexport default opts => initWasm(opts, ${JSON.stringify(url)})\r\n`;\r\n    }\r\n  };\r\n};\r\nconst wasmFallbackPlugin = () => {\r\n  return {\r\n    name: \"vite:wasm-fallback\",\r\n    async load(id) {\r\n      if (!id.endsWith(\".wasm\")) {\r\n        return;\r\n      }\r\n      throw new Error(\r\n        '\"ESM integration proposal for Wasm\" is not supported currently. Use vite-plugin-wasm or other community plugins to handle this. Alternatively, you can use `.wasm?init` or `.wasm?url`. See https://vite.dev/guide/features.html#webassembly for more details.'\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nconst workerOrSharedWorkerRE = /(?:\\?|&)(worker|sharedworker)(?:&|$)/;\r\nconst workerFileRE = /(?:\\?|&)worker_file&type=(\\w+)(?:&|$)/;\r\nconst inlineRE = /[?&]inline\\b/;\r\nconst WORKER_FILE_ID = \"worker_file\";\r\nconst workerCache = /* @__PURE__ */ new WeakMap();\r\nfunction saveEmitWorkerAsset(config, asset) {\r\n  const workerMap = workerCache.get(config.mainConfig || config);\r\n  workerMap.assets.set(asset.fileName, asset);\r\n}\r\nasync function bundleWorkerEntry(config, id) {\r\n  const input = cleanUrl(id);\r\n  const newBundleChain = [...config.bundleChain, input];\r\n  if (config.bundleChain.includes(input)) {\r\n    throw new Error(\r\n      `Circular worker imports detected. Vite does not support it. Import chain: ${newBundleChain.map((id2) => prettifyUrl(id2, config.root)).join(\" -> \")}`\r\n    );\r\n  }\r\n  const { rollup } = await import('rollup');\r\n  const { plugins, rollupOptions, format } = config.worker;\r\n  const bundle = await rollup({\r\n    ...rollupOptions,\r\n    input,\r\n    plugins: await plugins(newBundleChain),\r\n    onwarn(warning, warn) {\r\n      onRollupWarning(warning, warn, config);\r\n    },\r\n    preserveEntrySignatures: false\r\n  });\r\n  let chunk;\r\n  try {\r\n    const workerOutputConfig = config.worker.rollupOptions.output;\r\n    const workerConfig = workerOutputConfig ? Array.isArray(workerOutputConfig) ? workerOutputConfig[0] || {} : workerOutputConfig : {};\r\n    const {\r\n      output: [outputChunk, ...outputChunks]\r\n    } = await bundle.generate({\r\n      entryFileNames: path$n.posix.join(\r\n        config.build.assetsDir,\r\n        \"[name]-[hash].js\"\r\n      ),\r\n      chunkFileNames: path$n.posix.join(\r\n        config.build.assetsDir,\r\n        \"[name]-[hash].js\"\r\n      ),\r\n      assetFileNames: path$n.posix.join(\r\n        config.build.assetsDir,\r\n        \"[name]-[hash].[ext]\"\r\n      ),\r\n      ...workerConfig,\r\n      format,\r\n      sourcemap: config.build.sourcemap\r\n    });\r\n    chunk = outputChunk;\r\n    outputChunks.forEach((outputChunk2) => {\r\n      if (outputChunk2.type === \"asset\") {\r\n        saveEmitWorkerAsset(config, outputChunk2);\r\n      } else if (outputChunk2.type === \"chunk\") {\r\n        saveEmitWorkerAsset(config, {\r\n          fileName: outputChunk2.fileName,\r\n          originalFileName: null,\r\n          source: outputChunk2.code\r\n        });\r\n      }\r\n    });\r\n  } finally {\r\n    await bundle.close();\r\n  }\r\n  return emitSourcemapForWorkerEntry(config, chunk);\r\n}\r\nfunction emitSourcemapForWorkerEntry(config, chunk) {\r\n  const { map: sourcemap } = chunk;\r\n  if (sourcemap) {\r\n    if (config.build.sourcemap === \"hidden\" || config.build.sourcemap === true) {\r\n      const data = sourcemap.toString();\r\n      const mapFileName = chunk.fileName + \".map\";\r\n      saveEmitWorkerAsset(config, {\r\n        fileName: mapFileName,\r\n        originalFileName: null,\r\n        source: data\r\n      });\r\n    }\r\n  }\r\n  return chunk;\r\n}\r\nconst workerAssetUrlRE = /__VITE_WORKER_ASSET__([a-z\\d]{8})__/g;\r\nfunction encodeWorkerAssetFileName(fileName, workerCache2) {\r\n  const { fileNameHash } = workerCache2;\r\n  const hash = getHash(fileName);\r\n  if (!fileNameHash.get(hash)) {\r\n    fileNameHash.set(hash, fileName);\r\n  }\r\n  return `__VITE_WORKER_ASSET__${hash}__`;\r\n}\r\nasync function workerFileToUrl(config, id) {\r\n  const workerMap = workerCache.get(config.mainConfig || config);\r\n  let fileName = workerMap.bundle.get(id);\r\n  if (!fileName) {\r\n    const outputChunk = await bundleWorkerEntry(config, id);\r\n    fileName = outputChunk.fileName;\r\n    saveEmitWorkerAsset(config, {\r\n      fileName,\r\n      originalFileName: null,\r\n      source: outputChunk.code\r\n    });\r\n    workerMap.bundle.set(id, fileName);\r\n  }\r\n  return encodeWorkerAssetFileName(fileName, workerMap);\r\n}\r\nfunction webWorkerPostPlugin() {\r\n  return {\r\n    name: \"vite:worker-post\",\r\n    resolveImportMeta(property, { format }) {\r\n      if (format === \"iife\") {\r\n        if (!property) {\r\n          return `{\r\n            url: self.location.href\r\n          }`;\r\n        }\r\n        if (property === \"url\") {\r\n          return \"self.location.href\";\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  };\r\n}\r\nfunction webWorkerPlugin(config) {\r\n  const isBuild = config.command === \"build\";\r\n  let server;\r\n  const isWorker = config.isWorker;\r\n  return {\r\n    name: \"vite:worker\",\r\n    configureServer(_server) {\r\n      server = _server;\r\n    },\r\n    buildStart() {\r\n      if (isWorker) {\r\n        return;\r\n      }\r\n      workerCache.set(config, {\r\n        assets: /* @__PURE__ */ new Map(),\r\n        bundle: /* @__PURE__ */ new Map(),\r\n        fileNameHash: /* @__PURE__ */ new Map()\r\n      });\r\n    },\r\n    load(id) {\r\n      if (isBuild && workerOrSharedWorkerRE.test(id)) {\r\n        return \"\";\r\n      }\r\n    },\r\n    shouldTransformCachedModule({ id }) {\r\n      if (isBuild && config.build.watch && workerOrSharedWorkerRE.test(id)) {\r\n        return true;\r\n      }\r\n    },\r\n    async transform(raw, id) {\r\n      const workerFileMatch = workerFileRE.exec(id);\r\n      if (workerFileMatch) {\r\n        const workerType2 = workerFileMatch[1];\r\n        let injectEnv = \"\";\r\n        const scriptPath = JSON.stringify(\r\n          path$n.posix.join(config.base, ENV_PUBLIC_PATH)\r\n        );\r\n        if (workerType2 === \"classic\") {\r\n          injectEnv = `importScripts(${scriptPath})\r\n`;\r\n        } else if (workerType2 === \"module\") {\r\n          injectEnv = `import ${scriptPath}\r\n`;\r\n        } else if (workerType2 === \"ignore\") {\r\n          if (isBuild) {\r\n            injectEnv = \"\";\r\n          } else if (server) {\r\n            const { moduleGraph } = server;\r\n            const module = moduleGraph.getModuleById(ENV_ENTRY);\r\n            injectEnv = module?.transformResult?.code || \"\";\r\n          }\r\n        }\r\n        if (injectEnv) {\r\n          const s = new MagicString(raw);\r\n          s.prepend(injectEnv + \";\\n\");\r\n          return {\r\n            code: s.toString(),\r\n            map: s.generateMap({ hires: \"boundary\" })\r\n          };\r\n        }\r\n        return;\r\n      }\r\n      const workerMatch = workerOrSharedWorkerRE.exec(id);\r\n      if (!workerMatch) return;\r\n      const { format } = config.worker;\r\n      const workerConstructor = workerMatch[1] === \"sharedworker\" ? \"SharedWorker\" : \"Worker\";\r\n      const workerType = isBuild ? format === \"es\" ? \"module\" : \"classic\" : \"module\";\r\n      const workerTypeOption = `{\r\n        ${workerType === \"module\" ? `type: \"module\",` : \"\"}\r\n        name: options?.name\r\n      }`;\r\n      let urlCode;\r\n      if (isBuild) {\r\n        if (isWorker && config.bundleChain.at(-1) === cleanUrl(id)) {\r\n          urlCode = \"self.location.href\";\r\n        } else if (inlineRE.test(id)) {\r\n          const chunk = await bundleWorkerEntry(config, id);\r\n          const encodedJs = `const encodedJs = \"${Buffer.from(\r\n            chunk.code\r\n          ).toString(\"base64\")}\";`;\r\n          const code = (\r\n            // Using blob URL for SharedWorker results in multiple instances of a same worker\r\n            workerConstructor === \"Worker\" ? `${encodedJs}\r\n          const decodeBase64 = (base64) => Uint8Array.from(atob(base64), c => c.charCodeAt(0));\r\n          const blob = typeof self !== \"undefined\" && self.Blob && new Blob([${workerType === \"classic\" ? \"\" : (\r\n              // `URL` is always available, in `Worker[type=\"module\"]`\r\n              `'URL.revokeObjectURL(import.meta.url);',`\r\n            )}decodeBase64(encodedJs)], { type: \"text/javascript;charset=utf-8\" });\r\n          export default function WorkerWrapper(options) {\r\n            let objURL;\r\n            try {\r\n              objURL = blob && (self.URL || self.webkitURL).createObjectURL(blob);\r\n              if (!objURL) throw ''\r\n              const worker = new ${workerConstructor}(objURL, ${workerTypeOption});\r\n              worker.addEventListener(\"error\", () => {\r\n                (self.URL || self.webkitURL).revokeObjectURL(objURL);\r\n              });\r\n              return worker;\r\n            } catch(e) {\r\n              return new ${workerConstructor}(\r\n                \"data:text/javascript;base64,\" + encodedJs,\r\n                ${workerTypeOption}\r\n              );\r\n            }${// For module workers, we should not revoke the URL until the worker runs,\r\n            // otherwise the worker fails to run\r\n            workerType === \"classic\" ? ` finally {\r\n                    objURL && (self.URL || self.webkitURL).revokeObjectURL(objURL);\r\n                  }` : \"\"}\r\n          }` : `${encodedJs}\r\n          export default function WorkerWrapper(options) {\r\n            return new ${workerConstructor}(\r\n              \"data:text/javascript;base64,\" + encodedJs,\r\n              ${workerTypeOption}\r\n            );\r\n          }\r\n          `\r\n          );\r\n          return {\r\n            code,\r\n            // Empty sourcemap to suppress Rollup warning\r\n            map: { mappings: \"\" }\r\n          };\r\n        } else {\r\n          urlCode = JSON.stringify(await workerFileToUrl(config, id));\r\n        }\r\n      } else {\r\n        let url = await fileToUrl$1(cleanUrl(id), config, this);\r\n        url = injectQuery(url, `${WORKER_FILE_ID}&type=${workerType}`);\r\n        urlCode = JSON.stringify(url);\r\n      }\r\n      if (urlRE.test(id)) {\r\n        return {\r\n          code: `export default ${urlCode}`,\r\n          map: { mappings: \"\" }\r\n          // Empty sourcemap to suppress Rollup warning\r\n        };\r\n      }\r\n      return {\r\n        code: `export default function WorkerWrapper(options) {\r\n          return new ${workerConstructor}(\r\n            ${urlCode},\r\n            ${workerTypeOption}\r\n          );\r\n        }`,\r\n        map: { mappings: \"\" }\r\n        // Empty sourcemap to suppress Rollup warning\r\n      };\r\n    },\r\n    renderChunk(code, chunk, outputOptions) {\r\n      let s;\r\n      const result = () => {\r\n        return s && {\r\n          code: s.toString(),\r\n          map: config.build.sourcemap ? s.generateMap({ hires: \"boundary\" }) : null\r\n        };\r\n      };\r\n      workerAssetUrlRE.lastIndex = 0;\r\n      if (workerAssetUrlRE.test(code)) {\r\n        const toRelativeRuntime = createToImportMetaURLBasedRelativeRuntime(\r\n          outputOptions.format,\r\n          config.isWorker\r\n        );\r\n        let match;\r\n        s = new MagicString(code);\r\n        workerAssetUrlRE.lastIndex = 0;\r\n        const workerMap = workerCache.get(config.mainConfig || config);\r\n        const { fileNameHash } = workerMap;\r\n        while (match = workerAssetUrlRE.exec(code)) {\r\n          const [full, hash] = match;\r\n          const filename = fileNameHash.get(hash);\r\n          const replacement = toOutputFilePathInJS(\r\n            filename,\r\n            \"asset\",\r\n            chunk.fileName,\r\n            \"js\",\r\n            config,\r\n            toRelativeRuntime\r\n          );\r\n          const replacementString = typeof replacement === \"string\" ? JSON.stringify(encodeURIPath(replacement)).slice(1, -1) : `\"+${replacement.runtime}+\"`;\r\n          s.update(match.index, match.index + full.length, replacementString);\r\n        }\r\n      }\r\n      return result();\r\n    },\r\n    generateBundle(opts, bundle) {\r\n      if (opts.__vite_skip_asset_emit__ || isWorker) {\r\n        return;\r\n      }\r\n      const workerMap = workerCache.get(config);\r\n      workerMap.assets.forEach((asset) => {\r\n        const duplicateAsset = bundle[asset.fileName];\r\n        if (duplicateAsset) {\r\n          const content = duplicateAsset.type === \"asset\" ? duplicateAsset.source : duplicateAsset.code;\r\n          if (isSameContent(content, asset.source)) {\r\n            return;\r\n          }\r\n        }\r\n        this.emitFile({\r\n          type: \"asset\",\r\n          fileName: asset.fileName,\r\n          originalFileName: asset.originalFileName,\r\n          source: asset.source\r\n        });\r\n      });\r\n      workerMap.assets.clear();\r\n    }\r\n  };\r\n}\r\nfunction isSameContent(a, b) {\r\n  if (typeof a === \"string\") {\r\n    if (typeof b === \"string\") {\r\n      return a === b;\r\n    }\r\n    return Buffer.from(a).equals(b);\r\n  }\r\n  return Buffer.from(b).equals(a);\r\n}\r\n\r\nfunction preAliasPlugin(config) {\r\n  const findPatterns = getAliasPatterns(config.resolve.alias);\r\n  const isConfiguredAsExternal = createIsConfiguredAsSsrExternal(config);\r\n  const isBuild = config.command === \"build\";\r\n  const fsUtils = getFsUtils(config);\r\n  return {\r\n    name: \"vite:pre-alias\",\r\n    async resolveId(id, importer, options) {\r\n      const ssr = options?.ssr === true;\r\n      const depsOptimizer = !isBuild && getDepsOptimizer(config, ssr);\r\n      if (importer && depsOptimizer && bareImportRE.test(id) && !options?.scan && id !== \"@vite/client\" && id !== \"@vite/env\") {\r\n        if (findPatterns.find((pattern) => matches(pattern, id))) {\r\n          const optimizedId = await tryOptimizedResolve(\r\n            depsOptimizer,\r\n            id,\r\n            importer,\r\n            config.resolve.preserveSymlinks,\r\n            config.packageCache\r\n          );\r\n          if (optimizedId) {\r\n            return optimizedId;\r\n          }\r\n          if (depsOptimizer.options.noDiscovery) {\r\n            return;\r\n          }\r\n          const resolved = await this.resolve(id, importer, {\r\n            ...options,\r\n            custom: { ...options.custom, \"vite:pre-alias\": true }\r\n          });\r\n          if (resolved && !depsOptimizer.isOptimizedDepFile(resolved.id)) {\r\n            const optimizeDeps = depsOptimizer.options;\r\n            const resolvedId = cleanUrl(resolved.id);\r\n            const isVirtual = resolvedId === id || resolvedId.includes(\"\\0\");\r\n            if (!isVirtual && fsUtils.existsSync(resolvedId) && !moduleListContains(optimizeDeps.exclude, id) && path$n.isAbsolute(resolvedId) && (isInNodeModules$1(resolvedId) || optimizeDeps.include?.includes(id)) && isOptimizable(resolvedId, optimizeDeps) && !(isBuild && ssr && isConfiguredAsExternal(id, importer)) && (!ssr || optimizeAliasReplacementForSSR(resolvedId, optimizeDeps))) {\r\n              const optimizedInfo = depsOptimizer.registerMissingImport(\r\n                id,\r\n                resolvedId\r\n              );\r\n              return { id: depsOptimizer.getOptimizedDepId(optimizedInfo) };\r\n            }\r\n          }\r\n          return resolved;\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction optimizeAliasReplacementForSSR(id, optimizeDeps) {\r\n  if (optimizeDeps.include?.includes(id)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nfunction matches(pattern, importee) {\r\n  if (pattern instanceof RegExp) {\r\n    return pattern.test(importee);\r\n  }\r\n  if (importee.length < pattern.length) {\r\n    return false;\r\n  }\r\n  if (importee === pattern) {\r\n    return true;\r\n  }\r\n  return importee.startsWith(withTrailingSlash(pattern));\r\n}\r\nfunction getAliasPatterns(entries) {\r\n  if (!entries) {\r\n    return [];\r\n  }\r\n  if (Array.isArray(entries)) {\r\n    return entries.map((entry) => entry.find);\r\n  }\r\n  return Object.entries(entries).map(([find]) => find);\r\n}\r\nfunction getAliasPatternMatcher(entries) {\r\n  const patterns = getAliasPatterns(entries);\r\n  return (importee) => patterns.some((pattern) => matches(pattern, importee));\r\n}\r\n\r\nfunction err(e, pos) {\r\n  const error = new Error(e);\r\n  error.pos = pos;\r\n  return error;\r\n}\r\nfunction parseWorkerOptions(rawOpts, optsStartIndex) {\r\n  let opts = {};\r\n  try {\r\n    opts = evalValue(rawOpts);\r\n  } catch {\r\n    throw err(\r\n      \"Vite is unable to parse the worker options as the value is not static.To ignore this error, please use /* @vite-ignore */ in the worker options.\",\r\n      optsStartIndex\r\n    );\r\n  }\r\n  if (opts == null) {\r\n    return {};\r\n  }\r\n  if (typeof opts !== \"object\") {\r\n    throw err(\r\n      `Expected worker options to be an object, got ${typeof opts}`,\r\n      optsStartIndex\r\n    );\r\n  }\r\n  return opts;\r\n}\r\nfunction getWorkerType(raw, clean, i) {\r\n  const commaIndex = clean.indexOf(\",\", i);\r\n  if (commaIndex === -1) {\r\n    return \"classic\";\r\n  }\r\n  const endIndex = clean.indexOf(\")\", i);\r\n  if (commaIndex > endIndex) {\r\n    return \"classic\";\r\n  }\r\n  const workerOptString = raw.substring(commaIndex + 1, endIndex).replace(/\\}[\\s\\S]*,/g, \"}\");\r\n  const hasViteIgnore = hasViteIgnoreRE.test(workerOptString);\r\n  if (hasViteIgnore) {\r\n    return \"ignore\";\r\n  }\r\n  const cleanWorkerOptString = clean.substring(commaIndex + 1, endIndex).trim();\r\n  if (!cleanWorkerOptString.length) {\r\n    return \"classic\";\r\n  }\r\n  const workerOpts = parseWorkerOptions(workerOptString, commaIndex + 1);\r\n  if (workerOpts.type && (workerOpts.type === \"module\" || workerOpts.type === \"classic\")) {\r\n    return workerOpts.type;\r\n  }\r\n  return \"classic\";\r\n}\r\nfunction isIncludeWorkerImportMetaUrl(code) {\r\n  if ((code.includes(\"new Worker\") || code.includes(\"new SharedWorker\")) && code.includes(\"new URL\") && code.includes(`import.meta.url`)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nfunction workerImportMetaUrlPlugin(config) {\r\n  const isBuild = config.command === \"build\";\r\n  let workerResolver;\r\n  const fsResolveOptions = {\r\n    ...config.resolve,\r\n    root: config.root,\r\n    isProduction: config.isProduction,\r\n    isBuild: config.command === \"build\",\r\n    packageCache: config.packageCache,\r\n    ssrConfig: config.ssr,\r\n    asSrc: true\r\n  };\r\n  return {\r\n    name: \"vite:worker-import-meta-url\",\r\n    shouldTransformCachedModule({ code }) {\r\n      if (isBuild && config.build.watch && isIncludeWorkerImportMetaUrl(code)) {\r\n        return true;\r\n      }\r\n    },\r\n    async transform(code, id, options) {\r\n      if (!options?.ssr && isIncludeWorkerImportMetaUrl(code)) {\r\n        let s;\r\n        const cleanString = stripLiteral(code);\r\n        const workerImportMetaUrlRE = /\\bnew\\s+(?:Worker|SharedWorker)\\s*\\(\\s*(new\\s+URL\\s*\\(\\s*('[^']+'|\"[^\"]+\"|`[^`]+`)\\s*,\\s*import\\.meta\\.url\\s*\\))/dg;\r\n        let match;\r\n        while (match = workerImportMetaUrlRE.exec(cleanString)) {\r\n          const [[, endIndex], [expStart, expEnd], [urlStart, urlEnd]] = match.indices;\r\n          const rawUrl = code.slice(urlStart, urlEnd);\r\n          if (rawUrl[0] === \"`\" && rawUrl.includes(\"${\")) {\r\n            this.error(\r\n              `\\`new URL(url, import.meta.url)\\` is not supported in dynamic template string.`,\r\n              expStart\r\n            );\r\n          }\r\n          s ||= new MagicString(code);\r\n          const workerType = getWorkerType(code, cleanString, endIndex);\r\n          const url = rawUrl.slice(1, -1);\r\n          let file;\r\n          if (url[0] === \".\") {\r\n            file = path$n.resolve(path$n.dirname(id), url);\r\n            file = tryFsResolve(file, fsResolveOptions) ?? file;\r\n          } else {\r\n            workerResolver ??= config.createResolver({\r\n              extensions: [],\r\n              tryIndex: false,\r\n              preferRelative: true\r\n            });\r\n            file = await workerResolver(url, id);\r\n            file ??= url[0] === \"/\" ? slash$1(path$n.join(config.publicDir, url)) : slash$1(path$n.resolve(path$n.dirname(id), url));\r\n          }\r\n          if (isBuild && config.isWorker && config.bundleChain.at(-1) === cleanUrl(file)) {\r\n            s.update(expStart, expEnd, \"self.location.href\");\r\n          } else {\r\n            let builtUrl;\r\n            if (isBuild) {\r\n              builtUrl = await workerFileToUrl(config, file);\r\n            } else {\r\n              builtUrl = await fileToUrl$1(cleanUrl(file), config, this);\r\n              builtUrl = injectQuery(\r\n                builtUrl,\r\n                `${WORKER_FILE_ID}&type=${workerType}`\r\n              );\r\n            }\r\n            s.update(\r\n              expStart,\r\n              expEnd,\r\n              `new URL(/* @vite-ignore */ ${JSON.stringify(builtUrl)}, import.meta.url)`\r\n            );\r\n          }\r\n        }\r\n        if (s) {\r\n          return transformStableResult(s, id, config);\r\n        }\r\n        return null;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction assetImportMetaUrlPlugin(config) {\r\n  const { publicDir } = config;\r\n  let assetResolver;\r\n  const fsResolveOptions = {\r\n    ...config.resolve,\r\n    root: config.root,\r\n    isProduction: config.isProduction,\r\n    isBuild: config.command === \"build\",\r\n    packageCache: config.packageCache,\r\n    ssrConfig: config.ssr,\r\n    asSrc: true\r\n  };\r\n  return {\r\n    name: \"vite:asset-import-meta-url\",\r\n    async transform(code, id, options) {\r\n      if (!options?.ssr && id !== preloadHelperId && id !== CLIENT_ENTRY && code.includes(\"new URL\") && code.includes(`import.meta.url`)) {\r\n        let s;\r\n        const assetImportMetaUrlRE = /\\bnew\\s+URL\\s*\\(\\s*('[^']+'|\"[^\"]+\"|`[^`]+`)\\s*,\\s*import\\.meta\\.url\\s*(?:,\\s*)?\\)/dg;\r\n        const cleanString = stripLiteral(code);\r\n        let match;\r\n        while (match = assetImportMetaUrlRE.exec(cleanString)) {\r\n          const [[startIndex, endIndex], [urlStart, urlEnd]] = match.indices;\r\n          if (hasViteIgnoreRE.test(code.slice(startIndex, urlStart))) continue;\r\n          const rawUrl = code.slice(urlStart, urlEnd);\r\n          if (!s) s = new MagicString(code);\r\n          if (rawUrl[0] === \"`\" && rawUrl.includes(\"${\")) {\r\n            const queryDelimiterIndex = getQueryDelimiterIndex(rawUrl);\r\n            const hasQueryDelimiter = queryDelimiterIndex !== -1;\r\n            const pureUrl = hasQueryDelimiter ? rawUrl.slice(0, queryDelimiterIndex) + \"`\" : rawUrl;\r\n            const queryString = hasQueryDelimiter ? rawUrl.slice(queryDelimiterIndex, -1) : \"\";\r\n            const ast = this.parse(pureUrl);\r\n            const templateLiteral = ast.body[0].expression;\r\n            if (templateLiteral.expressions.length) {\r\n              const pattern = buildGlobPattern(templateLiteral);\r\n              if (pattern.startsWith(\"**\")) {\r\n                continue;\r\n              }\r\n              const globOptions = {\r\n                eager: true,\r\n                import: \"default\",\r\n                // A hack to allow 'as' & 'query' exist at the same time\r\n                query: injectQuery(queryString, \"url\")\r\n              };\r\n              s.update(\r\n                startIndex,\r\n                endIndex,\r\n                `new URL((import.meta.glob(${JSON.stringify(\r\n                  pattern\r\n                )}, ${JSON.stringify(\r\n                  globOptions\r\n                )}))[${pureUrl}], import.meta.url)`\r\n              );\r\n              continue;\r\n            }\r\n          }\r\n          const url = rawUrl.slice(1, -1);\r\n          let file;\r\n          if (url[0] === \".\") {\r\n            file = slash$1(path$n.resolve(path$n.dirname(id), url));\r\n            file = tryFsResolve(file, fsResolveOptions) ?? file;\r\n          } else {\r\n            assetResolver ??= config.createResolver({\r\n              extensions: [],\r\n              mainFields: [],\r\n              tryIndex: false,\r\n              preferRelative: true\r\n            });\r\n            file = await assetResolver(url, id);\r\n            file ??= url[0] === \"/\" ? slash$1(path$n.join(publicDir, url)) : slash$1(path$n.resolve(path$n.dirname(id), url));\r\n          }\r\n          let builtUrl;\r\n          if (file) {\r\n            try {\r\n              if (publicDir && isParentDirectory(publicDir, file)) {\r\n                const publicPath = \"/\" + path$n.posix.relative(publicDir, file);\r\n                builtUrl = await fileToUrl$1(publicPath, config, this);\r\n              } else {\r\n                builtUrl = await fileToUrl$1(file, config, this);\r\n              }\r\n            } catch {\r\n            }\r\n          }\r\n          if (!builtUrl) {\r\n            const rawExp = code.slice(startIndex, endIndex);\r\n            config.logger.warnOnce(\r\n              `\r\n${rawExp} doesn't exist at build time, it will remain unchanged to be resolved at runtime. If this is intended, you can use the /* @vite-ignore */ comment to suppress this warning.`\r\n            );\r\n            builtUrl = url;\r\n          }\r\n          s.update(\r\n            startIndex,\r\n            endIndex,\r\n            `new URL(${JSON.stringify(builtUrl)}, import.meta.url)`\r\n          );\r\n        }\r\n        if (s) {\r\n          return transformStableResult(s, id, config);\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  };\r\n}\r\nfunction buildGlobPattern(ast) {\r\n  let pattern = \"\";\r\n  let lastElementIndex = -1;\r\n  for (const exp of ast.expressions) {\r\n    for (let i = lastElementIndex + 1; i < ast.quasis.length; i++) {\r\n      const el = ast.quasis[i];\r\n      if (el.end < exp.start) {\r\n        pattern += el.value.raw;\r\n        lastElementIndex = i;\r\n      }\r\n    }\r\n    pattern += \"**\";\r\n  }\r\n  for (let i = lastElementIndex + 1; i < ast.quasis.length; i++) {\r\n    pattern += ast.quasis[i].value.raw;\r\n  }\r\n  return pattern;\r\n}\r\nfunction getQueryDelimiterIndex(rawUrl) {\r\n  let bracketsStack = 0;\r\n  for (let i = 0; i < rawUrl.length; i++) {\r\n    if (rawUrl[i] === \"{\") {\r\n      bracketsStack++;\r\n    } else if (rawUrl[i] === \"}\") {\r\n      bracketsStack--;\r\n    } else if (rawUrl[i] === \"?\" && bracketsStack === 0) {\r\n      return i;\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nfunction metadataPlugin() {\r\n  return {\r\n    name: \"vite:build-metadata\",\r\n    async renderChunk(_code, chunk) {\r\n      chunk.viteMetadata = {\r\n        importedAssets: /* @__PURE__ */ new Set(),\r\n        importedCss: /* @__PURE__ */ new Set()\r\n      };\r\n      return null;\r\n    }\r\n  };\r\n}\r\n\r\n// Astring is a tiny and fast JavaScript code generator from an ESTree-compliant AST.\r\n//\r\n// Astring was written by David Bonnet and released under an MIT license.\r\n//\r\n// The Git repository for Astring is available at:\r\n// https://github.com/davidbonnet/astring.git\r\n//\r\n// Please use the GitHub bug tracker to report issues:\r\n// https://github.com/davidbonnet/astring/issues\r\n\r\n\r\n/* c8 ignore if */\r\nif (!String.prototype.repeat) {\r\n  /* c8 ignore next */\r\n  throw new Error(\r\n    'String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation',\r\n  )\r\n}\r\n\r\n/* c8 ignore if */\r\nif (!String.prototype.endsWith) {\r\n  /* c8 ignore next */\r\n  throw new Error(\r\n    'String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation',\r\n  )\r\n}\r\n\r\nclass VariableDynamicImportError extends Error {}\r\n\r\n/* eslint-disable-next-line no-template-curly-in-string */\r\nconst example = 'For example: import(`./foo/${bar}.js`).';\r\n\r\nfunction sanitizeString(str) {\r\n  if (str === '') return str;\r\n  if (str.includes('*')) {\r\n    throw new VariableDynamicImportError('A dynamic import cannot contain * characters.');\r\n  }\r\n  return glob.escapePath(str);\r\n}\r\n\r\nfunction templateLiteralToGlob(node) {\r\n  let glob = '';\r\n\r\n  for (let i = 0; i < node.quasis.length; i += 1) {\r\n    glob += sanitizeString(node.quasis[i].value.raw);\r\n    if (node.expressions[i]) {\r\n      glob += expressionToGlob(node.expressions[i]);\r\n    }\r\n  }\r\n\r\n  return glob;\r\n}\r\n\r\nfunction callExpressionToGlob(node) {\r\n  const { callee } = node;\r\n  if (\r\n    callee.type === 'MemberExpression' &&\r\n    callee.property.type === 'Identifier' &&\r\n    callee.property.name === 'concat'\r\n  ) {\r\n    return `${expressionToGlob(callee.object)}${node.arguments.map(expressionToGlob).join('')}`;\r\n  }\r\n  return '*';\r\n}\r\n\r\nfunction binaryExpressionToGlob(node) {\r\n  if (node.operator !== '+') {\r\n    throw new VariableDynamicImportError(`${node.operator} operator is not supported.`);\r\n  }\r\n\r\n  return `${expressionToGlob(node.left)}${expressionToGlob(node.right)}`;\r\n}\r\n\r\nfunction expressionToGlob(node) {\r\n  switch (node.type) {\r\n    case 'TemplateLiteral':\r\n      return templateLiteralToGlob(node);\r\n    case 'CallExpression':\r\n      return callExpressionToGlob(node);\r\n    case 'BinaryExpression':\r\n      return binaryExpressionToGlob(node);\r\n    case 'Literal': {\r\n      return sanitizeString(node.value);\r\n    }\r\n    default:\r\n      return '*';\r\n  }\r\n}\r\n\r\nconst defaultProtocol = 'file:';\r\nconst ignoredProtocols = ['data:', 'http:', 'https:'];\r\n\r\nfunction shouldIgnore(glob) {\r\n  const containsAsterisk = glob.includes('*');\r\n\r\n  const globURL = new URL(glob, defaultProtocol);\r\n\r\n  const containsIgnoredProtocol = ignoredProtocols.some(\r\n    (ignoredProtocol) => ignoredProtocol === globURL.protocol\r\n  );\r\n\r\n  return !containsAsterisk || containsIgnoredProtocol;\r\n}\r\n\r\nfunction dynamicImportToGlob(node, sourceString) {\r\n  let glob = expressionToGlob(node);\r\n\r\n  if (shouldIgnore(glob)) {\r\n    return null;\r\n  }\r\n\r\n  glob = glob.replace(/\\*\\*/g, '*');\r\n\r\n  if (glob.startsWith('*')) {\r\n    throw new VariableDynamicImportError(\r\n      `invalid import \"${sourceString}\". It cannot be statically analyzed. Variable dynamic imports must start with ./ and be limited to a specific directory. ${example}`\r\n    );\r\n  }\r\n\r\n  if (glob.startsWith('/')) {\r\n    throw new VariableDynamicImportError(\r\n      `invalid import \"${sourceString}\". Variable absolute imports are not supported, imports must start with ./ in the static part of the import. ${example}`\r\n    );\r\n  }\r\n\r\n  if (!glob.startsWith('./') && !glob.startsWith('../')) {\r\n    throw new VariableDynamicImportError(\r\n      `invalid import \"${sourceString}\". Variable bare imports are not supported, imports must start with ./ in the static part of the import. ${example}`\r\n    );\r\n  }\r\n\r\n  // Disallow ./*.ext\r\n  const ownDirectoryStarExtension = /^\\.\\/\\*\\.[\\w]+$/;\r\n  if (ownDirectoryStarExtension.test(glob)) {\r\n    throw new VariableDynamicImportError(\r\n      `${\r\n        `invalid import \"${sourceString}\". Variable imports cannot import their own directory, ` +\r\n        'place imports in a separate directory or make the import filename more specific. '\r\n      }${example}`\r\n    );\r\n  }\r\n\r\n  if (require$$0$4.extname(glob) === '') {\r\n    throw new VariableDynamicImportError(\r\n      `invalid import \"${sourceString}\". A file extension must be included in the static part of the import. ${example}`\r\n    );\r\n  }\r\n\r\n  return glob;\r\n}\r\n\r\nconst dynamicImportHelperId = \"\\0vite/dynamic-import-helper.js\";\r\nconst relativePathRE = /^\\.{1,2}\\//;\r\nconst hasDynamicImportRE = /\\bimport\\s*[(/]/;\r\nconst dynamicImportHelper = (glob, path, segs) => {\r\n  const v = glob[path];\r\n  if (v) {\r\n    return typeof v === \"function\" ? v() : Promise.resolve(v);\r\n  }\r\n  return new Promise((_, reject) => {\r\n    (typeof queueMicrotask === \"function\" ? queueMicrotask : setTimeout)(\r\n      reject.bind(\r\n        null,\r\n        new Error(\r\n          \"Unknown variable dynamic import: \" + path + (path.split(\"/\").length !== segs ? \". Note that variables only represent file names one level deep.\" : \"\")\r\n        )\r\n      )\r\n    );\r\n  });\r\n};\r\nfunction parseDynamicImportPattern(strings) {\r\n  const filename = strings.slice(1, -1);\r\n  const ast = parseAst(strings).body[0].expression;\r\n  const userPatternQuery = dynamicImportToGlob(ast, filename);\r\n  if (!userPatternQuery) {\r\n    return null;\r\n  }\r\n  const [userPattern] = userPatternQuery.split(\r\n    // ? is escaped on posix OS\r\n    requestQueryMaybeEscapedSplitRE,\r\n    2\r\n  );\r\n  let [rawPattern, search] = filename.split(requestQuerySplitRE, 2);\r\n  let globParams = null;\r\n  if (search) {\r\n    search = \"?\" + search;\r\n    if (workerOrSharedWorkerRE.test(search) || urlRE.test(search) || rawRE.test(search)) {\r\n      globParams = {\r\n        query: search,\r\n        import: \"*\"\r\n      };\r\n    } else {\r\n      globParams = {\r\n        query: search\r\n      };\r\n    }\r\n  }\r\n  return {\r\n    globParams,\r\n    userPattern,\r\n    rawPattern\r\n  };\r\n}\r\nasync function transformDynamicImport(importSource, importer, resolve, root) {\r\n  if (importSource[1] !== \".\" && importSource[1] !== \"/\") {\r\n    const resolvedFileName = await resolve(importSource.slice(1, -1), importer);\r\n    if (!resolvedFileName) {\r\n      return null;\r\n    }\r\n    const relativeFileName = normalizePath$3(\r\n      posix$1.relative(\r\n        posix$1.dirname(normalizePath$3(importer)),\r\n        normalizePath$3(resolvedFileName)\r\n      )\r\n    );\r\n    importSource = \"`\" + (relativeFileName[0] === \".\" ? \"\" : \"./\") + relativeFileName + \"`\";\r\n  }\r\n  const dynamicImportPattern = parseDynamicImportPattern(importSource);\r\n  if (!dynamicImportPattern) {\r\n    return null;\r\n  }\r\n  const { globParams, rawPattern, userPattern } = dynamicImportPattern;\r\n  const params = globParams ? `, ${JSON.stringify(globParams)}` : \"\";\r\n  let newRawPattern = posix$1.relative(\r\n    posix$1.dirname(importer),\r\n    await toAbsoluteGlob(rawPattern, root, importer, resolve)\r\n  );\r\n  if (!relativePathRE.test(newRawPattern)) {\r\n    newRawPattern = `./${newRawPattern}`;\r\n  }\r\n  const exp = `(import.meta.glob(${JSON.stringify(userPattern)}${params}))`;\r\n  return {\r\n    rawPattern: newRawPattern,\r\n    pattern: userPattern,\r\n    glob: exp\r\n  };\r\n}\r\nfunction dynamicImportVarsPlugin(config) {\r\n  const resolve = config.createResolver({\r\n    preferRelative: true,\r\n    tryIndex: false,\r\n    extensions: []\r\n  });\r\n  const { include, exclude, warnOnError } = config.build.dynamicImportVarsOptions;\r\n  const filter = createFilter(include, exclude);\r\n  return {\r\n    name: \"vite:dynamic-import-vars\",\r\n    resolveId(id) {\r\n      if (id === dynamicImportHelperId) {\r\n        return id;\r\n      }\r\n    },\r\n    load(id) {\r\n      if (id === dynamicImportHelperId) {\r\n        return \"export default \" + dynamicImportHelper.toString();\r\n      }\r\n    },\r\n    async transform(source, importer) {\r\n      if (!filter(importer) || importer === CLIENT_ENTRY || !hasDynamicImportRE.test(source)) {\r\n        return;\r\n      }\r\n      await init;\r\n      let imports = [];\r\n      try {\r\n        imports = parse$d(source)[0];\r\n      } catch (e) {\r\n        return null;\r\n      }\r\n      if (!imports.length) {\r\n        return null;\r\n      }\r\n      let s;\r\n      let needDynamicImportHelper = false;\r\n      for (let index = 0; index < imports.length; index++) {\r\n        const {\r\n          s: start,\r\n          e: end,\r\n          ss: expStart,\r\n          se: expEnd,\r\n          d: dynamicIndex\r\n        } = imports[index];\r\n        if (dynamicIndex === -1 || source[start] !== \"`\") {\r\n          continue;\r\n        }\r\n        if (hasViteIgnoreRE.test(source.slice(expStart, expEnd))) {\r\n          continue;\r\n        }\r\n        s ||= new MagicString(source);\r\n        let result;\r\n        try {\r\n          result = await transformDynamicImport(\r\n            source.slice(start, end),\r\n            importer,\r\n            resolve,\r\n            config.root\r\n          );\r\n        } catch (error) {\r\n          if (warnOnError) {\r\n            this.warn(error);\r\n          } else {\r\n            this.error(error);\r\n          }\r\n        }\r\n        if (!result) {\r\n          continue;\r\n        }\r\n        const { rawPattern, glob } = result;\r\n        needDynamicImportHelper = true;\r\n        s.overwrite(\r\n          expStart,\r\n          expEnd,\r\n          `__variableDynamicImportRuntimeHelper(${glob}, \\`${rawPattern}\\`, ${rawPattern.split(\"/\").length})`\r\n        );\r\n      }\r\n      if (s) {\r\n        if (needDynamicImportHelper) {\r\n          s.prepend(\r\n            `import __variableDynamicImportRuntimeHelper from \"${dynamicImportHelperId}\";`\r\n          );\r\n        }\r\n        return transformStableResult(s, importer, config);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nasync function resolvePlugins(config, prePlugins, normalPlugins, postPlugins) {\r\n  const isBuild = config.command === \"build\";\r\n  const isWorker = config.isWorker;\r\n  const buildPlugins = isBuild ? await (await Promise.resolve().then(function () { return build$1; })).resolveBuildPlugins(config) : { pre: [], post: [] };\r\n  const { modulePreload } = config.build;\r\n  const depsOptimizerEnabled = !isBuild && (isDepsOptimizerEnabled(config, false) || isDepsOptimizerEnabled(config, true));\r\n  return [\r\n    depsOptimizerEnabled ? optimizedDepsPlugin(config) : null,\r\n    isBuild ? metadataPlugin() : null,\r\n    !isWorker ? watchPackageDataPlugin(config.packageCache) : null,\r\n    preAliasPlugin(config),\r\n    alias$1({\r\n      entries: config.resolve.alias,\r\n      customResolver: viteAliasCustomResolver\r\n    }),\r\n    ...prePlugins,\r\n    modulePreload !== false && modulePreload.polyfill ? modulePreloadPolyfillPlugin(config) : null,\r\n    resolvePlugin({\r\n      ...config.resolve,\r\n      root: config.root,\r\n      isProduction: config.isProduction,\r\n      isBuild,\r\n      packageCache: config.packageCache,\r\n      ssrConfig: config.ssr,\r\n      asSrc: true,\r\n      fsUtils: getFsUtils(config),\r\n      getDepsOptimizer: isBuild ? void 0 : (ssr) => getDepsOptimizer(config, ssr),\r\n      shouldExternalize: isBuild && config.build.ssr ? (id, importer) => shouldExternalizeForSSR(id, importer, config) : void 0\r\n    }),\r\n    htmlInlineProxyPlugin(config),\r\n    cssPlugin(config),\r\n    config.esbuild !== false ? esbuildPlugin(config) : null,\r\n    jsonPlugin(\r\n      {\r\n        namedExports: true,\r\n        ...config.json\r\n      },\r\n      isBuild\r\n    ),\r\n    wasmHelperPlugin(config),\r\n    webWorkerPlugin(config),\r\n    assetPlugin(config),\r\n    ...normalPlugins,\r\n    wasmFallbackPlugin(),\r\n    definePlugin(config),\r\n    cssPostPlugin(config),\r\n    isBuild && buildHtmlPlugin(config),\r\n    workerImportMetaUrlPlugin(config),\r\n    assetImportMetaUrlPlugin(config),\r\n    ...buildPlugins.pre,\r\n    dynamicImportVarsPlugin(config),\r\n    importGlobPlugin(config),\r\n    ...postPlugins,\r\n    ...buildPlugins.post,\r\n    // internal server-only plugins are always applied after everything else\r\n    ...isBuild ? [] : [\r\n      clientInjectionsPlugin(config),\r\n      cssAnalysisPlugin(config),\r\n      importAnalysisPlugin(config)\r\n    ]\r\n  ].filter(Boolean);\r\n}\r\nfunction createPluginHookUtils(plugins) {\r\n  const sortedPluginsCache = /* @__PURE__ */ new Map();\r\n  function getSortedPlugins(hookName) {\r\n    if (sortedPluginsCache.has(hookName))\r\n      return sortedPluginsCache.get(hookName);\r\n    const sorted = getSortedPluginsByHook(hookName, plugins);\r\n    sortedPluginsCache.set(hookName, sorted);\r\n    return sorted;\r\n  }\r\n  function getSortedPluginHooks(hookName) {\r\n    const plugins2 = getSortedPlugins(hookName);\r\n    return plugins2.map((p) => getHookHandler(p[hookName])).filter(Boolean);\r\n  }\r\n  return {\r\n    getSortedPlugins,\r\n    getSortedPluginHooks\r\n  };\r\n}\r\nfunction getSortedPluginsByHook(hookName, plugins) {\r\n  const sortedPlugins = [];\r\n  let pre = 0, normal = 0, post = 0;\r\n  for (const plugin of plugins) {\r\n    const hook = plugin[hookName];\r\n    if (hook) {\r\n      if (typeof hook === \"object\") {\r\n        if (hook.order === \"pre\") {\r\n          sortedPlugins.splice(pre++, 0, plugin);\r\n          continue;\r\n        }\r\n        if (hook.order === \"post\") {\r\n          sortedPlugins.splice(pre + normal + post++, 0, plugin);\r\n          continue;\r\n        }\r\n      }\r\n      sortedPlugins.splice(pre + normal++, 0, plugin);\r\n    }\r\n  }\r\n  return sortedPlugins;\r\n}\r\nfunction getHookHandler(hook) {\r\n  return typeof hook === \"object\" ? hook.handler : hook;\r\n}\r\nconst viteAliasCustomResolver = async function(id, importer, options) {\r\n  const resolved = await this.resolve(id, importer, options);\r\n  return resolved || { id, meta: { \"vite:alias\": { noResolved: true } } };\r\n};\r\n\r\nfunction ansiRegex({onlyFirst = false} = {}) {\r\n\tconst pattern = [\r\n\t    '[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]+)*|[a-zA-Z\\\\d]+(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)',\r\n\t\t'(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-ntqry=><~]))'\r\n\t].join('|');\r\n\r\n\treturn new RegExp(pattern, onlyFirst ? undefined : 'g');\r\n}\r\n\r\nconst regex = ansiRegex();\r\n\r\nfunction stripAnsi(string) {\r\n\tif (typeof string !== 'string') {\r\n\t\tthrow new TypeError(`Expected a \\`string\\`, got \\`${typeof string}\\``);\r\n\t}\r\n\r\n\t// Even though the regex is global, we don't need to reset the `.lastIndex`\r\n\t// because unlike `.exec()` and `.test()`, `.replace()` does it automatically\r\n\t// and doing it manually has a performance penalty.\r\n\treturn string.replace(regex, '');\r\n}\r\n\r\nfunction prepareError(err) {\r\n  return {\r\n    message: stripAnsi(err.message),\r\n    stack: stripAnsi(cleanStack(err.stack || \"\")),\r\n    id: err.id,\r\n    frame: stripAnsi(err.frame || \"\"),\r\n    plugin: err.plugin,\r\n    pluginCode: err.pluginCode?.toString(),\r\n    loc: err.loc\r\n  };\r\n}\r\nfunction buildErrorMessage(err, args = [], includeStack = true) {\r\n  if (err.plugin) args.push(`  Plugin: ${colors$1.magenta(err.plugin)}`);\r\n  const loc = err.loc ? `:${err.loc.line}:${err.loc.column}` : \"\";\r\n  if (err.id) args.push(`  File: ${colors$1.cyan(err.id)}${loc}`);\r\n  if (err.frame) args.push(colors$1.yellow(pad$1(err.frame)));\r\n  if (includeStack && err.stack) args.push(pad$1(cleanStack(err.stack)));\r\n  return args.join(\"\\n\");\r\n}\r\nfunction cleanStack(stack) {\r\n  return stack.split(/\\n/).filter((l) => /^\\s*at/.test(l)).join(\"\\n\");\r\n}\r\nfunction logError(server, err) {\r\n  const msg = buildErrorMessage(err, [\r\n    colors$1.red(`Internal server error: ${err.message}`)\r\n  ]);\r\n  server.config.logger.error(msg, {\r\n    clear: true,\r\n    timestamp: true,\r\n    error: err\r\n  });\r\n  server.hot.send({\r\n    type: \"error\",\r\n    err: prepareError(err)\r\n  });\r\n}\r\nfunction errorMiddleware(server, allowNext = false) {\r\n  return function viteErrorMiddleware(err, _req, res, next) {\r\n    logError(server, err);\r\n    if (allowNext) {\r\n      next();\r\n    } else {\r\n      res.statusCode = 500;\r\n      res.end(`\r\n        <!DOCTYPE html>\r\n        <html lang=\"en\">\r\n          <head>\r\n            <meta charset=\"UTF-8\" />\r\n            <title>Error</title>\r\n            <script type=\"module\">\r\n              const error = ${JSON.stringify(prepareError(err)).replace(\r\n        /</g,\r\n        \"\\\\u003c\"\r\n      )}\r\n              try {\r\n                const { ErrorOverlay } = await import(${JSON.stringify(path$n.posix.join(server.config.base, CLIENT_PUBLIC_PATH))})\r\n                document.body.appendChild(new ErrorOverlay(error))\r\n              } catch {\r\n                const h = (tag, text) => {\r\n                  const el = document.createElement(tag)\r\n                  el.textContent = text\r\n                  return el\r\n                }\r\n                document.body.appendChild(h('h1', 'Internal Server Error'))\r\n                document.body.appendChild(h('h2', error.message))\r\n                document.body.appendChild(h('pre', error.stack))\r\n                document.body.appendChild(h('p', '(Error overlay failed to load)'))\r\n              }\r\n            <\\/script>\r\n          </head>\r\n          <body>\r\n          </body>\r\n        </html>\r\n      `);\r\n    }\r\n  };\r\n}\r\n\r\nconst noop$3 = () => {\r\n};\r\nconst EMPTY_OBJECT = Object.freeze({});\r\nconst debugSourcemapCombineFilter = process.env.DEBUG_VITE_SOURCEMAP_COMBINE_FILTER;\r\nconst debugSourcemapCombine = createDebugger(\"vite:sourcemap-combine\", {\r\n  onlyWhenFocused: true\r\n});\r\nconst debugResolve = createDebugger(\"vite:resolve\");\r\nconst debugPluginResolve = createDebugger(\"vite:plugin-resolve\", {\r\n  onlyWhenFocused: \"vite:plugin\"\r\n});\r\nconst debugPluginTransform = createDebugger(\"vite:plugin-transform\", {\r\n  onlyWhenFocused: \"vite:plugin\"\r\n});\r\nconst ERR_CLOSED_SERVER = \"ERR_CLOSED_SERVER\";\r\nfunction throwClosedServerError() {\r\n  const err = new Error(\r\n    \"The server is being restarted or closed. Request is outdated\"\r\n  );\r\n  err.code = ERR_CLOSED_SERVER;\r\n  throw err;\r\n}\r\nasync function createPluginContainer(config, moduleGraph, watcher) {\r\n  const container = new PluginContainer(config, moduleGraph, watcher);\r\n  await container.resolveRollupOptions();\r\n  return container;\r\n}\r\nclass PluginContainer {\r\n  /**\r\n   * @internal use `createPluginContainer` instead\r\n   */\r\n  constructor(config, moduleGraph, watcher, plugins = config.plugins) {\r\n    this.config = config;\r\n    this.moduleGraph = moduleGraph;\r\n    this.watcher = watcher;\r\n    this.plugins = plugins;\r\n    this.minimalContext = {\r\n      meta: {\r\n        rollupVersion,\r\n        watchMode: true\r\n      },\r\n      debug: noop$3,\r\n      info: noop$3,\r\n      warn: noop$3,\r\n      // @ts-expect-error noop\r\n      error: noop$3\r\n    };\r\n    const utils = createPluginHookUtils(plugins);\r\n    this.getSortedPlugins = utils.getSortedPlugins;\r\n    this.getSortedPluginHooks = utils.getSortedPluginHooks;\r\n  }\r\n  _pluginContextMap = /* @__PURE__ */ new Map();\r\n  _pluginContextMapSsr = /* @__PURE__ */ new Map();\r\n  _resolvedRollupOptions;\r\n  _processesing = /* @__PURE__ */ new Set();\r\n  _seenResolves = {};\r\n  _closed = false;\r\n  // _addedFiles from the `load()` hook gets saved here so it can be reused in the `transform()` hook\r\n  _moduleNodeToLoadAddedImports = /* @__PURE__ */ new WeakMap();\r\n  getSortedPluginHooks;\r\n  getSortedPlugins;\r\n  watchFiles = /* @__PURE__ */ new Set();\r\n  minimalContext;\r\n  _updateModuleLoadAddedImports(id, addedImports) {\r\n    const module = this.moduleGraph?.getModuleById(id);\r\n    if (module) {\r\n      this._moduleNodeToLoadAddedImports.set(module, addedImports);\r\n    }\r\n  }\r\n  _getAddedImports(id) {\r\n    const module = this.moduleGraph?.getModuleById(id);\r\n    return module ? this._moduleNodeToLoadAddedImports.get(module) || null : null;\r\n  }\r\n  getModuleInfo(id) {\r\n    const module = this.moduleGraph?.getModuleById(id);\r\n    if (!module) {\r\n      return null;\r\n    }\r\n    if (!module.info) {\r\n      module.info = new Proxy(\r\n        { id, meta: module.meta || EMPTY_OBJECT },\r\n        // throw when an unsupported ModuleInfo property is accessed,\r\n        // so that incompatible plugins fail in a non-cryptic way.\r\n        {\r\n          get(info, key) {\r\n            if (key in info) {\r\n              return info[key];\r\n            }\r\n            if (key === \"then\") {\r\n              return void 0;\r\n            }\r\n            throw Error(\r\n              `[vite] The \"${key}\" property of ModuleInfo is not supported.`\r\n            );\r\n          }\r\n        }\r\n      );\r\n    }\r\n    return module.info ?? null;\r\n  }\r\n  // keeps track of hook promises so that we can wait for them all to finish upon closing the server\r\n  handleHookPromise(maybePromise) {\r\n    if (!maybePromise?.then) {\r\n      return maybePromise;\r\n    }\r\n    const promise = maybePromise;\r\n    this._processesing.add(promise);\r\n    return promise.finally(() => this._processesing.delete(promise));\r\n  }\r\n  get options() {\r\n    return this._resolvedRollupOptions;\r\n  }\r\n  async resolveRollupOptions() {\r\n    if (!this._resolvedRollupOptions) {\r\n      let options = this.config.build.rollupOptions;\r\n      for (const optionsHook of this.getSortedPluginHooks(\"options\")) {\r\n        if (this._closed) {\r\n          throwClosedServerError();\r\n        }\r\n        options = await this.handleHookPromise(\r\n          optionsHook.call(this.minimalContext, options)\r\n        ) || options;\r\n      }\r\n      this._resolvedRollupOptions = options;\r\n    }\r\n    return this._resolvedRollupOptions;\r\n  }\r\n  _getPluginContext(plugin, ssr) {\r\n    const map = ssr ? this._pluginContextMapSsr : this._pluginContextMap;\r\n    if (!map.has(plugin)) {\r\n      const ctx = new PluginContext(plugin, this, ssr);\r\n      map.set(plugin, ctx);\r\n    }\r\n    return map.get(plugin);\r\n  }\r\n  // parallel, ignores returns\r\n  async hookParallel(hookName, context, args) {\r\n    const parallelPromises = [];\r\n    for (const plugin of this.getSortedPlugins(hookName)) {\r\n      const hook = plugin[hookName];\r\n      if (!hook) continue;\r\n      const handler = getHookHandler(hook);\r\n      if (hook.sequential) {\r\n        await Promise.all(parallelPromises);\r\n        parallelPromises.length = 0;\r\n        await handler.apply(context(plugin), args(plugin));\r\n      } else {\r\n        parallelPromises.push(handler.apply(context(plugin), args(plugin)));\r\n      }\r\n    }\r\n    await Promise.all(parallelPromises);\r\n  }\r\n  async buildStart(_options) {\r\n    await this.handleHookPromise(\r\n      this.hookParallel(\r\n        \"buildStart\",\r\n        (plugin) => this._getPluginContext(plugin, false),\r\n        () => [this.options]\r\n      )\r\n    );\r\n  }\r\n  async resolveId(rawId, importer = join$2(this.config.root, \"index.html\"), options) {\r\n    const skip = options?.skip;\r\n    const ssr = options?.ssr;\r\n    const scan = !!options?.scan;\r\n    const ctx = new ResolveIdContext(this, !!ssr, skip, scan);\r\n    const resolveStart = debugResolve ? performance$1.now() : 0;\r\n    let id = null;\r\n    const partial = {};\r\n    for (const plugin of this.getSortedPlugins(\"resolveId\")) {\r\n      if (this._closed && !ssr) throwClosedServerError();\r\n      if (!plugin.resolveId) continue;\r\n      if (skip?.has(plugin)) continue;\r\n      ctx._plugin = plugin;\r\n      const pluginResolveStart = debugPluginResolve ? performance$1.now() : 0;\r\n      const handler = getHookHandler(plugin.resolveId);\r\n      const result = await this.handleHookPromise(\r\n        handler.call(ctx, rawId, importer, {\r\n          attributes: options?.attributes ?? {},\r\n          custom: options?.custom,\r\n          isEntry: !!options?.isEntry,\r\n          ssr,\r\n          scan\r\n        })\r\n      );\r\n      if (!result) continue;\r\n      if (typeof result === \"string\") {\r\n        id = result;\r\n      } else {\r\n        id = result.id;\r\n        Object.assign(partial, result);\r\n      }\r\n      debugPluginResolve?.(\r\n        timeFrom(pluginResolveStart),\r\n        plugin.name,\r\n        prettifyUrl(id, this.config.root)\r\n      );\r\n      break;\r\n    }\r\n    if (debugResolve && rawId !== id && !rawId.startsWith(FS_PREFIX)) {\r\n      const key = rawId + id;\r\n      if (!this._seenResolves[key]) {\r\n        this._seenResolves[key] = true;\r\n        debugResolve(\r\n          `${timeFrom(resolveStart)} ${colors$1.cyan(rawId)} -> ${colors$1.dim(\r\n            id\r\n          )}`\r\n        );\r\n      }\r\n    }\r\n    if (id) {\r\n      partial.id = isExternalUrl(id) ? id : normalizePath$3(id);\r\n      return partial;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  async load(id, options) {\r\n    const ssr = options?.ssr;\r\n    const ctx = new LoadPluginContext(this, !!ssr);\r\n    for (const plugin of this.getSortedPlugins(\"load\")) {\r\n      if (this._closed && !ssr) throwClosedServerError();\r\n      if (!plugin.load) continue;\r\n      ctx._plugin = plugin;\r\n      const handler = getHookHandler(plugin.load);\r\n      const result = await this.handleHookPromise(\r\n        handler.call(ctx, id, { ssr })\r\n      );\r\n      if (result != null) {\r\n        if (isObject$1(result)) {\r\n          ctx._updateModuleInfo(id, result);\r\n        }\r\n        this._updateModuleLoadAddedImports(id, ctx._addedImports);\r\n        return result;\r\n      }\r\n    }\r\n    this._updateModuleLoadAddedImports(id, ctx._addedImports);\r\n    return null;\r\n  }\r\n  async transform(code, id, options) {\r\n    const inMap = options?.inMap;\r\n    const ssr = options?.ssr;\r\n    const ctx = new TransformPluginContext(\r\n      this,\r\n      id,\r\n      code,\r\n      inMap,\r\n      !!ssr\r\n    );\r\n    ctx._addedImports = this._getAddedImports(id);\r\n    for (const plugin of this.getSortedPlugins(\"transform\")) {\r\n      if (this._closed && !ssr) throwClosedServerError();\r\n      if (!plugin.transform) continue;\r\n      ctx._updateActiveInfo(plugin, id, code);\r\n      const start = debugPluginTransform ? performance$1.now() : 0;\r\n      let result;\r\n      const handler = getHookHandler(plugin.transform);\r\n      try {\r\n        result = await this.handleHookPromise(\r\n          handler.call(ctx, code, id, { ssr })\r\n        );\r\n      } catch (e) {\r\n        ctx.error(e);\r\n      }\r\n      if (!result) continue;\r\n      debugPluginTransform?.(\r\n        timeFrom(start),\r\n        plugin.name,\r\n        prettifyUrl(id, this.config.root)\r\n      );\r\n      if (isObject$1(result)) {\r\n        if (result.code !== void 0) {\r\n          code = result.code;\r\n          if (result.map) {\r\n            if (debugSourcemapCombine) {\r\n              result.map.name = plugin.name;\r\n            }\r\n            ctx.sourcemapChain.push(result.map);\r\n          }\r\n        }\r\n        ctx._updateModuleInfo(id, result);\r\n      } else {\r\n        code = result;\r\n      }\r\n    }\r\n    return {\r\n      code,\r\n      map: ctx._getCombinedSourcemap()\r\n    };\r\n  }\r\n  async watchChange(id, change) {\r\n    await this.hookParallel(\r\n      \"watchChange\",\r\n      (plugin) => this._getPluginContext(plugin, false),\r\n      () => [id, change]\r\n    );\r\n  }\r\n  async close() {\r\n    if (this._closed) return;\r\n    this._closed = true;\r\n    await Promise.allSettled(Array.from(this._processesing));\r\n    await this.hookParallel(\r\n      \"buildEnd\",\r\n      (plugin) => this._getPluginContext(plugin, false),\r\n      () => []\r\n    );\r\n    await this.hookParallel(\r\n      \"closeBundle\",\r\n      (plugin) => this._getPluginContext(plugin, false),\r\n      () => []\r\n    );\r\n  }\r\n}\r\nclass PluginContext {\r\n  constructor(_plugin, _container, ssr) {\r\n    this._plugin = _plugin;\r\n    this._container = _container;\r\n    this.ssr = ssr;\r\n    this.meta = this._container.minimalContext.meta;\r\n  }\r\n  _scan = false;\r\n  _resolveSkips;\r\n  _activeId = null;\r\n  _activeCode = null;\r\n  meta;\r\n  parse(code, opts) {\r\n    return parseAst(code, opts);\r\n  }\r\n  getModuleInfo(id) {\r\n    return this._container.getModuleInfo(id);\r\n  }\r\n  async resolve(id, importer, options) {\r\n    let skip;\r\n    if (options?.skipSelf !== false && this._plugin) {\r\n      skip = new Set(this._resolveSkips);\r\n      skip.add(this._plugin);\r\n    }\r\n    let out = await this._container.resolveId(id, importer, {\r\n      attributes: options?.attributes,\r\n      custom: options?.custom,\r\n      isEntry: !!options?.isEntry,\r\n      skip,\r\n      ssr: this.ssr,\r\n      scan: this._scan\r\n    });\r\n    if (typeof out === \"string\") out = { id: out };\r\n    return out;\r\n  }\r\n  async load(options) {\r\n    await this._container.moduleGraph?.ensureEntryFromUrl(\r\n      unwrapId$1(options.id),\r\n      this.ssr\r\n    );\r\n    this._updateModuleInfo(options.id, options);\r\n    const loadResult = await this._container.load(options.id, {\r\n      ssr: this.ssr\r\n    });\r\n    const code = typeof loadResult === \"object\" ? loadResult?.code : loadResult;\r\n    if (code != null) {\r\n      await this._container.transform(code, options.id, { ssr: this.ssr });\r\n    }\r\n    const moduleInfo = this.getModuleInfo(options.id);\r\n    if (!moduleInfo) throw Error(`Failed to load module with id ${options.id}`);\r\n    return moduleInfo;\r\n  }\r\n  _updateModuleInfo(id, { meta }) {\r\n    if (meta) {\r\n      const moduleInfo = this.getModuleInfo(id);\r\n      if (moduleInfo) {\r\n        moduleInfo.meta = { ...moduleInfo.meta, ...meta };\r\n      }\r\n    }\r\n  }\r\n  getModuleIds() {\r\n    return this._container.moduleGraph ? this._container.moduleGraph.idToModuleMap.keys() : Array.prototype[Symbol.iterator]();\r\n  }\r\n  addWatchFile(id) {\r\n    this._container.watchFiles.add(id);\r\n    if (this._container.watcher)\r\n      ensureWatchedFile(\r\n        this._container.watcher,\r\n        id,\r\n        this._container.config.root\r\n      );\r\n  }\r\n  getWatchFiles() {\r\n    return [...this._container.watchFiles];\r\n  }\r\n  emitFile(assetOrFile) {\r\n    this._warnIncompatibleMethod(`emitFile`);\r\n    return \"\";\r\n  }\r\n  setAssetSource() {\r\n    this._warnIncompatibleMethod(`setAssetSource`);\r\n  }\r\n  getFileName() {\r\n    this._warnIncompatibleMethod(`getFileName`);\r\n    return \"\";\r\n  }\r\n  warn(e, position) {\r\n    const err = this._formatError(typeof e === \"function\" ? e() : e, position);\r\n    const msg = buildErrorMessage(\r\n      err,\r\n      [colors$1.yellow(`warning: ${err.message}`)],\r\n      false\r\n    );\r\n    this._container.config.logger.warn(msg, {\r\n      clear: true,\r\n      timestamp: true\r\n    });\r\n  }\r\n  error(e, position) {\r\n    throw this._formatError(e, position);\r\n  }\r\n  debug = noop$3;\r\n  info = noop$3;\r\n  _formatError(e, position) {\r\n    const err = typeof e === \"string\" ? new Error(e) : e;\r\n    if (err.pluginCode) {\r\n      return err;\r\n    }\r\n    if (this._plugin) err.plugin = this._plugin.name;\r\n    if (this._activeId && !err.id) err.id = this._activeId;\r\n    if (this._activeCode) {\r\n      err.pluginCode = this._activeCode;\r\n      const pos = position ?? err.pos ?? err.position;\r\n      if (pos != null) {\r\n        let errLocation;\r\n        try {\r\n          errLocation = numberToPos(this._activeCode, pos);\r\n        } catch (err2) {\r\n          this._container.config.logger.error(\r\n            colors$1.red(\r\n              `Error in error handler:\r\n${err2.stack || err2.message}\r\n`\r\n            ),\r\n            // print extra newline to separate the two errors\r\n            { error: err2 }\r\n          );\r\n          throw err;\r\n        }\r\n        err.loc = err.loc || {\r\n          file: err.id,\r\n          ...errLocation\r\n        };\r\n        err.frame = err.frame || generateCodeFrame(this._activeCode, pos);\r\n      } else if (err.loc) {\r\n        if (!err.frame) {\r\n          let code = this._activeCode;\r\n          if (err.loc.file) {\r\n            err.id = normalizePath$3(err.loc.file);\r\n            try {\r\n              code = fs__default.readFileSync(err.loc.file, \"utf-8\");\r\n            } catch {\r\n            }\r\n          }\r\n          err.frame = generateCodeFrame(code, err.loc);\r\n        }\r\n      } else if (err.line && err.column) {\r\n        err.loc = {\r\n          file: err.id,\r\n          line: err.line,\r\n          column: err.column\r\n        };\r\n        err.frame = err.frame || generateCodeFrame(this._activeCode, err.loc);\r\n      }\r\n      if (this instanceof TransformPluginContext && typeof err.loc?.line === \"number\" && typeof err.loc?.column === \"number\") {\r\n        const rawSourceMap = this._getCombinedSourcemap();\r\n        if (rawSourceMap && \"version\" in rawSourceMap) {\r\n          const traced = new TraceMap(rawSourceMap);\r\n          const { source, line, column } = originalPositionFor$1(traced, {\r\n            line: Number(err.loc.line),\r\n            column: Number(err.loc.column)\r\n          });\r\n          if (source && line != null && column != null) {\r\n            err.loc = { file: source, line, column };\r\n          }\r\n        }\r\n      }\r\n    } else if (err.loc) {\r\n      if (!err.frame) {\r\n        let code = err.pluginCode;\r\n        if (err.loc.file) {\r\n          err.id = normalizePath$3(err.loc.file);\r\n          if (!code) {\r\n            try {\r\n              code = fs__default.readFileSync(err.loc.file, \"utf-8\");\r\n            } catch {\r\n            }\r\n          }\r\n        }\r\n        if (code) {\r\n          err.frame = generateCodeFrame(`${code}`, err.loc);\r\n        }\r\n      }\r\n    }\r\n    if (typeof err.loc?.column !== \"number\" && typeof err.loc?.line !== \"number\" && !err.loc?.file) {\r\n      delete err.loc;\r\n    }\r\n    return err;\r\n  }\r\n  _warnIncompatibleMethod(method) {\r\n    this._container.config.logger.warn(\r\n      colors$1.cyan(`[plugin:${this._plugin.name}] `) + colors$1.yellow(\r\n        `context method ${colors$1.bold(\r\n          `${method}()`\r\n        )} is not supported in serve mode. This plugin is likely not vite-compatible.`\r\n      )\r\n    );\r\n  }\r\n}\r\nclass ResolveIdContext extends PluginContext {\r\n  constructor(container, ssr, skip, scan) {\r\n    super(null, container, ssr);\r\n    this._resolveSkips = skip;\r\n    this._scan = scan;\r\n  }\r\n}\r\nclass LoadPluginContext extends PluginContext {\r\n  _addedImports = null;\r\n  constructor(container, ssr) {\r\n    super(null, container, ssr);\r\n  }\r\n  addWatchFile(id) {\r\n    if (!this._addedImports) {\r\n      this._addedImports = /* @__PURE__ */ new Set();\r\n    }\r\n    this._addedImports.add(id);\r\n    super.addWatchFile(id);\r\n  }\r\n}\r\nclass TransformPluginContext extends LoadPluginContext {\r\n  filename;\r\n  originalCode;\r\n  originalSourcemap = null;\r\n  sourcemapChain = [];\r\n  combinedMap = null;\r\n  constructor(container, id, code, inMap, ssr) {\r\n    super(container, ssr);\r\n    this.filename = id;\r\n    this.originalCode = code;\r\n    if (inMap) {\r\n      if (debugSourcemapCombine) {\r\n        inMap.name = \"$inMap\";\r\n      }\r\n      this.sourcemapChain.push(inMap);\r\n    }\r\n  }\r\n  _getCombinedSourcemap() {\r\n    if (debugSourcemapCombine && debugSourcemapCombineFilter && this.filename.includes(debugSourcemapCombineFilter)) {\r\n      debugSourcemapCombine(\"----------\", this.filename);\r\n      debugSourcemapCombine(this.combinedMap);\r\n      debugSourcemapCombine(this.sourcemapChain);\r\n      debugSourcemapCombine(\"----------\");\r\n    }\r\n    let combinedMap = this.combinedMap;\r\n    if (combinedMap && !(\"version\" in combinedMap) && combinedMap.mappings === \"\") {\r\n      this.sourcemapChain.length = 0;\r\n      return combinedMap;\r\n    }\r\n    for (let m of this.sourcemapChain) {\r\n      if (typeof m === \"string\") m = JSON.parse(m);\r\n      if (!(\"version\" in m)) {\r\n        if (m.mappings === \"\") {\r\n          combinedMap = { mappings: \"\" };\r\n          break;\r\n        }\r\n        combinedMap = null;\r\n        break;\r\n      }\r\n      if (!combinedMap) {\r\n        const sm = m;\r\n        if (sm.sources.length === 1 && !sm.sources[0]) {\r\n          combinedMap = {\r\n            ...sm,\r\n            sources: [this.filename],\r\n            sourcesContent: [this.originalCode]\r\n          };\r\n        } else {\r\n          combinedMap = sm;\r\n        }\r\n      } else {\r\n        combinedMap = combineSourcemaps(cleanUrl(this.filename), [\r\n          m,\r\n          combinedMap\r\n        ]);\r\n      }\r\n    }\r\n    if (combinedMap !== this.combinedMap) {\r\n      this.combinedMap = combinedMap;\r\n      this.sourcemapChain.length = 0;\r\n    }\r\n    return this.combinedMap;\r\n  }\r\n  getCombinedSourcemap() {\r\n    const map = this._getCombinedSourcemap();\r\n    if (!map || !(\"version\" in map) && map.mappings === \"\") {\r\n      return new MagicString(this.originalCode).generateMap({\r\n        includeContent: true,\r\n        hires: \"boundary\",\r\n        source: cleanUrl(this.filename)\r\n      });\r\n    }\r\n    return map;\r\n  }\r\n  _updateActiveInfo(plugin, id, code) {\r\n    this._plugin = plugin;\r\n    this._activeId = id;\r\n    this._activeCode = code;\r\n  }\r\n}\r\n\r\nconst debug$9 = createDebugger(\"vite:deps\");\r\nconst htmlTypesRE = /\\.(html|vue|svelte|astro|imba)$/;\r\nconst importsRE = /(?<!\\/\\/.*)(?<=^|;|\\*\\/)\\s*import(?!\\s+type)(?:[\\w*{}\\n\\r\\t, ]+from)?\\s*(\"[^\"]+\"|'[^']+')\\s*(?=$|;|\\/\\/|\\/\\*)/gm;\r\nfunction scanImports(config) {\r\n  const start = performance$1.now();\r\n  const deps = {};\r\n  const missing = {};\r\n  let entries;\r\n  const scanContext = { cancelled: false };\r\n  const esbuildContext = computeEntries(\r\n    config\r\n  ).then((computedEntries) => {\r\n    entries = computedEntries;\r\n    if (!entries.length) {\r\n      if (!config.optimizeDeps.entries && !config.optimizeDeps.include) {\r\n        config.logger.warn(\r\n          colors$1.yellow(\r\n            \"(!) Could not auto-determine entry point from rollupOptions or html files and there are no explicit optimizeDeps.include patterns. Skipping dependency pre-bundling.\"\r\n          )\r\n        );\r\n      }\r\n      return;\r\n    }\r\n    if (scanContext.cancelled) return;\r\n    debug$9?.(\r\n      `Crawling dependencies using entries: ${entries.map((entry) => `\r\n  ${colors$1.dim(entry)}`).join(\"\")}`\r\n    );\r\n    return prepareEsbuildScanner(config, entries, deps, missing, scanContext);\r\n  });\r\n  const result = esbuildContext.then((context) => {\r\n    function disposeContext() {\r\n      return context?.dispose().catch((e) => {\r\n        config.logger.error(\"Failed to dispose esbuild context\", { error: e });\r\n      });\r\n    }\r\n    if (!context || scanContext?.cancelled) {\r\n      disposeContext();\r\n      return { deps: {}, missing: {} };\r\n    }\r\n    return context.rebuild().then(() => {\r\n      return {\r\n        // Ensure a fixed order so hashes are stable and improve logs\r\n        deps: orderedDependencies(deps),\r\n        missing\r\n      };\r\n    }).finally(() => {\r\n      return disposeContext();\r\n    });\r\n  }).catch(async (e) => {\r\n    if (e.errors && e.message.includes(\"The build was canceled\")) {\r\n      return { deps: {}, missing: {} };\r\n    }\r\n    const prependMessage = colors$1.red(`  Failed to scan for dependencies from entries:\r\n  ${entries.join(\"\\n\")}\r\n\r\n  `);\r\n    if (e.errors) {\r\n      const msgs = await formatMessages(e.errors, {\r\n        kind: \"error\",\r\n        color: true\r\n      });\r\n      e.message = prependMessage + msgs.join(\"\\n\");\r\n    } else {\r\n      e.message = prependMessage + e.message;\r\n    }\r\n    throw e;\r\n  }).finally(() => {\r\n    if (debug$9) {\r\n      const duration = (performance$1.now() - start).toFixed(2);\r\n      const depsStr = Object.keys(orderedDependencies(deps)).sort().map((id) => `\r\n  ${colors$1.cyan(id)} -> ${colors$1.dim(deps[id])}`).join(\"\") || colors$1.dim(\"no dependencies found\");\r\n      debug$9(`Scan completed in ${duration}ms: ${depsStr}`);\r\n    }\r\n  });\r\n  return {\r\n    cancel: async () => {\r\n      scanContext.cancelled = true;\r\n      return esbuildContext.then((context) => context?.cancel());\r\n    },\r\n    result\r\n  };\r\n}\r\nasync function computeEntries(config) {\r\n  let entries = [];\r\n  const explicitEntryPatterns = config.optimizeDeps.entries;\r\n  const buildInput = config.build.rollupOptions?.input;\r\n  if (explicitEntryPatterns) {\r\n    entries = await globEntries(explicitEntryPatterns, config);\r\n  } else if (buildInput) {\r\n    const resolvePath = (p) => path$n.resolve(config.root, p);\r\n    if (typeof buildInput === \"string\") {\r\n      entries = [resolvePath(buildInput)];\r\n    } else if (Array.isArray(buildInput)) {\r\n      entries = buildInput.map(resolvePath);\r\n    } else if (isObject$1(buildInput)) {\r\n      entries = Object.values(buildInput).map(resolvePath);\r\n    } else {\r\n      throw new Error(\"invalid rollupOptions.input value.\");\r\n    }\r\n  } else {\r\n    entries = await globEntries(\"**/*.html\", config);\r\n  }\r\n  entries = entries.filter(\r\n    (entry) => isScannable(entry, config.optimizeDeps.extensions) && fs__default.existsSync(entry)\r\n  );\r\n  return entries;\r\n}\r\nasync function prepareEsbuildScanner(config, entries, deps, missing, scanContext) {\r\n  const container = await createPluginContainer(config);\r\n  if (scanContext?.cancelled) return;\r\n  const plugin = esbuildScanPlugin(config, container, deps, missing, entries);\r\n  const { plugins = [], ...esbuildOptions } = config.optimizeDeps?.esbuildOptions ?? {};\r\n  let tsconfigRaw = esbuildOptions.tsconfigRaw;\r\n  if (!tsconfigRaw && !esbuildOptions.tsconfig) {\r\n    const tsconfigResult = await loadTsconfigJsonForFile(\r\n      path$n.join(config.root, \"_dummy.js\")\r\n    );\r\n    if (tsconfigResult.compilerOptions?.experimentalDecorators) {\r\n      tsconfigRaw = { compilerOptions: { experimentalDecorators: true } };\r\n    }\r\n  }\r\n  return await esbuild.context({\r\n    absWorkingDir: process.cwd(),\r\n    write: false,\r\n    stdin: {\r\n      contents: entries.map((e) => `import ${JSON.stringify(e)}`).join(\"\\n\"),\r\n      loader: \"js\"\r\n    },\r\n    bundle: true,\r\n    format: \"esm\",\r\n    logLevel: \"silent\",\r\n    plugins: [...plugins, plugin],\r\n    ...esbuildOptions,\r\n    tsconfigRaw\r\n  });\r\n}\r\nfunction orderedDependencies(deps) {\r\n  const depsList = Object.entries(deps);\r\n  depsList.sort((a, b) => a[0].localeCompare(b[0]));\r\n  return Object.fromEntries(depsList);\r\n}\r\nfunction globEntries(pattern, config) {\r\n  const resolvedPatterns = arraify(pattern);\r\n  if (resolvedPatterns.every((str) => !glob.isDynamicPattern(str))) {\r\n    return resolvedPatterns.map(\r\n      (p) => normalizePath$3(path$n.resolve(config.root, p))\r\n    );\r\n  }\r\n  return glob(pattern, {\r\n    cwd: config.root,\r\n    ignore: [\r\n      \"**/node_modules/**\",\r\n      `**/${config.build.outDir}/**`,\r\n      // if there aren't explicit entries, also ignore other common folders\r\n      ...config.optimizeDeps.entries ? [] : [`**/__tests__/**`, `**/coverage/**`]\r\n    ],\r\n    absolute: true,\r\n    suppressErrors: true\r\n    // suppress EACCES errors\r\n  });\r\n}\r\nconst scriptRE = /(<script(?:\\s+[a-z_:][-\\w:]*(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\"'<>=\\s]+))?)*\\s*>)(.*?)<\\/script>/gis;\r\nconst commentRE = /<!--.*?-->/gs;\r\nconst srcRE = /\\bsrc\\s*=\\s*(?:\"([^\"]+)\"|'([^']+)'|([^\\s'\">]+))/i;\r\nconst typeRE = /\\btype\\s*=\\s*(?:\"([^\"]+)\"|'([^']+)'|([^\\s'\">]+))/i;\r\nconst langRE = /\\blang\\s*=\\s*(?:\"([^\"]+)\"|'([^']+)'|([^\\s'\">]+))/i;\r\nconst svelteScriptModuleRE = /\\bcontext\\s*=\\s*(?:\"([^\"]+)\"|'([^']+)'|([^\\s'\">]+))/i;\r\nconst svelteModuleRE = /\\smodule\\b/i;\r\nfunction esbuildScanPlugin(config, container, depImports, missing, entries) {\r\n  const seen = /* @__PURE__ */ new Map();\r\n  const resolve = async (id, importer, options) => {\r\n    const key = id + (importer && path$n.dirname(importer));\r\n    if (seen.has(key)) {\r\n      return seen.get(key);\r\n    }\r\n    const resolved = await container.resolveId(\r\n      id,\r\n      importer && normalizePath$3(importer),\r\n      {\r\n        ...options,\r\n        scan: true\r\n      }\r\n    );\r\n    const res = resolved?.id;\r\n    seen.set(key, res);\r\n    return res;\r\n  };\r\n  const include = config.optimizeDeps?.include;\r\n  const exclude = [\r\n    ...config.optimizeDeps?.exclude || [],\r\n    \"@vite/client\",\r\n    \"@vite/env\"\r\n  ];\r\n  const isUnlessEntry = (path2) => !entries.includes(path2);\r\n  const externalUnlessEntry = ({ path: path2 }) => ({\r\n    path: path2,\r\n    external: isUnlessEntry(path2)\r\n  });\r\n  const doTransformGlobImport = async (contents, id, loader) => {\r\n    let transpiledContents;\r\n    if (loader !== \"js\") {\r\n      transpiledContents = (await transform$1(contents, { loader })).code;\r\n    } else {\r\n      transpiledContents = contents;\r\n    }\r\n    const result = await transformGlobImport(\r\n      transpiledContents,\r\n      id,\r\n      config.root,\r\n      resolve\r\n    );\r\n    return result?.s.toString() || transpiledContents;\r\n  };\r\n  return {\r\n    name: \"vite:dep-scan\",\r\n    setup(build) {\r\n      const scripts = {};\r\n      build.onResolve({ filter: externalRE }, ({ path: path2 }) => ({\r\n        path: path2,\r\n        external: true\r\n      }));\r\n      build.onResolve({ filter: dataUrlRE }, ({ path: path2 }) => ({\r\n        path: path2,\r\n        external: true\r\n      }));\r\n      build.onResolve({ filter: virtualModuleRE }, ({ path: path2 }) => {\r\n        return {\r\n          // strip prefix to get valid filesystem path so esbuild can resolve imports in the file\r\n          path: path2.replace(virtualModulePrefix, \"\"),\r\n          namespace: \"script\"\r\n        };\r\n      });\r\n      build.onLoad({ filter: /.*/, namespace: \"script\" }, ({ path: path2 }) => {\r\n        return scripts[path2];\r\n      });\r\n      build.onResolve({ filter: htmlTypesRE }, async ({ path: path2, importer }) => {\r\n        const resolved = await resolve(path2, importer);\r\n        if (!resolved) return;\r\n        if (isInNodeModules$1(resolved) && isOptimizable(resolved, config.optimizeDeps))\r\n          return;\r\n        return {\r\n          path: resolved,\r\n          namespace: \"html\"\r\n        };\r\n      });\r\n      const htmlTypeOnLoadCallback = async ({ path: p }) => {\r\n        let raw = await fsp.readFile(p, \"utf-8\");\r\n        raw = raw.replace(commentRE, \"<!---->\");\r\n        const isHtml = p.endsWith(\".html\");\r\n        let js = \"\";\r\n        let scriptId = 0;\r\n        const matches = raw.matchAll(scriptRE);\r\n        for (const [, openTag, content] of matches) {\r\n          const typeMatch = typeRE.exec(openTag);\r\n          const type = typeMatch && (typeMatch[1] || typeMatch[2] || typeMatch[3]);\r\n          const langMatch = langRE.exec(openTag);\r\n          const lang = langMatch && (langMatch[1] || langMatch[2] || langMatch[3]);\r\n          if (isHtml && type !== \"module\") {\r\n            continue;\r\n          }\r\n          if (type && !(type.includes(\"javascript\") || type.includes(\"ecmascript\") || type === \"module\")) {\r\n            continue;\r\n          }\r\n          let loader = \"js\";\r\n          if (lang === \"ts\" || lang === \"tsx\" || lang === \"jsx\") {\r\n            loader = lang;\r\n          } else if (p.endsWith(\".astro\")) {\r\n            loader = \"ts\";\r\n          }\r\n          const srcMatch = srcRE.exec(openTag);\r\n          if (srcMatch) {\r\n            const src = srcMatch[1] || srcMatch[2] || srcMatch[3];\r\n            js += `import ${JSON.stringify(src)}\r\n`;\r\n          } else if (content.trim()) {\r\n            const contents = content + (loader.startsWith(\"ts\") ? extractImportPaths(content) : \"\");\r\n            const key = `${p}?id=${scriptId++}`;\r\n            if (contents.includes(\"import.meta.glob\")) {\r\n              scripts[key] = {\r\n                loader: \"js\",\r\n                // since it is transpiled\r\n                contents: await doTransformGlobImport(contents, p, loader),\r\n                resolveDir: normalizePath$3(path$n.dirname(p)),\r\n                pluginData: {\r\n                  htmlType: { loader }\r\n                }\r\n              };\r\n            } else {\r\n              scripts[key] = {\r\n                loader,\r\n                contents,\r\n                resolveDir: normalizePath$3(path$n.dirname(p)),\r\n                pluginData: {\r\n                  htmlType: { loader }\r\n                }\r\n              };\r\n            }\r\n            const virtualModulePath = JSON.stringify(virtualModulePrefix + key);\r\n            let addedImport = false;\r\n            if (p.endsWith(\".svelte\")) {\r\n              let isModule = svelteModuleRE.test(openTag);\r\n              if (!isModule) {\r\n                const contextMatch = svelteScriptModuleRE.exec(openTag);\r\n                const context = contextMatch && (contextMatch[1] || contextMatch[2] || contextMatch[3]);\r\n                isModule = context === \"module\";\r\n              }\r\n              if (!isModule) {\r\n                addedImport = true;\r\n                js += `import ${virtualModulePath}\r\n`;\r\n              }\r\n            }\r\n            if (!addedImport) {\r\n              js += `export * from ${virtualModulePath}\r\n`;\r\n            }\r\n          }\r\n        }\r\n        if (!p.endsWith(\".vue\") || !js.includes(\"export default\")) {\r\n          js += \"\\nexport default {}\";\r\n        }\r\n        return {\r\n          loader: \"js\",\r\n          contents: js\r\n        };\r\n      };\r\n      build.onLoad(\r\n        { filter: htmlTypesRE, namespace: \"html\" },\r\n        htmlTypeOnLoadCallback\r\n      );\r\n      build.onLoad(\r\n        { filter: htmlTypesRE, namespace: \"file\" },\r\n        htmlTypeOnLoadCallback\r\n      );\r\n      build.onResolve(\r\n        {\r\n          // avoid matching windows volume\r\n          filter: /^[\\w@][^:]/\r\n        },\r\n        async ({ path: id, importer, pluginData }) => {\r\n          if (moduleListContains(exclude, id)) {\r\n            return externalUnlessEntry({ path: id });\r\n          }\r\n          if (depImports[id]) {\r\n            return externalUnlessEntry({ path: id });\r\n          }\r\n          const resolved = await resolve(id, importer, {\r\n            custom: {\r\n              depScan: { loader: pluginData?.htmlType?.loader }\r\n            }\r\n          });\r\n          if (resolved) {\r\n            if (shouldExternalizeDep(resolved, id)) {\r\n              return externalUnlessEntry({ path: id });\r\n            }\r\n            if (isInNodeModules$1(resolved) || include?.includes(id)) {\r\n              if (isOptimizable(resolved, config.optimizeDeps)) {\r\n                depImports[id] = resolved;\r\n              }\r\n              return externalUnlessEntry({ path: id });\r\n            } else if (isScannable(resolved, config.optimizeDeps.extensions)) {\r\n              const namespace = htmlTypesRE.test(resolved) ? \"html\" : void 0;\r\n              return {\r\n                path: path$n.resolve(resolved),\r\n                namespace\r\n              };\r\n            } else {\r\n              return externalUnlessEntry({ path: id });\r\n            }\r\n          } else {\r\n            missing[id] = normalizePath$3(importer);\r\n          }\r\n        }\r\n      );\r\n      const setupExternalize = (filter, doExternalize) => {\r\n        build.onResolve({ filter }, ({ path: path2 }) => {\r\n          return {\r\n            path: path2,\r\n            external: doExternalize(path2)\r\n          };\r\n        });\r\n      };\r\n      setupExternalize(CSS_LANGS_RE, isUnlessEntry);\r\n      setupExternalize(/\\.(json|json5|wasm)$/, isUnlessEntry);\r\n      setupExternalize(\r\n        new RegExp(`\\\\.(${KNOWN_ASSET_TYPES.join(\"|\")})$`),\r\n        isUnlessEntry\r\n      );\r\n      setupExternalize(SPECIAL_QUERY_RE, () => true);\r\n      build.onResolve(\r\n        {\r\n          filter: /.*/\r\n        },\r\n        async ({ path: id, importer, pluginData }) => {\r\n          const resolved = await resolve(id, importer, {\r\n            custom: {\r\n              depScan: { loader: pluginData?.htmlType?.loader }\r\n            }\r\n          });\r\n          if (resolved) {\r\n            if (shouldExternalizeDep(resolved, id) || !isScannable(resolved, config.optimizeDeps.extensions)) {\r\n              return externalUnlessEntry({ path: id });\r\n            }\r\n            const namespace = htmlTypesRE.test(resolved) ? \"html\" : void 0;\r\n            return {\r\n              path: path$n.resolve(cleanUrl(resolved)),\r\n              namespace\r\n            };\r\n          } else {\r\n            return externalUnlessEntry({ path: id });\r\n          }\r\n        }\r\n      );\r\n      build.onLoad({ filter: JS_TYPES_RE }, async ({ path: id }) => {\r\n        let ext = path$n.extname(id).slice(1);\r\n        if (ext === \"mjs\") ext = \"js\";\r\n        let contents = await fsp.readFile(id, \"utf-8\");\r\n        if (ext.endsWith(\"x\") && config.esbuild && config.esbuild.jsxInject) {\r\n          contents = config.esbuild.jsxInject + `\r\n` + contents;\r\n        }\r\n        const loader = config.optimizeDeps?.esbuildOptions?.loader?.[`.${ext}`] || ext;\r\n        if (contents.includes(\"import.meta.glob\")) {\r\n          return {\r\n            loader: \"js\",\r\n            // since it is transpiled,\r\n            contents: await doTransformGlobImport(contents, id, loader)\r\n          };\r\n        }\r\n        return {\r\n          loader,\r\n          contents\r\n        };\r\n      });\r\n      build.onLoad({ filter: /.*/, namespace: \"file\" }, () => {\r\n        return {\r\n          loader: \"js\",\r\n          contents: \"export default {}\"\r\n        };\r\n      });\r\n    }\r\n  };\r\n}\r\nfunction extractImportPaths(code) {\r\n  code = code.replace(multilineCommentsRE, \"/* */\").replace(singlelineCommentsRE, \"\");\r\n  let js = \"\";\r\n  let m;\r\n  importsRE.lastIndex = 0;\r\n  while ((m = importsRE.exec(code)) != null) {\r\n    js += `\r\nimport ${m[1]}`;\r\n  }\r\n  return js;\r\n}\r\nfunction shouldExternalizeDep(resolvedId, rawId) {\r\n  if (!path$n.isAbsolute(resolvedId)) {\r\n    return true;\r\n  }\r\n  if (resolvedId === rawId || resolvedId.includes(\"\\0\")) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nfunction isScannable(id, extensions) {\r\n  return JS_TYPES_RE.test(id) || htmlTypesRE.test(id) || extensions?.includes(path$n.extname(id)) || false;\r\n}\r\n\r\nfunction createOptimizeDepsIncludeResolver(config, ssr) {\r\n  const resolve = config.createResolver({\r\n    asSrc: false,\r\n    scan: true,\r\n    ssrOptimizeCheck: ssr,\r\n    ssrConfig: config.ssr,\r\n    packageCache: /* @__PURE__ */ new Map()\r\n  });\r\n  return async (id) => {\r\n    const lastArrowIndex = id.lastIndexOf(\">\");\r\n    if (lastArrowIndex === -1) {\r\n      return await resolve(id, void 0, void 0, ssr);\r\n    }\r\n    const nestedRoot = id.substring(0, lastArrowIndex).trim();\r\n    const nestedPath = id.substring(lastArrowIndex + 1).trim();\r\n    const basedir = nestedResolveBasedir(\r\n      nestedRoot,\r\n      config.root,\r\n      config.resolve.preserveSymlinks\r\n    );\r\n    return await resolve(\r\n      nestedPath,\r\n      path$n.resolve(basedir, \"package.json\"),\r\n      void 0,\r\n      ssr\r\n    );\r\n  };\r\n}\r\nfunction expandGlobIds(id, config) {\r\n  const pkgName = getNpmPackageName(id);\r\n  if (!pkgName) return [];\r\n  const pkgData = resolvePackageData(\r\n    pkgName,\r\n    config.root,\r\n    config.resolve.preserveSymlinks,\r\n    config.packageCache\r\n  );\r\n  if (!pkgData) return [];\r\n  const pattern = \".\" + id.slice(pkgName.length);\r\n  const exports = pkgData.data.exports;\r\n  if (exports) {\r\n    if (typeof exports === \"string\" || Array.isArray(exports)) {\r\n      return [pkgName];\r\n    }\r\n    const possibleExportPaths = [];\r\n    for (const key in exports) {\r\n      if (key[0] === \".\") {\r\n        if (key.includes(\"*\")) {\r\n          const exportsValue = getFirstExportStringValue(exports[key]);\r\n          if (!exportsValue) continue;\r\n          const exportValuePattern = exportsValue.replace(/\\*/g, \"**/*\");\r\n          const exportsValueGlobRe = new RegExp(\r\n            exportsValue.split(\"*\").map(escapeRegex).join(\"(.*)\")\r\n          );\r\n          possibleExportPaths.push(\r\n            ...glob.sync(exportValuePattern, {\r\n              cwd: pkgData.dir,\r\n              ignore: [\"node_modules\"]\r\n            }).map((filePath) => {\r\n              if (exportsValue.startsWith(\"./\") && !filePath.startsWith(\"./\")) {\r\n                filePath = \"./\" + filePath;\r\n              }\r\n              const matched2 = exportsValueGlobRe.exec(slash$1(filePath));\r\n              if (matched2) {\r\n                let allGlobSame = matched2.length === 2;\r\n                if (!allGlobSame) {\r\n                  allGlobSame = true;\r\n                  for (let i = 2; i < matched2.length; i++) {\r\n                    if (matched2[i] !== matched2[i - 1]) {\r\n                      allGlobSame = false;\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n                if (allGlobSame) {\r\n                  return key.replace(\"*\", matched2[1]).slice(2);\r\n                }\r\n              }\r\n              return \"\";\r\n            }).filter(Boolean)\r\n          );\r\n        } else {\r\n          possibleExportPaths.push(key.slice(2));\r\n        }\r\n      }\r\n    }\r\n    const matched = micromatch$2(possibleExportPaths, pattern).map(\r\n      (match) => path$n.posix.join(pkgName, match)\r\n    );\r\n    matched.unshift(pkgName);\r\n    return matched;\r\n  } else {\r\n    const matched = glob.sync(pattern, { cwd: pkgData.dir, ignore: [\"node_modules\"] }).map((match) => path$n.posix.join(pkgName, slash$1(match)));\r\n    matched.unshift(pkgName);\r\n    return matched;\r\n  }\r\n}\r\nfunction getFirstExportStringValue(obj) {\r\n  if (typeof obj === \"string\") {\r\n    return obj;\r\n  } else if (Array.isArray(obj)) {\r\n    return obj[0];\r\n  } else {\r\n    for (const key in obj) {\r\n      return getFirstExportStringValue(obj[key]);\r\n    }\r\n  }\r\n}\r\nfunction nestedResolveBasedir(id, basedir, preserveSymlinks = false) {\r\n  const pkgs = id.split(\">\").map((pkg) => pkg.trim());\r\n  for (const pkg of pkgs) {\r\n    basedir = resolvePackageData(pkg, basedir, preserveSymlinks)?.dir || basedir;\r\n  }\r\n  return basedir;\r\n}\r\n\r\nconst debug$8 = createDebugger(\"vite:deps\");\r\nconst debounceMs = 100;\r\nconst depsOptimizerMap = /* @__PURE__ */ new WeakMap();\r\nconst devSsrDepsOptimizerMap = /* @__PURE__ */ new WeakMap();\r\nfunction getDepsOptimizer(config, ssr) {\r\n  return (ssr ? devSsrDepsOptimizerMap : depsOptimizerMap).get(config);\r\n}\r\nasync function initDepsOptimizer(config, server) {\r\n  if (!getDepsOptimizer(config, false)) {\r\n    await createDepsOptimizer(config, server);\r\n  }\r\n}\r\nlet creatingDevSsrOptimizer;\r\nasync function initDevSsrDepsOptimizer(config, server) {\r\n  if (getDepsOptimizer(config, true)) {\r\n    return;\r\n  }\r\n  if (creatingDevSsrOptimizer) {\r\n    return creatingDevSsrOptimizer;\r\n  }\r\n  creatingDevSsrOptimizer = async function() {\r\n    const ssr = false;\r\n    if (!getDepsOptimizer(config, ssr)) {\r\n      await initDepsOptimizer(config, server);\r\n    }\r\n    await getDepsOptimizer(config, ssr).scanProcessing;\r\n    await createDevSsrDepsOptimizer(config);\r\n    creatingDevSsrOptimizer = void 0;\r\n  }();\r\n  return await creatingDevSsrOptimizer;\r\n}\r\nasync function createDepsOptimizer(config, server) {\r\n  const { logger } = config;\r\n  const ssr = false;\r\n  const sessionTimestamp = Date.now().toString();\r\n  const cachedMetadata = await loadCachedDepOptimizationMetadata(config, ssr);\r\n  let debounceProcessingHandle;\r\n  let closed = false;\r\n  let metadata = cachedMetadata || initDepsOptimizerMetadata(config, ssr, sessionTimestamp);\r\n  const options = getDepOptimizationConfig(config, ssr);\r\n  const { noDiscovery, holdUntilCrawlEnd } = options;\r\n  const depsOptimizer = {\r\n    metadata,\r\n    registerMissingImport,\r\n    run: () => debouncedProcessing(0),\r\n    isOptimizedDepFile: createIsOptimizedDepFile(config),\r\n    isOptimizedDepUrl: createIsOptimizedDepUrl(config),\r\n    getOptimizedDepId: (depInfo) => `${depInfo.file}?v=${depInfo.browserHash}`,\r\n    close,\r\n    options\r\n  };\r\n  depsOptimizerMap.set(config, depsOptimizer);\r\n  let newDepsDiscovered = false;\r\n  let newDepsToLog = [];\r\n  let newDepsToLogHandle;\r\n  const logNewlyDiscoveredDeps = () => {\r\n    if (newDepsToLog.length) {\r\n      logger.info(\r\n        colors$1.green(\r\n          `\\u2728 new dependencies optimized: ${depsLogString(newDepsToLog)}`\r\n        ),\r\n        {\r\n          timestamp: true\r\n        }\r\n      );\r\n      newDepsToLog = [];\r\n    }\r\n  };\r\n  let discoveredDepsWhileScanning = [];\r\n  const logDiscoveredDepsWhileScanning = () => {\r\n    if (discoveredDepsWhileScanning.length) {\r\n      logger.info(\r\n        colors$1.green(\r\n          `\\u2728 discovered while scanning: ${depsLogString(\r\n            discoveredDepsWhileScanning\r\n          )}`\r\n        ),\r\n        {\r\n          timestamp: true\r\n        }\r\n      );\r\n      discoveredDepsWhileScanning = [];\r\n    }\r\n  };\r\n  let depOptimizationProcessing = promiseWithResolvers();\r\n  let depOptimizationProcessingQueue = [];\r\n  const resolveEnqueuedProcessingPromises = () => {\r\n    for (const processing of depOptimizationProcessingQueue) {\r\n      processing.resolve();\r\n    }\r\n    depOptimizationProcessingQueue = [];\r\n  };\r\n  let enqueuedRerun;\r\n  let currentlyProcessing = false;\r\n  let firstRunCalled = !!cachedMetadata;\r\n  let warnAboutMissedDependencies = false;\r\n  let waitingForCrawlEnd = false;\r\n  if (!cachedMetadata) {\r\n    server._onCrawlEnd(onCrawlEnd);\r\n    waitingForCrawlEnd = true;\r\n  }\r\n  let optimizationResult;\r\n  let discover;\r\n  async function close() {\r\n    closed = true;\r\n    await Promise.allSettled([\r\n      discover?.cancel(),\r\n      depsOptimizer.scanProcessing,\r\n      optimizationResult?.cancel()\r\n    ]);\r\n  }\r\n  if (!cachedMetadata) {\r\n    currentlyProcessing = true;\r\n    const manuallyIncludedDeps = {};\r\n    await addManuallyIncludedOptimizeDeps(manuallyIncludedDeps, config, ssr);\r\n    const manuallyIncludedDepsInfo = toDiscoveredDependencies(\r\n      config,\r\n      manuallyIncludedDeps,\r\n      ssr,\r\n      sessionTimestamp\r\n    );\r\n    for (const depInfo of Object.values(manuallyIncludedDepsInfo)) {\r\n      addOptimizedDepInfo(metadata, \"discovered\", {\r\n        ...depInfo,\r\n        processing: depOptimizationProcessing.promise\r\n      });\r\n      newDepsDiscovered = true;\r\n    }\r\n    if (noDiscovery) {\r\n      runOptimizer();\r\n    } else {\r\n      depsOptimizer.scanProcessing = new Promise((resolve) => {\r\n        (async () => {\r\n          try {\r\n            debug$8?.(colors$1.green(`scanning for dependencies...`));\r\n            discover = discoverProjectDependencies(config);\r\n            const deps = await discover.result;\r\n            discover = void 0;\r\n            const manuallyIncluded = Object.keys(manuallyIncludedDepsInfo);\r\n            discoveredDepsWhileScanning.push(\r\n              ...Object.keys(metadata.discovered).filter(\r\n                (dep) => !deps[dep] && !manuallyIncluded.includes(dep)\r\n              )\r\n            );\r\n            for (const id of Object.keys(deps)) {\r\n              if (!metadata.discovered[id]) {\r\n                addMissingDep(id, deps[id]);\r\n              }\r\n            }\r\n            const knownDeps = prepareKnownDeps();\r\n            startNextDiscoveredBatch();\r\n            optimizationResult = runOptimizeDeps(config, knownDeps, ssr);\r\n            if (!holdUntilCrawlEnd) {\r\n              optimizationResult.result.then((result) => {\r\n                if (!waitingForCrawlEnd) return;\r\n                optimizationResult = void 0;\r\n                runOptimizer(result);\r\n              });\r\n            }\r\n          } catch (e) {\r\n            logger.error(e.stack || e.message);\r\n          } finally {\r\n            resolve();\r\n            depsOptimizer.scanProcessing = void 0;\r\n          }\r\n        })();\r\n      });\r\n    }\r\n  }\r\n  function startNextDiscoveredBatch() {\r\n    newDepsDiscovered = false;\r\n    depOptimizationProcessingQueue.push(depOptimizationProcessing);\r\n    depOptimizationProcessing = promiseWithResolvers();\r\n  }\r\n  function prepareKnownDeps() {\r\n    const knownDeps = {};\r\n    for (const dep of Object.keys(metadata.optimized)) {\r\n      knownDeps[dep] = { ...metadata.optimized[dep] };\r\n    }\r\n    for (const dep of Object.keys(metadata.discovered)) {\r\n      const { processing, ...info } = metadata.discovered[dep];\r\n      knownDeps[dep] = info;\r\n    }\r\n    return knownDeps;\r\n  }\r\n  async function runOptimizer(preRunResult) {\r\n    const isRerun = firstRunCalled;\r\n    firstRunCalled = true;\r\n    enqueuedRerun = void 0;\r\n    if (debounceProcessingHandle) clearTimeout(debounceProcessingHandle);\r\n    if (closed) {\r\n      currentlyProcessing = false;\r\n      return;\r\n    }\r\n    currentlyProcessing = true;\r\n    try {\r\n      let processingResult;\r\n      if (preRunResult) {\r\n        processingResult = preRunResult;\r\n      } else {\r\n        const knownDeps = prepareKnownDeps();\r\n        startNextDiscoveredBatch();\r\n        optimizationResult = runOptimizeDeps(config, knownDeps, ssr);\r\n        processingResult = await optimizationResult.result;\r\n        optimizationResult = void 0;\r\n      }\r\n      if (closed) {\r\n        currentlyProcessing = false;\r\n        processingResult.cancel();\r\n        resolveEnqueuedProcessingPromises();\r\n        return;\r\n      }\r\n      const newData = processingResult.metadata;\r\n      const needsInteropMismatch = findInteropMismatches(\r\n        metadata.discovered,\r\n        newData.optimized\r\n      );\r\n      const needsReload = needsInteropMismatch.length > 0 || metadata.hash !== newData.hash || Object.keys(metadata.optimized).some((dep) => {\r\n        return metadata.optimized[dep].fileHash !== newData.optimized[dep].fileHash;\r\n      });\r\n      const commitProcessing = async () => {\r\n        await processingResult.commit();\r\n        for (const id in metadata.discovered) {\r\n          if (!newData.optimized[id]) {\r\n            addOptimizedDepInfo(newData, \"discovered\", metadata.discovered[id]);\r\n          }\r\n        }\r\n        if (!needsReload) {\r\n          newData.browserHash = metadata.browserHash;\r\n          for (const dep in newData.chunks) {\r\n            newData.chunks[dep].browserHash = metadata.browserHash;\r\n          }\r\n          for (const dep in newData.optimized) {\r\n            newData.optimized[dep].browserHash = (metadata.optimized[dep] || metadata.discovered[dep]).browserHash;\r\n          }\r\n        }\r\n        for (const o in newData.optimized) {\r\n          const discovered = metadata.discovered[o];\r\n          if (discovered) {\r\n            const optimized = newData.optimized[o];\r\n            discovered.browserHash = optimized.browserHash;\r\n            discovered.fileHash = optimized.fileHash;\r\n            discovered.needsInterop = optimized.needsInterop;\r\n            discovered.processing = void 0;\r\n          }\r\n        }\r\n        if (isRerun) {\r\n          newDepsToLog.push(\r\n            ...Object.keys(newData.optimized).filter(\r\n              (dep) => !metadata.optimized[dep]\r\n            )\r\n          );\r\n        }\r\n        metadata = depsOptimizer.metadata = newData;\r\n        resolveEnqueuedProcessingPromises();\r\n      };\r\n      if (!needsReload) {\r\n        await commitProcessing();\r\n        if (!debug$8) {\r\n          if (newDepsToLogHandle) clearTimeout(newDepsToLogHandle);\r\n          newDepsToLogHandle = setTimeout(() => {\r\n            newDepsToLogHandle = void 0;\r\n            logNewlyDiscoveredDeps();\r\n            if (warnAboutMissedDependencies) {\r\n              logDiscoveredDepsWhileScanning();\r\n              logger.info(\r\n                colors$1.magenta(\r\n                  `\\u2757 add these dependencies to optimizeDeps.include to speed up cold start`\r\n                ),\r\n                { timestamp: true }\r\n              );\r\n              warnAboutMissedDependencies = false;\r\n            }\r\n          }, 2 * debounceMs);\r\n        } else {\r\n          debug$8(\r\n            colors$1.green(\r\n              `\\u2728 ${!isRerun ? `dependencies optimized` : `optimized dependencies unchanged`}`\r\n            )\r\n          );\r\n        }\r\n      } else {\r\n        if (newDepsDiscovered) {\r\n          processingResult.cancel();\r\n          debug$8?.(\r\n            colors$1.green(\r\n              `\\u2728 delaying reload as new dependencies have been found...`\r\n            )\r\n          );\r\n        } else {\r\n          await commitProcessing();\r\n          if (!debug$8) {\r\n            if (newDepsToLogHandle) clearTimeout(newDepsToLogHandle);\r\n            newDepsToLogHandle = void 0;\r\n            logNewlyDiscoveredDeps();\r\n            if (warnAboutMissedDependencies) {\r\n              logDiscoveredDepsWhileScanning();\r\n              logger.info(\r\n                colors$1.magenta(\r\n                  `\\u2757 add these dependencies to optimizeDeps.include to avoid a full page reload during cold start`\r\n                ),\r\n                { timestamp: true }\r\n              );\r\n              warnAboutMissedDependencies = false;\r\n            }\r\n          }\r\n          logger.info(\r\n            colors$1.green(`\\u2728 optimized dependencies changed. reloading`),\r\n            {\r\n              timestamp: true\r\n            }\r\n          );\r\n          if (needsInteropMismatch.length > 0) {\r\n            logger.warn(\r\n              `Mixed ESM and CJS detected in ${colors$1.yellow(\r\n                needsInteropMismatch.join(\", \")\r\n              )}, add ${needsInteropMismatch.length === 1 ? \"it\" : \"them\"} to optimizeDeps.needsInterop to speed up cold start`,\r\n              {\r\n                timestamp: true\r\n              }\r\n            );\r\n          }\r\n          fullReload();\r\n        }\r\n      }\r\n    } catch (e) {\r\n      logger.error(\r\n        colors$1.red(`error while updating dependencies:\r\n${e.stack}`),\r\n        { timestamp: true, error: e }\r\n      );\r\n      resolveEnqueuedProcessingPromises();\r\n      metadata.discovered = {};\r\n    }\r\n    currentlyProcessing = false;\r\n    enqueuedRerun?.();\r\n  }\r\n  function fullReload() {\r\n    server.moduleGraph.invalidateAll();\r\n    server.hot.send({\r\n      type: \"full-reload\",\r\n      path: \"*\"\r\n    });\r\n  }\r\n  async function rerun() {\r\n    const deps = Object.keys(metadata.discovered);\r\n    const depsString = depsLogString(deps);\r\n    debug$8?.(colors$1.green(`new dependencies found: ${depsString}`));\r\n    runOptimizer();\r\n  }\r\n  function getDiscoveredBrowserHash(hash, deps, missing) {\r\n    return getHash(\r\n      hash + JSON.stringify(deps) + JSON.stringify(missing) + sessionTimestamp\r\n    );\r\n  }\r\n  function registerMissingImport(id, resolved) {\r\n    const optimized = metadata.optimized[id];\r\n    if (optimized) {\r\n      return optimized;\r\n    }\r\n    const chunk = metadata.chunks[id];\r\n    if (chunk) {\r\n      return chunk;\r\n    }\r\n    let missing = metadata.discovered[id];\r\n    if (missing) {\r\n      return missing;\r\n    }\r\n    missing = addMissingDep(id, resolved);\r\n    if (!waitingForCrawlEnd) {\r\n      debouncedProcessing();\r\n    }\r\n    return missing;\r\n  }\r\n  function addMissingDep(id, resolved) {\r\n    newDepsDiscovered = true;\r\n    return addOptimizedDepInfo(metadata, \"discovered\", {\r\n      id,\r\n      file: getOptimizedDepPath(id, config, ssr),\r\n      src: resolved,\r\n      // Adding a browserHash to this missing dependency that is unique to\r\n      // the current state of known + missing deps. If its optimizeDeps run\r\n      // doesn't alter the bundled files of previous known dependencies,\r\n      // we don't need a full reload and this browserHash will be kept\r\n      browserHash: getDiscoveredBrowserHash(\r\n        metadata.hash,\r\n        depsFromOptimizedDepInfo(metadata.optimized),\r\n        depsFromOptimizedDepInfo(metadata.discovered)\r\n      ),\r\n      // loading of this pre-bundled dep needs to await for its processing\r\n      // promise to be resolved\r\n      processing: depOptimizationProcessing.promise,\r\n      exportsData: extractExportsData(resolved, config, ssr)\r\n    });\r\n  }\r\n  function debouncedProcessing(timeout = debounceMs) {\r\n    enqueuedRerun = void 0;\r\n    if (debounceProcessingHandle) clearTimeout(debounceProcessingHandle);\r\n    if (newDepsToLogHandle) clearTimeout(newDepsToLogHandle);\r\n    newDepsToLogHandle = void 0;\r\n    debounceProcessingHandle = setTimeout(() => {\r\n      debounceProcessingHandle = void 0;\r\n      enqueuedRerun = rerun;\r\n      if (!currentlyProcessing) {\r\n        enqueuedRerun();\r\n      }\r\n    }, timeout);\r\n  }\r\n  async function onCrawlEnd() {\r\n    waitingForCrawlEnd = false;\r\n    debug$8?.(colors$1.green(`\\u2728 static imports crawl ended`));\r\n    if (closed) {\r\n      return;\r\n    }\r\n    await depsOptimizer.scanProcessing;\r\n    if (optimizationResult && !config.optimizeDeps.noDiscovery) {\r\n      const afterScanResult = optimizationResult.result;\r\n      optimizationResult = void 0;\r\n      const result = await afterScanResult;\r\n      currentlyProcessing = false;\r\n      const crawlDeps = Object.keys(metadata.discovered);\r\n      const scanDeps = Object.keys(result.metadata.optimized);\r\n      if (scanDeps.length === 0 && crawlDeps.length === 0) {\r\n        debug$8?.(\r\n          colors$1.green(\r\n            `\\u2728 no dependencies found by the scanner or crawling static imports`\r\n          )\r\n        );\r\n        startNextDiscoveredBatch();\r\n        runOptimizer(result);\r\n        return;\r\n      }\r\n      const needsInteropMismatch = findInteropMismatches(\r\n        metadata.discovered,\r\n        result.metadata.optimized\r\n      );\r\n      const scannerMissedDeps = crawlDeps.some((dep) => !scanDeps.includes(dep));\r\n      const outdatedResult = needsInteropMismatch.length > 0 || scannerMissedDeps;\r\n      if (outdatedResult) {\r\n        result.cancel();\r\n        for (const dep of scanDeps) {\r\n          if (!crawlDeps.includes(dep)) {\r\n            addMissingDep(dep, result.metadata.optimized[dep].src);\r\n          }\r\n        }\r\n        if (scannerMissedDeps) {\r\n          debug$8?.(\r\n            colors$1.yellow(\r\n              `\\u2728 new dependencies were found while crawling that weren't detected by the scanner`\r\n            )\r\n          );\r\n        }\r\n        debug$8?.(colors$1.green(`\\u2728 re-running optimizer`));\r\n        debouncedProcessing(0);\r\n      } else {\r\n        debug$8?.(\r\n          colors$1.green(\r\n            `\\u2728 using post-scan optimizer result, the scanner found every used dependency`\r\n          )\r\n        );\r\n        startNextDiscoveredBatch();\r\n        runOptimizer(result);\r\n      }\r\n    } else if (!holdUntilCrawlEnd) {\r\n      if (newDepsDiscovered) {\r\n        debug$8?.(\r\n          colors$1.green(\r\n            `\\u2728 new dependencies were found while crawling static imports, re-running optimizer`\r\n          )\r\n        );\r\n        warnAboutMissedDependencies = true;\r\n        debouncedProcessing(0);\r\n      }\r\n    } else {\r\n      const crawlDeps = Object.keys(metadata.discovered);\r\n      currentlyProcessing = false;\r\n      if (crawlDeps.length === 0) {\r\n        debug$8?.(\r\n          colors$1.green(\r\n            `\\u2728 no dependencies found while crawling the static imports`\r\n          )\r\n        );\r\n        firstRunCalled = true;\r\n      }\r\n      debouncedProcessing(0);\r\n    }\r\n  }\r\n}\r\nasync function createDevSsrDepsOptimizer(config) {\r\n  const metadata = await optimizeServerSsrDeps(config);\r\n  const depsOptimizer = {\r\n    metadata,\r\n    isOptimizedDepFile: createIsOptimizedDepFile(config),\r\n    isOptimizedDepUrl: createIsOptimizedDepUrl(config),\r\n    getOptimizedDepId: (depInfo) => `${depInfo.file}?v=${depInfo.browserHash}`,\r\n    registerMissingImport: () => {\r\n      throw new Error(\r\n        \"Vite Internal Error: registerMissingImport is not supported in dev SSR\"\r\n      );\r\n    },\r\n    // noop, there is no scanning during dev SSR\r\n    // the optimizer blocks the server start\r\n    run: () => {\r\n    },\r\n    close: async () => {\r\n    },\r\n    options: config.ssr.optimizeDeps\r\n  };\r\n  devSsrDepsOptimizerMap.set(config, depsOptimizer);\r\n}\r\nfunction findInteropMismatches(discovered, optimized) {\r\n  const needsInteropMismatch = [];\r\n  for (const dep in discovered) {\r\n    const discoveredDepInfo = discovered[dep];\r\n    if (discoveredDepInfo.needsInterop === void 0) continue;\r\n    const depInfo = optimized[dep];\r\n    if (!depInfo) continue;\r\n    if (depInfo.needsInterop !== discoveredDepInfo.needsInterop) {\r\n      needsInteropMismatch.push(dep);\r\n      debug$8?.(colors$1.cyan(`\\u2728 needsInterop mismatch detected for ${dep}`));\r\n    }\r\n  }\r\n  return needsInteropMismatch;\r\n}\r\n\r\nconst debug$7 = createDebugger(\"vite:deps\");\r\nconst jsExtensionRE = /\\.js$/i;\r\nconst jsMapExtensionRE = /\\.js\\.map$/i;\r\nasync function optimizeDeps(config, force = config.optimizeDeps.force, asCommand = false) {\r\n  const log = asCommand ? config.logger.info : debug$7;\r\n  const ssr = false;\r\n  const cachedMetadata = await loadCachedDepOptimizationMetadata(\r\n    config,\r\n    ssr,\r\n    force,\r\n    asCommand\r\n  );\r\n  if (cachedMetadata) {\r\n    return cachedMetadata;\r\n  }\r\n  const deps = await discoverProjectDependencies(config).result;\r\n  await addManuallyIncludedOptimizeDeps(deps, config, ssr);\r\n  const depsString = depsLogString(Object.keys(deps));\r\n  log?.(colors$1.green(`Optimizing dependencies:\r\n  ${depsString}`));\r\n  const depsInfo = toDiscoveredDependencies(config, deps, ssr);\r\n  const result = await runOptimizeDeps(config, depsInfo, ssr).result;\r\n  await result.commit();\r\n  return result.metadata;\r\n}\r\nasync function optimizeServerSsrDeps(config) {\r\n  const ssr = true;\r\n  const cachedMetadata = await loadCachedDepOptimizationMetadata(\r\n    config,\r\n    ssr,\r\n    config.optimizeDeps.force,\r\n    false\r\n  );\r\n  if (cachedMetadata) {\r\n    return cachedMetadata;\r\n  }\r\n  const deps = {};\r\n  await addManuallyIncludedOptimizeDeps(deps, config, ssr);\r\n  const depsInfo = toDiscoveredDependencies(config, deps, ssr);\r\n  const result = await runOptimizeDeps(config, depsInfo, ssr).result;\r\n  await result.commit();\r\n  return result.metadata;\r\n}\r\nfunction initDepsOptimizerMetadata(config, ssr, timestamp) {\r\n  const { lockfileHash, configHash, hash } = getDepHash(config, ssr);\r\n  return {\r\n    hash,\r\n    lockfileHash,\r\n    configHash,\r\n    browserHash: getOptimizedBrowserHash(hash, {}, timestamp),\r\n    optimized: {},\r\n    chunks: {},\r\n    discovered: {},\r\n    depInfoList: []\r\n  };\r\n}\r\nfunction addOptimizedDepInfo(metadata, type, depInfo) {\r\n  metadata[type][depInfo.id] = depInfo;\r\n  metadata.depInfoList.push(depInfo);\r\n  return depInfo;\r\n}\r\nlet firstLoadCachedDepOptimizationMetadata = true;\r\nasync function loadCachedDepOptimizationMetadata(config, ssr, force = config.optimizeDeps.force, asCommand = false) {\r\n  const log = asCommand ? config.logger.info : debug$7;\r\n  if (firstLoadCachedDepOptimizationMetadata) {\r\n    firstLoadCachedDepOptimizationMetadata = false;\r\n    setTimeout(() => cleanupDepsCacheStaleDirs(config), 0);\r\n  }\r\n  const depsCacheDir = getDepsCacheDir(config, ssr);\r\n  if (!force) {\r\n    let cachedMetadata;\r\n    try {\r\n      const cachedMetadataPath = path$n.join(depsCacheDir, METADATA_FILENAME);\r\n      cachedMetadata = parseDepsOptimizerMetadata(\r\n        await fsp.readFile(cachedMetadataPath, \"utf-8\"),\r\n        depsCacheDir\r\n      );\r\n    } catch (e) {\r\n    }\r\n    if (cachedMetadata) {\r\n      if (cachedMetadata.lockfileHash !== getLockfileHash(config)) {\r\n        config.logger.info(\r\n          \"Re-optimizing dependencies because lockfile has changed\"\r\n        );\r\n      } else if (cachedMetadata.configHash !== getConfigHash(config, ssr)) {\r\n        config.logger.info(\r\n          \"Re-optimizing dependencies because vite config has changed\"\r\n        );\r\n      } else {\r\n        log?.(\"Hash is consistent. Skipping. Use --force to override.\");\r\n        return cachedMetadata;\r\n      }\r\n    }\r\n  } else {\r\n    config.logger.info(\"Forced re-optimization of dependencies\");\r\n  }\r\n  debug$7?.(colors$1.green(`removing old cache dir ${depsCacheDir}`));\r\n  await fsp.rm(depsCacheDir, { recursive: true, force: true });\r\n}\r\nfunction discoverProjectDependencies(config) {\r\n  const { cancel, result } = scanImports(config);\r\n  return {\r\n    cancel,\r\n    result: result.then(({ deps, missing }) => {\r\n      const missingIds = Object.keys(missing);\r\n      if (missingIds.length) {\r\n        throw new Error(\r\n          `The following dependencies are imported but could not be resolved:\r\n\r\n  ${missingIds.map(\r\n            (id) => `${colors$1.cyan(id)} ${colors$1.white(\r\n              colors$1.dim(`(imported by ${missing[id]})`)\r\n            )}`\r\n          ).join(`\r\n  `)}\r\n\r\nAre they installed?`\r\n        );\r\n      }\r\n      return deps;\r\n    })\r\n  };\r\n}\r\nfunction toDiscoveredDependencies(config, deps, ssr, timestamp) {\r\n  const browserHash = getOptimizedBrowserHash(\r\n    getDepHash(config, ssr).hash,\r\n    deps,\r\n    timestamp\r\n  );\r\n  const discovered = {};\r\n  for (const id in deps) {\r\n    const src = deps[id];\r\n    discovered[id] = {\r\n      id,\r\n      file: getOptimizedDepPath(id, config, ssr),\r\n      src,\r\n      browserHash,\r\n      exportsData: extractExportsData(src, config, ssr)\r\n    };\r\n  }\r\n  return discovered;\r\n}\r\nfunction depsLogString(qualifiedIds) {\r\n  return colors$1.yellow(qualifiedIds.join(`, `));\r\n}\r\nfunction runOptimizeDeps(resolvedConfig, depsInfo, ssr) {\r\n  const optimizerContext = { cancelled: false };\r\n  const config = {\r\n    ...resolvedConfig,\r\n    command: \"build\"\r\n  };\r\n  const depsCacheDir = getDepsCacheDir(resolvedConfig, ssr);\r\n  const processingCacheDir = getProcessingDepsCacheDir(resolvedConfig, ssr);\r\n  fs__default.mkdirSync(processingCacheDir, { recursive: true });\r\n  debug$7?.(colors$1.green(`creating package.json in ${processingCacheDir}`));\r\n  fs__default.writeFileSync(\r\n    path$n.resolve(processingCacheDir, \"package.json\"),\r\n    `{\r\n  \"type\": \"module\"\r\n}\r\n`\r\n  );\r\n  const metadata = initDepsOptimizerMetadata(config, ssr);\r\n  metadata.browserHash = getOptimizedBrowserHash(\r\n    metadata.hash,\r\n    depsFromOptimizedDepInfo(depsInfo)\r\n  );\r\n  const qualifiedIds = Object.keys(depsInfo);\r\n  let cleaned = false;\r\n  let committed = false;\r\n  const cleanUp = () => {\r\n    if (!cleaned && !committed) {\r\n      cleaned = true;\r\n      debug$7?.(colors$1.green(`removing cache dir ${processingCacheDir}`));\r\n      try {\r\n        fs__default.rmSync(processingCacheDir, { recursive: true, force: true });\r\n      } catch (error) {\r\n      }\r\n    }\r\n  };\r\n  const successfulResult = {\r\n    metadata,\r\n    cancel: cleanUp,\r\n    commit: async () => {\r\n      if (cleaned) {\r\n        throw new Error(\r\n          \"Can not commit a Deps Optimization run as it was cancelled\"\r\n        );\r\n      }\r\n      committed = true;\r\n      const dataPath = path$n.join(processingCacheDir, METADATA_FILENAME);\r\n      debug$7?.(\r\n        colors$1.green(`creating ${METADATA_FILENAME} in ${processingCacheDir}`)\r\n      );\r\n      fs__default.writeFileSync(\r\n        dataPath,\r\n        stringifyDepsOptimizerMetadata(metadata, depsCacheDir)\r\n      );\r\n      const temporaryPath = depsCacheDir + getTempSuffix();\r\n      const depsCacheDirPresent = fs__default.existsSync(depsCacheDir);\r\n      if (isWindows$3) {\r\n        if (depsCacheDirPresent) {\r\n          debug$7?.(colors$1.green(`renaming ${depsCacheDir} to ${temporaryPath}`));\r\n          await safeRename(depsCacheDir, temporaryPath);\r\n        }\r\n        debug$7?.(\r\n          colors$1.green(`renaming ${processingCacheDir} to ${depsCacheDir}`)\r\n        );\r\n        await safeRename(processingCacheDir, depsCacheDir);\r\n      } else {\r\n        if (depsCacheDirPresent) {\r\n          debug$7?.(colors$1.green(`renaming ${depsCacheDir} to ${temporaryPath}`));\r\n          fs__default.renameSync(depsCacheDir, temporaryPath);\r\n        }\r\n        debug$7?.(\r\n          colors$1.green(`renaming ${processingCacheDir} to ${depsCacheDir}`)\r\n        );\r\n        fs__default.renameSync(processingCacheDir, depsCacheDir);\r\n      }\r\n      if (depsCacheDirPresent) {\r\n        debug$7?.(colors$1.green(`removing cache temp dir ${temporaryPath}`));\r\n        fsp.rm(temporaryPath, { recursive: true, force: true });\r\n      }\r\n    }\r\n  };\r\n  if (!qualifiedIds.length) {\r\n    return {\r\n      cancel: async () => cleanUp(),\r\n      result: Promise.resolve(successfulResult)\r\n    };\r\n  }\r\n  const cancelledResult = {\r\n    metadata,\r\n    commit: async () => cleanUp(),\r\n    cancel: cleanUp\r\n  };\r\n  const start = performance$1.now();\r\n  const preparedRun = prepareEsbuildOptimizerRun(\r\n    resolvedConfig,\r\n    depsInfo,\r\n    ssr,\r\n    processingCacheDir,\r\n    optimizerContext\r\n  );\r\n  const runResult = preparedRun.then(({ context, idToExports }) => {\r\n    function disposeContext() {\r\n      return context?.dispose().catch((e) => {\r\n        config.logger.error(\"Failed to dispose esbuild context\", { error: e });\r\n      });\r\n    }\r\n    if (!context || optimizerContext.cancelled) {\r\n      disposeContext();\r\n      return cancelledResult;\r\n    }\r\n    return context.rebuild().then((result) => {\r\n      const meta = result.metafile;\r\n      const processingCacheDirOutputPath = path$n.relative(\r\n        process.cwd(),\r\n        processingCacheDir\r\n      );\r\n      for (const id in depsInfo) {\r\n        const output = esbuildOutputFromId(\r\n          meta.outputs,\r\n          id,\r\n          processingCacheDir\r\n        );\r\n        const { exportsData, ...info } = depsInfo[id];\r\n        addOptimizedDepInfo(metadata, \"optimized\", {\r\n          ...info,\r\n          // We only need to hash the output.imports in to check for stability, but adding the hash\r\n          // and file path gives us a unique hash that may be useful for other things in the future\r\n          fileHash: getHash(\r\n            metadata.hash + depsInfo[id].file + JSON.stringify(output.imports)\r\n          ),\r\n          browserHash: metadata.browserHash,\r\n          // After bundling we have more information and can warn the user about legacy packages\r\n          // that require manual configuration\r\n          needsInterop: needsInterop(\r\n            config,\r\n            ssr,\r\n            id,\r\n            idToExports[id],\r\n            output\r\n          )\r\n        });\r\n      }\r\n      for (const o of Object.keys(meta.outputs)) {\r\n        if (!jsMapExtensionRE.test(o)) {\r\n          const id = path$n.relative(processingCacheDirOutputPath, o).replace(jsExtensionRE, \"\");\r\n          const file = getOptimizedDepPath(id, resolvedConfig, ssr);\r\n          if (!findOptimizedDepInfoInRecord(\r\n            metadata.optimized,\r\n            (depInfo) => depInfo.file === file\r\n          )) {\r\n            addOptimizedDepInfo(metadata, \"chunks\", {\r\n              id,\r\n              file,\r\n              needsInterop: false,\r\n              browserHash: metadata.browserHash\r\n            });\r\n          }\r\n        }\r\n      }\r\n      debug$7?.(\r\n        `Dependencies bundled in ${(performance$1.now() - start).toFixed(2)}ms`\r\n      );\r\n      return successfulResult;\r\n    }).catch((e) => {\r\n      if (e.errors && e.message.includes(\"The build was canceled\")) {\r\n        return cancelledResult;\r\n      }\r\n      throw e;\r\n    }).finally(() => {\r\n      return disposeContext();\r\n    });\r\n  });\r\n  runResult.catch(() => {\r\n    cleanUp();\r\n  });\r\n  return {\r\n    async cancel() {\r\n      optimizerContext.cancelled = true;\r\n      const { context } = await preparedRun;\r\n      await context?.cancel();\r\n      cleanUp();\r\n    },\r\n    result: runResult\r\n  };\r\n}\r\nasync function prepareEsbuildOptimizerRun(resolvedConfig, depsInfo, ssr, processingCacheDir, optimizerContext) {\r\n  const config = {\r\n    ...resolvedConfig,\r\n    command: \"build\"\r\n  };\r\n  const flatIdDeps = {};\r\n  const idToExports = {};\r\n  const optimizeDeps2 = getDepOptimizationConfig(config, ssr);\r\n  const { plugins: pluginsFromConfig = [], ...esbuildOptions } = optimizeDeps2?.esbuildOptions ?? {};\r\n  await Promise.all(\r\n    Object.keys(depsInfo).map(async (id) => {\r\n      const src = depsInfo[id].src;\r\n      const exportsData = await (depsInfo[id].exportsData ?? extractExportsData(src, config, ssr));\r\n      if (exportsData.jsxLoader && !esbuildOptions.loader?.[\".js\"]) {\r\n        esbuildOptions.loader = {\r\n          \".js\": \"jsx\",\r\n          ...esbuildOptions.loader\r\n        };\r\n      }\r\n      const flatId = flattenId(id);\r\n      flatIdDeps[flatId] = src;\r\n      idToExports[id] = exportsData;\r\n    })\r\n  );\r\n  if (optimizerContext.cancelled) return { context: void 0, idToExports };\r\n  const define = {\r\n    \"process.env.NODE_ENV\": JSON.stringify(process.env.NODE_ENV || config.mode)\r\n  };\r\n  const platform = ssr && config.ssr?.target !== \"webworker\" ? \"node\" : \"browser\";\r\n  const external = [...optimizeDeps2?.exclude ?? []];\r\n  const plugins = [...pluginsFromConfig];\r\n  if (external.length) {\r\n    plugins.push(esbuildCjsExternalPlugin(external, platform));\r\n  }\r\n  plugins.push(esbuildDepPlugin(flatIdDeps, external, config, ssr));\r\n  const context = await esbuild.context({\r\n    absWorkingDir: process.cwd(),\r\n    entryPoints: Object.keys(flatIdDeps),\r\n    bundle: true,\r\n    // We can't use platform 'neutral', as esbuild has custom handling\r\n    // when the platform is 'node' or 'browser' that can't be emulated\r\n    // by using mainFields and conditions\r\n    platform,\r\n    define,\r\n    format: \"esm\",\r\n    // See https://github.com/evanw/esbuild/issues/1921#issuecomment-1152991694\r\n    banner: platform === \"node\" ? {\r\n      js: `import { createRequire } from 'module';const require = createRequire(import.meta.url);`\r\n    } : void 0,\r\n    target: ESBUILD_MODULES_TARGET,\r\n    external,\r\n    logLevel: \"error\",\r\n    splitting: true,\r\n    sourcemap: true,\r\n    outdir: processingCacheDir,\r\n    ignoreAnnotations: true,\r\n    metafile: true,\r\n    plugins,\r\n    charset: \"utf8\",\r\n    ...esbuildOptions,\r\n    supported: {\r\n      ...defaultEsbuildSupported,\r\n      ...esbuildOptions.supported\r\n    }\r\n  });\r\n  return { context, idToExports };\r\n}\r\nasync function addManuallyIncludedOptimizeDeps(deps, config, ssr) {\r\n  const { logger } = config;\r\n  const optimizeDeps2 = getDepOptimizationConfig(config, ssr);\r\n  const optimizeDepsInclude = optimizeDeps2?.include ?? [];\r\n  if (optimizeDepsInclude.length) {\r\n    const unableToOptimize = (id, msg) => {\r\n      if (optimizeDepsInclude.includes(id)) {\r\n        logger.warn(\r\n          `${msg}: ${colors$1.cyan(id)}, present in '${ssr ? \"ssr.\" : \"\"}optimizeDeps.include'`\r\n        );\r\n      }\r\n    };\r\n    const includes = [...optimizeDepsInclude];\r\n    for (let i = 0; i < includes.length; i++) {\r\n      const id = includes[i];\r\n      if (glob.isDynamicPattern(id)) {\r\n        const globIds = expandGlobIds(id, config);\r\n        includes.splice(i, 1, ...globIds);\r\n        i += globIds.length - 1;\r\n      }\r\n    }\r\n    const resolve = createOptimizeDepsIncludeResolver(config, ssr);\r\n    for (const id of includes) {\r\n      const normalizedId = normalizeId(id);\r\n      if (!deps[normalizedId]) {\r\n        const entry = await resolve(id);\r\n        if (entry) {\r\n          if (isOptimizable(entry, optimizeDeps2)) {\r\n            if (!entry.endsWith(\"?__vite_skip_optimization\")) {\r\n              deps[normalizedId] = entry;\r\n            }\r\n          } else {\r\n            unableToOptimize(id, \"Cannot optimize dependency\");\r\n          }\r\n        } else {\r\n          unableToOptimize(id, \"Failed to resolve dependency\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction depsFromOptimizedDepInfo(depsInfo) {\r\n  const obj = {};\r\n  for (const key in depsInfo) {\r\n    obj[key] = depsInfo[key].src;\r\n  }\r\n  return obj;\r\n}\r\nfunction getOptimizedDepPath(id, config, ssr) {\r\n  return normalizePath$3(\r\n    path$n.resolve(getDepsCacheDir(config, ssr), flattenId(id) + \".js\")\r\n  );\r\n}\r\nfunction getDepsCacheSuffix(ssr) {\r\n  return ssr ? \"_ssr\" : \"\";\r\n}\r\nfunction getDepsCacheDir(config, ssr) {\r\n  return getDepsCacheDirPrefix(config) + getDepsCacheSuffix(ssr);\r\n}\r\nfunction getProcessingDepsCacheDir(config, ssr) {\r\n  return getDepsCacheDirPrefix(config) + getDepsCacheSuffix(ssr) + getTempSuffix();\r\n}\r\nfunction getTempSuffix() {\r\n  return \"_temp_\" + getHash(\r\n    `${process.pid}:${Date.now().toString()}:${Math.random().toString(16).slice(2)}`\r\n  );\r\n}\r\nfunction getDepsCacheDirPrefix(config) {\r\n  return normalizePath$3(path$n.resolve(config.cacheDir, \"deps\"));\r\n}\r\nfunction createIsOptimizedDepFile(config) {\r\n  const depsCacheDirPrefix = getDepsCacheDirPrefix(config);\r\n  return (id) => id.startsWith(depsCacheDirPrefix);\r\n}\r\nfunction createIsOptimizedDepUrl(config) {\r\n  const { root } = config;\r\n  const depsCacheDir = getDepsCacheDirPrefix(config);\r\n  const depsCacheDirRelative = normalizePath$3(path$n.relative(root, depsCacheDir));\r\n  const depsCacheDirPrefix = depsCacheDirRelative.startsWith(\"../\") ? (\r\n    // if the cache directory is outside root, the url prefix would be something\r\n    // like '/@fs/absolute/path/to/node_modules/.vite'\r\n    `/@fs/${removeLeadingSlash(normalizePath$3(depsCacheDir))}`\r\n  ) : (\r\n    // if the cache directory is inside root, the url prefix would be something\r\n    // like '/node_modules/.vite'\r\n    `/${depsCacheDirRelative}`\r\n  );\r\n  return function isOptimizedDepUrl(url) {\r\n    return url.startsWith(depsCacheDirPrefix);\r\n  };\r\n}\r\nfunction parseDepsOptimizerMetadata(jsonMetadata, depsCacheDir) {\r\n  const { hash, lockfileHash, configHash, browserHash, optimized, chunks } = JSON.parse(jsonMetadata, (key, value) => {\r\n    if (key === \"file\" || key === \"src\") {\r\n      return normalizePath$3(path$n.resolve(depsCacheDir, value));\r\n    }\r\n    return value;\r\n  });\r\n  if (!chunks || Object.values(optimized).some((depInfo) => !depInfo.fileHash)) {\r\n    return;\r\n  }\r\n  const metadata = {\r\n    hash,\r\n    lockfileHash,\r\n    configHash,\r\n    browserHash,\r\n    optimized: {},\r\n    discovered: {},\r\n    chunks: {},\r\n    depInfoList: []\r\n  };\r\n  for (const id of Object.keys(optimized)) {\r\n    addOptimizedDepInfo(metadata, \"optimized\", {\r\n      ...optimized[id],\r\n      id,\r\n      browserHash\r\n    });\r\n  }\r\n  for (const id of Object.keys(chunks)) {\r\n    addOptimizedDepInfo(metadata, \"chunks\", {\r\n      ...chunks[id],\r\n      id,\r\n      browserHash,\r\n      needsInterop: false\r\n    });\r\n  }\r\n  return metadata;\r\n}\r\nfunction stringifyDepsOptimizerMetadata(metadata, depsCacheDir) {\r\n  const { hash, configHash, lockfileHash, browserHash, optimized, chunks } = metadata;\r\n  return JSON.stringify(\r\n    {\r\n      hash,\r\n      configHash,\r\n      lockfileHash,\r\n      browserHash,\r\n      optimized: Object.fromEntries(\r\n        Object.values(optimized).map(\r\n          ({ id, src, file, fileHash, needsInterop: needsInterop2 }) => [\r\n            id,\r\n            {\r\n              src,\r\n              file,\r\n              fileHash,\r\n              needsInterop: needsInterop2\r\n            }\r\n          ]\r\n        )\r\n      ),\r\n      chunks: Object.fromEntries(\r\n        Object.values(chunks).map(({ id, file }) => [id, { file }])\r\n      )\r\n    },\r\n    (key, value) => {\r\n      if (key === \"file\" || key === \"src\") {\r\n        return normalizePath$3(path$n.relative(depsCacheDir, value));\r\n      }\r\n      return value;\r\n    },\r\n    2\r\n  );\r\n}\r\nfunction esbuildOutputFromId(outputs, id, cacheDirOutputPath) {\r\n  const cwd = process.cwd();\r\n  const flatId = flattenId(id) + \".js\";\r\n  const normalizedOutputPath = normalizePath$3(\r\n    path$n.relative(cwd, path$n.join(cacheDirOutputPath, flatId))\r\n  );\r\n  const output = outputs[normalizedOutputPath];\r\n  if (output) {\r\n    return output;\r\n  }\r\n  for (const [key, value] of Object.entries(outputs)) {\r\n    if (normalizePath$3(path$n.relative(cwd, key)) === normalizedOutputPath) {\r\n      return value;\r\n    }\r\n  }\r\n}\r\nasync function extractExportsData(filePath, config, ssr) {\r\n  await init;\r\n  const optimizeDeps2 = getDepOptimizationConfig(config, ssr);\r\n  const esbuildOptions = optimizeDeps2?.esbuildOptions ?? {};\r\n  if (optimizeDeps2.extensions?.some((ext) => filePath.endsWith(ext))) {\r\n    const result = await build$3({\r\n      ...esbuildOptions,\r\n      entryPoints: [filePath],\r\n      write: false,\r\n      format: \"esm\"\r\n    });\r\n    const [, exports2, , hasModuleSyntax2] = parse$d(result.outputFiles[0].text);\r\n    return {\r\n      hasModuleSyntax: hasModuleSyntax2,\r\n      exports: exports2.map((e) => e.n)\r\n    };\r\n  }\r\n  let parseResult;\r\n  let usedJsxLoader = false;\r\n  const entryContent = await fsp.readFile(filePath, \"utf-8\");\r\n  try {\r\n    parseResult = parse$d(entryContent);\r\n  } catch {\r\n    const loader = esbuildOptions.loader?.[path$n.extname(filePath)] || \"jsx\";\r\n    debug$7?.(\r\n      `Unable to parse: ${filePath}.\r\n Trying again with a ${loader} transform.`\r\n    );\r\n    const transformed = await transformWithEsbuild(entryContent, filePath, {\r\n      loader\r\n    });\r\n    parseResult = parse$d(transformed.code);\r\n    usedJsxLoader = true;\r\n  }\r\n  const [, exports, , hasModuleSyntax] = parseResult;\r\n  const exportsData = {\r\n    hasModuleSyntax,\r\n    exports: exports.map((e) => e.n),\r\n    jsxLoader: usedJsxLoader\r\n  };\r\n  return exportsData;\r\n}\r\nfunction needsInterop(config, ssr, id, exportsData, output) {\r\n  if (getDepOptimizationConfig(config, ssr)?.needsInterop?.includes(id)) {\r\n    return true;\r\n  }\r\n  const { hasModuleSyntax, exports } = exportsData;\r\n  if (!hasModuleSyntax) {\r\n    return true;\r\n  }\r\n  if (output) {\r\n    const generatedExports = output.exports;\r\n    if (!generatedExports || isSingleDefaultExport(generatedExports) && !isSingleDefaultExport(exports)) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\nfunction isSingleDefaultExport(exports) {\r\n  return exports.length === 1 && exports[0] === \"default\";\r\n}\r\nconst lockfileFormats = [\r\n  { name: \"package-lock.json\", checkPatches: true, manager: \"npm\" },\r\n  { name: \"yarn.lock\", checkPatches: true, manager: \"yarn\" },\r\n  // Included in lockfile for v2+\r\n  { name: \"pnpm-lock.yaml\", checkPatches: false, manager: \"pnpm\" },\r\n  // Included in lockfile\r\n  { name: \"bun.lockb\", checkPatches: true, manager: \"bun\" }\r\n].sort((_, { manager }) => {\r\n  return process.env.npm_config_user_agent?.startsWith(manager) ? 1 : -1;\r\n});\r\nconst lockfileNames = lockfileFormats.map((l) => l.name);\r\nfunction getConfigHash(config, ssr) {\r\n  const optimizeDeps2 = getDepOptimizationConfig(config, ssr);\r\n  const content = JSON.stringify(\r\n    {\r\n      mode: process.env.NODE_ENV || config.mode,\r\n      root: config.root,\r\n      resolve: config.resolve,\r\n      assetsInclude: config.assetsInclude,\r\n      plugins: config.plugins.map((p) => p.name),\r\n      optimizeDeps: {\r\n        include: optimizeDeps2?.include ? unique(optimizeDeps2.include).sort() : void 0,\r\n        exclude: optimizeDeps2?.exclude ? unique(optimizeDeps2.exclude).sort() : void 0,\r\n        esbuildOptions: {\r\n          ...optimizeDeps2?.esbuildOptions,\r\n          plugins: optimizeDeps2?.esbuildOptions?.plugins?.map((p) => p.name)\r\n        }\r\n      }\r\n    },\r\n    (_, value) => {\r\n      if (typeof value === \"function\" || value instanceof RegExp) {\r\n        return value.toString();\r\n      }\r\n      return value;\r\n    }\r\n  );\r\n  return getHash(content);\r\n}\r\nfunction getLockfileHash(config, ssr) {\r\n  const lockfilePath = lookupFile(config.root, lockfileNames);\r\n  let content = lockfilePath ? fs__default.readFileSync(lockfilePath, \"utf-8\") : \"\";\r\n  if (lockfilePath) {\r\n    const lockfileName = path$n.basename(lockfilePath);\r\n    const { checkPatches } = lockfileFormats.find(\r\n      (f) => f.name === lockfileName\r\n    );\r\n    if (checkPatches) {\r\n      const fullPath = path$n.join(path$n.dirname(lockfilePath), \"patches\");\r\n      const stat = tryStatSync(fullPath);\r\n      if (stat?.isDirectory()) {\r\n        content += stat.mtimeMs.toString();\r\n      }\r\n    }\r\n  }\r\n  return getHash(content);\r\n}\r\nfunction getDepHash(config, ssr) {\r\n  const lockfileHash = getLockfileHash(config);\r\n  const configHash = getConfigHash(config, ssr);\r\n  const hash = getHash(lockfileHash + configHash);\r\n  return {\r\n    hash,\r\n    lockfileHash,\r\n    configHash\r\n  };\r\n}\r\nfunction getOptimizedBrowserHash(hash, deps, timestamp = \"\") {\r\n  return getHash(hash + JSON.stringify(deps) + timestamp);\r\n}\r\nfunction optimizedDepInfoFromId(metadata, id) {\r\n  return metadata.optimized[id] || metadata.discovered[id] || metadata.chunks[id];\r\n}\r\nfunction optimizedDepInfoFromFile(metadata, file) {\r\n  return metadata.depInfoList.find((depInfo) => depInfo.file === file);\r\n}\r\nfunction findOptimizedDepInfoInRecord(dependenciesInfo, callbackFn) {\r\n  for (const o of Object.keys(dependenciesInfo)) {\r\n    const info = dependenciesInfo[o];\r\n    if (callbackFn(info, o)) {\r\n      return info;\r\n    }\r\n  }\r\n}\r\nasync function optimizedDepNeedsInterop(metadata, file, config, ssr) {\r\n  const depInfo = optimizedDepInfoFromFile(metadata, file);\r\n  if (depInfo?.src && depInfo.needsInterop === void 0) {\r\n    depInfo.exportsData ??= extractExportsData(depInfo.src, config, ssr);\r\n    depInfo.needsInterop = needsInterop(\r\n      config,\r\n      ssr,\r\n      depInfo.id,\r\n      await depInfo.exportsData\r\n    );\r\n  }\r\n  return depInfo?.needsInterop;\r\n}\r\nconst MAX_TEMP_DIR_AGE_MS = 24 * 60 * 60 * 1e3;\r\nasync function cleanupDepsCacheStaleDirs(config) {\r\n  try {\r\n    const cacheDir = path$n.resolve(config.cacheDir);\r\n    if (fs__default.existsSync(cacheDir)) {\r\n      const dirents = await fsp.readdir(cacheDir, { withFileTypes: true });\r\n      for (const dirent of dirents) {\r\n        if (dirent.isDirectory() && dirent.name.includes(\"_temp_\")) {\r\n          const tempDirPath = path$n.resolve(config.cacheDir, dirent.name);\r\n          const stats = await fsp.stat(tempDirPath).catch((_) => null);\r\n          if (stats?.mtime && Date.now() - stats.mtime.getTime() > MAX_TEMP_DIR_AGE_MS) {\r\n            debug$7?.(`removing stale cache temp dir ${tempDirPath}`);\r\n            await fsp.rm(tempDirPath, { recursive: true, force: true });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } catch (err) {\r\n    config.logger.error(err);\r\n  }\r\n}\r\nconst GRACEFUL_RENAME_TIMEOUT = 5e3;\r\nconst safeRename = promisify$4(function gracefulRename(from, to, cb) {\r\n  const start = Date.now();\r\n  let backoff = 0;\r\n  fs__default.rename(from, to, function CB(er) {\r\n    if (er && (er.code === \"EACCES\" || er.code === \"EPERM\") && Date.now() - start < GRACEFUL_RENAME_TIMEOUT) {\r\n      setTimeout(function() {\r\n        fs__default.stat(to, function(stater, st) {\r\n          if (stater && stater.code === \"ENOENT\") fs__default.rename(from, to, CB);\r\n          else CB(er);\r\n        });\r\n      }, backoff);\r\n      if (backoff < 100) backoff += 10;\r\n      return;\r\n    }\r\n    if (cb) cb(er);\r\n  });\r\n});\r\n\r\nvar index$1 = {\r\n\t__proto__: null,\r\n\taddManuallyIncludedOptimizeDeps: addManuallyIncludedOptimizeDeps,\r\n\taddOptimizedDepInfo: addOptimizedDepInfo,\r\n\tcleanupDepsCacheStaleDirs: cleanupDepsCacheStaleDirs,\r\n\tcreateIsOptimizedDepFile: createIsOptimizedDepFile,\r\n\tcreateIsOptimizedDepUrl: createIsOptimizedDepUrl,\r\n\tdepsFromOptimizedDepInfo: depsFromOptimizedDepInfo,\r\n\tdepsLogString: depsLogString,\r\n\tdiscoverProjectDependencies: discoverProjectDependencies,\r\n\textractExportsData: extractExportsData,\r\n\tgetDepsCacheDir: getDepsCacheDir,\r\n\tgetDepsOptimizer: getDepsOptimizer,\r\n\tgetOptimizedDepPath: getOptimizedDepPath,\r\n\tinitDepsOptimizer: initDepsOptimizer,\r\n\tinitDepsOptimizerMetadata: initDepsOptimizerMetadata,\r\n\tinitDevSsrDepsOptimizer: initDevSsrDepsOptimizer,\r\n\tloadCachedDepOptimizationMetadata: loadCachedDepOptimizationMetadata,\r\n\toptimizeDeps: optimizeDeps,\r\n\toptimizeServerSsrDeps: optimizeServerSsrDeps,\r\n\toptimizedDepInfoFromFile: optimizedDepInfoFromFile,\r\n\toptimizedDepInfoFromId: optimizedDepInfoFromId,\r\n\toptimizedDepNeedsInterop: optimizedDepNeedsInterop,\r\n\trunOptimizeDeps: runOptimizeDeps,\r\n\ttoDiscoveredDependencies: toDiscoveredDependencies\r\n};\r\n\r\nfunction totalist(dir, callback, pre='') {\r\n\tdir = resolve$3('.', dir);\r\n\tlet arr = readdirSync(dir);\r\n\tlet i=0, abs, stats;\r\n\tfor (; i < arr.length; i++) {\r\n\t\tabs = join$1(dir, arr[i]);\r\n\t\tstats = statSync$1(abs);\r\n\t\tstats.isDirectory()\r\n\t\t\t? totalist(abs, callback, join$1(pre, arr[i]))\r\n\t\t\t: callback(join$1(pre, arr[i]), abs, stats);\r\n\t}\r\n}\r\n\r\n/**\r\n * @typedef ParsedURL\r\n * @type {import('.').ParsedURL}\r\n */\r\n\r\n/**\r\n * @typedef Request\r\n * @property {string} url\r\n * @property {ParsedURL} _parsedUrl\r\n */\r\n\r\n/**\r\n * @param {Request} req\r\n * @returns {ParsedURL|void}\r\n */\r\nfunction parse$5(req) {\r\n\tlet raw = req.url;\r\n\tif (raw == null) return;\r\n\r\n\tlet prev = req._parsedUrl;\r\n\tif (prev && prev.raw === raw) return prev;\r\n\r\n\tlet pathname=raw, search='', query;\r\n\r\n\tif (raw.length > 1) {\r\n\t\tlet idx = raw.indexOf('?', 1);\r\n\r\n\t\tif (idx !== -1) {\r\n\t\t\tsearch = raw.substring(idx);\r\n\t\t\tpathname = raw.substring(0, idx);\r\n\t\t\tif (search.length > 1) {\r\n\t\t\t\tquery = qs.parse(search.substring(1));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn req._parsedUrl = { pathname, search, query, raw };\r\n}\r\n\r\nconst noop$2 = () => {};\r\n\r\nfunction isMatch(uri, arr) {\r\n\tfor (let i=0; i < arr.length; i++) {\r\n\t\tif (arr[i].test(uri)) return true;\r\n\t}\r\n}\r\n\r\nfunction toAssume(uri, extns) {\r\n\tlet i=0, x, len=uri.length - 1;\r\n\tif (uri.charCodeAt(len) === 47) {\r\n\t\turi = uri.substring(0, len);\r\n\t}\r\n\r\n\tlet arr=[], tmp=`${uri}/index`;\r\n\tfor (; i < extns.length; i++) {\r\n\t\tx = extns[i] ? `.${extns[i]}` : '';\r\n\t\tif (uri) arr.push(uri + x);\r\n\t\tarr.push(tmp + x);\r\n\t}\r\n\r\n\treturn arr;\r\n}\r\n\r\nfunction viaCache(cache, uri, extns) {\r\n\tlet i=0, data, arr=toAssume(uri, extns);\r\n\tfor (; i < arr.length; i++) {\r\n\t\tif (data = cache[arr[i]]) return data;\r\n\t}\r\n}\r\n\r\nfunction viaLocal(dir, isEtag, uri, extns, shouldServe) {\r\n\tlet i=0, arr=toAssume(uri, extns);\r\n\tlet abs, stats, name, headers;\r\n\tfor (; i < arr.length; i++) {\r\n\t\tabs = normalize$1(join$1(dir, name=arr[i]));\r\n\t\tif (abs.startsWith(dir) && require$$0$2.existsSync(abs)) {\r\n\t\t\tstats = require$$0$2.statSync(abs);\r\n\t\t\tif (stats.isDirectory()) continue;\r\n\t\t\tif (shouldServe && !shouldServe(abs)) continue;\r\n\t\t\theaders = toHeaders(name, stats, isEtag);\r\n\t\t\theaders['Cache-Control'] = isEtag ? 'no-cache' : 'no-store';\r\n\t\t\treturn { abs, stats, headers };\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction is404(req, res) {\r\n\treturn (res.statusCode=404,res.end());\r\n}\r\n\r\nfunction send$1(req, res, file, stats, headers) {\r\n\tlet code=200, tmp, opts={};\r\n\theaders = { ...headers };\r\n\r\n\tfor (let key in headers) {\r\n\t\ttmp = res.getHeader(key);\r\n\t\tif (tmp) headers[key] = tmp;\r\n\t}\r\n\r\n\tif (tmp = res.getHeader('content-type')) {\r\n\t\theaders['Content-Type'] = tmp;\r\n\t}\r\n\r\n\tif (req.headers.range) {\r\n\t\tcode = 206;\r\n\t\tlet [x, y] = req.headers.range.replace('bytes=', '').split('-');\r\n\t\tlet end = opts.end = parseInt(y, 10) || stats.size - 1;\r\n\t\tlet start = opts.start = parseInt(x, 10) || 0;\r\n\r\n\t\tif (end >= stats.size) {\r\n\t\t\tend = stats.size - 1;\r\n\t\t}\r\n\r\n\t\tif (start >= stats.size) {\r\n\t\t\tres.setHeader('Content-Range', `bytes */${stats.size}`);\r\n\t\t\tres.statusCode = 416;\r\n\t\t\treturn res.end();\r\n\t\t}\r\n\r\n\t\theaders['Content-Range'] = `bytes ${start}-${end}/${stats.size}`;\r\n\t\theaders['Content-Length'] = (end - start + 1);\r\n\t\theaders['Accept-Ranges'] = 'bytes';\r\n\t}\r\n\r\n\tres.writeHead(code, headers);\r\n\trequire$$0$2.createReadStream(file, opts).pipe(res);\r\n}\r\n\r\nconst ENCODING = {\r\n\t'.br': 'br',\r\n\t'.gz': 'gzip',\r\n};\r\n\r\nfunction toHeaders(name, stats, isEtag) {\r\n\tlet enc = ENCODING[name.slice(-3)];\r\n\r\n\tlet ctype = lookup(name.slice(0, enc && -3)) || '';\r\n\tif (ctype === 'text/html') ctype += ';charset=utf-8';\r\n\r\n\tlet headers = {\r\n\t\t'Content-Length': stats.size,\r\n\t\t'Content-Type': ctype,\r\n\t\t'Last-Modified': stats.mtime.toUTCString(),\r\n\t};\r\n\r\n\tif (enc) headers['Content-Encoding'] = enc;\r\n\tif (isEtag) headers['ETag'] = `W/\"${stats.size}-${stats.mtime.getTime()}\"`;\r\n\r\n\treturn headers;\r\n}\r\n\r\nfunction sirv (dir, opts={}) {\r\n\tdir = resolve$3(dir || '.');\r\n\r\n\tlet isNotFound = opts.onNoMatch || is404;\r\n\tlet setHeaders = opts.setHeaders || noop$2;\r\n\r\n\tlet extensions = opts.extensions || ['html', 'htm'];\r\n\tlet gzips = opts.gzip && extensions.map(x => `${x}.gz`).concat('gz');\r\n\tlet brots = opts.brotli && extensions.map(x => `${x}.br`).concat('br');\r\n\r\n\tconst FILES = {};\r\n\r\n\tlet fallback = '/';\r\n\tlet isEtag = !!opts.etag;\r\n\tlet isSPA = !!opts.single;\r\n\tif (typeof opts.single === 'string') {\r\n\t\tlet idx = opts.single.lastIndexOf('.');\r\n\t\tfallback += !!~idx ? opts.single.substring(0, idx) : opts.single;\r\n\t}\r\n\r\n\tlet ignores = [];\r\n\tif (opts.ignores !== false) {\r\n\t\tignores.push(/[/]([A-Za-z\\s\\d~$._-]+\\.\\w+){1,}$/); // any extn\r\n\t\tif (opts.dotfiles) ignores.push(/\\/\\.\\w/);\r\n\t\telse ignores.push(/\\/\\.well-known/);\r\n\t\t[].concat(opts.ignores || []).forEach(x => {\r\n\t\t\tignores.push(new RegExp(x, 'i'));\r\n\t\t});\r\n\t}\r\n\r\n\tlet cc = opts.maxAge != null && `public,max-age=${opts.maxAge}`;\r\n\tif (cc && opts.immutable) cc += ',immutable';\r\n\telse if (cc && opts.maxAge === 0) cc += ',must-revalidate';\r\n\r\n\tif (!opts.dev) {\r\n\t\ttotalist(dir, (name, abs, stats) => {\r\n\t\t\tif (/\\.well-known[\\\\+\\/]/.test(name)) ; // keep\r\n\t\t\telse if (!opts.dotfiles && /(^\\.|[\\\\+|\\/+]\\.)/.test(name)) return;\r\n\r\n\t\t\tlet headers = toHeaders(name, stats, isEtag);\r\n\t\t\tif (cc) headers['Cache-Control'] = cc;\r\n\r\n\t\t\tFILES['/' + name.normalize().replace(/\\\\+/g, '/')] = { abs, stats, headers };\r\n\t\t});\r\n\t}\r\n\r\n\tlet lookup = opts.dev ? viaLocal.bind(0, dir, isEtag) : viaCache.bind(0, FILES);\r\n\r\n\treturn function (req, res, next) {\r\n\t\tlet extns = [''];\r\n\t\tlet pathname = parse$5(req).pathname;\r\n\t\tlet val = req.headers['accept-encoding'] || '';\r\n\t\tif (gzips && val.includes('gzip')) extns.unshift(...gzips);\r\n\t\tif (brots && /(br|brotli)/i.test(val)) extns.unshift(...brots);\r\n\t\textns.push(...extensions); // [...br, ...gz, orig, ...exts]\r\n\r\n\t\tif (pathname.indexOf('%') !== -1) {\r\n\t\t\ttry { pathname = decodeURI(pathname); }\r\n\t\t\tcatch (err) { /* malform uri */ }\r\n\t\t}\r\n\r\n\t\tlet data = lookup(pathname, extns, opts.shouldServe) || isSPA && !isMatch(pathname, ignores) && lookup(fallback, extns, opts.shouldServe);\r\n\t\tif (!data) return next ? next() : isNotFound(req, res);\r\n\r\n\t\tif (isEtag && req.headers['if-none-match'] === data.headers['ETag']) {\r\n\t\t\tres.writeHead(304);\r\n\t\t\treturn res.end();\r\n\t\t}\r\n\r\n\t\tif (gzips || brots) {\r\n\t\t\tres.setHeader('Vary', 'Accept-Encoding');\r\n\t\t}\r\n\r\n\t\tsetHeaders(res, pathname, data.stats);\r\n\t\tsend$1(req, res, data.abs, data.stats, data.headers);\r\n\t};\r\n}\r\n\r\nconst knownJavascriptExtensionRE = /\\.[tj]sx?$/;\r\nconst sirvOptions = ({\r\n  getHeaders\r\n}) => {\r\n  return {\r\n    dev: true,\r\n    etag: true,\r\n    extensions: [],\r\n    setHeaders(res, pathname) {\r\n      if (knownJavascriptExtensionRE.test(pathname)) {\r\n        res.setHeader(\"Content-Type\", \"text/javascript\");\r\n      }\r\n      const headers = getHeaders();\r\n      if (headers) {\r\n        for (const name in headers) {\r\n          res.setHeader(name, headers[name]);\r\n        }\r\n      }\r\n    }\r\n  };\r\n};\r\nfunction servePublicMiddleware(server, publicFiles) {\r\n  const dir = server.config.publicDir;\r\n  const serve = sirv(\r\n    dir,\r\n    sirvOptions({\r\n      getHeaders: () => server.config.server.headers\r\n    })\r\n  );\r\n  const toFilePath = (url) => {\r\n    let filePath = cleanUrl(url);\r\n    if (filePath.indexOf(\"%\") !== -1) {\r\n      try {\r\n        filePath = decodeURI(filePath);\r\n      } catch (err) {\r\n      }\r\n    }\r\n    return normalizePath$3(filePath);\r\n  };\r\n  return function viteServePublicMiddleware(req, res, next) {\r\n    if (publicFiles && !publicFiles.has(toFilePath(req.url)) || isImportRequest(req.url) || isInternalRequest(req.url) || // for `/public-file.js?url` to be transformed\r\n    urlRE.test(req.url)) {\r\n      return next();\r\n    }\r\n    serve(req, res, next);\r\n  };\r\n}\r\nfunction serveStaticMiddleware(server) {\r\n  const dir = server.config.root;\r\n  const serve = sirv(\r\n    dir,\r\n    sirvOptions({\r\n      getHeaders: () => server.config.server.headers\r\n    })\r\n  );\r\n  return function viteServeStaticMiddleware(req, res, next) {\r\n    const cleanedUrl = cleanUrl(req.url);\r\n    if (cleanedUrl[cleanedUrl.length - 1] === \"/\" || path$n.extname(cleanedUrl) === \".html\" || isInternalRequest(req.url)) {\r\n      return next();\r\n    }\r\n    const url = new URL(req.url.replace(/^\\/{2,}/, \"/\"), \"http://example.com\");\r\n    const pathname = decodeURI(url.pathname);\r\n    let redirectedPathname;\r\n    for (const { find, replacement } of server.config.resolve.alias) {\r\n      const matches = typeof find === \"string\" ? pathname.startsWith(find) : find.test(pathname);\r\n      if (matches) {\r\n        redirectedPathname = pathname.replace(find, replacement);\r\n        break;\r\n      }\r\n    }\r\n    if (redirectedPathname) {\r\n      if (redirectedPathname.startsWith(withTrailingSlash(dir))) {\r\n        redirectedPathname = redirectedPathname.slice(dir.length);\r\n      }\r\n    }\r\n    const resolvedPathname = redirectedPathname || pathname;\r\n    let fileUrl = path$n.resolve(dir, removeLeadingSlash(resolvedPathname));\r\n    if (resolvedPathname[resolvedPathname.length - 1] === \"/\" && fileUrl[fileUrl.length - 1] !== \"/\") {\r\n      fileUrl = withTrailingSlash(fileUrl);\r\n    }\r\n    if (!ensureServingAccess(fileUrl, server, res, next)) {\r\n      return;\r\n    }\r\n    if (redirectedPathname) {\r\n      url.pathname = encodeURI(redirectedPathname);\r\n      req.url = url.href.slice(url.origin.length);\r\n    }\r\n    serve(req, res, next);\r\n  };\r\n}\r\nfunction serveRawFsMiddleware(server) {\r\n  const serveFromRoot = sirv(\r\n    \"/\",\r\n    sirvOptions({ getHeaders: () => server.config.server.headers })\r\n  );\r\n  return function viteServeRawFsMiddleware(req, res, next) {\r\n    const url = new URL(req.url.replace(/^\\/{2,}/, \"/\"), \"http://example.com\");\r\n    if (url.pathname.startsWith(FS_PREFIX)) {\r\n      const pathname = decodeURI(url.pathname);\r\n      if (!ensureServingAccess(\r\n        slash$1(path$n.resolve(fsPathFromId(pathname))),\r\n        server,\r\n        res,\r\n        next\r\n      )) {\r\n        return;\r\n      }\r\n      let newPathname = pathname.slice(FS_PREFIX.length);\r\n      if (isWindows$3) newPathname = newPathname.replace(/^[A-Z]:/i, \"\");\r\n      url.pathname = encodeURI(newPathname);\r\n      req.url = url.href.slice(url.origin.length);\r\n      serveFromRoot(req, res, next);\r\n    } else {\r\n      next();\r\n    }\r\n  };\r\n}\r\nfunction isFileServingAllowed(url, server) {\r\n  if (!server.config.server.fs.strict) return true;\r\n  const file = fsPathFromUrl(url);\r\n  if (server._fsDenyGlob(file)) return false;\r\n  if (server.moduleGraph.safeModulesPath.has(file)) return true;\r\n  if (server.config.server.fs.allow.some(\r\n    (uri) => isSameFileUri(uri, file) || isParentDirectory(uri, file)\r\n  ))\r\n    return true;\r\n  return false;\r\n}\r\nfunction ensureServingAccess(url, server, res, next) {\r\n  if (isFileServingAllowed(url, server)) {\r\n    return true;\r\n  }\r\n  if (isFileReadable(cleanUrl(url))) {\r\n    const urlMessage = `The request url \"${url}\" is outside of Vite serving allow list.`;\r\n    const hintMessage = `\r\n${server.config.server.fs.allow.map((i) => `- ${i}`).join(\"\\n\")}\r\n\r\nRefer to docs https://vite.dev/config/server-options.html#server-fs-allow for configurations and more details.`;\r\n    server.config.logger.error(urlMessage);\r\n    server.config.logger.warnOnce(hintMessage + \"\\n\");\r\n    res.statusCode = 403;\r\n    res.write(renderRestrictedErrorHTML(urlMessage + \"\\n\" + hintMessage));\r\n    res.end();\r\n  } else {\r\n    next();\r\n  }\r\n  return false;\r\n}\r\nfunction renderRestrictedErrorHTML(msg) {\r\n  const html = String.raw;\r\n  return html`\r\n    <body>\r\n      <h1>403 Restricted</h1>\r\n      <p>${escapeHtml$2(msg).replace(/\\n/g, \"<br/>\")}</p>\r\n      <style>\r\n        body {\r\n          padding: 1em 2em;\r\n        }\r\n      </style>\r\n    </body>\r\n  `;\r\n}\r\n\r\nconst ERR_LOAD_URL = \"ERR_LOAD_URL\";\r\nconst ERR_LOAD_PUBLIC_URL = \"ERR_LOAD_PUBLIC_URL\";\r\nconst debugLoad = createDebugger(\"vite:load\");\r\nconst debugTransform = createDebugger(\"vite:transform\");\r\nconst debugCache$1 = createDebugger(\"vite:cache\");\r\nfunction transformRequest(url, server, options = {}) {\r\n  if (server._restartPromise && !options.ssr) throwClosedServerError();\r\n  const cacheKey = (options.ssr ? \"ssr:\" : options.html ? \"html:\" : \"\") + url;\r\n  const timestamp = Date.now();\r\n  const pending = server._pendingRequests.get(cacheKey);\r\n  if (pending) {\r\n    return server.moduleGraph.getModuleByUrl(removeTimestampQuery(url), options.ssr).then((module) => {\r\n      if (!module || pending.timestamp > module.lastInvalidationTimestamp) {\r\n        return pending.request;\r\n      } else {\r\n        pending.abort();\r\n        return transformRequest(url, server, options);\r\n      }\r\n    });\r\n  }\r\n  const request = doTransform(url, server, options, timestamp);\r\n  let cleared = false;\r\n  const clearCache = () => {\r\n    if (!cleared) {\r\n      server._pendingRequests.delete(cacheKey);\r\n      cleared = true;\r\n    }\r\n  };\r\n  server._pendingRequests.set(cacheKey, {\r\n    request,\r\n    timestamp,\r\n    abort: clearCache\r\n  });\r\n  return request.finally(clearCache);\r\n}\r\nasync function doTransform(url, server, options, timestamp) {\r\n  url = removeTimestampQuery(url);\r\n  const { config, pluginContainer } = server;\r\n  const ssr = !!options.ssr;\r\n  if (ssr && isDepsOptimizerEnabled(config, true)) {\r\n    await initDevSsrDepsOptimizer(config, server);\r\n  }\r\n  let module = await server.moduleGraph.getModuleByUrl(url, ssr);\r\n  if (module) {\r\n    const cached = await getCachedTransformResult(\r\n      url,\r\n      module,\r\n      server,\r\n      ssr,\r\n      timestamp\r\n    );\r\n    if (cached) return cached;\r\n  }\r\n  const resolved = module ? void 0 : await pluginContainer.resolveId(url, void 0, { ssr }) ?? void 0;\r\n  const id = module?.id ?? resolved?.id ?? url;\r\n  module ??= server.moduleGraph.getModuleById(id);\r\n  if (module) {\r\n    await server.moduleGraph._ensureEntryFromUrl(url, ssr, void 0, resolved);\r\n    const cached = await getCachedTransformResult(\r\n      url,\r\n      module,\r\n      server,\r\n      ssr,\r\n      timestamp\r\n    );\r\n    if (cached) return cached;\r\n  }\r\n  const result = loadAndTransform(\r\n    id,\r\n    url,\r\n    server,\r\n    options,\r\n    timestamp,\r\n    module,\r\n    resolved\r\n  );\r\n  if (!ssr) {\r\n    const depsOptimizer = getDepsOptimizer(config, ssr);\r\n    if (!depsOptimizer?.isOptimizedDepFile(id)) {\r\n      server._registerRequestProcessing(id, () => result);\r\n    }\r\n  }\r\n  return result;\r\n}\r\nasync function getCachedTransformResult(url, module, server, ssr, timestamp) {\r\n  const prettyUrl = debugCache$1 ? prettifyUrl(url, server.config.root) : \"\";\r\n  const softInvalidatedTransformResult = module && await handleModuleSoftInvalidation(module, ssr, timestamp, server);\r\n  if (softInvalidatedTransformResult) {\r\n    debugCache$1?.(`[memory-hmr] ${prettyUrl}`);\r\n    return softInvalidatedTransformResult;\r\n  }\r\n  const cached = module && (ssr ? module.ssrTransformResult : module.transformResult);\r\n  if (cached) {\r\n    debugCache$1?.(`[memory] ${prettyUrl}`);\r\n    return cached;\r\n  }\r\n}\r\nasync function loadAndTransform(id, url, server, options, timestamp, mod, resolved) {\r\n  const { config, pluginContainer, moduleGraph } = server;\r\n  const { logger } = config;\r\n  const prettyUrl = debugLoad || debugTransform ? prettifyUrl(url, config.root) : \"\";\r\n  const ssr = !!options.ssr;\r\n  const file = cleanUrl(id);\r\n  let code = null;\r\n  let map = null;\r\n  const loadStart = debugLoad ? performance$1.now() : 0;\r\n  const loadResult = await pluginContainer.load(id, { ssr });\r\n  if (loadResult == null) {\r\n    if (options.html && !id.endsWith(\".html\")) {\r\n      return null;\r\n    }\r\n    if (options.ssr || isFileServingAllowed(file, server)) {\r\n      try {\r\n        code = await fsp.readFile(file, \"utf-8\");\r\n        debugLoad?.(`${timeFrom(loadStart)} [fs] ${prettyUrl}`);\r\n      } catch (e) {\r\n        if (e.code !== \"ENOENT\") {\r\n          if (e.code === \"EISDIR\") {\r\n            e.message = `${e.message} ${file}`;\r\n          }\r\n          throw e;\r\n        }\r\n      }\r\n      if (code != null) {\r\n        ensureWatchedFile(server.watcher, file, config.root);\r\n      }\r\n    }\r\n    if (code) {\r\n      try {\r\n        const extracted = await extractSourcemapFromFile(code, file);\r\n        if (extracted) {\r\n          code = extracted.code;\r\n          map = extracted.map;\r\n        }\r\n      } catch (e) {\r\n        logger.warn(`Failed to load source map for ${file}.\r\n${e}`, {\r\n          timestamp: true\r\n        });\r\n      }\r\n    }\r\n  } else {\r\n    debugLoad?.(`${timeFrom(loadStart)} [plugin] ${prettyUrl}`);\r\n    if (isObject$1(loadResult)) {\r\n      code = loadResult.code;\r\n      map = loadResult.map;\r\n    } else {\r\n      code = loadResult;\r\n    }\r\n  }\r\n  if (code == null) {\r\n    const isPublicFile = checkPublicFile(url, config);\r\n    let publicDirName = path$n.relative(config.root, config.publicDir);\r\n    if (publicDirName[0] !== \".\") publicDirName = \"/\" + publicDirName;\r\n    const msg = isPublicFile ? `This file is in ${publicDirName} and will be copied as-is during build without going through the plugin transforms, and therefore should not be imported from source code. It can only be referenced via HTML tags.` : `Does the file exist?`;\r\n    const importerMod = server.moduleGraph.idToModuleMap.get(id)?.importers.values().next().value;\r\n    const importer = importerMod?.file || importerMod?.url;\r\n    const err = new Error(\r\n      `Failed to load url ${url} (resolved id: ${id})${importer ? ` in ${importer}` : \"\"}. ${msg}`\r\n    );\r\n    err.code = isPublicFile ? ERR_LOAD_PUBLIC_URL : ERR_LOAD_URL;\r\n    throw err;\r\n  }\r\n  if (server._restartPromise && !ssr) throwClosedServerError();\r\n  mod ??= await moduleGraph._ensureEntryFromUrl(url, ssr, void 0, resolved);\r\n  const transformStart = debugTransform ? performance$1.now() : 0;\r\n  const transformResult = await pluginContainer.transform(code, id, {\r\n    inMap: map,\r\n    ssr\r\n  });\r\n  const originalCode = code;\r\n  if (transformResult == null || isObject$1(transformResult) && transformResult.code == null) {\r\n    debugTransform?.(\r\n      timeFrom(transformStart) + colors$1.dim(` [skipped] ${prettyUrl}`)\r\n    );\r\n  } else {\r\n    debugTransform?.(`${timeFrom(transformStart)} ${prettyUrl}`);\r\n    code = transformResult.code;\r\n    map = transformResult.map;\r\n  }\r\n  let normalizedMap;\r\n  if (typeof map === \"string\") {\r\n    normalizedMap = JSON.parse(map);\r\n  } else if (map) {\r\n    normalizedMap = map;\r\n  } else {\r\n    normalizedMap = null;\r\n  }\r\n  if (normalizedMap && \"version\" in normalizedMap && mod.file) {\r\n    if (normalizedMap.mappings) {\r\n      await injectSourcesContent(normalizedMap, mod.file, logger);\r\n    }\r\n    const sourcemapPath = `${mod.file}.map`;\r\n    applySourcemapIgnoreList(\r\n      normalizedMap,\r\n      sourcemapPath,\r\n      config.server.sourcemapIgnoreList,\r\n      logger\r\n    );\r\n    if (path$n.isAbsolute(mod.file)) {\r\n      let modDirname;\r\n      for (let sourcesIndex = 0; sourcesIndex < normalizedMap.sources.length; ++sourcesIndex) {\r\n        const sourcePath = normalizedMap.sources[sourcesIndex];\r\n        if (sourcePath) {\r\n          if (path$n.isAbsolute(sourcePath)) {\r\n            modDirname ??= path$n.dirname(mod.file);\r\n            normalizedMap.sources[sourcesIndex] = path$n.relative(\r\n              modDirname,\r\n              sourcePath\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if (server._restartPromise && !ssr) throwClosedServerError();\r\n  const result = ssr && !server.config.experimental.skipSsrTransform ? await server.ssrTransform(code, normalizedMap, url, originalCode) : {\r\n    code,\r\n    map: normalizedMap,\r\n    etag: getEtag(code, { weak: true })\r\n  };\r\n  if (timestamp > mod.lastInvalidationTimestamp)\r\n    moduleGraph.updateModuleTransformResult(mod, result, ssr);\r\n  return result;\r\n}\r\nasync function handleModuleSoftInvalidation(mod, ssr, timestamp, server) {\r\n  const transformResult = ssr ? mod.ssrInvalidationState : mod.invalidationState;\r\n  if (ssr) mod.ssrInvalidationState = void 0;\r\n  else mod.invalidationState = void 0;\r\n  if (!transformResult || transformResult === \"HARD_INVALIDATED\") return;\r\n  if (ssr ? mod.ssrTransformResult : mod.transformResult) {\r\n    throw new Error(\r\n      `Internal server error: Soft-invalidated module \"${mod.url}\" should not have existing transform result`\r\n    );\r\n  }\r\n  let result;\r\n  if (ssr) {\r\n    result = transformResult;\r\n  } else {\r\n    await init;\r\n    const source = transformResult.code;\r\n    const s = new MagicString(source);\r\n    const [imports] = parse$d(source, mod.id || void 0);\r\n    for (const imp of imports) {\r\n      let rawUrl = source.slice(imp.s, imp.e);\r\n      if (rawUrl === \"import.meta\") continue;\r\n      const hasQuotes = rawUrl[0] === '\"' || rawUrl[0] === \"'\";\r\n      if (hasQuotes) {\r\n        rawUrl = rawUrl.slice(1, -1);\r\n      }\r\n      const urlWithoutTimestamp = removeTimestampQuery(rawUrl);\r\n      const hmrUrl = unwrapId$1(\r\n        stripBase(removeImportQuery(urlWithoutTimestamp), server.config.base)\r\n      );\r\n      for (const importedMod of mod.clientImportedModules) {\r\n        if (importedMod.url !== hmrUrl) continue;\r\n        if (importedMod.lastHMRTimestamp > 0) {\r\n          const replacedUrl = injectQuery(\r\n            urlWithoutTimestamp,\r\n            `t=${importedMod.lastHMRTimestamp}`\r\n          );\r\n          const start = hasQuotes ? imp.s + 1 : imp.s;\r\n          const end = hasQuotes ? imp.e - 1 : imp.e;\r\n          s.overwrite(start, end, replacedUrl);\r\n        }\r\n        if (imp.d === -1 && server.config.server.preTransformRequests) {\r\n          server.warmupRequest(hmrUrl, { ssr });\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    const code = s.toString();\r\n    result = {\r\n      ...transformResult,\r\n      code,\r\n      etag: getEtag(code, { weak: true })\r\n    };\r\n  }\r\n  if (timestamp > mod.lastInvalidationTimestamp)\r\n    server.moduleGraph.updateModuleTransformResult(mod, result, ssr);\r\n  return result;\r\n}\r\n\r\nfunction analyzeImportedModDifference(mod, rawId, moduleType, metadata) {\r\n  if (metadata?.isDynamicImport) return;\r\n  if (metadata?.importedNames?.length) {\r\n    const missingBindings = metadata.importedNames.filter((s) => !(s in mod));\r\n    if (missingBindings.length) {\r\n      const lastBinding = missingBindings[missingBindings.length - 1];\r\n      if (moduleType === \"module\") {\r\n        throw new SyntaxError(\r\n          `[vite] The requested module '${rawId}' does not provide an export named '${lastBinding}'`\r\n        );\r\n      } else {\r\n        throw new SyntaxError(`[vite] Named export '${lastBinding}' not found. The requested module '${rawId}' is a CommonJS module, which may not support all module.exports as named exports.\r\nCommonJS modules can always be imported via the default export, for example using:\r\n\r\nimport pkg from '${rawId}';\r\nconst {${missingBindings.join(\", \")}} = pkg;\r\n`);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param {import('estree').Node} param\r\n * @returns {string[]}\r\n */\r\nfunction extract_names(param) {\r\n\treturn extract_identifiers(param).map((node) => node.name);\r\n}\r\n\r\n/**\r\n * @param {import('estree').Node} param\r\n * @param {import('estree').Identifier[]} nodes\r\n * @returns {import('estree').Identifier[]}\r\n */\r\nfunction extract_identifiers(param, nodes = []) {\r\n\tswitch (param.type) {\r\n\t\tcase 'Identifier':\r\n\t\t\tnodes.push(param);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'MemberExpression':\r\n\t\t\tlet object = param;\r\n\t\t\twhile (object.type === 'MemberExpression') {\r\n\t\t\t\tobject = /** @type {any} */ (object.object);\r\n\t\t\t}\r\n\t\t\tnodes.push(/** @type {any} */ (object));\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'ObjectPattern':\r\n\t\t\tfor (const prop of param.properties) {\r\n\t\t\t\tif (prop.type === 'RestElement') {\r\n\t\t\t\t\textract_identifiers(prop.argument, nodes);\r\n\t\t\t\t} else {\r\n\t\t\t\t\textract_identifiers(prop.value, nodes);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'ArrayPattern':\r\n\t\t\tfor (const element of param.elements) {\r\n\t\t\t\tif (element) extract_identifiers(element, nodes);\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'RestElement':\r\n\t\t\textract_identifiers(param.argument, nodes);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'AssignmentPattern':\r\n\t\t\textract_identifiers(param.left, nodes);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn nodes;\r\n}\r\n\r\n/**\r\n * @typedef { import('estree').Node} Node\r\n * @typedef {{\r\n *   skip: () => void;\r\n *   remove: () => void;\r\n *   replace: (node: Node) => void;\r\n * }} WalkerContext\r\n */\r\n\r\nclass WalkerBase {\r\n\tconstructor() {\r\n\t\t/** @type {boolean} */\r\n\t\tthis.should_skip = false;\r\n\r\n\t\t/** @type {boolean} */\r\n\t\tthis.should_remove = false;\r\n\r\n\t\t/** @type {Node | null} */\r\n\t\tthis.replacement = null;\r\n\r\n\t\t/** @type {WalkerContext} */\r\n\t\tthis.context = {\r\n\t\t\tskip: () => (this.should_skip = true),\r\n\t\t\tremove: () => (this.should_remove = true),\r\n\t\t\treplace: (node) => (this.replacement = node)\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * @template {Node} Parent\r\n\t * @param {Parent | null | undefined} parent\r\n\t * @param {keyof Parent | null | undefined} prop\r\n\t * @param {number | null | undefined} index\r\n\t * @param {Node} node\r\n\t */\r\n\treplace(parent, prop, index, node) {\r\n\t\tif (parent && prop) {\r\n\t\t\tif (index != null) {\r\n\t\t\t\t/** @type {Array<Node>} */ (parent[prop])[index] = node;\r\n\t\t\t} else {\r\n\t\t\t\t/** @type {Node} */ (parent[prop]) = node;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @template {Node} Parent\r\n\t * @param {Parent | null | undefined} parent\r\n\t * @param {keyof Parent | null | undefined} prop\r\n\t * @param {number | null | undefined} index\r\n\t */\r\n\tremove(parent, prop, index) {\r\n\t\tif (parent && prop) {\r\n\t\t\tif (index !== null && index !== undefined) {\r\n\t\t\t\t/** @type {Array<Node>} */ (parent[prop]).splice(index, 1);\r\n\t\t\t} else {\r\n\t\t\t\tdelete parent[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @typedef { import('estree').Node} Node\r\n * @typedef { import('./walker.js').WalkerContext} WalkerContext\r\n * @typedef {(\r\n *    this: WalkerContext,\r\n *    node: Node,\r\n *    parent: Node | null,\r\n *    key: string | number | symbol | null | undefined,\r\n *    index: number | null | undefined\r\n * ) => void} SyncHandler\r\n */\r\n\r\nclass SyncWalker extends WalkerBase {\r\n\t/**\r\n\t *\r\n\t * @param {SyncHandler} [enter]\r\n\t * @param {SyncHandler} [leave]\r\n\t */\r\n\tconstructor(enter, leave) {\r\n\t\tsuper();\r\n\r\n\t\t/** @type {boolean} */\r\n\t\tthis.should_skip = false;\r\n\r\n\t\t/** @type {boolean} */\r\n\t\tthis.should_remove = false;\r\n\r\n\t\t/** @type {Node | null} */\r\n\t\tthis.replacement = null;\r\n\r\n\t\t/** @type {WalkerContext} */\r\n\t\tthis.context = {\r\n\t\t\tskip: () => (this.should_skip = true),\r\n\t\t\tremove: () => (this.should_remove = true),\r\n\t\t\treplace: (node) => (this.replacement = node)\r\n\t\t};\r\n\r\n\t\t/** @type {SyncHandler | undefined} */\r\n\t\tthis.enter = enter;\r\n\r\n\t\t/** @type {SyncHandler | undefined} */\r\n\t\tthis.leave = leave;\r\n\t}\r\n\r\n\t/**\r\n\t * @template {Node} Parent\r\n\t * @param {Node} node\r\n\t * @param {Parent | null} parent\r\n\t * @param {keyof Parent} [prop]\r\n\t * @param {number | null} [index]\r\n\t * @returns {Node | null}\r\n\t */\r\n\tvisit(node, parent, prop, index) {\r\n\t\tif (node) {\r\n\t\t\tif (this.enter) {\r\n\t\t\t\tconst _should_skip = this.should_skip;\r\n\t\t\t\tconst _should_remove = this.should_remove;\r\n\t\t\t\tconst _replacement = this.replacement;\r\n\t\t\t\tthis.should_skip = false;\r\n\t\t\t\tthis.should_remove = false;\r\n\t\t\t\tthis.replacement = null;\r\n\r\n\t\t\t\tthis.enter.call(this.context, node, parent, prop, index);\r\n\r\n\t\t\t\tif (this.replacement) {\r\n\t\t\t\t\tnode = this.replacement;\r\n\t\t\t\t\tthis.replace(parent, prop, index, node);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.should_remove) {\r\n\t\t\t\t\tthis.remove(parent, prop, index);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst skipped = this.should_skip;\r\n\t\t\t\tconst removed = this.should_remove;\r\n\r\n\t\t\t\tthis.should_skip = _should_skip;\r\n\t\t\t\tthis.should_remove = _should_remove;\r\n\t\t\t\tthis.replacement = _replacement;\r\n\r\n\t\t\t\tif (skipped) return node;\r\n\t\t\t\tif (removed) return null;\r\n\t\t\t}\r\n\r\n\t\t\t/** @type {keyof Node} */\r\n\t\t\tlet key;\r\n\r\n\t\t\tfor (key in node) {\r\n\t\t\t\t/** @type {unknown} */\r\n\t\t\t\tconst value = node[key];\r\n\r\n\t\t\t\tif (value && typeof value === 'object') {\r\n\t\t\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\t\t\tconst nodes = /** @type {Array<unknown>} */ (value);\r\n\t\t\t\t\t\tfor (let i = 0; i < nodes.length; i += 1) {\r\n\t\t\t\t\t\t\tconst item = nodes[i];\r\n\t\t\t\t\t\t\tif (isNode(item)) {\r\n\t\t\t\t\t\t\t\tif (!this.visit(item, node, key, i)) {\r\n\t\t\t\t\t\t\t\t\t// removed\r\n\t\t\t\t\t\t\t\t\ti--;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (isNode(value)) {\r\n\t\t\t\t\t\tthis.visit(value, node, key, null);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.leave) {\r\n\t\t\t\tconst _replacement = this.replacement;\r\n\t\t\t\tconst _should_remove = this.should_remove;\r\n\t\t\t\tthis.replacement = null;\r\n\t\t\t\tthis.should_remove = false;\r\n\r\n\t\t\t\tthis.leave.call(this.context, node, parent, prop, index);\r\n\r\n\t\t\t\tif (this.replacement) {\r\n\t\t\t\t\tnode = this.replacement;\r\n\t\t\t\t\tthis.replace(parent, prop, index, node);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.should_remove) {\r\n\t\t\t\t\tthis.remove(parent, prop, index);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst removed = this.should_remove;\r\n\r\n\t\t\t\tthis.replacement = _replacement;\r\n\t\t\t\tthis.should_remove = _should_remove;\r\n\r\n\t\t\t\tif (removed) return null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn node;\r\n\t}\r\n}\r\n\r\n/**\r\n * Ducktype a node.\r\n *\r\n * @param {unknown} value\r\n * @returns {value is Node}\r\n */\r\nfunction isNode(value) {\r\n\treturn (\r\n\t\tvalue !== null && typeof value === 'object' && 'type' in value && typeof value.type === 'string'\r\n\t);\r\n}\r\n\r\n/**\r\n * @typedef {import('estree').Node} Node\r\n * @typedef {import('./sync.js').SyncHandler} SyncHandler\r\n * @typedef {import('./async.js').AsyncHandler} AsyncHandler\r\n */\r\n\r\n/**\r\n * @param {Node} ast\r\n * @param {{\r\n *   enter?: SyncHandler\r\n *   leave?: SyncHandler\r\n * }} walker\r\n * @returns {Node | null}\r\n */\r\nfunction walk$1(ast, { enter, leave }) {\r\n\tconst instance = new SyncWalker(enter, leave);\r\n\treturn instance.visit(ast, null);\r\n}\r\n\r\nconst ssrModuleExportsKey = `__vite_ssr_exports__`;\r\nconst ssrImportKey = `__vite_ssr_import__`;\r\nconst ssrDynamicImportKey = `__vite_ssr_dynamic_import__`;\r\nconst ssrExportAllKey = `__vite_ssr_exportAll__`;\r\nconst ssrImportMetaKey = `__vite_ssr_import_meta__`;\r\nconst hashbangRE = /^#!.*\\n/;\r\nasync function ssrTransform(code, inMap, url, originalCode, options) {\r\n  if (options?.json?.stringify && isJSONRequest(url)) {\r\n    return ssrTransformJSON(code, inMap);\r\n  }\r\n  return ssrTransformScript(code, inMap, url, originalCode);\r\n}\r\nasync function ssrTransformJSON(code, inMap) {\r\n  return {\r\n    code: code.replace(\"export default\", `${ssrModuleExportsKey}.default =`),\r\n    map: inMap,\r\n    deps: [],\r\n    dynamicDeps: []\r\n  };\r\n}\r\nasync function ssrTransformScript(code, inMap, url, originalCode) {\r\n  const s = new MagicString(code);\r\n  let ast;\r\n  try {\r\n    ast = await parseAstAsync(code);\r\n  } catch (err) {\r\n    if (!err.loc || !err.loc.line) throw err;\r\n    const line = err.loc.line;\r\n    throw new Error(\r\n      `Parse failure: ${err.message}\r\nAt file: ${url}\r\nContents of line ${line}: ${code.split(\"\\n\")[line - 1]}`\r\n    );\r\n  }\r\n  let uid = 0;\r\n  const deps = /* @__PURE__ */ new Set();\r\n  const dynamicDeps = /* @__PURE__ */ new Set();\r\n  const idToImportMap = /* @__PURE__ */ new Map();\r\n  const declaredConst = /* @__PURE__ */ new Set();\r\n  const hoistIndex = hashbangRE.exec(code)?.[0].length ?? 0;\r\n  function defineImport(index, source, metadata) {\r\n    deps.add(source);\r\n    const importId = `__vite_ssr_import_${uid++}__`;\r\n    if (metadata && (metadata.importedNames == null || metadata.importedNames.length === 0)) {\r\n      metadata = void 0;\r\n    }\r\n    const metadataStr = metadata ? `, ${JSON.stringify(metadata)}` : \"\";\r\n    s.appendLeft(\r\n      index,\r\n      `const ${importId} = await ${ssrImportKey}(${JSON.stringify(\r\n        source\r\n      )}${metadataStr});\r\n`\r\n    );\r\n    return importId;\r\n  }\r\n  function defineExport(position, name, local = name) {\r\n    s.appendLeft(\r\n      position,\r\n      `\r\nObject.defineProperty(${ssrModuleExportsKey}, \"${name}\", { enumerable: true, configurable: true, get(){ return ${local} }});`\r\n    );\r\n  }\r\n  const imports = [];\r\n  const exports = [];\r\n  for (const node of ast.body) {\r\n    if (node.type === \"ImportDeclaration\") {\r\n      imports.push(node);\r\n    } else if (node.type === \"ExportNamedDeclaration\" || node.type === \"ExportDefaultDeclaration\" || node.type === \"ExportAllDeclaration\") {\r\n      exports.push(node);\r\n    }\r\n  }\r\n  for (const node of imports) {\r\n    const importId = defineImport(hoistIndex, node.source.value, {\r\n      importedNames: node.specifiers.map((s2) => {\r\n        if (s2.type === \"ImportSpecifier\")\r\n          return s2.imported.type === \"Identifier\" ? s2.imported.name : (\r\n            // @ts-expect-error TODO: Estree types don't consider arbitrary module namespace specifiers yet\r\n            s2.imported.value\r\n          );\r\n        else if (s2.type === \"ImportDefaultSpecifier\") return \"default\";\r\n      }).filter(isDefined)\r\n    });\r\n    s.remove(node.start, node.end);\r\n    for (const spec of node.specifiers) {\r\n      if (spec.type === \"ImportSpecifier\") {\r\n        if (spec.imported.type === \"Identifier\") {\r\n          idToImportMap.set(\r\n            spec.local.name,\r\n            `${importId}.${spec.imported.name}`\r\n          );\r\n        } else {\r\n          idToImportMap.set(\r\n            spec.local.name,\r\n            `${importId}[${// @ts-expect-error TODO: Estree types don't consider arbitrary module namespace specifiers yet\r\n            JSON.stringify(spec.imported.value)}]`\r\n          );\r\n        }\r\n      } else if (spec.type === \"ImportDefaultSpecifier\") {\r\n        idToImportMap.set(spec.local.name, `${importId}.default`);\r\n      } else {\r\n        idToImportMap.set(spec.local.name, importId);\r\n      }\r\n    }\r\n  }\r\n  for (const node of exports) {\r\n    if (node.type === \"ExportNamedDeclaration\") {\r\n      if (node.declaration) {\r\n        if (node.declaration.type === \"FunctionDeclaration\" || node.declaration.type === \"ClassDeclaration\") {\r\n          defineExport(node.end, node.declaration.id.name);\r\n        } else {\r\n          for (const declaration of node.declaration.declarations) {\r\n            const names = extract_names(declaration.id);\r\n            for (const name of names) {\r\n              defineExport(node.end, name);\r\n            }\r\n          }\r\n        }\r\n        s.remove(node.start, node.declaration.start);\r\n      } else {\r\n        s.remove(node.start, node.end);\r\n        if (node.source) {\r\n          const importId = defineImport(\r\n            node.start,\r\n            node.source.value,\r\n            {\r\n              importedNames: node.specifiers.map((s2) => s2.local.name)\r\n            }\r\n          );\r\n          for (const spec of node.specifiers) {\r\n            const exportedAs = spec.exported.type === \"Identifier\" ? spec.exported.name : (\r\n              // @ts-expect-error TODO: Estree types don't consider arbitrary module namespace specifiers yet\r\n              spec.exported.value\r\n            );\r\n            defineExport(\r\n              node.start,\r\n              exportedAs,\r\n              `${importId}.${spec.local.name}`\r\n            );\r\n          }\r\n        } else {\r\n          for (const spec of node.specifiers) {\r\n            const local = spec.local.name;\r\n            const binding = idToImportMap.get(local);\r\n            const exportedAs = spec.exported.type === \"Identifier\" ? spec.exported.name : (\r\n              // @ts-expect-error TODO: Estree types don't consider arbitrary module namespace specifiers yet\r\n              spec.exported.value\r\n            );\r\n            defineExport(node.end, exportedAs, binding || local);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (node.type === \"ExportDefaultDeclaration\") {\r\n      const expressionTypes = [\"FunctionExpression\", \"ClassExpression\"];\r\n      if (\"id\" in node.declaration && node.declaration.id && !expressionTypes.includes(node.declaration.type)) {\r\n        const { name } = node.declaration.id;\r\n        s.remove(\r\n          node.start,\r\n          node.start + 15\r\n          /* 'export default '.length */\r\n        );\r\n        s.append(\r\n          `\r\nObject.defineProperty(${ssrModuleExportsKey}, \"default\", { enumerable: true, configurable: true, value: ${name} });`\r\n        );\r\n      } else {\r\n        s.update(\r\n          node.start,\r\n          node.start + 14,\r\n          `${ssrModuleExportsKey}.default =`\r\n        );\r\n      }\r\n    }\r\n    if (node.type === \"ExportAllDeclaration\") {\r\n      s.remove(node.start, node.end);\r\n      const importId = defineImport(node.start, node.source.value);\r\n      if (node.exported) {\r\n        defineExport(node.start, node.exported.name, `${importId}`);\r\n      } else {\r\n        s.appendLeft(node.start, `${ssrExportAllKey}(${importId});\r\n`);\r\n      }\r\n    }\r\n  }\r\n  walk(ast, {\r\n    onIdentifier(id, parent, parentStack) {\r\n      const grandparent = parentStack[1];\r\n      const binding = idToImportMap.get(id.name);\r\n      if (!binding) {\r\n        return;\r\n      }\r\n      if (isStaticProperty(parent) && parent.shorthand) {\r\n        if (!isNodeInPattern(parent) || isInDestructuringAssignment(parent, parentStack)) {\r\n          s.appendLeft(id.end, `: ${binding}`);\r\n        }\r\n      } else if (parent.type === \"PropertyDefinition\" && grandparent?.type === \"ClassBody\" || parent.type === \"ClassDeclaration\" && id === parent.superClass) {\r\n        if (!declaredConst.has(id.name)) {\r\n          declaredConst.add(id.name);\r\n          const topNode = parentStack[parentStack.length - 2];\r\n          s.prependRight(topNode.start, `const ${id.name} = ${binding};\r\n`);\r\n        }\r\n      } else if (\r\n        // don't transform class name identifier\r\n        !(parent.type === \"ClassExpression\" && id === parent.id)\r\n      ) {\r\n        s.update(id.start, id.end, binding);\r\n      }\r\n    },\r\n    onImportMeta(node) {\r\n      s.update(node.start, node.end, ssrImportMetaKey);\r\n    },\r\n    onDynamicImport(node) {\r\n      s.update(node.start, node.start + 6, ssrDynamicImportKey);\r\n      if (node.type === \"ImportExpression\" && node.source.type === \"Literal\") {\r\n        dynamicDeps.add(node.source.value);\r\n      }\r\n    }\r\n  });\r\n  let map = s.generateMap({ hires: \"boundary\" });\r\n  map.sources = [path$n.basename(url)];\r\n  map.sourcesContent = [originalCode];\r\n  if (inMap && inMap.mappings && \"sources\" in inMap && inMap.sources.length > 0) {\r\n    map = combineSourcemaps(url, [\r\n      map,\r\n      inMap\r\n    ]);\r\n  }\r\n  return {\r\n    code: s.toString(),\r\n    map,\r\n    deps: [...deps],\r\n    dynamicDeps: [...dynamicDeps]\r\n  };\r\n}\r\nconst isNodeInPatternWeakSet = /* @__PURE__ */ new WeakSet();\r\nconst setIsNodeInPattern = (node) => isNodeInPatternWeakSet.add(node);\r\nconst isNodeInPattern = (node) => isNodeInPatternWeakSet.has(node);\r\nfunction walk(root, { onIdentifier, onImportMeta, onDynamicImport }) {\r\n  const parentStack = [];\r\n  const varKindStack = [];\r\n  const scopeMap = /* @__PURE__ */ new WeakMap();\r\n  const identifiers = [];\r\n  const setScope = (node, name) => {\r\n    let scopeIds = scopeMap.get(node);\r\n    if (scopeIds && scopeIds.has(name)) {\r\n      return;\r\n    }\r\n    if (!scopeIds) {\r\n      scopeIds = /* @__PURE__ */ new Set();\r\n      scopeMap.set(node, scopeIds);\r\n    }\r\n    scopeIds.add(name);\r\n  };\r\n  function isInScope(name, parents) {\r\n    return parents.some((node) => node && scopeMap.get(node)?.has(name));\r\n  }\r\n  function handlePattern(p, parentScope) {\r\n    if (p.type === \"Identifier\") {\r\n      setScope(parentScope, p.name);\r\n    } else if (p.type === \"RestElement\") {\r\n      handlePattern(p.argument, parentScope);\r\n    } else if (p.type === \"ObjectPattern\") {\r\n      p.properties.forEach((property) => {\r\n        if (property.type === \"RestElement\") {\r\n          setScope(parentScope, property.argument.name);\r\n        } else {\r\n          handlePattern(property.value, parentScope);\r\n        }\r\n      });\r\n    } else if (p.type === \"ArrayPattern\") {\r\n      p.elements.forEach((element) => {\r\n        if (element) {\r\n          handlePattern(element, parentScope);\r\n        }\r\n      });\r\n    } else if (p.type === \"AssignmentPattern\") {\r\n      handlePattern(p.left, parentScope);\r\n    } else {\r\n      setScope(parentScope, p.name);\r\n    }\r\n  }\r\n  walk$1(root, {\r\n    enter(node, parent) {\r\n      if (node.type === \"ImportDeclaration\") {\r\n        return this.skip();\r\n      }\r\n      if (parent && !(parent.type === \"IfStatement\" && node === parent.alternate)) {\r\n        parentStack.unshift(parent);\r\n      }\r\n      if (node.type === \"VariableDeclaration\") {\r\n        varKindStack.unshift(node.kind);\r\n      }\r\n      if (node.type === \"MetaProperty\" && node.meta.name === \"import\") {\r\n        onImportMeta(node);\r\n      } else if (node.type === \"ImportExpression\") {\r\n        onDynamicImport(node);\r\n      }\r\n      if (node.type === \"Identifier\") {\r\n        if (!isInScope(node.name, parentStack) && isRefIdentifier(node, parent, parentStack)) {\r\n          identifiers.push([node, parentStack.slice(0)]);\r\n        }\r\n      } else if (isFunction$1(node)) {\r\n        if (node.type === \"FunctionDeclaration\") {\r\n          const parentScope = findParentScope(parentStack);\r\n          if (parentScope) {\r\n            setScope(parentScope, node.id.name);\r\n          }\r\n        }\r\n        if (node.type === \"FunctionExpression\" && node.id) {\r\n          setScope(node, node.id.name);\r\n        }\r\n        node.params.forEach((p) => {\r\n          if (p.type === \"ObjectPattern\" || p.type === \"ArrayPattern\") {\r\n            handlePattern(p, node);\r\n            return;\r\n          }\r\n          walk$1(p.type === \"AssignmentPattern\" ? p.left : p, {\r\n            enter(child, parent2) {\r\n              if (parent2?.type === \"AssignmentPattern\" && parent2?.right === child) {\r\n                return this.skip();\r\n              }\r\n              if (child.type !== \"Identifier\") return;\r\n              if (isStaticPropertyKey(child, parent2)) return;\r\n              if (parent2?.type === \"TemplateLiteral\" && parent2?.expressions.includes(child) || parent2?.type === \"CallExpression\" && parent2?.callee === child) {\r\n                return;\r\n              }\r\n              setScope(node, child.name);\r\n            }\r\n          });\r\n        });\r\n      } else if (node.type === \"ClassDeclaration\") {\r\n        const parentScope = findParentScope(parentStack);\r\n        if (parentScope) {\r\n          setScope(parentScope, node.id.name);\r\n        }\r\n      } else if (node.type === \"ClassExpression\" && node.id) {\r\n        setScope(node, node.id.name);\r\n      } else if (node.type === \"Property\" && parent.type === \"ObjectPattern\") {\r\n        setIsNodeInPattern(node);\r\n      } else if (node.type === \"VariableDeclarator\") {\r\n        const parentFunction = findParentScope(\r\n          parentStack,\r\n          varKindStack[0] === \"var\"\r\n        );\r\n        if (parentFunction) {\r\n          handlePattern(node.id, parentFunction);\r\n        }\r\n      } else if (node.type === \"CatchClause\" && node.param) {\r\n        handlePattern(node.param, node);\r\n      }\r\n    },\r\n    leave(node, parent) {\r\n      if (parent && !(parent.type === \"IfStatement\" && node === parent.alternate)) {\r\n        parentStack.shift();\r\n      }\r\n      if (node.type === \"VariableDeclaration\") {\r\n        varKindStack.shift();\r\n      }\r\n    }\r\n  });\r\n  identifiers.forEach(([node, stack]) => {\r\n    if (!isInScope(node.name, stack)) onIdentifier(node, stack[0], stack);\r\n  });\r\n}\r\nfunction isRefIdentifier(id, parent, parentStack) {\r\n  if (parent.type === \"CatchClause\" || (parent.type === \"VariableDeclarator\" || parent.type === \"ClassDeclaration\") && parent.id === id) {\r\n    return false;\r\n  }\r\n  if (isFunction$1(parent)) {\r\n    if (parent.id === id) {\r\n      return false;\r\n    }\r\n    if (parent.params.includes(id)) {\r\n      return false;\r\n    }\r\n  }\r\n  if (parent.type === \"MethodDefinition\" && !parent.computed) {\r\n    return false;\r\n  }\r\n  if (isStaticPropertyKey(id, parent)) {\r\n    return false;\r\n  }\r\n  if (isNodeInPattern(parent) && parent.value === id) {\r\n    return false;\r\n  }\r\n  if (parent.type === \"ArrayPattern\" && !isInDestructuringAssignment(parent, parentStack)) {\r\n    return false;\r\n  }\r\n  if (parent.type === \"MemberExpression\" && parent.property === id && !parent.computed) {\r\n    return false;\r\n  }\r\n  if (parent.type === \"ExportSpecifier\") {\r\n    return false;\r\n  }\r\n  if (id.name === \"arguments\") {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\nconst isStaticProperty = (node) => node && node.type === \"Property\" && !node.computed;\r\nconst isStaticPropertyKey = (node, parent) => isStaticProperty(parent) && parent.key === node;\r\nconst functionNodeTypeRE = /Function(?:Expression|Declaration)$|Method$/;\r\nfunction isFunction$1(node) {\r\n  return functionNodeTypeRE.test(node.type);\r\n}\r\nconst blockNodeTypeRE = /^BlockStatement$|^For(?:In|Of)?Statement$/;\r\nfunction isBlock(node) {\r\n  return blockNodeTypeRE.test(node.type);\r\n}\r\nfunction findParentScope(parentStack, isVar = false) {\r\n  return parentStack.find(isVar ? isFunction$1 : isBlock);\r\n}\r\nfunction isInDestructuringAssignment(parent, parentStack) {\r\n  if (parent && (parent.type === \"Property\" || parent.type === \"ArrayPattern\")) {\r\n    return parentStack.some((i) => i.type === \"AssignmentExpression\");\r\n  }\r\n  return false;\r\n}\r\n\r\nlet offset;\r\nfunction calculateOffsetOnce() {\r\n  if (offset !== void 0) {\r\n    return;\r\n  }\r\n  try {\r\n    new Function(\"throw new Error(1)\")();\r\n  } catch (e) {\r\n    const match = /:(\\d+):\\d+\\)$/.exec(e.stack.split(\"\\n\")[1]);\r\n    offset = match ? +match[1] - 1 : 0;\r\n  }\r\n}\r\nfunction ssrRewriteStacktrace(stack, moduleGraph) {\r\n  calculateOffsetOnce();\r\n  return stack.split(\"\\n\").map((line) => {\r\n    return line.replace(\r\n      /^ {4}at (?:(\\S.*?)\\s\\()?(.+?):(\\d+)(?::(\\d+))?\\)?/,\r\n      (input, varName, id, line2, column) => {\r\n        if (!id) return input;\r\n        const mod = moduleGraph.idToModuleMap.get(id);\r\n        const rawSourceMap = mod?.ssrTransformResult?.map;\r\n        if (!rawSourceMap) {\r\n          return input;\r\n        }\r\n        const traced = new TraceMap(rawSourceMap);\r\n        const pos = originalPositionFor$1(traced, {\r\n          line: Number(line2) - offset,\r\n          // stacktrace's column is 1-indexed, but sourcemap's one is 0-indexed\r\n          column: Number(column) - 1\r\n        });\r\n        if (!pos.source || pos.line == null || pos.column == null) {\r\n          return input;\r\n        }\r\n        const trimmedVarName = varName.trim();\r\n        const sourceFile = path$n.resolve(path$n.dirname(id), pos.source);\r\n        const source = `${sourceFile}:${pos.line}:${pos.column + 1}`;\r\n        if (!trimmedVarName || trimmedVarName === \"eval\") {\r\n          return `    at ${source}`;\r\n        } else {\r\n          return `    at ${trimmedVarName} (${source})`;\r\n        }\r\n      }\r\n    );\r\n  }).join(\"\\n\");\r\n}\r\nfunction rebindErrorStacktrace(e, stacktrace) {\r\n  const { configurable, writable } = Object.getOwnPropertyDescriptor(\r\n    e,\r\n    \"stack\"\r\n  );\r\n  if (configurable) {\r\n    Object.defineProperty(e, \"stack\", {\r\n      value: stacktrace,\r\n      enumerable: true,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n  } else if (writable) {\r\n    e.stack = stacktrace;\r\n  }\r\n}\r\nconst rewroteStacktraces = /* @__PURE__ */ new WeakSet();\r\nfunction ssrFixStacktrace(e, moduleGraph) {\r\n  if (!e.stack) return;\r\n  if (rewroteStacktraces.has(e)) return;\r\n  const stacktrace = ssrRewriteStacktrace(e.stack, moduleGraph);\r\n  rebindErrorStacktrace(e, stacktrace);\r\n  rewroteStacktraces.add(e);\r\n}\r\n\r\nconst pendingModules = /* @__PURE__ */ new Map();\r\nconst pendingModuleDependencyGraph = /* @__PURE__ */ new Map();\r\nconst importErrors = /* @__PURE__ */ new WeakMap();\r\nasync function ssrLoadModule(url, server, fixStacktrace) {\r\n  url = unwrapId$1(url);\r\n  const pending = pendingModules.get(url);\r\n  if (pending) {\r\n    return pending;\r\n  }\r\n  const modulePromise = instantiateModule(url, server, fixStacktrace);\r\n  pendingModules.set(url, modulePromise);\r\n  modulePromise.catch(() => {\r\n  }).finally(() => {\r\n    pendingModules.delete(url);\r\n  });\r\n  return modulePromise;\r\n}\r\nasync function instantiateModule(url, server, fixStacktrace) {\r\n  const { moduleGraph } = server;\r\n  const mod = await moduleGraph.ensureEntryFromUrl(url, true);\r\n  if (mod.ssrError) {\r\n    throw mod.ssrError;\r\n  }\r\n  if (mod.ssrModule) {\r\n    return mod.ssrModule;\r\n  }\r\n  const result = mod.ssrTransformResult || await transformRequest(url, server, { ssr: true });\r\n  if (!result) {\r\n    throw new Error(`failed to load module for ssr: ${url}`);\r\n  }\r\n  const ssrModule = {\r\n    [Symbol.toStringTag]: \"Module\"\r\n  };\r\n  Object.defineProperty(ssrModule, \"__esModule\", { value: true });\r\n  mod.ssrModule = ssrModule;\r\n  const osNormalizedFilename = isWindows$3 ? path$n.resolve(mod.file) : mod.file;\r\n  const ssrImportMeta = {\r\n    dirname: path$n.dirname(osNormalizedFilename),\r\n    filename: osNormalizedFilename,\r\n    // The filesystem URL, matching native Node.js modules\r\n    url: pathToFileURL(mod.file).toString()\r\n  };\r\n  const {\r\n    isProduction,\r\n    resolve: { dedupe, preserveSymlinks },\r\n    root,\r\n    ssr\r\n  } = server.config;\r\n  const overrideConditions = ssr.resolve?.externalConditions || [];\r\n  const resolveOptions = {\r\n    mainFields: [\"main\"],\r\n    conditions: [],\r\n    overrideConditions: [...overrideConditions, \"production\", \"development\"],\r\n    extensions: [\".js\", \".cjs\", \".json\"],\r\n    dedupe,\r\n    preserveSymlinks,\r\n    isBuild: false,\r\n    isProduction,\r\n    root,\r\n    ssrConfig: ssr,\r\n    legacyProxySsrExternalModules: server.config.legacy?.proxySsrExternalModules,\r\n    packageCache: server.config.packageCache\r\n  };\r\n  const ssrImport = async (dep, metadata) => {\r\n    try {\r\n      if (dep[0] !== \".\" && dep[0] !== \"/\") {\r\n        return await nodeImport(dep, mod.file, resolveOptions, metadata);\r\n      }\r\n      dep = unwrapId$1(dep);\r\n      if (!metadata?.isDynamicImport) {\r\n        addPendingModuleDependency(url, dep);\r\n        if (checkModuleDependencyExists(dep, url)) {\r\n          const depSsrModule = moduleGraph.urlToModuleMap.get(dep)?.ssrModule;\r\n          if (!depSsrModule) {\r\n            throw new Error(\r\n              \"[vite] The dependency module is not yet fully initialized due to circular dependency. This is a bug in Vite SSR\"\r\n            );\r\n          }\r\n          return depSsrModule;\r\n        }\r\n      }\r\n      return ssrLoadModule(dep, server, fixStacktrace);\r\n    } catch (err) {\r\n      importErrors.set(err, { importee: dep });\r\n      throw err;\r\n    }\r\n  };\r\n  const ssrDynamicImport = (dep) => {\r\n    if (dep[0] === \".\") {\r\n      dep = path$n.posix.resolve(path$n.dirname(url), dep);\r\n    }\r\n    return ssrImport(dep, { isDynamicImport: true });\r\n  };\r\n  function ssrExportAll(sourceModule) {\r\n    for (const key in sourceModule) {\r\n      if (key !== \"default\" && key !== \"__esModule\") {\r\n        Object.defineProperty(ssrModule, key, {\r\n          enumerable: true,\r\n          configurable: true,\r\n          get() {\r\n            return sourceModule[key];\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  let sourceMapSuffix = \"\";\r\n  if (result.map && \"version\" in result.map) {\r\n    const moduleSourceMap = Object.assign({}, result.map, {\r\n      mappings: \";\".repeat(asyncFunctionDeclarationPaddingLineCount) + result.map.mappings\r\n    });\r\n    sourceMapSuffix = `\r\n//# ${SOURCEMAPPING_URL}=${genSourceMapUrl(moduleSourceMap)}`;\r\n  }\r\n  try {\r\n    const initModule = new AsyncFunction(\r\n      ssrModuleExportsKey,\r\n      ssrImportMetaKey,\r\n      ssrImportKey,\r\n      ssrDynamicImportKey,\r\n      ssrExportAllKey,\r\n      '\"use strict\";' + result.code + `\r\n//# sourceURL=${mod.id}${sourceMapSuffix}`\r\n    );\r\n    await initModule(\r\n      ssrModule,\r\n      ssrImportMeta,\r\n      ssrImport,\r\n      ssrDynamicImport,\r\n      ssrExportAll\r\n    );\r\n  } catch (e) {\r\n    mod.ssrError = e;\r\n    const errorData = importErrors.get(e);\r\n    if (e.stack && fixStacktrace) {\r\n      ssrFixStacktrace(e, moduleGraph);\r\n    }\r\n    server.config.logger.error(\r\n      colors$1.red(\r\n        `Error when evaluating SSR module ${url}:` + (errorData?.importee ? ` failed to import \"${errorData.importee}\"` : \"\") + `\r\n|- ${e.stack}\r\n`\r\n      ),\r\n      {\r\n        timestamp: true,\r\n        clear: server.config.clearScreen,\r\n        error: e\r\n      }\r\n    );\r\n    throw e;\r\n  } finally {\r\n    pendingModuleDependencyGraph.delete(url);\r\n  }\r\n  return Object.freeze(ssrModule);\r\n}\r\nfunction addPendingModuleDependency(originUrl, depUrl) {\r\n  if (pendingModuleDependencyGraph.has(originUrl)) {\r\n    pendingModuleDependencyGraph.get(originUrl).add(depUrl);\r\n  } else {\r\n    pendingModuleDependencyGraph.set(originUrl, /* @__PURE__ */ new Set([depUrl]));\r\n  }\r\n}\r\nfunction checkModuleDependencyExists(originUrl, targetUrl) {\r\n  const visited = /* @__PURE__ */ new Set();\r\n  const stack = [originUrl];\r\n  while (stack.length) {\r\n    const currentUrl = stack.pop();\r\n    if (currentUrl === targetUrl) {\r\n      return true;\r\n    }\r\n    if (!visited.has(currentUrl)) {\r\n      visited.add(currentUrl);\r\n      const dependencies = pendingModuleDependencyGraph.get(currentUrl);\r\n      if (dependencies) {\r\n        for (const depUrl of dependencies) {\r\n          if (!visited.has(depUrl)) {\r\n            stack.push(depUrl);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\nasync function nodeImport(id, importer, resolveOptions, metadata) {\r\n  let url;\r\n  let filePath;\r\n  if (id.startsWith(\"data:\") || isExternalUrl(id) || isBuiltin(id)) {\r\n    url = id;\r\n  } else {\r\n    const resolved = tryNodeResolve(\r\n      id,\r\n      importer,\r\n      { ...resolveOptions, tryEsmOnly: true },\r\n      false,\r\n      void 0,\r\n      true\r\n    );\r\n    if (!resolved) {\r\n      const err = new Error(\r\n        `Cannot find module '${id}' imported from '${importer}'`\r\n      );\r\n      err.code = \"ERR_MODULE_NOT_FOUND\";\r\n      throw err;\r\n    }\r\n    filePath = resolved.id;\r\n    url = pathToFileURL(resolved.id).toString();\r\n  }\r\n  const mod = await import(url);\r\n  if (resolveOptions.legacyProxySsrExternalModules) {\r\n    return proxyESM(mod);\r\n  } else if (filePath) {\r\n    analyzeImportedModDifference(\r\n      mod,\r\n      id,\r\n      isFilePathESM(filePath, resolveOptions.packageCache) ? \"module\" : void 0,\r\n      metadata\r\n    );\r\n    return mod;\r\n  } else {\r\n    return mod;\r\n  }\r\n}\r\nfunction proxyESM(mod) {\r\n  if (isPrimitive(mod)) return { default: mod };\r\n  let defaultExport = \"default\" in mod ? mod.default : mod;\r\n  if (!isPrimitive(defaultExport) && \"__esModule\" in defaultExport) {\r\n    mod = defaultExport;\r\n    if (\"default\" in defaultExport) {\r\n      defaultExport = defaultExport.default;\r\n    }\r\n  }\r\n  return new Proxy(mod, {\r\n    get(mod2, prop) {\r\n      if (prop === \"default\") return defaultExport;\r\n      return mod2[prop] ?? defaultExport?.[prop];\r\n    }\r\n  });\r\n}\r\nfunction isPrimitive(value) {\r\n  return !value || typeof value !== \"object\" && typeof value !== \"function\";\r\n}\r\n\r\nvar isWsl$2 = {exports: {}};\r\n\r\nconst fs$3 = require$$0__default;\r\n\r\nlet isDocker$2;\r\n\r\nfunction hasDockerEnv() {\r\n\ttry {\r\n\t\tfs$3.statSync('/.dockerenv');\r\n\t\treturn true;\r\n\t} catch (_) {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nfunction hasDockerCGroup() {\r\n\ttry {\r\n\t\treturn fs$3.readFileSync('/proc/self/cgroup', 'utf8').includes('docker');\r\n\t} catch (_) {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nvar isDocker_1 = () => {\r\n\tif (isDocker$2 === undefined) {\r\n\t\tisDocker$2 = hasDockerEnv() || hasDockerCGroup();\r\n\t}\r\n\r\n\treturn isDocker$2;\r\n};\r\n\r\nconst os = require$$2;\r\nconst fs$2 = require$$0__default;\r\nconst isDocker$1 = isDocker_1;\r\n\r\nconst isWsl$1 = () => {\r\n\tif (process.platform !== 'linux') {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (os.release().toLowerCase().includes('microsoft')) {\r\n\t\tif (isDocker$1()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\ttry {\r\n\t\treturn fs$2.readFileSync('/proc/version', 'utf8').toLowerCase().includes('microsoft') ?\r\n\t\t\t!isDocker$1() : false;\r\n\t} catch (_) {\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nif (process.env.__IS_WSL_TEST__) {\r\n\tisWsl$2.exports = isWsl$1;\r\n} else {\r\n\tisWsl$2.exports = isWsl$1();\r\n}\r\n\r\nvar isWslExports = isWsl$2.exports;\r\n\r\nvar defineLazyProp = (object, propertyName, fn) => {\r\n\tconst define = value => Object.defineProperty(object, propertyName, {value, enumerable: true, writable: true});\r\n\r\n\tObject.defineProperty(object, propertyName, {\r\n\t\tconfigurable: true,\r\n\t\tenumerable: true,\r\n\t\tget() {\r\n\t\t\tconst result = fn();\r\n\t\t\tdefine(result);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tset(value) {\r\n\t\t\tdefine(value);\r\n\t\t}\r\n\t});\r\n\r\n\treturn object;\r\n};\r\n\r\nconst path$3 = require$$0$4;\r\nconst childProcess = require$$2$1;\r\nconst {promises: fs$1, constants: fsConstants} = require$$0__default;\r\nconst isWsl = isWslExports;\r\nconst isDocker = isDocker_1;\r\nconst defineLazyProperty = defineLazyProp;\r\n\r\n// Path to included `xdg-open`.\r\nconst localXdgOpenPath = path$3.join(__dirname, 'xdg-open');\r\n\r\nconst {platform, arch} = process;\r\n\r\n// Podman detection\r\nconst hasContainerEnv = () => {\r\n\ttry {\r\n\t\tfs$1.statSync('/run/.containerenv');\r\n\t\treturn true;\r\n\t} catch {\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nlet cachedResult;\r\nfunction isInsideContainer() {\r\n\tif (cachedResult === undefined) {\r\n\t\tcachedResult = hasContainerEnv() || isDocker();\r\n\t}\r\n\r\n\treturn cachedResult;\r\n}\r\n\r\n/**\r\nGet the mount point for fixed drives in WSL.\r\n\r\n@inner\r\n@returns {string} The mount point.\r\n*/\r\nconst getWslDrivesMountPoint = (() => {\r\n\t// Default value for \"root\" param\r\n\t// according to https://docs.microsoft.com/en-us/windows/wsl/wsl-config\r\n\tconst defaultMountPoint = '/mnt/';\r\n\r\n\tlet mountPoint;\r\n\r\n\treturn async function () {\r\n\t\tif (mountPoint) {\r\n\t\t\t// Return memoized mount point value\r\n\t\t\treturn mountPoint;\r\n\t\t}\r\n\r\n\t\tconst configFilePath = '/etc/wsl.conf';\r\n\r\n\t\tlet isConfigFileExists = false;\r\n\t\ttry {\r\n\t\t\tawait fs$1.access(configFilePath, fsConstants.F_OK);\r\n\t\t\tisConfigFileExists = true;\r\n\t\t} catch {}\r\n\r\n\t\tif (!isConfigFileExists) {\r\n\t\t\treturn defaultMountPoint;\r\n\t\t}\r\n\r\n\t\tconst configContent = await fs$1.readFile(configFilePath, {encoding: 'utf8'});\r\n\t\tconst configMountPoint = /(?<!#.*)root\\s*=\\s*(?<mountPoint>.*)/g.exec(configContent);\r\n\r\n\t\tif (!configMountPoint) {\r\n\t\t\treturn defaultMountPoint;\r\n\t\t}\r\n\r\n\t\tmountPoint = configMountPoint.groups.mountPoint.trim();\r\n\t\tmountPoint = mountPoint.endsWith('/') ? mountPoint : `${mountPoint}/`;\r\n\r\n\t\treturn mountPoint;\r\n\t};\r\n})();\r\n\r\nconst pTryEach = async (array, mapper) => {\r\n\tlet latestError;\r\n\r\n\tfor (const item of array) {\r\n\t\ttry {\r\n\t\t\treturn await mapper(item); // eslint-disable-line no-await-in-loop\r\n\t\t} catch (error) {\r\n\t\t\tlatestError = error;\r\n\t\t}\r\n\t}\r\n\r\n\tthrow latestError;\r\n};\r\n\r\nconst baseOpen = async options => {\r\n\toptions = {\r\n\t\twait: false,\r\n\t\tbackground: false,\r\n\t\tnewInstance: false,\r\n\t\tallowNonzeroExitCode: false,\r\n\t\t...options\r\n\t};\r\n\r\n\tif (Array.isArray(options.app)) {\r\n\t\treturn pTryEach(options.app, singleApp => baseOpen({\r\n\t\t\t...options,\r\n\t\t\tapp: singleApp\r\n\t\t}));\r\n\t}\r\n\r\n\tlet {name: app, arguments: appArguments = []} = options.app || {};\r\n\tappArguments = [...appArguments];\r\n\r\n\tif (Array.isArray(app)) {\r\n\t\treturn pTryEach(app, appName => baseOpen({\r\n\t\t\t...options,\r\n\t\t\tapp: {\r\n\t\t\t\tname: appName,\r\n\t\t\t\targuments: appArguments\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\r\n\tlet command;\r\n\tconst cliArguments = [];\r\n\tconst childProcessOptions = {};\r\n\r\n\tif (platform === 'darwin') {\r\n\t\tcommand = 'open';\r\n\r\n\t\tif (options.wait) {\r\n\t\t\tcliArguments.push('--wait-apps');\r\n\t\t}\r\n\r\n\t\tif (options.background) {\r\n\t\t\tcliArguments.push('--background');\r\n\t\t}\r\n\r\n\t\tif (options.newInstance) {\r\n\t\t\tcliArguments.push('--new');\r\n\t\t}\r\n\r\n\t\tif (app) {\r\n\t\t\tcliArguments.push('-a', app);\r\n\t\t}\r\n\t} else if (platform === 'win32' || (isWsl && !isInsideContainer() && !app)) {\r\n\t\tconst mountPoint = await getWslDrivesMountPoint();\r\n\r\n\t\tcommand = isWsl ?\r\n\t\t\t`${mountPoint}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe` :\r\n\t\t\t`${process.env.SYSTEMROOT}\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell`;\r\n\r\n\t\tcliArguments.push(\r\n\t\t\t'-NoProfile',\r\n\t\t\t'-NonInteractive',\r\n\t\t\t'–ExecutionPolicy',\r\n\t\t\t'Bypass',\r\n\t\t\t'-EncodedCommand'\r\n\t\t);\r\n\r\n\t\tif (!isWsl) {\r\n\t\t\tchildProcessOptions.windowsVerbatimArguments = true;\r\n\t\t}\r\n\r\n\t\tconst encodedArguments = ['Start'];\r\n\r\n\t\tif (options.wait) {\r\n\t\t\tencodedArguments.push('-Wait');\r\n\t\t}\r\n\r\n\t\tif (app) {\r\n\t\t\t// Double quote with double quotes to ensure the inner quotes are passed through.\r\n\t\t\t// Inner quotes are delimited for PowerShell interpretation with backticks.\r\n\t\t\tencodedArguments.push(`\"\\`\"${app}\\`\"\"`, '-ArgumentList');\r\n\t\t\tif (options.target) {\r\n\t\t\t\tappArguments.unshift(options.target);\r\n\t\t\t}\r\n\t\t} else if (options.target) {\r\n\t\t\tencodedArguments.push(`\"${options.target}\"`);\r\n\t\t}\r\n\r\n\t\tif (appArguments.length > 0) {\r\n\t\t\tappArguments = appArguments.map(arg => `\"\\`\"${arg}\\`\"\"`);\r\n\t\t\tencodedArguments.push(appArguments.join(','));\r\n\t\t}\r\n\r\n\t\t// Using Base64-encoded command, accepted by PowerShell, to allow special characters.\r\n\t\toptions.target = Buffer.from(encodedArguments.join(' '), 'utf16le').toString('base64');\r\n\t} else {\r\n\t\tif (app) {\r\n\t\t\tcommand = app;\r\n\t\t} else {\r\n\t\t\t// When bundled by Webpack, there's no actual package file path and no local `xdg-open`.\r\n\t\t\tconst isBundled = !__dirname || __dirname === '/';\r\n\r\n\t\t\t// Check if local `xdg-open` exists and is executable.\r\n\t\t\tlet exeLocalXdgOpen = false;\r\n\t\t\ttry {\r\n\t\t\t\tawait fs$1.access(localXdgOpenPath, fsConstants.X_OK);\r\n\t\t\t\texeLocalXdgOpen = true;\r\n\t\t\t} catch {}\r\n\r\n\t\t\tconst useSystemXdgOpen = process.versions.electron ||\r\n\t\t\t\tplatform === 'android' || isBundled || !exeLocalXdgOpen;\r\n\t\t\tcommand = useSystemXdgOpen ? 'xdg-open' : localXdgOpenPath;\r\n\t\t}\r\n\r\n\t\tif (appArguments.length > 0) {\r\n\t\t\tcliArguments.push(...appArguments);\r\n\t\t}\r\n\r\n\t\tif (!options.wait) {\r\n\t\t\t// `xdg-open` will block the process unless stdio is ignored\r\n\t\t\t// and it's detached from the parent even if it's unref'd.\r\n\t\t\tchildProcessOptions.stdio = 'ignore';\r\n\t\t\tchildProcessOptions.detached = true;\r\n\t\t}\r\n\t}\r\n\r\n\tif (options.target) {\r\n\t\tcliArguments.push(options.target);\r\n\t}\r\n\r\n\tif (platform === 'darwin' && appArguments.length > 0) {\r\n\t\tcliArguments.push('--args', ...appArguments);\r\n\t}\r\n\r\n\tconst subprocess = childProcess.spawn(command, cliArguments, childProcessOptions);\r\n\r\n\tif (options.wait) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tsubprocess.once('error', reject);\r\n\r\n\t\t\tsubprocess.once('close', exitCode => {\r\n\t\t\t\tif (!options.allowNonzeroExitCode && exitCode > 0) {\r\n\t\t\t\t\treject(new Error(`Exited with code ${exitCode}`));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresolve(subprocess);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tsubprocess.unref();\r\n\r\n\treturn subprocess;\r\n};\r\n\r\nconst open = (target, options) => {\r\n\tif (typeof target !== 'string') {\r\n\t\tthrow new TypeError('Expected a `target`');\r\n\t}\r\n\r\n\treturn baseOpen({\r\n\t\t...options,\r\n\t\ttarget\r\n\t});\r\n};\r\n\r\nconst openApp = (name, options) => {\r\n\tif (typeof name !== 'string') {\r\n\t\tthrow new TypeError('Expected a `name`');\r\n\t}\r\n\r\n\tconst {arguments: appArguments = []} = options || {};\r\n\tif (appArguments !== undefined && appArguments !== null && !Array.isArray(appArguments)) {\r\n\t\tthrow new TypeError('Expected `appArguments` as Array type');\r\n\t}\r\n\r\n\treturn baseOpen({\r\n\t\t...options,\r\n\t\tapp: {\r\n\t\t\tname,\r\n\t\t\targuments: appArguments\r\n\t\t}\r\n\t});\r\n};\r\n\r\nfunction detectArchBinary(binary) {\r\n\tif (typeof binary === 'string' || Array.isArray(binary)) {\r\n\t\treturn binary;\r\n\t}\r\n\r\n\tconst {[arch]: archBinary} = binary;\r\n\r\n\tif (!archBinary) {\r\n\t\tthrow new Error(`${arch} is not supported`);\r\n\t}\r\n\r\n\treturn archBinary;\r\n}\r\n\r\nfunction detectPlatformBinary({[platform]: platformBinary}, {wsl}) {\r\n\tif (wsl && isWsl) {\r\n\t\treturn detectArchBinary(wsl);\r\n\t}\r\n\r\n\tif (!platformBinary) {\r\n\t\tthrow new Error(`${platform} is not supported`);\r\n\t}\r\n\r\n\treturn detectArchBinary(platformBinary);\r\n}\r\n\r\nconst apps = {};\r\n\r\ndefineLazyProperty(apps, 'chrome', () => detectPlatformBinary({\r\n\tdarwin: 'google chrome',\r\n\twin32: 'chrome',\r\n\tlinux: ['google-chrome', 'google-chrome-stable', 'chromium']\r\n}, {\r\n\twsl: {\r\n\t\tia32: '/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe',\r\n\t\tx64: ['/mnt/c/Program Files/Google/Chrome/Application/chrome.exe', '/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe']\r\n\t}\r\n}));\r\n\r\ndefineLazyProperty(apps, 'firefox', () => detectPlatformBinary({\r\n\tdarwin: 'firefox',\r\n\twin32: 'C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe',\r\n\tlinux: 'firefox'\r\n}, {\r\n\twsl: '/mnt/c/Program Files/Mozilla Firefox/firefox.exe'\r\n}));\r\n\r\ndefineLazyProperty(apps, 'edge', () => detectPlatformBinary({\r\n\tdarwin: 'microsoft edge',\r\n\twin32: 'msedge',\r\n\tlinux: ['microsoft-edge', 'microsoft-edge-dev']\r\n}, {\r\n\twsl: '/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe'\r\n}));\r\n\r\nopen.apps = apps;\r\nopen.openApp = openApp;\r\n\r\nvar open_1 = open;\r\n\r\nvar open$1 = /*@__PURE__*/getDefaultExportFromCjs(open_1);\r\n\r\nvar crossSpawn = {exports: {}};\r\n\r\nvar windows;\r\nvar hasRequiredWindows;\r\n\r\nfunction requireWindows () {\r\n\tif (hasRequiredWindows) return windows;\r\n\thasRequiredWindows = 1;\r\n\twindows = isexe;\r\n\tisexe.sync = sync;\r\n\r\n\tvar fs = require$$0__default;\r\n\r\n\tfunction checkPathExt (path, options) {\r\n\t  var pathext = options.pathExt !== undefined ?\r\n\t    options.pathExt : process.env.PATHEXT;\r\n\r\n\t  if (!pathext) {\r\n\t    return true\r\n\t  }\r\n\r\n\t  pathext = pathext.split(';');\r\n\t  if (pathext.indexOf('') !== -1) {\r\n\t    return true\r\n\t  }\r\n\t  for (var i = 0; i < pathext.length; i++) {\r\n\t    var p = pathext[i].toLowerCase();\r\n\t    if (p && path.substr(-p.length).toLowerCase() === p) {\r\n\t      return true\r\n\t    }\r\n\t  }\r\n\t  return false\r\n\t}\r\n\r\n\tfunction checkStat (stat, path, options) {\r\n\t  if (!stat.isSymbolicLink() && !stat.isFile()) {\r\n\t    return false\r\n\t  }\r\n\t  return checkPathExt(path, options)\r\n\t}\r\n\r\n\tfunction isexe (path, options, cb) {\r\n\t  fs.stat(path, function (er, stat) {\r\n\t    cb(er, er ? false : checkStat(stat, path, options));\r\n\t  });\r\n\t}\r\n\r\n\tfunction sync (path, options) {\r\n\t  return checkStat(fs.statSync(path), path, options)\r\n\t}\r\n\treturn windows;\r\n}\r\n\r\nvar mode;\r\nvar hasRequiredMode;\r\n\r\nfunction requireMode () {\r\n\tif (hasRequiredMode) return mode;\r\n\thasRequiredMode = 1;\r\n\tmode = isexe;\r\n\tisexe.sync = sync;\r\n\r\n\tvar fs = require$$0__default;\r\n\r\n\tfunction isexe (path, options, cb) {\r\n\t  fs.stat(path, function (er, stat) {\r\n\t    cb(er, er ? false : checkStat(stat, options));\r\n\t  });\r\n\t}\r\n\r\n\tfunction sync (path, options) {\r\n\t  return checkStat(fs.statSync(path), options)\r\n\t}\r\n\r\n\tfunction checkStat (stat, options) {\r\n\t  return stat.isFile() && checkMode(stat, options)\r\n\t}\r\n\r\n\tfunction checkMode (stat, options) {\r\n\t  var mod = stat.mode;\r\n\t  var uid = stat.uid;\r\n\t  var gid = stat.gid;\r\n\r\n\t  var myUid = options.uid !== undefined ?\r\n\t    options.uid : process.getuid && process.getuid();\r\n\t  var myGid = options.gid !== undefined ?\r\n\t    options.gid : process.getgid && process.getgid();\r\n\r\n\t  var u = parseInt('100', 8);\r\n\t  var g = parseInt('010', 8);\r\n\t  var o = parseInt('001', 8);\r\n\t  var ug = u | g;\r\n\r\n\t  var ret = (mod & o) ||\r\n\t    (mod & g) && gid === myGid ||\r\n\t    (mod & u) && uid === myUid ||\r\n\t    (mod & ug) && myUid === 0;\r\n\r\n\t  return ret\r\n\t}\r\n\treturn mode;\r\n}\r\n\r\nvar core;\r\nif (process.platform === 'win32' || commonjsGlobal.TESTING_WINDOWS) {\r\n  core = requireWindows();\r\n} else {\r\n  core = requireMode();\r\n}\r\n\r\nvar isexe_1 = isexe$1;\r\nisexe$1.sync = sync;\r\n\r\nfunction isexe$1 (path, options, cb) {\r\n  if (typeof options === 'function') {\r\n    cb = options;\r\n    options = {};\r\n  }\r\n\r\n  if (!cb) {\r\n    if (typeof Promise !== 'function') {\r\n      throw new TypeError('callback not provided')\r\n    }\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      isexe$1(path, options || {}, function (er, is) {\r\n        if (er) {\r\n          reject(er);\r\n        } else {\r\n          resolve(is);\r\n        }\r\n      });\r\n    })\r\n  }\r\n\r\n  core(path, options || {}, function (er, is) {\r\n    // ignore EACCES because that just means we aren't allowed to run it\r\n    if (er) {\r\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\r\n        er = null;\r\n        is = false;\r\n      }\r\n    }\r\n    cb(er, is);\r\n  });\r\n}\r\n\r\nfunction sync (path, options) {\r\n  // my kingdom for a filtered catch\r\n  try {\r\n    return core.sync(path, options || {})\r\n  } catch (er) {\r\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\r\n      return false\r\n    } else {\r\n      throw er\r\n    }\r\n  }\r\n}\r\n\r\nconst isWindows = process.platform === 'win32' ||\r\n    process.env.OSTYPE === 'cygwin' ||\r\n    process.env.OSTYPE === 'msys';\r\n\r\nconst path$2 = require$$0$4;\r\nconst COLON = isWindows ? ';' : ':';\r\nconst isexe = isexe_1;\r\n\r\nconst getNotFoundError = (cmd) =>\r\n  Object.assign(new Error(`not found: ${cmd}`), { code: 'ENOENT' });\r\n\r\nconst getPathInfo = (cmd, opt) => {\r\n  const colon = opt.colon || COLON;\r\n\r\n  // If it has a slash, then we don't bother searching the pathenv.\r\n  // just check the file itself, and that's it.\r\n  const pathEnv = cmd.match(/\\//) || isWindows && cmd.match(/\\\\/) ? ['']\r\n    : (\r\n      [\r\n        // windows always checks the cwd first\r\n        ...(isWindows ? [process.cwd()] : []),\r\n        ...(opt.path || process.env.PATH ||\r\n          /* istanbul ignore next: very unusual */ '').split(colon),\r\n      ]\r\n    );\r\n  const pathExtExe = isWindows\r\n    ? opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM'\r\n    : '';\r\n  const pathExt = isWindows ? pathExtExe.split(colon) : [''];\r\n\r\n  if (isWindows) {\r\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\r\n      pathExt.unshift('');\r\n  }\r\n\r\n  return {\r\n    pathEnv,\r\n    pathExt,\r\n    pathExtExe,\r\n  }\r\n};\r\n\r\nconst which$1 = (cmd, opt, cb) => {\r\n  if (typeof opt === 'function') {\r\n    cb = opt;\r\n    opt = {};\r\n  }\r\n  if (!opt)\r\n    opt = {};\r\n\r\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt);\r\n  const found = [];\r\n\r\n  const step = i => new Promise((resolve, reject) => {\r\n    if (i === pathEnv.length)\r\n      return opt.all && found.length ? resolve(found)\r\n        : reject(getNotFoundError(cmd))\r\n\r\n    const ppRaw = pathEnv[i];\r\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw;\r\n\r\n    const pCmd = path$2.join(pathPart, cmd);\r\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\r\n      : pCmd;\r\n\r\n    resolve(subStep(p, i, 0));\r\n  });\r\n\r\n  const subStep = (p, i, ii) => new Promise((resolve, reject) => {\r\n    if (ii === pathExt.length)\r\n      return resolve(step(i + 1))\r\n    const ext = pathExt[ii];\r\n    isexe(p + ext, { pathExt: pathExtExe }, (er, is) => {\r\n      if (!er && is) {\r\n        if (opt.all)\r\n          found.push(p + ext);\r\n        else\r\n          return resolve(p + ext)\r\n      }\r\n      return resolve(subStep(p, i, ii + 1))\r\n    });\r\n  });\r\n\r\n  return cb ? step(0).then(res => cb(null, res), cb) : step(0)\r\n};\r\n\r\nconst whichSync = (cmd, opt) => {\r\n  opt = opt || {};\r\n\r\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt);\r\n  const found = [];\r\n\r\n  for (let i = 0; i < pathEnv.length; i ++) {\r\n    const ppRaw = pathEnv[i];\r\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw;\r\n\r\n    const pCmd = path$2.join(pathPart, cmd);\r\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\r\n      : pCmd;\r\n\r\n    for (let j = 0; j < pathExt.length; j ++) {\r\n      const cur = p + pathExt[j];\r\n      try {\r\n        const is = isexe.sync(cur, { pathExt: pathExtExe });\r\n        if (is) {\r\n          if (opt.all)\r\n            found.push(cur);\r\n          else\r\n            return cur\r\n        }\r\n      } catch (ex) {}\r\n    }\r\n  }\r\n\r\n  if (opt.all && found.length)\r\n    return found\r\n\r\n  if (opt.nothrow)\r\n    return null\r\n\r\n  throw getNotFoundError(cmd)\r\n};\r\n\r\nvar which_1 = which$1;\r\nwhich$1.sync = whichSync;\r\n\r\nvar pathKey$1 = {exports: {}};\r\n\r\nconst pathKey = (options = {}) => {\r\n\tconst environment = options.env || process.env;\r\n\tconst platform = options.platform || process.platform;\r\n\r\n\tif (platform !== 'win32') {\r\n\t\treturn 'PATH';\r\n\t}\r\n\r\n\treturn Object.keys(environment).reverse().find(key => key.toUpperCase() === 'PATH') || 'Path';\r\n};\r\n\r\npathKey$1.exports = pathKey;\r\n// TODO: Remove this for the next major release\r\npathKey$1.exports.default = pathKey;\r\n\r\nvar pathKeyExports = pathKey$1.exports;\r\n\r\nconst path$1 = require$$0$4;\r\nconst which = which_1;\r\nconst getPathKey = pathKeyExports;\r\n\r\nfunction resolveCommandAttempt(parsed, withoutPathExt) {\r\n    const env = parsed.options.env || process.env;\r\n    const cwd = process.cwd();\r\n    const hasCustomCwd = parsed.options.cwd != null;\r\n    // Worker threads do not have process.chdir()\r\n    const shouldSwitchCwd = hasCustomCwd && process.chdir !== undefined && !process.chdir.disabled;\r\n\r\n    // If a custom `cwd` was specified, we need to change the process cwd\r\n    // because `which` will do stat calls but does not support a custom cwd\r\n    if (shouldSwitchCwd) {\r\n        try {\r\n            process.chdir(parsed.options.cwd);\r\n        } catch (err) {\r\n            /* Empty */\r\n        }\r\n    }\r\n\r\n    let resolved;\r\n\r\n    try {\r\n        resolved = which.sync(parsed.command, {\r\n            path: env[getPathKey({ env })],\r\n            pathExt: withoutPathExt ? path$1.delimiter : undefined,\r\n        });\r\n    } catch (e) {\r\n        /* Empty */\r\n    } finally {\r\n        if (shouldSwitchCwd) {\r\n            process.chdir(cwd);\r\n        }\r\n    }\r\n\r\n    // If we successfully resolved, ensure that an absolute path is returned\r\n    // Note that when a custom `cwd` was used, we need to resolve to an absolute path based on it\r\n    if (resolved) {\r\n        resolved = path$1.resolve(hasCustomCwd ? parsed.options.cwd : '', resolved);\r\n    }\r\n\r\n    return resolved;\r\n}\r\n\r\nfunction resolveCommand$1(parsed) {\r\n    return resolveCommandAttempt(parsed) || resolveCommandAttempt(parsed, true);\r\n}\r\n\r\nvar resolveCommand_1 = resolveCommand$1;\r\n\r\nvar _escape = {};\r\n\r\n// See http://www.robvanderwoude.com/escapechars.php\r\nconst metaCharsRegExp = /([()\\][%!^\"`<>&|;, *?])/g;\r\n\r\nfunction escapeCommand(arg) {\r\n    // Escape meta chars\r\n    arg = arg.replace(metaCharsRegExp, '^$1');\r\n\r\n    return arg;\r\n}\r\n\r\nfunction escapeArgument(arg, doubleEscapeMetaChars) {\r\n    // Convert to string\r\n    arg = `${arg}`;\r\n\r\n    // Algorithm below is based on https://qntm.org/cmd\r\n\r\n    // Sequence of backslashes followed by a double quote:\r\n    // double up all the backslashes and escape the double quote\r\n    arg = arg.replace(/(\\\\*)\"/g, '$1$1\\\\\"');\r\n\r\n    // Sequence of backslashes followed by the end of the string\r\n    // (which will become a double quote later):\r\n    // double up all the backslashes\r\n    arg = arg.replace(/(\\\\*)$/, '$1$1');\r\n\r\n    // All other backslashes occur literally\r\n\r\n    // Quote the whole thing:\r\n    arg = `\"${arg}\"`;\r\n\r\n    // Escape meta chars\r\n    arg = arg.replace(metaCharsRegExp, '^$1');\r\n\r\n    // Double escape meta chars if necessary\r\n    if (doubleEscapeMetaChars) {\r\n        arg = arg.replace(metaCharsRegExp, '^$1');\r\n    }\r\n\r\n    return arg;\r\n}\r\n\r\n_escape.command = escapeCommand;\r\n_escape.argument = escapeArgument;\r\n\r\nvar shebangRegex$1 = /^#!(.*)/;\r\n\r\nconst shebangRegex = shebangRegex$1;\r\n\r\nvar shebangCommand$1 = (string = '') => {\r\n\tconst match = string.match(shebangRegex);\r\n\r\n\tif (!match) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst [path, argument] = match[0].replace(/#! ?/, '').split(' ');\r\n\tconst binary = path.split('/').pop();\r\n\r\n\tif (binary === 'env') {\r\n\t\treturn argument;\r\n\t}\r\n\r\n\treturn argument ? `${binary} ${argument}` : binary;\r\n};\r\n\r\nconst fs = require$$0__default;\r\nconst shebangCommand = shebangCommand$1;\r\n\r\nfunction readShebang$1(command) {\r\n    // Read the first 150 bytes from the file\r\n    const size = 150;\r\n    const buffer = Buffer.alloc(size);\r\n\r\n    let fd;\r\n\r\n    try {\r\n        fd = fs.openSync(command, 'r');\r\n        fs.readSync(fd, buffer, 0, size, 0);\r\n        fs.closeSync(fd);\r\n    } catch (e) { /* Empty */ }\r\n\r\n    // Attempt to extract shebang (null is returned if not a shebang)\r\n    return shebangCommand(buffer.toString());\r\n}\r\n\r\nvar readShebang_1 = readShebang$1;\r\n\r\nconst path = require$$0$4;\r\nconst resolveCommand = resolveCommand_1;\r\nconst escape$1 = _escape;\r\nconst readShebang = readShebang_1;\r\n\r\nconst isWin$1 = process.platform === 'win32';\r\nconst isExecutableRegExp = /\\.(?:com|exe)$/i;\r\nconst isCmdShimRegExp = /node_modules[\\\\/].bin[\\\\/][^\\\\/]+\\.cmd$/i;\r\n\r\nfunction detectShebang(parsed) {\r\n    parsed.file = resolveCommand(parsed);\r\n\r\n    const shebang = parsed.file && readShebang(parsed.file);\r\n\r\n    if (shebang) {\r\n        parsed.args.unshift(parsed.file);\r\n        parsed.command = shebang;\r\n\r\n        return resolveCommand(parsed);\r\n    }\r\n\r\n    return parsed.file;\r\n}\r\n\r\nfunction parseNonShell(parsed) {\r\n    if (!isWin$1) {\r\n        return parsed;\r\n    }\r\n\r\n    // Detect & add support for shebangs\r\n    const commandFile = detectShebang(parsed);\r\n\r\n    // We don't need a shell if the command filename is an executable\r\n    const needsShell = !isExecutableRegExp.test(commandFile);\r\n\r\n    // If a shell is required, use cmd.exe and take care of escaping everything correctly\r\n    // Note that `forceShell` is an hidden option used only in tests\r\n    if (parsed.options.forceShell || needsShell) {\r\n        // Need to double escape meta chars if the command is a cmd-shim located in `node_modules/.bin/`\r\n        // The cmd-shim simply calls execute the package bin file with NodeJS, proxying any argument\r\n        // Because the escape of metachars with ^ gets interpreted when the cmd.exe is first called,\r\n        // we need to double escape them\r\n        const needsDoubleEscapeMetaChars = isCmdShimRegExp.test(commandFile);\r\n\r\n        // Normalize posix paths into OS compatible paths (e.g.: foo/bar -> foo\\bar)\r\n        // This is necessary otherwise it will always fail with ENOENT in those cases\r\n        parsed.command = path.normalize(parsed.command);\r\n\r\n        // Escape command & arguments\r\n        parsed.command = escape$1.command(parsed.command);\r\n        parsed.args = parsed.args.map((arg) => escape$1.argument(arg, needsDoubleEscapeMetaChars));\r\n\r\n        const shellCommand = [parsed.command].concat(parsed.args).join(' ');\r\n\r\n        parsed.args = ['/d', '/s', '/c', `\"${shellCommand}\"`];\r\n        parsed.command = process.env.comspec || 'cmd.exe';\r\n        parsed.options.windowsVerbatimArguments = true; // Tell node's spawn that the arguments are already escaped\r\n    }\r\n\r\n    return parsed;\r\n}\r\n\r\nfunction parse$4(command, args, options) {\r\n    // Normalize arguments, similar to nodejs\r\n    if (args && !Array.isArray(args)) {\r\n        options = args;\r\n        args = null;\r\n    }\r\n\r\n    args = args ? args.slice(0) : []; // Clone array to avoid changing the original\r\n    options = Object.assign({}, options); // Clone object to avoid changing the original\r\n\r\n    // Build our parsed object\r\n    const parsed = {\r\n        command,\r\n        args,\r\n        options,\r\n        file: undefined,\r\n        original: {\r\n            command,\r\n            args,\r\n        },\r\n    };\r\n\r\n    // Delegate further parsing to shell or non-shell\r\n    return options.shell ? parsed : parseNonShell(parsed);\r\n}\r\n\r\nvar parse_1 = parse$4;\r\n\r\nconst isWin = process.platform === 'win32';\r\n\r\nfunction notFoundError(original, syscall) {\r\n    return Object.assign(new Error(`${syscall} ${original.command} ENOENT`), {\r\n        code: 'ENOENT',\r\n        errno: 'ENOENT',\r\n        syscall: `${syscall} ${original.command}`,\r\n        path: original.command,\r\n        spawnargs: original.args,\r\n    });\r\n}\r\n\r\nfunction hookChildProcess(cp, parsed) {\r\n    if (!isWin) {\r\n        return;\r\n    }\r\n\r\n    const originalEmit = cp.emit;\r\n\r\n    cp.emit = function (name, arg1) {\r\n        // If emitting \"exit\" event and exit code is 1, we need to check if\r\n        // the command exists and emit an \"error\" instead\r\n        // See https://github.com/IndigoUnited/node-cross-spawn/issues/16\r\n        if (name === 'exit') {\r\n            const err = verifyENOENT(arg1, parsed);\r\n\r\n            if (err) {\r\n                return originalEmit.call(cp, 'error', err);\r\n            }\r\n        }\r\n\r\n        return originalEmit.apply(cp, arguments); // eslint-disable-line prefer-rest-params\r\n    };\r\n}\r\n\r\nfunction verifyENOENT(status, parsed) {\r\n    if (isWin && status === 1 && !parsed.file) {\r\n        return notFoundError(parsed.original, 'spawn');\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction verifyENOENTSync(status, parsed) {\r\n    if (isWin && status === 1 && !parsed.file) {\r\n        return notFoundError(parsed.original, 'spawnSync');\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nvar enoent$1 = {\r\n    hookChildProcess,\r\n    verifyENOENT,\r\n    verifyENOENTSync,\r\n    notFoundError,\r\n};\r\n\r\nconst cp = require$$2$1;\r\nconst parse$3 = parse_1;\r\nconst enoent = enoent$1;\r\n\r\nfunction spawn(command, args, options) {\r\n    // Parse the arguments\r\n    const parsed = parse$3(command, args, options);\r\n\r\n    // Spawn the child process\r\n    const spawned = cp.spawn(parsed.command, parsed.args, parsed.options);\r\n\r\n    // Hook into child process \"exit\" event to emit an error if the command\r\n    // does not exists, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\r\n    enoent.hookChildProcess(spawned, parsed);\r\n\r\n    return spawned;\r\n}\r\n\r\nfunction spawnSync(command, args, options) {\r\n    // Parse the arguments\r\n    const parsed = parse$3(command, args, options);\r\n\r\n    // Spawn the child process\r\n    const result = cp.spawnSync(parsed.command, parsed.args, parsed.options);\r\n\r\n    // Analyze if the command does not exist, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\r\n    result.error = result.error || enoent.verifyENOENTSync(result.status, parsed);\r\n\r\n    return result;\r\n}\r\n\r\ncrossSpawn.exports = spawn;\r\ncrossSpawn.exports.spawn = spawn;\r\ncrossSpawn.exports.sync = spawnSync;\r\n\r\ncrossSpawn.exports._parse = parse$3;\r\ncrossSpawn.exports._enoent = enoent;\r\n\r\nvar crossSpawnExports = crossSpawn.exports;\r\nvar spawn$1 = /*@__PURE__*/getDefaultExportFromCjs(crossSpawnExports);\r\n\r\nfunction openBrowser(url, opt, logger) {\r\n  const browser = process.env.BROWSER || \"\";\r\n  if (browser.toLowerCase().endsWith(\".js\")) {\r\n    executeNodeScript(browser, url, logger);\r\n  } else if (browser.toLowerCase() !== \"none\") {\r\n    const browserArgs = process.env.BROWSER_ARGS ? process.env.BROWSER_ARGS.split(\" \") : [];\r\n    startBrowserProcess(browser, browserArgs, url, logger);\r\n  }\r\n}\r\nfunction executeNodeScript(scriptPath, url, logger) {\r\n  const extraArgs = process.argv.slice(2);\r\n  const child = spawn$1(process.execPath, [scriptPath, ...extraArgs, url], {\r\n    stdio: \"inherit\"\r\n  });\r\n  child.on(\"close\", (code) => {\r\n    if (code !== 0) {\r\n      logger.error(\r\n        colors$1.red(\r\n          `\r\nThe script specified as BROWSER environment variable failed.\r\n\r\n${colors$1.cyan(\r\n            scriptPath\r\n          )} exited with code ${code}.`\r\n        ),\r\n        { error: null }\r\n      );\r\n    }\r\n  });\r\n}\r\nconst supportedChromiumBrowsers = [\r\n  \"Google Chrome Canary\",\r\n  \"Google Chrome Dev\",\r\n  \"Google Chrome Beta\",\r\n  \"Google Chrome\",\r\n  \"Microsoft Edge\",\r\n  \"Brave Browser\",\r\n  \"Vivaldi\",\r\n  \"Chromium\"\r\n];\r\nasync function startBrowserProcess(browser, browserArgs, url, logger) {\r\n  const preferredOSXBrowser = browser === \"google chrome\" ? \"Google Chrome\" : browser;\r\n  const shouldTryOpenChromeWithAppleScript = process.platform === \"darwin\" && (!preferredOSXBrowser || supportedChromiumBrowsers.includes(preferredOSXBrowser));\r\n  if (shouldTryOpenChromeWithAppleScript) {\r\n    try {\r\n      const ps = await execAsync(\"ps cax\");\r\n      const openedBrowser = preferredOSXBrowser && ps.includes(preferredOSXBrowser) ? preferredOSXBrowser : supportedChromiumBrowsers.find((b) => ps.includes(b));\r\n      if (openedBrowser) {\r\n        await execAsync(\r\n          `osascript openChrome.applescript \"${encodeURI(\r\n            url\r\n          )}\" \"${openedBrowser}\"`,\r\n          {\r\n            cwd: join$2(VITE_PACKAGE_DIR, \"bin\")\r\n          }\r\n        );\r\n        return true;\r\n      }\r\n    } catch (err) {\r\n    }\r\n  }\r\n  if (process.platform === \"darwin\" && browser === \"open\") {\r\n    browser = void 0;\r\n  }\r\n  try {\r\n    const options = browser ? { app: { name: browser, arguments: browserArgs } } : {};\r\n    new Promise((_, reject) => {\r\n      open$1(url, options).then((subprocess) => {\r\n        subprocess.on(\"error\", reject);\r\n      }).catch(reject);\r\n    }).catch((err) => {\r\n      logger.error(err.stack || err.message);\r\n    });\r\n    return true;\r\n  } catch (err) {\r\n    return false;\r\n  }\r\n}\r\nfunction execAsync(command, options) {\r\n  return new Promise((resolve, reject) => {\r\n    exec(command, options, (error, stdout) => {\r\n      if (error) {\r\n        reject(error);\r\n      } else {\r\n        resolve(stdout.toString());\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nfunction bindCLIShortcuts(server, opts) {\r\n  if (!server.httpServer || !process.stdin.isTTY || process.env.CI) {\r\n    return;\r\n  }\r\n  const isDev = isDevServer(server);\r\n  if (isDev) {\r\n    server._shortcutsOptions = opts;\r\n  }\r\n  if (opts?.print) {\r\n    server.config.logger.info(\r\n      colors$1.dim(colors$1.green(\"  \\u279C\")) + colors$1.dim(\"  press \") + colors$1.bold(\"h + enter\") + colors$1.dim(\" to show help\")\r\n    );\r\n  }\r\n  const shortcuts = (opts?.customShortcuts ?? []).concat(\r\n    isDev ? BASE_DEV_SHORTCUTS : BASE_PREVIEW_SHORTCUTS\r\n  );\r\n  let actionRunning = false;\r\n  const onInput = async (input) => {\r\n    if (actionRunning) return;\r\n    if (input === \"h\") {\r\n      const loggedKeys = /* @__PURE__ */ new Set();\r\n      server.config.logger.info(\"\\n  Shortcuts\");\r\n      for (const shortcut2 of shortcuts) {\r\n        if (loggedKeys.has(shortcut2.key)) continue;\r\n        loggedKeys.add(shortcut2.key);\r\n        if (shortcut2.action == null) continue;\r\n        server.config.logger.info(\r\n          colors$1.dim(\"  press \") + colors$1.bold(`${shortcut2.key} + enter`) + colors$1.dim(` to ${shortcut2.description}`)\r\n        );\r\n      }\r\n      return;\r\n    }\r\n    const shortcut = shortcuts.find((shortcut2) => shortcut2.key === input);\r\n    if (!shortcut || shortcut.action == null) return;\r\n    actionRunning = true;\r\n    await shortcut.action(server);\r\n    actionRunning = false;\r\n  };\r\n  const rl = readline.createInterface({ input: process.stdin });\r\n  rl.on(\"line\", onInput);\r\n  server.httpServer.on(\"close\", () => rl.close());\r\n}\r\nconst BASE_DEV_SHORTCUTS = [\r\n  {\r\n    key: \"r\",\r\n    description: \"restart the server\",\r\n    async action(server) {\r\n      await restartServerWithUrls(server);\r\n    }\r\n  },\r\n  {\r\n    key: \"u\",\r\n    description: \"show server url\",\r\n    action(server) {\r\n      server.config.logger.info(\"\");\r\n      server.printUrls();\r\n    }\r\n  },\r\n  {\r\n    key: \"o\",\r\n    description: \"open in browser\",\r\n    action(server) {\r\n      server.openBrowser();\r\n    }\r\n  },\r\n  {\r\n    key: \"c\",\r\n    description: \"clear console\",\r\n    action(server) {\r\n      server.config.logger.clearScreen(\"error\");\r\n    }\r\n  },\r\n  {\r\n    key: \"q\",\r\n    description: \"quit\",\r\n    async action(server) {\r\n      try {\r\n        await server.close();\r\n      } finally {\r\n        process.exit();\r\n      }\r\n    }\r\n  }\r\n];\r\nconst BASE_PREVIEW_SHORTCUTS = [\r\n  {\r\n    key: \"o\",\r\n    description: \"open in browser\",\r\n    action(server) {\r\n      const url = server.resolvedUrls?.local[0] ?? server.resolvedUrls?.network[0];\r\n      if (url) {\r\n        openBrowser(url, true, server.config.logger);\r\n      } else {\r\n        server.config.logger.warn(\"No URL available to open in browser\");\r\n      }\r\n    }\r\n  },\r\n  {\r\n    key: \"q\",\r\n    description: \"quit\",\r\n    async action(server) {\r\n      try {\r\n        await server.close();\r\n      } finally {\r\n        process.exit();\r\n      }\r\n    }\r\n  }\r\n];\r\n\r\nfunction getResolvedOutDirs(root, outDir, outputOptions) {\r\n  const resolvedOutDir = path$n.resolve(root, outDir);\r\n  if (!outputOptions) return /* @__PURE__ */ new Set([resolvedOutDir]);\r\n  return new Set(\r\n    arraify(outputOptions).map(\r\n      ({ dir }) => dir ? path$n.resolve(root, dir) : resolvedOutDir\r\n    )\r\n  );\r\n}\r\nfunction resolveEmptyOutDir(emptyOutDir, root, outDirs, logger) {\r\n  if (emptyOutDir != null) return emptyOutDir;\r\n  for (const outDir of outDirs) {\r\n    if (!normalizePath$3(outDir).startsWith(withTrailingSlash(root))) {\r\n      logger?.warn(\r\n        colors$1.yellow(\r\n          `\r\n${colors$1.bold(`(!)`)} outDir ${colors$1.white(\r\n            colors$1.dim(outDir)\r\n          )} is not inside project root and will not be emptied.\r\nUse --emptyOutDir to override.\r\n`\r\n        )\r\n      );\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\nfunction resolveChokidarOptions(options, resolvedOutDirs, emptyOutDir, cacheDir) {\r\n  const { ignored: ignoredList, ...otherOptions } = options ?? {};\r\n  const ignored = [\r\n    \"**/.git/**\",\r\n    \"**/node_modules/**\",\r\n    \"**/test-results/**\",\r\n    // Playwright\r\n    glob.escapePath(cacheDir) + \"/**\",\r\n    ...arraify(ignoredList || [])\r\n  ];\r\n  if (emptyOutDir) {\r\n    ignored.push(\r\n      ...[...resolvedOutDirs].map((outDir) => glob.escapePath(outDir) + \"/**\")\r\n    );\r\n  }\r\n  const resolvedWatchOptions = {\r\n    ignored,\r\n    ignoreInitial: true,\r\n    ignorePermissionErrors: true,\r\n    ...otherOptions\r\n  };\r\n  return resolvedWatchOptions;\r\n}\r\nclass NoopWatcher extends EventEmitter$4 {\r\n  constructor(options) {\r\n    super();\r\n    this.options = options;\r\n  }\r\n  add() {\r\n    return this;\r\n  }\r\n  unwatch() {\r\n    return this;\r\n  }\r\n  getWatched() {\r\n    return {};\r\n  }\r\n  ref() {\r\n    return this;\r\n  }\r\n  unref() {\r\n    return this;\r\n  }\r\n  async close() {\r\n  }\r\n}\r\nfunction createNoopWatcher(options) {\r\n  return new NoopWatcher(options);\r\n}\r\n\r\nasync function fetchModule(server, url, importer, options = {}) {\r\n  if (url.startsWith(\"data:\") || isBuiltin(url)) {\r\n    return { externalize: url, type: \"builtin\" };\r\n  }\r\n  if (isExternalUrl(url)) {\r\n    return { externalize: url, type: \"network\" };\r\n  }\r\n  if (url[0] !== \".\" && url[0] !== \"/\") {\r\n    const {\r\n      isProduction,\r\n      resolve: { dedupe, preserveSymlinks },\r\n      root,\r\n      ssr\r\n    } = server.config;\r\n    const overrideConditions = ssr.resolve?.externalConditions || [];\r\n    const resolveOptions = {\r\n      mainFields: [\"main\"],\r\n      conditions: [],\r\n      overrideConditions: [...overrideConditions, \"production\", \"development\"],\r\n      extensions: [\".js\", \".cjs\", \".json\"],\r\n      dedupe,\r\n      preserveSymlinks,\r\n      isBuild: false,\r\n      isProduction,\r\n      root,\r\n      ssrConfig: ssr,\r\n      packageCache: server.config.packageCache\r\n    };\r\n    const resolved = tryNodeResolve(\r\n      url,\r\n      importer,\r\n      { ...resolveOptions, tryEsmOnly: true },\r\n      false,\r\n      void 0,\r\n      true\r\n    );\r\n    if (!resolved) {\r\n      const err = new Error(\r\n        `Cannot find module '${url}' imported from '${importer}'`\r\n      );\r\n      err.code = \"ERR_MODULE_NOT_FOUND\";\r\n      throw err;\r\n    }\r\n    const file = pathToFileURL(resolved.id).toString();\r\n    const type = isFilePathESM(resolved.id, server.config.packageCache) ? \"module\" : \"commonjs\";\r\n    return { externalize: file, type };\r\n  }\r\n  url = unwrapId$1(url);\r\n  let result = await server.transformRequest(url, { ssr: true });\r\n  if (!result) {\r\n    throw new Error(\r\n      `[vite] transform failed for module '${url}'${importer ? ` imported from '${importer}'` : \"\"}.`\r\n    );\r\n  }\r\n  const mod = await server.moduleGraph.getModuleByUrl(url, true);\r\n  if (!mod) {\r\n    throw new Error(\r\n      `[vite] cannot find module '${url}' ${importer ? ` imported from '${importer}'` : \"\"}.`\r\n    );\r\n  }\r\n  if (options.inlineSourceMap !== false) {\r\n    result = inlineSourceMap(mod, result, options.processSourceMap);\r\n  }\r\n  if (result.code[0] === \"#\")\r\n    result.code = result.code.replace(/^#!.*/, (s) => \" \".repeat(s.length));\r\n  return { code: result.code, file: mod.file };\r\n}\r\nconst OTHER_SOURCE_MAP_REGEXP = new RegExp(\r\n  `//# ${SOURCEMAPPING_URL}=data:application/json[^,]+base64,([A-Za-z0-9+/=]+)$`,\r\n  \"gm\"\r\n);\r\nfunction inlineSourceMap(mod, result, processSourceMap) {\r\n  const map = result.map;\r\n  let code = result.code;\r\n  if (!map || !(\"version\" in map) || code.includes(VITE_RUNTIME_SOURCEMAPPING_SOURCE))\r\n    return result;\r\n  OTHER_SOURCE_MAP_REGEXP.lastIndex = 0;\r\n  if (OTHER_SOURCE_MAP_REGEXP.test(code))\r\n    code = code.replace(OTHER_SOURCE_MAP_REGEXP, \"\");\r\n  const sourceMap = processSourceMap?.(map) || map;\r\n  result.code = `${code.trimEnd()}\r\n//# sourceURL=${mod.id}\r\n${VITE_RUNTIME_SOURCEMAPPING_SOURCE}\r\n//# ${SOURCEMAPPING_URL}=${genSourceMapUrl(sourceMap)}\r\n`;\r\n  return result;\r\n}\r\n\r\nfunction ssrFetchModule(server, id, importer) {\r\n  return fetchModule(server, id, importer, {\r\n    processSourceMap(map) {\r\n      return Object.assign({}, map, {\r\n        mappings: \";\".repeat(asyncFunctionDeclarationPaddingLineCount) + map.mappings\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nvar bufferUtil$1 = {exports: {}};\r\n\r\nconst BINARY_TYPES$2 = ['nodebuffer', 'arraybuffer', 'fragments'];\r\nconst hasBlob$1 = typeof Blob !== 'undefined';\r\n\r\nif (hasBlob$1) BINARY_TYPES$2.push('blob');\r\n\r\nvar constants = {\r\n  BINARY_TYPES: BINARY_TYPES$2,\r\n  EMPTY_BUFFER: Buffer.alloc(0),\r\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\r\n  hasBlob: hasBlob$1,\r\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\r\n  kListener: Symbol('kListener'),\r\n  kStatusCode: Symbol('status-code'),\r\n  kWebSocket: Symbol('websocket'),\r\n  NOOP: () => {}\r\n};\r\n\r\nconst { EMPTY_BUFFER: EMPTY_BUFFER$3 } = constants;\r\n\r\nconst FastBuffer$2 = Buffer[Symbol.species];\r\n\r\n/**\r\n * Merges an array of buffers into a new buffer.\r\n *\r\n * @param {Buffer[]} list The array of buffers to concat\r\n * @param {Number} totalLength The total length of buffers in the list\r\n * @return {Buffer} The resulting buffer\r\n * @public\r\n */\r\nfunction concat$1(list, totalLength) {\r\n  if (list.length === 0) return EMPTY_BUFFER$3;\r\n  if (list.length === 1) return list[0];\r\n\r\n  const target = Buffer.allocUnsafe(totalLength);\r\n  let offset = 0;\r\n\r\n  for (let i = 0; i < list.length; i++) {\r\n    const buf = list[i];\r\n    target.set(buf, offset);\r\n    offset += buf.length;\r\n  }\r\n\r\n  if (offset < totalLength) {\r\n    return new FastBuffer$2(target.buffer, target.byteOffset, offset);\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\n/**\r\n * Masks a buffer using the given mask.\r\n *\r\n * @param {Buffer} source The buffer to mask\r\n * @param {Buffer} mask The mask to use\r\n * @param {Buffer} output The buffer where to store the result\r\n * @param {Number} offset The offset at which to start writing\r\n * @param {Number} length The number of bytes to mask.\r\n * @public\r\n */\r\nfunction _mask(source, mask, output, offset, length) {\r\n  for (let i = 0; i < length; i++) {\r\n    output[offset + i] = source[i] ^ mask[i & 3];\r\n  }\r\n}\r\n\r\n/**\r\n * Unmasks a buffer using the given mask.\r\n *\r\n * @param {Buffer} buffer The buffer to unmask\r\n * @param {Buffer} mask The mask to use\r\n * @public\r\n */\r\nfunction _unmask(buffer, mask) {\r\n  for (let i = 0; i < buffer.length; i++) {\r\n    buffer[i] ^= mask[i & 3];\r\n  }\r\n}\r\n\r\n/**\r\n * Converts a buffer to an `ArrayBuffer`.\r\n *\r\n * @param {Buffer} buf The buffer to convert\r\n * @return {ArrayBuffer} Converted buffer\r\n * @public\r\n */\r\nfunction toArrayBuffer$1(buf) {\r\n  if (buf.length === buf.buffer.byteLength) {\r\n    return buf.buffer;\r\n  }\r\n\r\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\r\n}\r\n\r\n/**\r\n * Converts `data` to a `Buffer`.\r\n *\r\n * @param {*} data The data to convert\r\n * @return {Buffer} The buffer\r\n * @throws {TypeError}\r\n * @public\r\n */\r\nfunction toBuffer$2(data) {\r\n  toBuffer$2.readOnly = true;\r\n\r\n  if (Buffer.isBuffer(data)) return data;\r\n\r\n  let buf;\r\n\r\n  if (data instanceof ArrayBuffer) {\r\n    buf = new FastBuffer$2(data);\r\n  } else if (ArrayBuffer.isView(data)) {\r\n    buf = new FastBuffer$2(data.buffer, data.byteOffset, data.byteLength);\r\n  } else {\r\n    buf = Buffer.from(data);\r\n    toBuffer$2.readOnly = false;\r\n  }\r\n\r\n  return buf;\r\n}\r\n\r\nbufferUtil$1.exports = {\r\n  concat: concat$1,\r\n  mask: _mask,\r\n  toArrayBuffer: toArrayBuffer$1,\r\n  toBuffer: toBuffer$2,\r\n  unmask: _unmask\r\n};\r\n\r\n/* istanbul ignore else  */\r\nif (!process.env.WS_NO_BUFFER_UTIL) {\r\n  try {\r\n    const bufferUtil = require('bufferutil');\r\n\r\n    bufferUtil$1.exports.mask = function (source, mask, output, offset, length) {\r\n      if (length < 48) _mask(source, mask, output, offset, length);\r\n      else bufferUtil.mask(source, mask, output, offset, length);\r\n    };\r\n\r\n    bufferUtil$1.exports.unmask = function (buffer, mask) {\r\n      if (buffer.length < 32) _unmask(buffer, mask);\r\n      else bufferUtil.unmask(buffer, mask);\r\n    };\r\n  } catch (e) {\r\n    // Continue regardless of the error.\r\n  }\r\n}\r\n\r\nvar bufferUtilExports = bufferUtil$1.exports;\r\n\r\nconst kDone = Symbol('kDone');\r\nconst kRun = Symbol('kRun');\r\n\r\n/**\r\n * A very simple job queue with adjustable concurrency. Adapted from\r\n * https://github.com/STRML/async-limiter\r\n */\r\nlet Limiter$1 = class Limiter {\r\n  /**\r\n   * Creates a new `Limiter`.\r\n   *\r\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\r\n   *     to run concurrently\r\n   */\r\n  constructor(concurrency) {\r\n    this[kDone] = () => {\r\n      this.pending--;\r\n      this[kRun]();\r\n    };\r\n    this.concurrency = concurrency || Infinity;\r\n    this.jobs = [];\r\n    this.pending = 0;\r\n  }\r\n\r\n  /**\r\n   * Adds a job to the queue.\r\n   *\r\n   * @param {Function} job The job to run\r\n   * @public\r\n   */\r\n  add(job) {\r\n    this.jobs.push(job);\r\n    this[kRun]();\r\n  }\r\n\r\n  /**\r\n   * Removes a job from the queue and runs it if possible.\r\n   *\r\n   * @private\r\n   */\r\n  [kRun]() {\r\n    if (this.pending === this.concurrency) return;\r\n\r\n    if (this.jobs.length) {\r\n      const job = this.jobs.shift();\r\n\r\n      this.pending++;\r\n      job(this[kDone]);\r\n    }\r\n  }\r\n};\r\n\r\nvar limiter = Limiter$1;\r\n\r\nconst zlib = zlib$1;\r\n\r\nconst bufferUtil = bufferUtilExports;\r\nconst Limiter = limiter;\r\nconst { kStatusCode: kStatusCode$2 } = constants;\r\n\r\nconst FastBuffer$1 = Buffer[Symbol.species];\r\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\r\nconst kPerMessageDeflate = Symbol('permessage-deflate');\r\nconst kTotalLength = Symbol('total-length');\r\nconst kCallback = Symbol('callback');\r\nconst kBuffers = Symbol('buffers');\r\nconst kError$1 = Symbol('error');\r\n\r\n//\r\n// We limit zlib concurrency, which prevents severe memory fragmentation\r\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\r\n// and https://github.com/websockets/ws/issues/1202\r\n//\r\n// Intentionally global; it's the global thread pool that's an issue.\r\n//\r\nlet zlibLimiter;\r\n\r\n/**\r\n * permessage-deflate implementation.\r\n */\r\nlet PerMessageDeflate$4 = class PerMessageDeflate {\r\n  /**\r\n   * Creates a PerMessageDeflate instance.\r\n   *\r\n   * @param {Object} [options] Configuration options\r\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\r\n   *     for, or request, a custom client window size\r\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\r\n   *     acknowledge disabling of client context takeover\r\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\r\n   *     calls to zlib\r\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\r\n   *     use of a custom server window size\r\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\r\n   *     disabling of server context takeover\r\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\r\n   *     messages should not be compressed if context takeover is disabled\r\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\r\n   *     deflate\r\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\r\n   *     inflate\r\n   * @param {Boolean} [isServer=false] Create the instance in either server or\r\n   *     client mode\r\n   * @param {Number} [maxPayload=0] The maximum allowed message length\r\n   */\r\n  constructor(options, isServer, maxPayload) {\r\n    this._maxPayload = maxPayload | 0;\r\n    this._options = options || {};\r\n    this._threshold =\r\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\r\n    this._isServer = !!isServer;\r\n    this._deflate = null;\r\n    this._inflate = null;\r\n\r\n    this.params = null;\r\n\r\n    if (!zlibLimiter) {\r\n      const concurrency =\r\n        this._options.concurrencyLimit !== undefined\r\n          ? this._options.concurrencyLimit\r\n          : 10;\r\n      zlibLimiter = new Limiter(concurrency);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  static get extensionName() {\r\n    return 'permessage-deflate';\r\n  }\r\n\r\n  /**\r\n   * Create an extension negotiation offer.\r\n   *\r\n   * @return {Object} Extension parameters\r\n   * @public\r\n   */\r\n  offer() {\r\n    const params = {};\r\n\r\n    if (this._options.serverNoContextTakeover) {\r\n      params.server_no_context_takeover = true;\r\n    }\r\n    if (this._options.clientNoContextTakeover) {\r\n      params.client_no_context_takeover = true;\r\n    }\r\n    if (this._options.serverMaxWindowBits) {\r\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\r\n    }\r\n    if (this._options.clientMaxWindowBits) {\r\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\r\n    } else if (this._options.clientMaxWindowBits == null) {\r\n      params.client_max_window_bits = true;\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  /**\r\n   * Accept an extension negotiation offer/response.\r\n   *\r\n   * @param {Array} configurations The extension negotiation offers/reponse\r\n   * @return {Object} Accepted configuration\r\n   * @public\r\n   */\r\n  accept(configurations) {\r\n    configurations = this.normalizeParams(configurations);\r\n\r\n    this.params = this._isServer\r\n      ? this.acceptAsServer(configurations)\r\n      : this.acceptAsClient(configurations);\r\n\r\n    return this.params;\r\n  }\r\n\r\n  /**\r\n   * Releases all resources used by the extension.\r\n   *\r\n   * @public\r\n   */\r\n  cleanup() {\r\n    if (this._inflate) {\r\n      this._inflate.close();\r\n      this._inflate = null;\r\n    }\r\n\r\n    if (this._deflate) {\r\n      const callback = this._deflate[kCallback];\r\n\r\n      this._deflate.close();\r\n      this._deflate = null;\r\n\r\n      if (callback) {\r\n        callback(\r\n          new Error(\r\n            'The deflate stream was closed while data was being processed'\r\n          )\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  Accept an extension negotiation offer.\r\n   *\r\n   * @param {Array} offers The extension negotiation offers\r\n   * @return {Object} Accepted configuration\r\n   * @private\r\n   */\r\n  acceptAsServer(offers) {\r\n    const opts = this._options;\r\n    const accepted = offers.find((params) => {\r\n      if (\r\n        (opts.serverNoContextTakeover === false &&\r\n          params.server_no_context_takeover) ||\r\n        (params.server_max_window_bits &&\r\n          (opts.serverMaxWindowBits === false ||\r\n            (typeof opts.serverMaxWindowBits === 'number' &&\r\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\r\n        (typeof opts.clientMaxWindowBits === 'number' &&\r\n          !params.client_max_window_bits)\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    if (!accepted) {\r\n      throw new Error('None of the extension offers can be accepted');\r\n    }\r\n\r\n    if (opts.serverNoContextTakeover) {\r\n      accepted.server_no_context_takeover = true;\r\n    }\r\n    if (opts.clientNoContextTakeover) {\r\n      accepted.client_no_context_takeover = true;\r\n    }\r\n    if (typeof opts.serverMaxWindowBits === 'number') {\r\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\r\n    }\r\n    if (typeof opts.clientMaxWindowBits === 'number') {\r\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\r\n    } else if (\r\n      accepted.client_max_window_bits === true ||\r\n      opts.clientMaxWindowBits === false\r\n    ) {\r\n      delete accepted.client_max_window_bits;\r\n    }\r\n\r\n    return accepted;\r\n  }\r\n\r\n  /**\r\n   * Accept the extension negotiation response.\r\n   *\r\n   * @param {Array} response The extension negotiation response\r\n   * @return {Object} Accepted configuration\r\n   * @private\r\n   */\r\n  acceptAsClient(response) {\r\n    const params = response[0];\r\n\r\n    if (\r\n      this._options.clientNoContextTakeover === false &&\r\n      params.client_no_context_takeover\r\n    ) {\r\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\r\n    }\r\n\r\n    if (!params.client_max_window_bits) {\r\n      if (typeof this._options.clientMaxWindowBits === 'number') {\r\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\r\n      }\r\n    } else if (\r\n      this._options.clientMaxWindowBits === false ||\r\n      (typeof this._options.clientMaxWindowBits === 'number' &&\r\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\r\n    ) {\r\n      throw new Error(\r\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\r\n      );\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  /**\r\n   * Normalize parameters.\r\n   *\r\n   * @param {Array} configurations The extension negotiation offers/reponse\r\n   * @return {Array} The offers/response with normalized parameters\r\n   * @private\r\n   */\r\n  normalizeParams(configurations) {\r\n    configurations.forEach((params) => {\r\n      Object.keys(params).forEach((key) => {\r\n        let value = params[key];\r\n\r\n        if (value.length > 1) {\r\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\r\n        }\r\n\r\n        value = value[0];\r\n\r\n        if (key === 'client_max_window_bits') {\r\n          if (value !== true) {\r\n            const num = +value;\r\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\r\n              throw new TypeError(\r\n                `Invalid value for parameter \"${key}\": ${value}`\r\n              );\r\n            }\r\n            value = num;\r\n          } else if (!this._isServer) {\r\n            throw new TypeError(\r\n              `Invalid value for parameter \"${key}\": ${value}`\r\n            );\r\n          }\r\n        } else if (key === 'server_max_window_bits') {\r\n          const num = +value;\r\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\r\n            throw new TypeError(\r\n              `Invalid value for parameter \"${key}\": ${value}`\r\n            );\r\n          }\r\n          value = num;\r\n        } else if (\r\n          key === 'client_no_context_takeover' ||\r\n          key === 'server_no_context_takeover'\r\n        ) {\r\n          if (value !== true) {\r\n            throw new TypeError(\r\n              `Invalid value for parameter \"${key}\": ${value}`\r\n            );\r\n          }\r\n        } else {\r\n          throw new Error(`Unknown parameter \"${key}\"`);\r\n        }\r\n\r\n        params[key] = value;\r\n      });\r\n    });\r\n\r\n    return configurations;\r\n  }\r\n\r\n  /**\r\n   * Decompress data. Concurrency limited.\r\n   *\r\n   * @param {Buffer} data Compressed data\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @public\r\n   */\r\n  decompress(data, fin, callback) {\r\n    zlibLimiter.add((done) => {\r\n      this._decompress(data, fin, (err, result) => {\r\n        done();\r\n        callback(err, result);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Compress data. Concurrency limited.\r\n   *\r\n   * @param {(Buffer|String)} data Data to compress\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @public\r\n   */\r\n  compress(data, fin, callback) {\r\n    zlibLimiter.add((done) => {\r\n      this._compress(data, fin, (err, result) => {\r\n        done();\r\n        callback(err, result);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Decompress data.\r\n   *\r\n   * @param {Buffer} data Compressed data\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @private\r\n   */\r\n  _decompress(data, fin, callback) {\r\n    const endpoint = this._isServer ? 'client' : 'server';\r\n\r\n    if (!this._inflate) {\r\n      const key = `${endpoint}_max_window_bits`;\r\n      const windowBits =\r\n        typeof this.params[key] !== 'number'\r\n          ? zlib.Z_DEFAULT_WINDOWBITS\r\n          : this.params[key];\r\n\r\n      this._inflate = zlib.createInflateRaw({\r\n        ...this._options.zlibInflateOptions,\r\n        windowBits\r\n      });\r\n      this._inflate[kPerMessageDeflate] = this;\r\n      this._inflate[kTotalLength] = 0;\r\n      this._inflate[kBuffers] = [];\r\n      this._inflate.on('error', inflateOnError);\r\n      this._inflate.on('data', inflateOnData);\r\n    }\r\n\r\n    this._inflate[kCallback] = callback;\r\n\r\n    this._inflate.write(data);\r\n    if (fin) this._inflate.write(TRAILER);\r\n\r\n    this._inflate.flush(() => {\r\n      const err = this._inflate[kError$1];\r\n\r\n      if (err) {\r\n        this._inflate.close();\r\n        this._inflate = null;\r\n        callback(err);\r\n        return;\r\n      }\r\n\r\n      const data = bufferUtil.concat(\r\n        this._inflate[kBuffers],\r\n        this._inflate[kTotalLength]\r\n      );\r\n\r\n      if (this._inflate._readableState.endEmitted) {\r\n        this._inflate.close();\r\n        this._inflate = null;\r\n      } else {\r\n        this._inflate[kTotalLength] = 0;\r\n        this._inflate[kBuffers] = [];\r\n\r\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\r\n          this._inflate.reset();\r\n        }\r\n      }\r\n\r\n      callback(null, data);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Compress data.\r\n   *\r\n   * @param {(Buffer|String)} data Data to compress\r\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\r\n   * @param {Function} callback Callback\r\n   * @private\r\n   */\r\n  _compress(data, fin, callback) {\r\n    const endpoint = this._isServer ? 'server' : 'client';\r\n\r\n    if (!this._deflate) {\r\n      const key = `${endpoint}_max_window_bits`;\r\n      const windowBits =\r\n        typeof this.params[key] !== 'number'\r\n          ? zlib.Z_DEFAULT_WINDOWBITS\r\n          : this.params[key];\r\n\r\n      this._deflate = zlib.createDeflateRaw({\r\n        ...this._options.zlibDeflateOptions,\r\n        windowBits\r\n      });\r\n\r\n      this._deflate[kTotalLength] = 0;\r\n      this._deflate[kBuffers] = [];\r\n\r\n      this._deflate.on('data', deflateOnData);\r\n    }\r\n\r\n    this._deflate[kCallback] = callback;\r\n\r\n    this._deflate.write(data);\r\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\r\n      if (!this._deflate) {\r\n        //\r\n        // The deflate stream was closed while data was being processed.\r\n        //\r\n        return;\r\n      }\r\n\r\n      let data = bufferUtil.concat(\r\n        this._deflate[kBuffers],\r\n        this._deflate[kTotalLength]\r\n      );\r\n\r\n      if (fin) {\r\n        data = new FastBuffer$1(data.buffer, data.byteOffset, data.length - 4);\r\n      }\r\n\r\n      //\r\n      // Ensure that the callback will not be called again in\r\n      // `PerMessageDeflate#cleanup()`.\r\n      //\r\n      this._deflate[kCallback] = null;\r\n\r\n      this._deflate[kTotalLength] = 0;\r\n      this._deflate[kBuffers] = [];\r\n\r\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\r\n        this._deflate.reset();\r\n      }\r\n\r\n      callback(null, data);\r\n    });\r\n  }\r\n};\r\n\r\nvar permessageDeflate = PerMessageDeflate$4;\r\n\r\n/**\r\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\r\n *\r\n * @param {Buffer} chunk A chunk of data\r\n * @private\r\n */\r\nfunction deflateOnData(chunk) {\r\n  this[kBuffers].push(chunk);\r\n  this[kTotalLength] += chunk.length;\r\n}\r\n\r\n/**\r\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\r\n *\r\n * @param {Buffer} chunk A chunk of data\r\n * @private\r\n */\r\nfunction inflateOnData(chunk) {\r\n  this[kTotalLength] += chunk.length;\r\n\r\n  if (\r\n    this[kPerMessageDeflate]._maxPayload < 1 ||\r\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\r\n  ) {\r\n    this[kBuffers].push(chunk);\r\n    return;\r\n  }\r\n\r\n  this[kError$1] = new RangeError('Max payload size exceeded');\r\n  this[kError$1].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\r\n  this[kError$1][kStatusCode$2] = 1009;\r\n  this.removeListener('data', inflateOnData);\r\n  this.reset();\r\n}\r\n\r\n/**\r\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\r\n *\r\n * @param {Error} err The emitted error\r\n * @private\r\n */\r\nfunction inflateOnError(err) {\r\n  //\r\n  // There is no need to call `Zlib#close()` as the handle is automatically\r\n  // closed when an error is emitted.\r\n  //\r\n  this[kPerMessageDeflate]._inflate = null;\r\n  err[kStatusCode$2] = 1007;\r\n  this[kCallback](err);\r\n}\r\n\r\nvar validation = {exports: {}};\r\n\r\nconst { isUtf8 } = require$$0$a;\r\n\r\nconst { hasBlob } = constants;\r\n\r\n//\r\n// Allowed token characters:\r\n//\r\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\r\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\r\n//\r\n// tokenChars[32] === 0 // ' '\r\n// tokenChars[33] === 1 // '!'\r\n// tokenChars[34] === 0 // '\"'\r\n// ...\r\n//\r\n// prettier-ignore\r\nconst tokenChars$2 = [\r\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\r\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\r\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\r\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\r\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\r\n];\r\n\r\n/**\r\n * Checks if a status code is allowed in a close frame.\r\n *\r\n * @param {Number} code The status code\r\n * @return {Boolean} `true` if the status code is valid, else `false`\r\n * @public\r\n */\r\nfunction isValidStatusCode$2(code) {\r\n  return (\r\n    (code >= 1000 &&\r\n      code <= 1014 &&\r\n      code !== 1004 &&\r\n      code !== 1005 &&\r\n      code !== 1006) ||\r\n    (code >= 3000 && code <= 4999)\r\n  );\r\n}\r\n\r\n/**\r\n * Checks if a given buffer contains only correct UTF-8.\r\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\r\n * Markus Kuhn.\r\n *\r\n * @param {Buffer} buf The buffer to check\r\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\r\n * @public\r\n */\r\nfunction _isValidUTF8(buf) {\r\n  const len = buf.length;\r\n  let i = 0;\r\n\r\n  while (i < len) {\r\n    if ((buf[i] & 0x80) === 0) {\r\n      // 0xxxxxxx\r\n      i++;\r\n    } else if ((buf[i] & 0xe0) === 0xc0) {\r\n      // 110xxxxx 10xxxxxx\r\n      if (\r\n        i + 1 === len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i] & 0xfe) === 0xc0 // Overlong\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 2;\r\n    } else if ((buf[i] & 0xf0) === 0xe0) {\r\n      // 1110xxxx 10xxxxxx 10xxxxxx\r\n      if (\r\n        i + 2 >= len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i + 2] & 0xc0) !== 0x80 ||\r\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\r\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 3;\r\n    } else if ((buf[i] & 0xf8) === 0xf0) {\r\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\r\n      if (\r\n        i + 3 >= len ||\r\n        (buf[i + 1] & 0xc0) !== 0x80 ||\r\n        (buf[i + 2] & 0xc0) !== 0x80 ||\r\n        (buf[i + 3] & 0xc0) !== 0x80 ||\r\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\r\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\r\n        buf[i] > 0xf4 // > U+10FFFF\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      i += 4;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n/**\r\n * Determines whether a value is a `Blob`.\r\n *\r\n * @param {*} value The value to be tested\r\n * @return {Boolean} `true` if `value` is a `Blob`, else `false`\r\n * @private\r\n */\r\nfunction isBlob$2(value) {\r\n  return (\r\n    hasBlob &&\r\n    typeof value === 'object' &&\r\n    typeof value.arrayBuffer === 'function' &&\r\n    typeof value.type === 'string' &&\r\n    typeof value.stream === 'function' &&\r\n    (value[Symbol.toStringTag] === 'Blob' ||\r\n      value[Symbol.toStringTag] === 'File')\r\n  );\r\n}\r\n\r\nvalidation.exports = {\r\n  isBlob: isBlob$2,\r\n  isValidStatusCode: isValidStatusCode$2,\r\n  isValidUTF8: _isValidUTF8,\r\n  tokenChars: tokenChars$2\r\n};\r\n\r\nif (isUtf8) {\r\n  validation.exports.isValidUTF8 = function (buf) {\r\n    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\r\n  };\r\n} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\r\n  try {\r\n    const isValidUTF8 = require('utf-8-validate');\r\n\r\n    validation.exports.isValidUTF8 = function (buf) {\r\n      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\r\n    };\r\n  } catch (e) {\r\n    // Continue regardless of the error.\r\n  }\r\n}\r\n\r\nvar validationExports = validation.exports;\r\n\r\nconst { Writable: Writable$1 } = require$$0$6;\r\n\r\nconst PerMessageDeflate$3 = permessageDeflate;\r\nconst {\r\n  BINARY_TYPES: BINARY_TYPES$1,\r\n  EMPTY_BUFFER: EMPTY_BUFFER$2,\r\n  kStatusCode: kStatusCode$1,\r\n  kWebSocket: kWebSocket$3\r\n} = constants;\r\nconst { concat, toArrayBuffer, unmask } = bufferUtilExports;\r\nconst { isValidStatusCode: isValidStatusCode$1, isValidUTF8 } = validationExports;\r\n\r\nconst FastBuffer = Buffer[Symbol.species];\r\n\r\nconst GET_INFO = 0;\r\nconst GET_PAYLOAD_LENGTH_16 = 1;\r\nconst GET_PAYLOAD_LENGTH_64 = 2;\r\nconst GET_MASK = 3;\r\nconst GET_DATA = 4;\r\nconst INFLATING = 5;\r\nconst DEFER_EVENT = 6;\r\n\r\n/**\r\n * HyBi Receiver implementation.\r\n *\r\n * @extends Writable\r\n */\r\nlet Receiver$1 = class Receiver extends Writable$1 {\r\n  /**\r\n   * Creates a Receiver instance.\r\n   *\r\n   * @param {Object} [options] Options object\r\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\r\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\r\n   *     multiple times in the same tick\r\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\r\n   * @param {Object} [options.extensions] An object containing the negotiated\r\n   *     extensions\r\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\r\n   *     client or server mode\r\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\r\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n   *     not to skip UTF-8 validation for text and close messages\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    this._allowSynchronousEvents =\r\n      options.allowSynchronousEvents !== undefined\r\n        ? options.allowSynchronousEvents\r\n        : true;\r\n    this._binaryType = options.binaryType || BINARY_TYPES$1[0];\r\n    this._extensions = options.extensions || {};\r\n    this._isServer = !!options.isServer;\r\n    this._maxPayload = options.maxPayload | 0;\r\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\r\n    this[kWebSocket$3] = undefined;\r\n\r\n    this._bufferedBytes = 0;\r\n    this._buffers = [];\r\n\r\n    this._compressed = false;\r\n    this._payloadLength = 0;\r\n    this._mask = undefined;\r\n    this._fragmented = 0;\r\n    this._masked = false;\r\n    this._fin = false;\r\n    this._opcode = 0;\r\n\r\n    this._totalPayloadLength = 0;\r\n    this._messageLength = 0;\r\n    this._fragments = [];\r\n\r\n    this._errored = false;\r\n    this._loop = false;\r\n    this._state = GET_INFO;\r\n  }\r\n\r\n  /**\r\n   * Implements `Writable.prototype._write()`.\r\n   *\r\n   * @param {Buffer} chunk The chunk of data to write\r\n   * @param {String} encoding The character encoding of `chunk`\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  _write(chunk, encoding, cb) {\r\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\r\n\r\n    this._bufferedBytes += chunk.length;\r\n    this._buffers.push(chunk);\r\n    this.startLoop(cb);\r\n  }\r\n\r\n  /**\r\n   * Consumes `n` bytes from the buffered data.\r\n   *\r\n   * @param {Number} n The number of bytes to consume\r\n   * @return {Buffer} The consumed bytes\r\n   * @private\r\n   */\r\n  consume(n) {\r\n    this._bufferedBytes -= n;\r\n\r\n    if (n === this._buffers[0].length) return this._buffers.shift();\r\n\r\n    if (n < this._buffers[0].length) {\r\n      const buf = this._buffers[0];\r\n      this._buffers[0] = new FastBuffer(\r\n        buf.buffer,\r\n        buf.byteOffset + n,\r\n        buf.length - n\r\n      );\r\n\r\n      return new FastBuffer(buf.buffer, buf.byteOffset, n);\r\n    }\r\n\r\n    const dst = Buffer.allocUnsafe(n);\r\n\r\n    do {\r\n      const buf = this._buffers[0];\r\n      const offset = dst.length - n;\r\n\r\n      if (n >= buf.length) {\r\n        dst.set(this._buffers.shift(), offset);\r\n      } else {\r\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\r\n        this._buffers[0] = new FastBuffer(\r\n          buf.buffer,\r\n          buf.byteOffset + n,\r\n          buf.length - n\r\n        );\r\n      }\r\n\r\n      n -= buf.length;\r\n    } while (n > 0);\r\n\r\n    return dst;\r\n  }\r\n\r\n  /**\r\n   * Starts the parsing loop.\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  startLoop(cb) {\r\n    this._loop = true;\r\n\r\n    do {\r\n      switch (this._state) {\r\n        case GET_INFO:\r\n          this.getInfo(cb);\r\n          break;\r\n        case GET_PAYLOAD_LENGTH_16:\r\n          this.getPayloadLength16(cb);\r\n          break;\r\n        case GET_PAYLOAD_LENGTH_64:\r\n          this.getPayloadLength64(cb);\r\n          break;\r\n        case GET_MASK:\r\n          this.getMask();\r\n          break;\r\n        case GET_DATA:\r\n          this.getData(cb);\r\n          break;\r\n        case INFLATING:\r\n        case DEFER_EVENT:\r\n          this._loop = false;\r\n          return;\r\n      }\r\n    } while (this._loop);\r\n\r\n    if (!this._errored) cb();\r\n  }\r\n\r\n  /**\r\n   * Reads the first two bytes of a frame.\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  getInfo(cb) {\r\n    if (this._bufferedBytes < 2) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    const buf = this.consume(2);\r\n\r\n    if ((buf[0] & 0x30) !== 0x00) {\r\n      const error = this.createError(\r\n        RangeError,\r\n        'RSV2 and RSV3 must be clear',\r\n        true,\r\n        1002,\r\n        'WS_ERR_UNEXPECTED_RSV_2_3'\r\n      );\r\n\r\n      cb(error);\r\n      return;\r\n    }\r\n\r\n    const compressed = (buf[0] & 0x40) === 0x40;\r\n\r\n    if (compressed && !this._extensions[PerMessageDeflate$3.extensionName]) {\r\n      const error = this.createError(\r\n        RangeError,\r\n        'RSV1 must be clear',\r\n        true,\r\n        1002,\r\n        'WS_ERR_UNEXPECTED_RSV_1'\r\n      );\r\n\r\n      cb(error);\r\n      return;\r\n    }\r\n\r\n    this._fin = (buf[0] & 0x80) === 0x80;\r\n    this._opcode = buf[0] & 0x0f;\r\n    this._payloadLength = buf[1] & 0x7f;\r\n\r\n    if (this._opcode === 0x00) {\r\n      if (compressed) {\r\n        const error = this.createError(\r\n          RangeError,\r\n          'RSV1 must be clear',\r\n          true,\r\n          1002,\r\n          'WS_ERR_UNEXPECTED_RSV_1'\r\n        );\r\n\r\n        cb(error);\r\n        return;\r\n      }\r\n\r\n      if (!this._fragmented) {\r\n        const error = this.createError(\r\n          RangeError,\r\n          'invalid opcode 0',\r\n          true,\r\n          1002,\r\n          'WS_ERR_INVALID_OPCODE'\r\n        );\r\n\r\n        cb(error);\r\n        return;\r\n      }\r\n\r\n      this._opcode = this._fragmented;\r\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\r\n      if (this._fragmented) {\r\n        const error = this.createError(\r\n          RangeError,\r\n          `invalid opcode ${this._opcode}`,\r\n          true,\r\n          1002,\r\n          'WS_ERR_INVALID_OPCODE'\r\n        );\r\n\r\n        cb(error);\r\n        return;\r\n      }\r\n\r\n      this._compressed = compressed;\r\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\r\n      if (!this._fin) {\r\n        const error = this.createError(\r\n          RangeError,\r\n          'FIN must be set',\r\n          true,\r\n          1002,\r\n          'WS_ERR_EXPECTED_FIN'\r\n        );\r\n\r\n        cb(error);\r\n        return;\r\n      }\r\n\r\n      if (compressed) {\r\n        const error = this.createError(\r\n          RangeError,\r\n          'RSV1 must be clear',\r\n          true,\r\n          1002,\r\n          'WS_ERR_UNEXPECTED_RSV_1'\r\n        );\r\n\r\n        cb(error);\r\n        return;\r\n      }\r\n\r\n      if (\r\n        this._payloadLength > 0x7d ||\r\n        (this._opcode === 0x08 && this._payloadLength === 1)\r\n      ) {\r\n        const error = this.createError(\r\n          RangeError,\r\n          `invalid payload length ${this._payloadLength}`,\r\n          true,\r\n          1002,\r\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\r\n        );\r\n\r\n        cb(error);\r\n        return;\r\n      }\r\n    } else {\r\n      const error = this.createError(\r\n        RangeError,\r\n        `invalid opcode ${this._opcode}`,\r\n        true,\r\n        1002,\r\n        'WS_ERR_INVALID_OPCODE'\r\n      );\r\n\r\n      cb(error);\r\n      return;\r\n    }\r\n\r\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\r\n    this._masked = (buf[1] & 0x80) === 0x80;\r\n\r\n    if (this._isServer) {\r\n      if (!this._masked) {\r\n        const error = this.createError(\r\n          RangeError,\r\n          'MASK must be set',\r\n          true,\r\n          1002,\r\n          'WS_ERR_EXPECTED_MASK'\r\n        );\r\n\r\n        cb(error);\r\n        return;\r\n      }\r\n    } else if (this._masked) {\r\n      const error = this.createError(\r\n        RangeError,\r\n        'MASK must be clear',\r\n        true,\r\n        1002,\r\n        'WS_ERR_UNEXPECTED_MASK'\r\n      );\r\n\r\n      cb(error);\r\n      return;\r\n    }\r\n\r\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\r\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\r\n    else this.haveLength(cb);\r\n  }\r\n\r\n  /**\r\n   * Gets extended payload length (7+16).\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  getPayloadLength16(cb) {\r\n    if (this._bufferedBytes < 2) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    this._payloadLength = this.consume(2).readUInt16BE(0);\r\n    this.haveLength(cb);\r\n  }\r\n\r\n  /**\r\n   * Gets extended payload length (7+64).\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  getPayloadLength64(cb) {\r\n    if (this._bufferedBytes < 8) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    const buf = this.consume(8);\r\n    const num = buf.readUInt32BE(0);\r\n\r\n    //\r\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\r\n    // if payload length is greater than this number.\r\n    //\r\n    if (num > Math.pow(2, 53 - 32) - 1) {\r\n      const error = this.createError(\r\n        RangeError,\r\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\r\n        false,\r\n        1009,\r\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\r\n      );\r\n\r\n      cb(error);\r\n      return;\r\n    }\r\n\r\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\r\n    this.haveLength(cb);\r\n  }\r\n\r\n  /**\r\n   * Payload length has been read.\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  haveLength(cb) {\r\n    if (this._payloadLength && this._opcode < 0x08) {\r\n      this._totalPayloadLength += this._payloadLength;\r\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\r\n        const error = this.createError(\r\n          RangeError,\r\n          'Max payload size exceeded',\r\n          false,\r\n          1009,\r\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\r\n        );\r\n\r\n        cb(error);\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (this._masked) this._state = GET_MASK;\r\n    else this._state = GET_DATA;\r\n  }\r\n\r\n  /**\r\n   * Reads mask bytes.\r\n   *\r\n   * @private\r\n   */\r\n  getMask() {\r\n    if (this._bufferedBytes < 4) {\r\n      this._loop = false;\r\n      return;\r\n    }\r\n\r\n    this._mask = this.consume(4);\r\n    this._state = GET_DATA;\r\n  }\r\n\r\n  /**\r\n   * Reads data bytes.\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  getData(cb) {\r\n    let data = EMPTY_BUFFER$2;\r\n\r\n    if (this._payloadLength) {\r\n      if (this._bufferedBytes < this._payloadLength) {\r\n        this._loop = false;\r\n        return;\r\n      }\r\n\r\n      data = this.consume(this._payloadLength);\r\n\r\n      if (\r\n        this._masked &&\r\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\r\n      ) {\r\n        unmask(data, this._mask);\r\n      }\r\n    }\r\n\r\n    if (this._opcode > 0x07) {\r\n      this.controlMessage(data, cb);\r\n      return;\r\n    }\r\n\r\n    if (this._compressed) {\r\n      this._state = INFLATING;\r\n      this.decompress(data, cb);\r\n      return;\r\n    }\r\n\r\n    if (data.length) {\r\n      //\r\n      // This message is not compressed so its length is the sum of the payload\r\n      // length of all fragments.\r\n      //\r\n      this._messageLength = this._totalPayloadLength;\r\n      this._fragments.push(data);\r\n    }\r\n\r\n    this.dataMessage(cb);\r\n  }\r\n\r\n  /**\r\n   * Decompresses data.\r\n   *\r\n   * @param {Buffer} data Compressed data\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  decompress(data, cb) {\r\n    const perMessageDeflate = this._extensions[PerMessageDeflate$3.extensionName];\r\n\r\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\r\n      if (err) return cb(err);\r\n\r\n      if (buf.length) {\r\n        this._messageLength += buf.length;\r\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\r\n          const error = this.createError(\r\n            RangeError,\r\n            'Max payload size exceeded',\r\n            false,\r\n            1009,\r\n            'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\r\n          );\r\n\r\n          cb(error);\r\n          return;\r\n        }\r\n\r\n        this._fragments.push(buf);\r\n      }\r\n\r\n      this.dataMessage(cb);\r\n      if (this._state === GET_INFO) this.startLoop(cb);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handles a data message.\r\n   *\r\n   * @param {Function} cb Callback\r\n   * @private\r\n   */\r\n  dataMessage(cb) {\r\n    if (!this._fin) {\r\n      this._state = GET_INFO;\r\n      return;\r\n    }\r\n\r\n    const messageLength = this._messageLength;\r\n    const fragments = this._fragments;\r\n\r\n    this._totalPayloadLength = 0;\r\n    this._messageLength = 0;\r\n    this._fragmented = 0;\r\n    this._fragments = [];\r\n\r\n    if (this._opcode === 2) {\r\n      let data;\r\n\r\n      if (this._binaryType === 'nodebuffer') {\r\n        data = concat(fragments, messageLength);\r\n      } else if (this._binaryType === 'arraybuffer') {\r\n        data = toArrayBuffer(concat(fragments, messageLength));\r\n      } else if (this._binaryType === 'blob') {\r\n        data = new Blob(fragments);\r\n      } else {\r\n        data = fragments;\r\n      }\r\n\r\n      if (this._allowSynchronousEvents) {\r\n        this.emit('message', data, true);\r\n        this._state = GET_INFO;\r\n      } else {\r\n        this._state = DEFER_EVENT;\r\n        setImmediate(() => {\r\n          this.emit('message', data, true);\r\n          this._state = GET_INFO;\r\n          this.startLoop(cb);\r\n        });\r\n      }\r\n    } else {\r\n      const buf = concat(fragments, messageLength);\r\n\r\n      if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\r\n        const error = this.createError(\r\n          Error,\r\n          'invalid UTF-8 sequence',\r\n          true,\r\n          1007,\r\n          'WS_ERR_INVALID_UTF8'\r\n        );\r\n\r\n        cb(error);\r\n        return;\r\n      }\r\n\r\n      if (this._state === INFLATING || this._allowSynchronousEvents) {\r\n        this.emit('message', buf, false);\r\n        this._state = GET_INFO;\r\n      } else {\r\n        this._state = DEFER_EVENT;\r\n        setImmediate(() => {\r\n          this.emit('message', buf, false);\r\n          this._state = GET_INFO;\r\n          this.startLoop(cb);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handles a control message.\r\n   *\r\n   * @param {Buffer} data Data to handle\r\n   * @return {(Error|RangeError|undefined)} A possible error\r\n   * @private\r\n   */\r\n  controlMessage(data, cb) {\r\n    if (this._opcode === 0x08) {\r\n      if (data.length === 0) {\r\n        this._loop = false;\r\n        this.emit('conclude', 1005, EMPTY_BUFFER$2);\r\n        this.end();\r\n      } else {\r\n        const code = data.readUInt16BE(0);\r\n\r\n        if (!isValidStatusCode$1(code)) {\r\n          const error = this.createError(\r\n            RangeError,\r\n            `invalid status code ${code}`,\r\n            true,\r\n            1002,\r\n            'WS_ERR_INVALID_CLOSE_CODE'\r\n          );\r\n\r\n          cb(error);\r\n          return;\r\n        }\r\n\r\n        const buf = new FastBuffer(\r\n          data.buffer,\r\n          data.byteOffset + 2,\r\n          data.length - 2\r\n        );\r\n\r\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\r\n          const error = this.createError(\r\n            Error,\r\n            'invalid UTF-8 sequence',\r\n            true,\r\n            1007,\r\n            'WS_ERR_INVALID_UTF8'\r\n          );\r\n\r\n          cb(error);\r\n          return;\r\n        }\r\n\r\n        this._loop = false;\r\n        this.emit('conclude', code, buf);\r\n        this.end();\r\n      }\r\n\r\n      this._state = GET_INFO;\r\n      return;\r\n    }\r\n\r\n    if (this._allowSynchronousEvents) {\r\n      this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\r\n      this._state = GET_INFO;\r\n    } else {\r\n      this._state = DEFER_EVENT;\r\n      setImmediate(() => {\r\n        this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\r\n        this._state = GET_INFO;\r\n        this.startLoop(cb);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Builds an error object.\r\n   *\r\n   * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\r\n   * @param {String} message The error message\r\n   * @param {Boolean} prefix Specifies whether or not to add a default prefix to\r\n   *     `message`\r\n   * @param {Number} statusCode The status code\r\n   * @param {String} errorCode The exposed error code\r\n   * @return {(Error|RangeError)} The error\r\n   * @private\r\n   */\r\n  createError(ErrorCtor, message, prefix, statusCode, errorCode) {\r\n    this._loop = false;\r\n    this._errored = true;\r\n\r\n    const err = new ErrorCtor(\r\n      prefix ? `Invalid WebSocket frame: ${message}` : message\r\n    );\r\n\r\n    Error.captureStackTrace(err, this.createError);\r\n    err.code = errorCode;\r\n    err[kStatusCode$1] = statusCode;\r\n    return err;\r\n  }\r\n};\r\n\r\nvar receiver = Receiver$1;\r\n\r\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex\" }] */\r\nconst { randomFillSync } = require$$3$1;\r\n\r\nconst PerMessageDeflate$2 = permessageDeflate;\r\nconst { EMPTY_BUFFER: EMPTY_BUFFER$1, kWebSocket: kWebSocket$2, NOOP: NOOP$2 } = constants;\r\nconst { isBlob: isBlob$1, isValidStatusCode } = validationExports;\r\nconst { mask: applyMask, toBuffer: toBuffer$1 } = bufferUtilExports;\r\n\r\nconst kByteLength = Symbol('kByteLength');\r\nconst maskBuffer = Buffer.alloc(4);\r\nconst RANDOM_POOL_SIZE = 8 * 1024;\r\nlet randomPool;\r\nlet randomPoolPointer = RANDOM_POOL_SIZE;\r\n\r\nconst DEFAULT = 0;\r\nconst DEFLATING = 1;\r\nconst GET_BLOB_DATA = 2;\r\n\r\n/**\r\n * HyBi Sender implementation.\r\n */\r\nlet Sender$1 = class Sender {\r\n  /**\r\n   * Creates a Sender instance.\r\n   *\r\n   * @param {Duplex} socket The connection socket\r\n   * @param {Object} [extensions] An object containing the negotiated extensions\r\n   * @param {Function} [generateMask] The function used to generate the masking\r\n   *     key\r\n   */\r\n  constructor(socket, extensions, generateMask) {\r\n    this._extensions = extensions || {};\r\n\r\n    if (generateMask) {\r\n      this._generateMask = generateMask;\r\n      this._maskBuffer = Buffer.alloc(4);\r\n    }\r\n\r\n    this._socket = socket;\r\n\r\n    this._firstFragment = true;\r\n    this._compress = false;\r\n\r\n    this._bufferedBytes = 0;\r\n    this._queue = [];\r\n    this._state = DEFAULT;\r\n    this.onerror = NOOP$2;\r\n    this[kWebSocket$2] = undefined;\r\n  }\r\n\r\n  /**\r\n   * Frames a piece of data according to the HyBi WebSocket protocol.\r\n   *\r\n   * @param {(Buffer|String)} data The data to frame\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\r\n   *     FIN bit\r\n   * @param {Function} [options.generateMask] The function used to generate the\r\n   *     masking key\r\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\r\n   *     `data`\r\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\r\n   *     key\r\n   * @param {Number} options.opcode The opcode\r\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\r\n   *     modified\r\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\r\n   *     RSV1 bit\r\n   * @return {(Buffer|String)[]} The framed data\r\n   * @public\r\n   */\r\n  static frame(data, options) {\r\n    let mask;\r\n    let merge = false;\r\n    let offset = 2;\r\n    let skipMasking = false;\r\n\r\n    if (options.mask) {\r\n      mask = options.maskBuffer || maskBuffer;\r\n\r\n      if (options.generateMask) {\r\n        options.generateMask(mask);\r\n      } else {\r\n        if (randomPoolPointer === RANDOM_POOL_SIZE) {\r\n          /* istanbul ignore else  */\r\n          if (randomPool === undefined) {\r\n            //\r\n            // This is lazily initialized because server-sent frames must not\r\n            // be masked so it may never be used.\r\n            //\r\n            randomPool = Buffer.alloc(RANDOM_POOL_SIZE);\r\n          }\r\n\r\n          randomFillSync(randomPool, 0, RANDOM_POOL_SIZE);\r\n          randomPoolPointer = 0;\r\n        }\r\n\r\n        mask[0] = randomPool[randomPoolPointer++];\r\n        mask[1] = randomPool[randomPoolPointer++];\r\n        mask[2] = randomPool[randomPoolPointer++];\r\n        mask[3] = randomPool[randomPoolPointer++];\r\n      }\r\n\r\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\r\n      offset = 6;\r\n    }\r\n\r\n    let dataLength;\r\n\r\n    if (typeof data === 'string') {\r\n      if (\r\n        (!options.mask || skipMasking) &&\r\n        options[kByteLength] !== undefined\r\n      ) {\r\n        dataLength = options[kByteLength];\r\n      } else {\r\n        data = Buffer.from(data);\r\n        dataLength = data.length;\r\n      }\r\n    } else {\r\n      dataLength = data.length;\r\n      merge = options.mask && options.readOnly && !skipMasking;\r\n    }\r\n\r\n    let payloadLength = dataLength;\r\n\r\n    if (dataLength >= 65536) {\r\n      offset += 8;\r\n      payloadLength = 127;\r\n    } else if (dataLength > 125) {\r\n      offset += 2;\r\n      payloadLength = 126;\r\n    }\r\n\r\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\r\n\r\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\r\n    if (options.rsv1) target[0] |= 0x40;\r\n\r\n    target[1] = payloadLength;\r\n\r\n    if (payloadLength === 126) {\r\n      target.writeUInt16BE(dataLength, 2);\r\n    } else if (payloadLength === 127) {\r\n      target[2] = target[3] = 0;\r\n      target.writeUIntBE(dataLength, 4, 6);\r\n    }\r\n\r\n    if (!options.mask) return [target, data];\r\n\r\n    target[1] |= 0x80;\r\n    target[offset - 4] = mask[0];\r\n    target[offset - 3] = mask[1];\r\n    target[offset - 2] = mask[2];\r\n    target[offset - 1] = mask[3];\r\n\r\n    if (skipMasking) return [target, data];\r\n\r\n    if (merge) {\r\n      applyMask(data, mask, target, offset, dataLength);\r\n      return [target];\r\n    }\r\n\r\n    applyMask(data, mask, data, 0, dataLength);\r\n    return [target, data];\r\n  }\r\n\r\n  /**\r\n   * Sends a close message to the other peer.\r\n   *\r\n   * @param {Number} [code] The status code component of the body\r\n   * @param {(String|Buffer)} [data] The message component of the body\r\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  close(code, data, mask, cb) {\r\n    let buf;\r\n\r\n    if (code === undefined) {\r\n      buf = EMPTY_BUFFER$1;\r\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\r\n      throw new TypeError('First argument must be a valid error code number');\r\n    } else if (data === undefined || !data.length) {\r\n      buf = Buffer.allocUnsafe(2);\r\n      buf.writeUInt16BE(code, 0);\r\n    } else {\r\n      const length = Buffer.byteLength(data);\r\n\r\n      if (length > 123) {\r\n        throw new RangeError('The message must not be greater than 123 bytes');\r\n      }\r\n\r\n      buf = Buffer.allocUnsafe(2 + length);\r\n      buf.writeUInt16BE(code, 0);\r\n\r\n      if (typeof data === 'string') {\r\n        buf.write(data, 2);\r\n      } else {\r\n        buf.set(data, 2);\r\n      }\r\n    }\r\n\r\n    const options = {\r\n      [kByteLength]: buf.length,\r\n      fin: true,\r\n      generateMask: this._generateMask,\r\n      mask,\r\n      maskBuffer: this._maskBuffer,\r\n      opcode: 0x08,\r\n      readOnly: false,\r\n      rsv1: false\r\n    };\r\n\r\n    if (this._state !== DEFAULT) {\r\n      this.enqueue([this.dispatch, buf, false, options, cb]);\r\n    } else {\r\n      this.sendFrame(Sender.frame(buf, options), cb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sends a ping message to the other peer.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  ping(data, mask, cb) {\r\n    let byteLength;\r\n    let readOnly;\r\n\r\n    if (typeof data === 'string') {\r\n      byteLength = Buffer.byteLength(data);\r\n      readOnly = false;\r\n    } else if (isBlob$1(data)) {\r\n      byteLength = data.size;\r\n      readOnly = false;\r\n    } else {\r\n      data = toBuffer$1(data);\r\n      byteLength = data.length;\r\n      readOnly = toBuffer$1.readOnly;\r\n    }\r\n\r\n    if (byteLength > 125) {\r\n      throw new RangeError('The data size must not be greater than 125 bytes');\r\n    }\r\n\r\n    const options = {\r\n      [kByteLength]: byteLength,\r\n      fin: true,\r\n      generateMask: this._generateMask,\r\n      mask,\r\n      maskBuffer: this._maskBuffer,\r\n      opcode: 0x09,\r\n      readOnly,\r\n      rsv1: false\r\n    };\r\n\r\n    if (isBlob$1(data)) {\r\n      if (this._state !== DEFAULT) {\r\n        this.enqueue([this.getBlobData, data, false, options, cb]);\r\n      } else {\r\n        this.getBlobData(data, false, options, cb);\r\n      }\r\n    } else if (this._state !== DEFAULT) {\r\n      this.enqueue([this.dispatch, data, false, options, cb]);\r\n    } else {\r\n      this.sendFrame(Sender.frame(data, options), cb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sends a pong message to the other peer.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  pong(data, mask, cb) {\r\n    let byteLength;\r\n    let readOnly;\r\n\r\n    if (typeof data === 'string') {\r\n      byteLength = Buffer.byteLength(data);\r\n      readOnly = false;\r\n    } else if (isBlob$1(data)) {\r\n      byteLength = data.size;\r\n      readOnly = false;\r\n    } else {\r\n      data = toBuffer$1(data);\r\n      byteLength = data.length;\r\n      readOnly = toBuffer$1.readOnly;\r\n    }\r\n\r\n    if (byteLength > 125) {\r\n      throw new RangeError('The data size must not be greater than 125 bytes');\r\n    }\r\n\r\n    const options = {\r\n      [kByteLength]: byteLength,\r\n      fin: true,\r\n      generateMask: this._generateMask,\r\n      mask,\r\n      maskBuffer: this._maskBuffer,\r\n      opcode: 0x0a,\r\n      readOnly,\r\n      rsv1: false\r\n    };\r\n\r\n    if (isBlob$1(data)) {\r\n      if (this._state !== DEFAULT) {\r\n        this.enqueue([this.getBlobData, data, false, options, cb]);\r\n      } else {\r\n        this.getBlobData(data, false, options, cb);\r\n      }\r\n    } else if (this._state !== DEFAULT) {\r\n      this.enqueue([this.dispatch, data, false, options, cb]);\r\n    } else {\r\n      this.sendFrame(Sender.frame(data, options), cb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sends a data message to the other peer.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\r\n   *     or text\r\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\r\n   *     compress `data`\r\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\r\n   *     last one\r\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\r\n   *     `data`\r\n   * @param {Function} [cb] Callback\r\n   * @public\r\n   */\r\n  send(data, options, cb) {\r\n    const perMessageDeflate = this._extensions[PerMessageDeflate$2.extensionName];\r\n    let opcode = options.binary ? 2 : 1;\r\n    let rsv1 = options.compress;\r\n\r\n    let byteLength;\r\n    let readOnly;\r\n\r\n    if (typeof data === 'string') {\r\n      byteLength = Buffer.byteLength(data);\r\n      readOnly = false;\r\n    } else if (isBlob$1(data)) {\r\n      byteLength = data.size;\r\n      readOnly = false;\r\n    } else {\r\n      data = toBuffer$1(data);\r\n      byteLength = data.length;\r\n      readOnly = toBuffer$1.readOnly;\r\n    }\r\n\r\n    if (this._firstFragment) {\r\n      this._firstFragment = false;\r\n      if (\r\n        rsv1 &&\r\n        perMessageDeflate &&\r\n        perMessageDeflate.params[\r\n          perMessageDeflate._isServer\r\n            ? 'server_no_context_takeover'\r\n            : 'client_no_context_takeover'\r\n        ]\r\n      ) {\r\n        rsv1 = byteLength >= perMessageDeflate._threshold;\r\n      }\r\n      this._compress = rsv1;\r\n    } else {\r\n      rsv1 = false;\r\n      opcode = 0;\r\n    }\r\n\r\n    if (options.fin) this._firstFragment = true;\r\n\r\n    const opts = {\r\n      [kByteLength]: byteLength,\r\n      fin: options.fin,\r\n      generateMask: this._generateMask,\r\n      mask: options.mask,\r\n      maskBuffer: this._maskBuffer,\r\n      opcode,\r\n      readOnly,\r\n      rsv1\r\n    };\r\n\r\n    if (isBlob$1(data)) {\r\n      if (this._state !== DEFAULT) {\r\n        this.enqueue([this.getBlobData, data, this._compress, opts, cb]);\r\n      } else {\r\n        this.getBlobData(data, this._compress, opts, cb);\r\n      }\r\n    } else if (this._state !== DEFAULT) {\r\n      this.enqueue([this.dispatch, data, this._compress, opts, cb]);\r\n    } else {\r\n      this.dispatch(data, this._compress, opts, cb);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the contents of a blob as binary data.\r\n   *\r\n   * @param {Blob} blob The blob\r\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\r\n   *     the data\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\r\n   *     FIN bit\r\n   * @param {Function} [options.generateMask] The function used to generate the\r\n   *     masking key\r\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\r\n   *     `data`\r\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\r\n   *     key\r\n   * @param {Number} options.opcode The opcode\r\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\r\n   *     modified\r\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\r\n   *     RSV1 bit\r\n   * @param {Function} [cb] Callback\r\n   * @private\r\n   */\r\n  getBlobData(blob, compress, options, cb) {\r\n    this._bufferedBytes += options[kByteLength];\r\n    this._state = GET_BLOB_DATA;\r\n\r\n    blob\r\n      .arrayBuffer()\r\n      .then((arrayBuffer) => {\r\n        if (this._socket.destroyed) {\r\n          const err = new Error(\r\n            'The socket was closed while the blob was being read'\r\n          );\r\n\r\n          //\r\n          // `callCallbacks` is called in the next tick to ensure that errors\r\n          // that might be thrown in the callbacks behave like errors thrown\r\n          // outside the promise chain.\r\n          //\r\n          process.nextTick(callCallbacks, this, err, cb);\r\n          return;\r\n        }\r\n\r\n        this._bufferedBytes -= options[kByteLength];\r\n        const data = toBuffer$1(arrayBuffer);\r\n\r\n        if (!compress) {\r\n          this._state = DEFAULT;\r\n          this.sendFrame(Sender.frame(data, options), cb);\r\n          this.dequeue();\r\n        } else {\r\n          this.dispatch(data, compress, options, cb);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        //\r\n        // `onError` is called in the next tick for the same reason that\r\n        // `callCallbacks` above is.\r\n        //\r\n        process.nextTick(onError, this, err, cb);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Dispatches a message.\r\n   *\r\n   * @param {(Buffer|String)} data The message to send\r\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\r\n   *     `data`\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\r\n   *     FIN bit\r\n   * @param {Function} [options.generateMask] The function used to generate the\r\n   *     masking key\r\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\r\n   *     `data`\r\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\r\n   *     key\r\n   * @param {Number} options.opcode The opcode\r\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\r\n   *     modified\r\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\r\n   *     RSV1 bit\r\n   * @param {Function} [cb] Callback\r\n   * @private\r\n   */\r\n  dispatch(data, compress, options, cb) {\r\n    if (!compress) {\r\n      this.sendFrame(Sender.frame(data, options), cb);\r\n      return;\r\n    }\r\n\r\n    const perMessageDeflate = this._extensions[PerMessageDeflate$2.extensionName];\r\n\r\n    this._bufferedBytes += options[kByteLength];\r\n    this._state = DEFLATING;\r\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\r\n      if (this._socket.destroyed) {\r\n        const err = new Error(\r\n          'The socket was closed while data was being compressed'\r\n        );\r\n\r\n        callCallbacks(this, err, cb);\r\n        return;\r\n      }\r\n\r\n      this._bufferedBytes -= options[kByteLength];\r\n      this._state = DEFAULT;\r\n      options.readOnly = false;\r\n      this.sendFrame(Sender.frame(buf, options), cb);\r\n      this.dequeue();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Executes queued send operations.\r\n   *\r\n   * @private\r\n   */\r\n  dequeue() {\r\n    while (this._state === DEFAULT && this._queue.length) {\r\n      const params = this._queue.shift();\r\n\r\n      this._bufferedBytes -= params[3][kByteLength];\r\n      Reflect.apply(params[0], this, params.slice(1));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Enqueues a send operation.\r\n   *\r\n   * @param {Array} params Send operation parameters.\r\n   * @private\r\n   */\r\n  enqueue(params) {\r\n    this._bufferedBytes += params[3][kByteLength];\r\n    this._queue.push(params);\r\n  }\r\n\r\n  /**\r\n   * Sends a frame.\r\n   *\r\n   * @param {Buffer[]} list The frame to send\r\n   * @param {Function} [cb] Callback\r\n   * @private\r\n   */\r\n  sendFrame(list, cb) {\r\n    if (list.length === 2) {\r\n      this._socket.cork();\r\n      this._socket.write(list[0]);\r\n      this._socket.write(list[1], cb);\r\n      this._socket.uncork();\r\n    } else {\r\n      this._socket.write(list[0], cb);\r\n    }\r\n  }\r\n};\r\n\r\nvar sender = Sender$1;\r\n\r\n/**\r\n * Calls queued callbacks with an error.\r\n *\r\n * @param {Sender} sender The `Sender` instance\r\n * @param {Error} err The error to call the callbacks with\r\n * @param {Function} [cb] The first callback\r\n * @private\r\n */\r\nfunction callCallbacks(sender, err, cb) {\r\n  if (typeof cb === 'function') cb(err);\r\n\r\n  for (let i = 0; i < sender._queue.length; i++) {\r\n    const params = sender._queue[i];\r\n    const callback = params[params.length - 1];\r\n\r\n    if (typeof callback === 'function') callback(err);\r\n  }\r\n}\r\n\r\n/**\r\n * Handles a `Sender` error.\r\n *\r\n * @param {Sender} sender The `Sender` instance\r\n * @param {Error} err The error\r\n * @param {Function} [cb] The first pending callback\r\n * @private\r\n */\r\nfunction onError(sender, err, cb) {\r\n  callCallbacks(sender, err, cb);\r\n  sender.onerror(err);\r\n}\r\n\r\nconst { kForOnEventAttribute: kForOnEventAttribute$1, kListener: kListener$1 } = constants;\r\n\r\nconst kCode = Symbol('kCode');\r\nconst kData = Symbol('kData');\r\nconst kError = Symbol('kError');\r\nconst kMessage = Symbol('kMessage');\r\nconst kReason = Symbol('kReason');\r\nconst kTarget = Symbol('kTarget');\r\nconst kType = Symbol('kType');\r\nconst kWasClean = Symbol('kWasClean');\r\n\r\n/**\r\n * Class representing an event.\r\n */\r\nlet Event$1 = class Event {\r\n  /**\r\n   * Create a new `Event`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @throws {TypeError} If the `type` argument is not specified\r\n   */\r\n  constructor(type) {\r\n    this[kTarget] = null;\r\n    this[kType] = type;\r\n  }\r\n\r\n  /**\r\n   * @type {*}\r\n   */\r\n  get target() {\r\n    return this[kTarget];\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get type() {\r\n    return this[kType];\r\n  }\r\n};\r\n\r\nObject.defineProperty(Event$1.prototype, 'target', { enumerable: true });\r\nObject.defineProperty(Event$1.prototype, 'type', { enumerable: true });\r\n\r\n/**\r\n * Class representing a close event.\r\n *\r\n * @extends Event\r\n */\r\nclass CloseEvent extends Event$1 {\r\n  /**\r\n   * Create a new `CloseEvent`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @param {Object} [options] A dictionary object that allows for setting\r\n   *     attributes via object members of the same name\r\n   * @param {Number} [options.code=0] The status code explaining why the\r\n   *     connection was closed\r\n   * @param {String} [options.reason=''] A human-readable string explaining why\r\n   *     the connection was closed\r\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\r\n   *     connection was cleanly closed\r\n   */\r\n  constructor(type, options = {}) {\r\n    super(type);\r\n\r\n    this[kCode] = options.code === undefined ? 0 : options.code;\r\n    this[kReason] = options.reason === undefined ? '' : options.reason;\r\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\r\n  }\r\n\r\n  /**\r\n   * @type {Number}\r\n   */\r\n  get code() {\r\n    return this[kCode];\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get reason() {\r\n    return this[kReason];\r\n  }\r\n\r\n  /**\r\n   * @type {Boolean}\r\n   */\r\n  get wasClean() {\r\n    return this[kWasClean];\r\n  }\r\n}\r\n\r\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\r\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\r\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\r\n\r\n/**\r\n * Class representing an error event.\r\n *\r\n * @extends Event\r\n */\r\nclass ErrorEvent extends Event$1 {\r\n  /**\r\n   * Create a new `ErrorEvent`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @param {Object} [options] A dictionary object that allows for setting\r\n   *     attributes via object members of the same name\r\n   * @param {*} [options.error=null] The error that generated this event\r\n   * @param {String} [options.message=''] The error message\r\n   */\r\n  constructor(type, options = {}) {\r\n    super(type);\r\n\r\n    this[kError] = options.error === undefined ? null : options.error;\r\n    this[kMessage] = options.message === undefined ? '' : options.message;\r\n  }\r\n\r\n  /**\r\n   * @type {*}\r\n   */\r\n  get error() {\r\n    return this[kError];\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get message() {\r\n    return this[kMessage];\r\n  }\r\n}\r\n\r\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\r\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\r\n\r\n/**\r\n * Class representing a message event.\r\n *\r\n * @extends Event\r\n */\r\nclass MessageEvent extends Event$1 {\r\n  /**\r\n   * Create a new `MessageEvent`.\r\n   *\r\n   * @param {String} type The name of the event\r\n   * @param {Object} [options] A dictionary object that allows for setting\r\n   *     attributes via object members of the same name\r\n   * @param {*} [options.data=null] The message content\r\n   */\r\n  constructor(type, options = {}) {\r\n    super(type);\r\n\r\n    this[kData] = options.data === undefined ? null : options.data;\r\n  }\r\n\r\n  /**\r\n   * @type {*}\r\n   */\r\n  get data() {\r\n    return this[kData];\r\n  }\r\n}\r\n\r\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\r\n\r\n/**\r\n * This provides methods for emulating the `EventTarget` interface. It's not\r\n * meant to be used directly.\r\n *\r\n * @mixin\r\n */\r\nconst EventTarget = {\r\n  /**\r\n   * Register an event listener.\r\n   *\r\n   * @param {String} type A string representing the event type to listen for\r\n   * @param {(Function|Object)} handler The listener to add\r\n   * @param {Object} [options] An options object specifies characteristics about\r\n   *     the event listener\r\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\r\n   *     listener should be invoked at most once after being added. If `true`,\r\n   *     the listener would be automatically removed when invoked.\r\n   * @public\r\n   */\r\n  addEventListener(type, handler, options = {}) {\r\n    for (const listener of this.listeners(type)) {\r\n      if (\r\n        !options[kForOnEventAttribute$1] &&\r\n        listener[kListener$1] === handler &&\r\n        !listener[kForOnEventAttribute$1]\r\n      ) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    let wrapper;\r\n\r\n    if (type === 'message') {\r\n      wrapper = function onMessage(data, isBinary) {\r\n        const event = new MessageEvent('message', {\r\n          data: isBinary ? data : data.toString()\r\n        });\r\n\r\n        event[kTarget] = this;\r\n        callListener(handler, this, event);\r\n      };\r\n    } else if (type === 'close') {\r\n      wrapper = function onClose(code, message) {\r\n        const event = new CloseEvent('close', {\r\n          code,\r\n          reason: message.toString(),\r\n          wasClean: this._closeFrameReceived && this._closeFrameSent\r\n        });\r\n\r\n        event[kTarget] = this;\r\n        callListener(handler, this, event);\r\n      };\r\n    } else if (type === 'error') {\r\n      wrapper = function onError(error) {\r\n        const event = new ErrorEvent('error', {\r\n          error,\r\n          message: error.message\r\n        });\r\n\r\n        event[kTarget] = this;\r\n        callListener(handler, this, event);\r\n      };\r\n    } else if (type === 'open') {\r\n      wrapper = function onOpen() {\r\n        const event = new Event$1('open');\r\n\r\n        event[kTarget] = this;\r\n        callListener(handler, this, event);\r\n      };\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    wrapper[kForOnEventAttribute$1] = !!options[kForOnEventAttribute$1];\r\n    wrapper[kListener$1] = handler;\r\n\r\n    if (options.once) {\r\n      this.once(type, wrapper);\r\n    } else {\r\n      this.on(type, wrapper);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Remove an event listener.\r\n   *\r\n   * @param {String} type A string representing the event type to remove\r\n   * @param {(Function|Object)} handler The listener to remove\r\n   * @public\r\n   */\r\n  removeEventListener(type, handler) {\r\n    for (const listener of this.listeners(type)) {\r\n      if (listener[kListener$1] === handler && !listener[kForOnEventAttribute$1]) {\r\n        this.removeListener(type, listener);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nvar eventTarget = {\r\n  CloseEvent,\r\n  ErrorEvent,\r\n  Event: Event$1,\r\n  EventTarget,\r\n  MessageEvent\r\n};\r\n\r\n/**\r\n * Call an event listener\r\n *\r\n * @param {(Function|Object)} listener The listener to call\r\n * @param {*} thisArg The value to use as `this`` when calling the listener\r\n * @param {Event} event The event to pass to the listener\r\n * @private\r\n */\r\nfunction callListener(listener, thisArg, event) {\r\n  if (typeof listener === 'object' && listener.handleEvent) {\r\n    listener.handleEvent.call(listener, event);\r\n  } else {\r\n    listener.call(thisArg, event);\r\n  }\r\n}\r\n\r\nconst { tokenChars: tokenChars$1 } = validationExports;\r\n\r\n/**\r\n * Adds an offer to the map of extension offers or a parameter to the map of\r\n * parameters.\r\n *\r\n * @param {Object} dest The map of extension offers or parameters\r\n * @param {String} name The extension or parameter name\r\n * @param {(Object|Boolean|String)} elem The extension parameters or the\r\n *     parameter value\r\n * @private\r\n */\r\nfunction push(dest, name, elem) {\r\n  if (dest[name] === undefined) dest[name] = [elem];\r\n  else dest[name].push(elem);\r\n}\r\n\r\n/**\r\n * Parses the `Sec-WebSocket-Extensions` header into an object.\r\n *\r\n * @param {String} header The field value of the header\r\n * @return {Object} The parsed object\r\n * @public\r\n */\r\nfunction parse$2(header) {\r\n  const offers = Object.create(null);\r\n  let params = Object.create(null);\r\n  let mustUnescape = false;\r\n  let isEscaping = false;\r\n  let inQuotes = false;\r\n  let extensionName;\r\n  let paramName;\r\n  let start = -1;\r\n  let code = -1;\r\n  let end = -1;\r\n  let i = 0;\r\n\r\n  for (; i < header.length; i++) {\r\n    code = header.charCodeAt(i);\r\n\r\n    if (extensionName === undefined) {\r\n      if (end === -1 && tokenChars$1[code] === 1) {\r\n        if (start === -1) start = i;\r\n      } else if (\r\n        i !== 0 &&\r\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\r\n      ) {\r\n        if (end === -1 && start !== -1) end = i;\r\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\r\n        if (start === -1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n\r\n        if (end === -1) end = i;\r\n        const name = header.slice(start, end);\r\n        if (code === 0x2c) {\r\n          push(offers, name, params);\r\n          params = Object.create(null);\r\n        } else {\r\n          extensionName = name;\r\n        }\r\n\r\n        start = end = -1;\r\n      } else {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n    } else if (paramName === undefined) {\r\n      if (end === -1 && tokenChars$1[code] === 1) {\r\n        if (start === -1) start = i;\r\n      } else if (code === 0x20 || code === 0x09) {\r\n        if (end === -1 && start !== -1) end = i;\r\n      } else if (code === 0x3b || code === 0x2c) {\r\n        if (start === -1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n\r\n        if (end === -1) end = i;\r\n        push(params, header.slice(start, end), true);\r\n        if (code === 0x2c) {\r\n          push(offers, extensionName, params);\r\n          params = Object.create(null);\r\n          extensionName = undefined;\r\n        }\r\n\r\n        start = end = -1;\r\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\r\n        paramName = header.slice(start, i);\r\n        start = end = -1;\r\n      } else {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n    } else {\r\n      //\r\n      // The value of a quoted-string after unescaping must conform to the\r\n      // token ABNF, so only token characters are valid.\r\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\r\n      //\r\n      if (isEscaping) {\r\n        if (tokenChars$1[code] !== 1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n        if (start === -1) start = i;\r\n        else if (!mustUnescape) mustUnescape = true;\r\n        isEscaping = false;\r\n      } else if (inQuotes) {\r\n        if (tokenChars$1[code] === 1) {\r\n          if (start === -1) start = i;\r\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\r\n          inQuotes = false;\r\n          end = i;\r\n        } else if (code === 0x5c /* '\\' */) {\r\n          isEscaping = true;\r\n        } else {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\r\n        inQuotes = true;\r\n      } else if (end === -1 && tokenChars$1[code] === 1) {\r\n        if (start === -1) start = i;\r\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\r\n        if (end === -1) end = i;\r\n      } else if (code === 0x3b || code === 0x2c) {\r\n        if (start === -1) {\r\n          throw new SyntaxError(`Unexpected character at index ${i}`);\r\n        }\r\n\r\n        if (end === -1) end = i;\r\n        let value = header.slice(start, end);\r\n        if (mustUnescape) {\r\n          value = value.replace(/\\\\/g, '');\r\n          mustUnescape = false;\r\n        }\r\n        push(params, paramName, value);\r\n        if (code === 0x2c) {\r\n          push(offers, extensionName, params);\r\n          params = Object.create(null);\r\n          extensionName = undefined;\r\n        }\r\n\r\n        paramName = undefined;\r\n        start = end = -1;\r\n      } else {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\r\n    throw new SyntaxError('Unexpected end of input');\r\n  }\r\n\r\n  if (end === -1) end = i;\r\n  const token = header.slice(start, end);\r\n  if (extensionName === undefined) {\r\n    push(offers, token, params);\r\n  } else {\r\n    if (paramName === undefined) {\r\n      push(params, token, true);\r\n    } else if (mustUnescape) {\r\n      push(params, paramName, token.replace(/\\\\/g, ''));\r\n    } else {\r\n      push(params, paramName, token);\r\n    }\r\n    push(offers, extensionName, params);\r\n  }\r\n\r\n  return offers;\r\n}\r\n\r\n/**\r\n * Builds the `Sec-WebSocket-Extensions` header field value.\r\n *\r\n * @param {Object} extensions The map of extensions and parameters to format\r\n * @return {String} A string representing the given object\r\n * @public\r\n */\r\nfunction format$1(extensions) {\r\n  return Object.keys(extensions)\r\n    .map((extension) => {\r\n      let configurations = extensions[extension];\r\n      if (!Array.isArray(configurations)) configurations = [configurations];\r\n      return configurations\r\n        .map((params) => {\r\n          return [extension]\r\n            .concat(\r\n              Object.keys(params).map((k) => {\r\n                let values = params[k];\r\n                if (!Array.isArray(values)) values = [values];\r\n                return values\r\n                  .map((v) => (v === true ? k : `${k}=${v}`))\r\n                  .join('; ');\r\n              })\r\n            )\r\n            .join('; ');\r\n        })\r\n        .join(', ');\r\n    })\r\n    .join(', ');\r\n}\r\n\r\nvar extension$1 = { format: format$1, parse: parse$2 };\r\n\r\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex|Readable$\", \"caughtErrors\": \"none\" }] */\r\n\r\nconst EventEmitter$1 = require$$0$7;\r\nconst https$2 = require$$1$1;\r\nconst http$3 = require$$1;\r\nconst net = require$$4$1;\r\nconst tls = require$$4$2;\r\nconst { randomBytes, createHash: createHash$1 } = require$$3$1;\r\nconst { URL: URL$2 } = require$$0$9;\r\n\r\nconst PerMessageDeflate$1 = permessageDeflate;\r\nconst Receiver = receiver;\r\nconst Sender = sender;\r\nconst { isBlob } = validationExports;\r\n\r\nconst {\r\n  BINARY_TYPES,\r\n  EMPTY_BUFFER,\r\n  GUID: GUID$1,\r\n  kForOnEventAttribute,\r\n  kListener,\r\n  kStatusCode,\r\n  kWebSocket: kWebSocket$1,\r\n  NOOP: NOOP$1\r\n} = constants;\r\nconst {\r\n  EventTarget: { addEventListener, removeEventListener }\r\n} = eventTarget;\r\nconst { format, parse: parse$1 } = extension$1;\r\nconst { toBuffer } = bufferUtilExports;\r\n\r\nconst closeTimeout = 30 * 1000;\r\nconst kAborted = Symbol('kAborted');\r\nconst protocolVersions = [8, 13];\r\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\r\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\r\n\r\n/**\r\n * Class representing a WebSocket.\r\n *\r\n * @extends EventEmitter\r\n */\r\nlet WebSocket$1 = class WebSocket extends EventEmitter$1 {\r\n  /**\r\n   * Create a new `WebSocket`.\r\n   *\r\n   * @param {(String|URL)} address The URL to which to connect\r\n   * @param {(String|String[])} [protocols] The subprotocols\r\n   * @param {Object} [options] Connection options\r\n   */\r\n  constructor(address, protocols, options) {\r\n    super();\r\n\r\n    this._binaryType = BINARY_TYPES[0];\r\n    this._closeCode = 1006;\r\n    this._closeFrameReceived = false;\r\n    this._closeFrameSent = false;\r\n    this._closeMessage = EMPTY_BUFFER;\r\n    this._closeTimer = null;\r\n    this._errorEmitted = false;\r\n    this._extensions = {};\r\n    this._paused = false;\r\n    this._protocol = '';\r\n    this._readyState = WebSocket.CONNECTING;\r\n    this._receiver = null;\r\n    this._sender = null;\r\n    this._socket = null;\r\n\r\n    if (address !== null) {\r\n      this._bufferedAmount = 0;\r\n      this._isServer = false;\r\n      this._redirects = 0;\r\n\r\n      if (protocols === undefined) {\r\n        protocols = [];\r\n      } else if (!Array.isArray(protocols)) {\r\n        if (typeof protocols === 'object' && protocols !== null) {\r\n          options = protocols;\r\n          protocols = [];\r\n        } else {\r\n          protocols = [protocols];\r\n        }\r\n      }\r\n\r\n      initAsClient(this, address, protocols, options);\r\n    } else {\r\n      this._autoPong = options.autoPong;\r\n      this._isServer = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * For historical reasons, the custom \"nodebuffer\" type is used by the default\r\n   * instead of \"blob\".\r\n   *\r\n   * @type {String}\r\n   */\r\n  get binaryType() {\r\n    return this._binaryType;\r\n  }\r\n\r\n  set binaryType(type) {\r\n    if (!BINARY_TYPES.includes(type)) return;\r\n\r\n    this._binaryType = type;\r\n\r\n    //\r\n    // Allow to change `binaryType` on the fly.\r\n    //\r\n    if (this._receiver) this._receiver._binaryType = type;\r\n  }\r\n\r\n  /**\r\n   * @type {Number}\r\n   */\r\n  get bufferedAmount() {\r\n    if (!this._socket) return this._bufferedAmount;\r\n\r\n    return this._socket._writableState.length + this._sender._bufferedBytes;\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get extensions() {\r\n    return Object.keys(this._extensions).join();\r\n  }\r\n\r\n  /**\r\n   * @type {Boolean}\r\n   */\r\n  get isPaused() {\r\n    return this._paused;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onclose() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onerror() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onopen() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {Function}\r\n   */\r\n  /* istanbul ignore next */\r\n  get onmessage() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get protocol() {\r\n    return this._protocol;\r\n  }\r\n\r\n  /**\r\n   * @type {Number}\r\n   */\r\n  get readyState() {\r\n    return this._readyState;\r\n  }\r\n\r\n  /**\r\n   * @type {String}\r\n   */\r\n  get url() {\r\n    return this._url;\r\n  }\r\n\r\n  /**\r\n   * Set up the socket and the internal resources.\r\n   *\r\n   * @param {Duplex} socket The network socket between the server and client\r\n   * @param {Buffer} head The first packet of the upgraded stream\r\n   * @param {Object} options Options object\r\n   * @param {Boolean} [options.allowSynchronousEvents=false] Specifies whether\r\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\r\n   *     multiple times in the same tick\r\n   * @param {Function} [options.generateMask] The function used to generate the\r\n   *     masking key\r\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\r\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n   *     not to skip UTF-8 validation for text and close messages\r\n   * @private\r\n   */\r\n  setSocket(socket, head, options) {\r\n    const receiver = new Receiver({\r\n      allowSynchronousEvents: options.allowSynchronousEvents,\r\n      binaryType: this.binaryType,\r\n      extensions: this._extensions,\r\n      isServer: this._isServer,\r\n      maxPayload: options.maxPayload,\r\n      skipUTF8Validation: options.skipUTF8Validation\r\n    });\r\n\r\n    const sender = new Sender(socket, this._extensions, options.generateMask);\r\n\r\n    this._receiver = receiver;\r\n    this._sender = sender;\r\n    this._socket = socket;\r\n\r\n    receiver[kWebSocket$1] = this;\r\n    sender[kWebSocket$1] = this;\r\n    socket[kWebSocket$1] = this;\r\n\r\n    receiver.on('conclude', receiverOnConclude);\r\n    receiver.on('drain', receiverOnDrain);\r\n    receiver.on('error', receiverOnError);\r\n    receiver.on('message', receiverOnMessage);\r\n    receiver.on('ping', receiverOnPing);\r\n    receiver.on('pong', receiverOnPong);\r\n\r\n    sender.onerror = senderOnError;\r\n\r\n    //\r\n    // These methods may not be available if `socket` is just a `Duplex`.\r\n    //\r\n    if (socket.setTimeout) socket.setTimeout(0);\r\n    if (socket.setNoDelay) socket.setNoDelay();\r\n\r\n    if (head.length > 0) socket.unshift(head);\r\n\r\n    socket.on('close', socketOnClose);\r\n    socket.on('data', socketOnData);\r\n    socket.on('end', socketOnEnd);\r\n    socket.on('error', socketOnError$1);\r\n\r\n    this._readyState = WebSocket.OPEN;\r\n    this.emit('open');\r\n  }\r\n\r\n  /**\r\n   * Emit the `'close'` event.\r\n   *\r\n   * @private\r\n   */\r\n  emitClose() {\r\n    if (!this._socket) {\r\n      this._readyState = WebSocket.CLOSED;\r\n      this.emit('close', this._closeCode, this._closeMessage);\r\n      return;\r\n    }\r\n\r\n    if (this._extensions[PerMessageDeflate$1.extensionName]) {\r\n      this._extensions[PerMessageDeflate$1.extensionName].cleanup();\r\n    }\r\n\r\n    this._receiver.removeAllListeners();\r\n    this._readyState = WebSocket.CLOSED;\r\n    this.emit('close', this._closeCode, this._closeMessage);\r\n  }\r\n\r\n  /**\r\n   * Start a closing handshake.\r\n   *\r\n   *          +----------+   +-----------+   +----------+\r\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\r\n   *    |     +----------+   +-----------+   +----------+     |\r\n   *          +----------+   +-----------+         |\r\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\r\n   *          +----------+   +-----------+   |\r\n   *    |           |                        |   +---+        |\r\n   *                +------------------------+-->|fin| - - - -\r\n   *    |         +---+                      |   +---+\r\n   *     - - - - -|fin|<---------------------+\r\n   *              +---+\r\n   *\r\n   * @param {Number} [code] Status code explaining why the connection is closing\r\n   * @param {(String|Buffer)} [data] The reason why the connection is\r\n   *     closing\r\n   * @public\r\n   */\r\n  close(code, data) {\r\n    if (this.readyState === WebSocket.CLOSED) return;\r\n    if (this.readyState === WebSocket.CONNECTING) {\r\n      const msg = 'WebSocket was closed before the connection was established';\r\n      abortHandshake$1(this, this._req, msg);\r\n      return;\r\n    }\r\n\r\n    if (this.readyState === WebSocket.CLOSING) {\r\n      if (\r\n        this._closeFrameSent &&\r\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\r\n      ) {\r\n        this._socket.end();\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    this._readyState = WebSocket.CLOSING;\r\n    this._sender.close(code, data, !this._isServer, (err) => {\r\n      //\r\n      // This error is handled by the `'error'` listener on the socket. We only\r\n      // want to know if the close frame has been sent here.\r\n      //\r\n      if (err) return;\r\n\r\n      this._closeFrameSent = true;\r\n\r\n      if (\r\n        this._closeFrameReceived ||\r\n        this._receiver._writableState.errorEmitted\r\n      ) {\r\n        this._socket.end();\r\n      }\r\n    });\r\n\r\n    setCloseTimer(this);\r\n  }\r\n\r\n  /**\r\n   * Pause the socket.\r\n   *\r\n   * @public\r\n   */\r\n  pause() {\r\n    if (\r\n      this.readyState === WebSocket.CONNECTING ||\r\n      this.readyState === WebSocket.CLOSED\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this._paused = true;\r\n    this._socket.pause();\r\n  }\r\n\r\n  /**\r\n   * Send a ping.\r\n   *\r\n   * @param {*} [data] The data to send\r\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\r\n   * @param {Function} [cb] Callback which is executed when the ping is sent\r\n   * @public\r\n   */\r\n  ping(data, mask, cb) {\r\n    if (this.readyState === WebSocket.CONNECTING) {\r\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\r\n    }\r\n\r\n    if (typeof data === 'function') {\r\n      cb = data;\r\n      data = mask = undefined;\r\n    } else if (typeof mask === 'function') {\r\n      cb = mask;\r\n      mask = undefined;\r\n    }\r\n\r\n    if (typeof data === 'number') data = data.toString();\r\n\r\n    if (this.readyState !== WebSocket.OPEN) {\r\n      sendAfterClose(this, data, cb);\r\n      return;\r\n    }\r\n\r\n    if (mask === undefined) mask = !this._isServer;\r\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\r\n  }\r\n\r\n  /**\r\n   * Send a pong.\r\n   *\r\n   * @param {*} [data] The data to send\r\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\r\n   * @param {Function} [cb] Callback which is executed when the pong is sent\r\n   * @public\r\n   */\r\n  pong(data, mask, cb) {\r\n    if (this.readyState === WebSocket.CONNECTING) {\r\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\r\n    }\r\n\r\n    if (typeof data === 'function') {\r\n      cb = data;\r\n      data = mask = undefined;\r\n    } else if (typeof mask === 'function') {\r\n      cb = mask;\r\n      mask = undefined;\r\n    }\r\n\r\n    if (typeof data === 'number') data = data.toString();\r\n\r\n    if (this.readyState !== WebSocket.OPEN) {\r\n      sendAfterClose(this, data, cb);\r\n      return;\r\n    }\r\n\r\n    if (mask === undefined) mask = !this._isServer;\r\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\r\n  }\r\n\r\n  /**\r\n   * Resume the socket.\r\n   *\r\n   * @public\r\n   */\r\n  resume() {\r\n    if (\r\n      this.readyState === WebSocket.CONNECTING ||\r\n      this.readyState === WebSocket.CLOSED\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this._paused = false;\r\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\r\n  }\r\n\r\n  /**\r\n   * Send a data message.\r\n   *\r\n   * @param {*} data The message to send\r\n   * @param {Object} [options] Options object\r\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\r\n   *     text\r\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\r\n   *     `data`\r\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\r\n   *     last one\r\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\r\n   * @param {Function} [cb] Callback which is executed when data is written out\r\n   * @public\r\n   */\r\n  send(data, options, cb) {\r\n    if (this.readyState === WebSocket.CONNECTING) {\r\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\r\n    }\r\n\r\n    if (typeof options === 'function') {\r\n      cb = options;\r\n      options = {};\r\n    }\r\n\r\n    if (typeof data === 'number') data = data.toString();\r\n\r\n    if (this.readyState !== WebSocket.OPEN) {\r\n      sendAfterClose(this, data, cb);\r\n      return;\r\n    }\r\n\r\n    const opts = {\r\n      binary: typeof data !== 'string',\r\n      mask: !this._isServer,\r\n      compress: true,\r\n      fin: true,\r\n      ...options\r\n    };\r\n\r\n    if (!this._extensions[PerMessageDeflate$1.extensionName]) {\r\n      opts.compress = false;\r\n    }\r\n\r\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\r\n  }\r\n\r\n  /**\r\n   * Forcibly close the connection.\r\n   *\r\n   * @public\r\n   */\r\n  terminate() {\r\n    if (this.readyState === WebSocket.CLOSED) return;\r\n    if (this.readyState === WebSocket.CONNECTING) {\r\n      const msg = 'WebSocket was closed before the connection was established';\r\n      abortHandshake$1(this, this._req, msg);\r\n      return;\r\n    }\r\n\r\n    if (this._socket) {\r\n      this._readyState = WebSocket.CLOSING;\r\n      this._socket.destroy();\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * @constant {Number} CONNECTING\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket$1, 'CONNECTING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CONNECTING')\r\n});\r\n\r\n/**\r\n * @constant {Number} CONNECTING\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket$1.prototype, 'CONNECTING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CONNECTING')\r\n});\r\n\r\n/**\r\n * @constant {Number} OPEN\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket$1, 'OPEN', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('OPEN')\r\n});\r\n\r\n/**\r\n * @constant {Number} OPEN\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket$1.prototype, 'OPEN', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('OPEN')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSING\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket$1, 'CLOSING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSING')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSING\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket$1.prototype, 'CLOSING', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSING')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSED\r\n * @memberof WebSocket\r\n */\r\nObject.defineProperty(WebSocket$1, 'CLOSED', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSED')\r\n});\r\n\r\n/**\r\n * @constant {Number} CLOSED\r\n * @memberof WebSocket.prototype\r\n */\r\nObject.defineProperty(WebSocket$1.prototype, 'CLOSED', {\r\n  enumerable: true,\r\n  value: readyStates.indexOf('CLOSED')\r\n});\r\n\r\n[\r\n  'binaryType',\r\n  'bufferedAmount',\r\n  'extensions',\r\n  'isPaused',\r\n  'protocol',\r\n  'readyState',\r\n  'url'\r\n].forEach((property) => {\r\n  Object.defineProperty(WebSocket$1.prototype, property, { enumerable: true });\r\n});\r\n\r\n//\r\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\r\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\r\n//\r\n['open', 'error', 'close', 'message'].forEach((method) => {\r\n  Object.defineProperty(WebSocket$1.prototype, `on${method}`, {\r\n    enumerable: true,\r\n    get() {\r\n      for (const listener of this.listeners(method)) {\r\n        if (listener[kForOnEventAttribute]) return listener[kListener];\r\n      }\r\n\r\n      return null;\r\n    },\r\n    set(handler) {\r\n      for (const listener of this.listeners(method)) {\r\n        if (listener[kForOnEventAttribute]) {\r\n          this.removeListener(method, listener);\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (typeof handler !== 'function') return;\r\n\r\n      this.addEventListener(method, handler, {\r\n        [kForOnEventAttribute]: true\r\n      });\r\n    }\r\n  });\r\n});\r\n\r\nWebSocket$1.prototype.addEventListener = addEventListener;\r\nWebSocket$1.prototype.removeEventListener = removeEventListener;\r\n\r\nvar websocket = WebSocket$1;\r\n\r\n/**\r\n * Initialize a WebSocket client.\r\n *\r\n * @param {WebSocket} websocket The client to initialize\r\n * @param {(String|URL)} address The URL to which to connect\r\n * @param {Array} protocols The subprotocols\r\n * @param {Object} [options] Connection options\r\n * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether any\r\n *     of the `'message'`, `'ping'`, and `'pong'` events can be emitted multiple\r\n *     times in the same tick\r\n * @param {Boolean} [options.autoPong=true] Specifies whether or not to\r\n *     automatically send a pong in response to a ping\r\n * @param {Function} [options.finishRequest] A function which can be used to\r\n *     customize the headers of each http request before it is sent\r\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\r\n *     redirects\r\n * @param {Function} [options.generateMask] The function used to generate the\r\n *     masking key\r\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\r\n *     handshake request\r\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\r\n *     size\r\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\r\n *     allowed\r\n * @param {String} [options.origin] Value of the `Origin` or\r\n *     `Sec-WebSocket-Origin` header\r\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\r\n *     permessage-deflate\r\n * @param {Number} [options.protocolVersion=13] Value of the\r\n *     `Sec-WebSocket-Version` header\r\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n *     not to skip UTF-8 validation for text and close messages\r\n * @private\r\n */\r\nfunction initAsClient(websocket, address, protocols, options) {\r\n  const opts = {\r\n    allowSynchronousEvents: true,\r\n    autoPong: true,\r\n    protocolVersion: protocolVersions[1],\r\n    maxPayload: 100 * 1024 * 1024,\r\n    skipUTF8Validation: false,\r\n    perMessageDeflate: true,\r\n    followRedirects: false,\r\n    maxRedirects: 10,\r\n    ...options,\r\n    socketPath: undefined,\r\n    hostname: undefined,\r\n    protocol: undefined,\r\n    timeout: undefined,\r\n    method: 'GET',\r\n    host: undefined,\r\n    path: undefined,\r\n    port: undefined\r\n  };\r\n\r\n  websocket._autoPong = opts.autoPong;\r\n\r\n  if (!protocolVersions.includes(opts.protocolVersion)) {\r\n    throw new RangeError(\r\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\r\n        `(supported versions: ${protocolVersions.join(', ')})`\r\n    );\r\n  }\r\n\r\n  let parsedUrl;\r\n\r\n  if (address instanceof URL$2) {\r\n    parsedUrl = address;\r\n  } else {\r\n    try {\r\n      parsedUrl = new URL$2(address);\r\n    } catch (e) {\r\n      throw new SyntaxError(`Invalid URL: ${address}`);\r\n    }\r\n  }\r\n\r\n  if (parsedUrl.protocol === 'http:') {\r\n    parsedUrl.protocol = 'ws:';\r\n  } else if (parsedUrl.protocol === 'https:') {\r\n    parsedUrl.protocol = 'wss:';\r\n  }\r\n\r\n  websocket._url = parsedUrl.href;\r\n\r\n  const isSecure = parsedUrl.protocol === 'wss:';\r\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\r\n  let invalidUrlMessage;\r\n\r\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\r\n    invalidUrlMessage =\r\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", ' +\r\n      '\"http:\", \"https\", or \"ws+unix:\"';\r\n  } else if (isIpcUrl && !parsedUrl.pathname) {\r\n    invalidUrlMessage = \"The URL's pathname is empty\";\r\n  } else if (parsedUrl.hash) {\r\n    invalidUrlMessage = 'The URL contains a fragment identifier';\r\n  }\r\n\r\n  if (invalidUrlMessage) {\r\n    const err = new SyntaxError(invalidUrlMessage);\r\n\r\n    if (websocket._redirects === 0) {\r\n      throw err;\r\n    } else {\r\n      emitErrorAndClose(websocket, err);\r\n      return;\r\n    }\r\n  }\r\n\r\n  const defaultPort = isSecure ? 443 : 80;\r\n  const key = randomBytes(16).toString('base64');\r\n  const request = isSecure ? https$2.request : http$3.request;\r\n  const protocolSet = new Set();\r\n  let perMessageDeflate;\r\n\r\n  opts.createConnection =\r\n    opts.createConnection || (isSecure ? tlsConnect : netConnect);\r\n  opts.defaultPort = opts.defaultPort || defaultPort;\r\n  opts.port = parsedUrl.port || defaultPort;\r\n  opts.host = parsedUrl.hostname.startsWith('[')\r\n    ? parsedUrl.hostname.slice(1, -1)\r\n    : parsedUrl.hostname;\r\n  opts.headers = {\r\n    ...opts.headers,\r\n    'Sec-WebSocket-Version': opts.protocolVersion,\r\n    'Sec-WebSocket-Key': key,\r\n    Connection: 'Upgrade',\r\n    Upgrade: 'websocket'\r\n  };\r\n  opts.path = parsedUrl.pathname + parsedUrl.search;\r\n  opts.timeout = opts.handshakeTimeout;\r\n\r\n  if (opts.perMessageDeflate) {\r\n    perMessageDeflate = new PerMessageDeflate$1(\r\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\r\n      false,\r\n      opts.maxPayload\r\n    );\r\n    opts.headers['Sec-WebSocket-Extensions'] = format({\r\n      [PerMessageDeflate$1.extensionName]: perMessageDeflate.offer()\r\n    });\r\n  }\r\n  if (protocols.length) {\r\n    for (const protocol of protocols) {\r\n      if (\r\n        typeof protocol !== 'string' ||\r\n        !subprotocolRegex.test(protocol) ||\r\n        protocolSet.has(protocol)\r\n      ) {\r\n        throw new SyntaxError(\r\n          'An invalid or duplicated subprotocol was specified'\r\n        );\r\n      }\r\n\r\n      protocolSet.add(protocol);\r\n    }\r\n\r\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\r\n  }\r\n  if (opts.origin) {\r\n    if (opts.protocolVersion < 13) {\r\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\r\n    } else {\r\n      opts.headers.Origin = opts.origin;\r\n    }\r\n  }\r\n  if (parsedUrl.username || parsedUrl.password) {\r\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\r\n  }\r\n\r\n  if (isIpcUrl) {\r\n    const parts = opts.path.split(':');\r\n\r\n    opts.socketPath = parts[0];\r\n    opts.path = parts[1];\r\n  }\r\n\r\n  let req;\r\n\r\n  if (opts.followRedirects) {\r\n    if (websocket._redirects === 0) {\r\n      websocket._originalIpc = isIpcUrl;\r\n      websocket._originalSecure = isSecure;\r\n      websocket._originalHostOrSocketPath = isIpcUrl\r\n        ? opts.socketPath\r\n        : parsedUrl.host;\r\n\r\n      const headers = options && options.headers;\r\n\r\n      //\r\n      // Shallow copy the user provided options so that headers can be changed\r\n      // without mutating the original object.\r\n      //\r\n      options = { ...options, headers: {} };\r\n\r\n      if (headers) {\r\n        for (const [key, value] of Object.entries(headers)) {\r\n          options.headers[key.toLowerCase()] = value;\r\n        }\r\n      }\r\n    } else if (websocket.listenerCount('redirect') === 0) {\r\n      const isSameHost = isIpcUrl\r\n        ? websocket._originalIpc\r\n          ? opts.socketPath === websocket._originalHostOrSocketPath\r\n          : false\r\n        : websocket._originalIpc\r\n          ? false\r\n          : parsedUrl.host === websocket._originalHostOrSocketPath;\r\n\r\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\r\n        //\r\n        // Match curl 7.77.0 behavior and drop the following headers. These\r\n        // headers are also dropped when following a redirect to a subdomain.\r\n        //\r\n        delete opts.headers.authorization;\r\n        delete opts.headers.cookie;\r\n\r\n        if (!isSameHost) delete opts.headers.host;\r\n\r\n        opts.auth = undefined;\r\n      }\r\n    }\r\n\r\n    //\r\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\r\n    // If the `Authorization` header is set, then there is nothing to do as it\r\n    // will take precedence.\r\n    //\r\n    if (opts.auth && !options.headers.authorization) {\r\n      options.headers.authorization =\r\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\r\n    }\r\n\r\n    req = websocket._req = request(opts);\r\n\r\n    if (websocket._redirects) {\r\n      //\r\n      // Unlike what is done for the `'upgrade'` event, no early exit is\r\n      // triggered here if the user calls `websocket.close()` or\r\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\r\n      // is because the user can also call `request.destroy()` with an error\r\n      // before calling `websocket.close()` or `websocket.terminate()` and this\r\n      // would result in an error being emitted on the `request` object with no\r\n      // `'error'` event listeners attached.\r\n      //\r\n      websocket.emit('redirect', websocket.url, req);\r\n    }\r\n  } else {\r\n    req = websocket._req = request(opts);\r\n  }\r\n\r\n  if (opts.timeout) {\r\n    req.on('timeout', () => {\r\n      abortHandshake$1(websocket, req, 'Opening handshake has timed out');\r\n    });\r\n  }\r\n\r\n  req.on('error', (err) => {\r\n    if (req === null || req[kAborted]) return;\r\n\r\n    req = websocket._req = null;\r\n    emitErrorAndClose(websocket, err);\r\n  });\r\n\r\n  req.on('response', (res) => {\r\n    const location = res.headers.location;\r\n    const statusCode = res.statusCode;\r\n\r\n    if (\r\n      location &&\r\n      opts.followRedirects &&\r\n      statusCode >= 300 &&\r\n      statusCode < 400\r\n    ) {\r\n      if (++websocket._redirects > opts.maxRedirects) {\r\n        abortHandshake$1(websocket, req, 'Maximum redirects exceeded');\r\n        return;\r\n      }\r\n\r\n      req.abort();\r\n\r\n      let addr;\r\n\r\n      try {\r\n        addr = new URL$2(location, address);\r\n      } catch (e) {\r\n        const err = new SyntaxError(`Invalid URL: ${location}`);\r\n        emitErrorAndClose(websocket, err);\r\n        return;\r\n      }\r\n\r\n      initAsClient(websocket, addr, protocols, options);\r\n    } else if (!websocket.emit('unexpected-response', req, res)) {\r\n      abortHandshake$1(\r\n        websocket,\r\n        req,\r\n        `Unexpected server response: ${res.statusCode}`\r\n      );\r\n    }\r\n  });\r\n\r\n  req.on('upgrade', (res, socket, head) => {\r\n    websocket.emit('upgrade', res);\r\n\r\n    //\r\n    // The user may have closed the connection from a listener of the\r\n    // `'upgrade'` event.\r\n    //\r\n    if (websocket.readyState !== WebSocket$1.CONNECTING) return;\r\n\r\n    req = websocket._req = null;\r\n\r\n    const upgrade = res.headers.upgrade;\r\n\r\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\r\n      abortHandshake$1(websocket, socket, 'Invalid Upgrade header');\r\n      return;\r\n    }\r\n\r\n    const digest = createHash$1('sha1')\r\n      .update(key + GUID$1)\r\n      .digest('base64');\r\n\r\n    if (res.headers['sec-websocket-accept'] !== digest) {\r\n      abortHandshake$1(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\r\n      return;\r\n    }\r\n\r\n    const serverProt = res.headers['sec-websocket-protocol'];\r\n    let protError;\r\n\r\n    if (serverProt !== undefined) {\r\n      if (!protocolSet.size) {\r\n        protError = 'Server sent a subprotocol but none was requested';\r\n      } else if (!protocolSet.has(serverProt)) {\r\n        protError = 'Server sent an invalid subprotocol';\r\n      }\r\n    } else if (protocolSet.size) {\r\n      protError = 'Server sent no subprotocol';\r\n    }\r\n\r\n    if (protError) {\r\n      abortHandshake$1(websocket, socket, protError);\r\n      return;\r\n    }\r\n\r\n    if (serverProt) websocket._protocol = serverProt;\r\n\r\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\r\n\r\n    if (secWebSocketExtensions !== undefined) {\r\n      if (!perMessageDeflate) {\r\n        const message =\r\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\r\n          'was requested';\r\n        abortHandshake$1(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      let extensions;\r\n\r\n      try {\r\n        extensions = parse$1(secWebSocketExtensions);\r\n      } catch (err) {\r\n        const message = 'Invalid Sec-WebSocket-Extensions header';\r\n        abortHandshake$1(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      const extensionNames = Object.keys(extensions);\r\n\r\n      if (\r\n        extensionNames.length !== 1 ||\r\n        extensionNames[0] !== PerMessageDeflate$1.extensionName\r\n      ) {\r\n        const message = 'Server indicated an extension that was not requested';\r\n        abortHandshake$1(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        perMessageDeflate.accept(extensions[PerMessageDeflate$1.extensionName]);\r\n      } catch (err) {\r\n        const message = 'Invalid Sec-WebSocket-Extensions header';\r\n        abortHandshake$1(websocket, socket, message);\r\n        return;\r\n      }\r\n\r\n      websocket._extensions[PerMessageDeflate$1.extensionName] =\r\n        perMessageDeflate;\r\n    }\r\n\r\n    websocket.setSocket(socket, head, {\r\n      allowSynchronousEvents: opts.allowSynchronousEvents,\r\n      generateMask: opts.generateMask,\r\n      maxPayload: opts.maxPayload,\r\n      skipUTF8Validation: opts.skipUTF8Validation\r\n    });\r\n  });\r\n\r\n  if (opts.finishRequest) {\r\n    opts.finishRequest(req, websocket);\r\n  } else {\r\n    req.end();\r\n  }\r\n}\r\n\r\n/**\r\n * Emit the `'error'` and `'close'` events.\r\n *\r\n * @param {WebSocket} websocket The WebSocket instance\r\n * @param {Error} The error to emit\r\n * @private\r\n */\r\nfunction emitErrorAndClose(websocket, err) {\r\n  websocket._readyState = WebSocket$1.CLOSING;\r\n  //\r\n  // The following assignment is practically useless and is done only for\r\n  // consistency.\r\n  //\r\n  websocket._errorEmitted = true;\r\n  websocket.emit('error', err);\r\n  websocket.emitClose();\r\n}\r\n\r\n/**\r\n * Create a `net.Socket` and initiate a connection.\r\n *\r\n * @param {Object} options Connection options\r\n * @return {net.Socket} The newly created socket used to start the connection\r\n * @private\r\n */\r\nfunction netConnect(options) {\r\n  options.path = options.socketPath;\r\n  return net.connect(options);\r\n}\r\n\r\n/**\r\n * Create a `tls.TLSSocket` and initiate a connection.\r\n *\r\n * @param {Object} options Connection options\r\n * @return {tls.TLSSocket} The newly created socket used to start the connection\r\n * @private\r\n */\r\nfunction tlsConnect(options) {\r\n  options.path = undefined;\r\n\r\n  if (!options.servername && options.servername !== '') {\r\n    options.servername = net.isIP(options.host) ? '' : options.host;\r\n  }\r\n\r\n  return tls.connect(options);\r\n}\r\n\r\n/**\r\n * Abort the handshake and emit an error.\r\n *\r\n * @param {WebSocket} websocket The WebSocket instance\r\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\r\n *     abort or the socket to destroy\r\n * @param {String} message The error message\r\n * @private\r\n */\r\nfunction abortHandshake$1(websocket, stream, message) {\r\n  websocket._readyState = WebSocket$1.CLOSING;\r\n\r\n  const err = new Error(message);\r\n  Error.captureStackTrace(err, abortHandshake$1);\r\n\r\n  if (stream.setHeader) {\r\n    stream[kAborted] = true;\r\n    stream.abort();\r\n\r\n    if (stream.socket && !stream.socket.destroyed) {\r\n      //\r\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\r\n      // called after the request completed. See\r\n      // https://github.com/websockets/ws/issues/1869.\r\n      //\r\n      stream.socket.destroy();\r\n    }\r\n\r\n    process.nextTick(emitErrorAndClose, websocket, err);\r\n  } else {\r\n    stream.destroy(err);\r\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\r\n    stream.once('close', websocket.emitClose.bind(websocket));\r\n  }\r\n}\r\n\r\n/**\r\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\r\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\r\n *\r\n * @param {WebSocket} websocket The WebSocket instance\r\n * @param {*} [data] The data to send\r\n * @param {Function} [cb] Callback\r\n * @private\r\n */\r\nfunction sendAfterClose(websocket, data, cb) {\r\n  if (data) {\r\n    const length = isBlob(data) ? data.size : toBuffer(data).length;\r\n\r\n    //\r\n    // The `_bufferedAmount` property is used only when the peer is a client and\r\n    // the opening handshake fails. Under these circumstances, in fact, the\r\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\r\n    // properties are set to `null`.\r\n    //\r\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\r\n    else websocket._bufferedAmount += length;\r\n  }\r\n\r\n  if (cb) {\r\n    const err = new Error(\r\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\r\n        `(${readyStates[websocket.readyState]})`\r\n    );\r\n    process.nextTick(cb, err);\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'conclude'` event.\r\n *\r\n * @param {Number} code The status code\r\n * @param {Buffer} reason The reason for closing\r\n * @private\r\n */\r\nfunction receiverOnConclude(code, reason) {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  websocket._closeFrameReceived = true;\r\n  websocket._closeMessage = reason;\r\n  websocket._closeCode = code;\r\n\r\n  if (websocket._socket[kWebSocket$1] === undefined) return;\r\n\r\n  websocket._socket.removeListener('data', socketOnData);\r\n  process.nextTick(resume, websocket._socket);\r\n\r\n  if (code === 1005) websocket.close();\r\n  else websocket.close(code, reason);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'drain'` event.\r\n *\r\n * @private\r\n */\r\nfunction receiverOnDrain() {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  if (!websocket.isPaused) websocket._socket.resume();\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'error'` event.\r\n *\r\n * @param {(RangeError|Error)} err The emitted error\r\n * @private\r\n */\r\nfunction receiverOnError(err) {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  if (websocket._socket[kWebSocket$1] !== undefined) {\r\n    websocket._socket.removeListener('data', socketOnData);\r\n\r\n    //\r\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\r\n    // https://github.com/websockets/ws/issues/1940.\r\n    //\r\n    process.nextTick(resume, websocket._socket);\r\n\r\n    websocket.close(err[kStatusCode]);\r\n  }\r\n\r\n  if (!websocket._errorEmitted) {\r\n    websocket._errorEmitted = true;\r\n    websocket.emit('error', err);\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'finish'` event.\r\n *\r\n * @private\r\n */\r\nfunction receiverOnFinish() {\r\n  this[kWebSocket$1].emitClose();\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'message'` event.\r\n *\r\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\r\n * @param {Boolean} isBinary Specifies whether the message is binary or not\r\n * @private\r\n */\r\nfunction receiverOnMessage(data, isBinary) {\r\n  this[kWebSocket$1].emit('message', data, isBinary);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'ping'` event.\r\n *\r\n * @param {Buffer} data The data included in the ping frame\r\n * @private\r\n */\r\nfunction receiverOnPing(data) {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  if (websocket._autoPong) websocket.pong(data, !this._isServer, NOOP$1);\r\n  websocket.emit('ping', data);\r\n}\r\n\r\n/**\r\n * The listener of the `Receiver` `'pong'` event.\r\n *\r\n * @param {Buffer} data The data included in the pong frame\r\n * @private\r\n */\r\nfunction receiverOnPong(data) {\r\n  this[kWebSocket$1].emit('pong', data);\r\n}\r\n\r\n/**\r\n * Resume a readable stream\r\n *\r\n * @param {Readable} stream The readable stream\r\n * @private\r\n */\r\nfunction resume(stream) {\r\n  stream.resume();\r\n}\r\n\r\n/**\r\n * The `Sender` error event handler.\r\n *\r\n * @param {Error} The error\r\n * @private\r\n */\r\nfunction senderOnError(err) {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  if (websocket.readyState === WebSocket$1.CLOSED) return;\r\n  if (websocket.readyState === WebSocket$1.OPEN) {\r\n    websocket._readyState = WebSocket$1.CLOSING;\r\n    setCloseTimer(websocket);\r\n  }\r\n\r\n  //\r\n  // `socket.end()` is used instead of `socket.destroy()` to allow the other\r\n  // peer to finish sending queued data. There is no need to set a timer here\r\n  // because `CLOSING` means that it is already set or not needed.\r\n  //\r\n  this._socket.end();\r\n\r\n  if (!websocket._errorEmitted) {\r\n    websocket._errorEmitted = true;\r\n    websocket.emit('error', err);\r\n  }\r\n}\r\n\r\n/**\r\n * Set a timer to destroy the underlying raw socket of a WebSocket.\r\n *\r\n * @param {WebSocket} websocket The WebSocket instance\r\n * @private\r\n */\r\nfunction setCloseTimer(websocket) {\r\n  websocket._closeTimer = setTimeout(\r\n    websocket._socket.destroy.bind(websocket._socket),\r\n    closeTimeout\r\n  );\r\n}\r\n\r\n/**\r\n * The listener of the socket `'close'` event.\r\n *\r\n * @private\r\n */\r\nfunction socketOnClose() {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  this.removeListener('close', socketOnClose);\r\n  this.removeListener('data', socketOnData);\r\n  this.removeListener('end', socketOnEnd);\r\n\r\n  websocket._readyState = WebSocket$1.CLOSING;\r\n\r\n  let chunk;\r\n\r\n  //\r\n  // The close frame might not have been received or the `'end'` event emitted,\r\n  // for example, if the socket was destroyed due to an error. Ensure that the\r\n  // `receiver` stream is closed after writing any remaining buffered data to\r\n  // it. If the readable side of the socket is in flowing mode then there is no\r\n  // buffered data as everything has been already written and `readable.read()`\r\n  // will return `null`. If instead, the socket is paused, any possible buffered\r\n  // data will be read as a single chunk.\r\n  //\r\n  if (\r\n    !this._readableState.endEmitted &&\r\n    !websocket._closeFrameReceived &&\r\n    !websocket._receiver._writableState.errorEmitted &&\r\n    (chunk = websocket._socket.read()) !== null\r\n  ) {\r\n    websocket._receiver.write(chunk);\r\n  }\r\n\r\n  websocket._receiver.end();\r\n\r\n  this[kWebSocket$1] = undefined;\r\n\r\n  clearTimeout(websocket._closeTimer);\r\n\r\n  if (\r\n    websocket._receiver._writableState.finished ||\r\n    websocket._receiver._writableState.errorEmitted\r\n  ) {\r\n    websocket.emitClose();\r\n  } else {\r\n    websocket._receiver.on('error', receiverOnFinish);\r\n    websocket._receiver.on('finish', receiverOnFinish);\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the socket `'data'` event.\r\n *\r\n * @param {Buffer} chunk A chunk of data\r\n * @private\r\n */\r\nfunction socketOnData(chunk) {\r\n  if (!this[kWebSocket$1]._receiver.write(chunk)) {\r\n    this.pause();\r\n  }\r\n}\r\n\r\n/**\r\n * The listener of the socket `'end'` event.\r\n *\r\n * @private\r\n */\r\nfunction socketOnEnd() {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  websocket._readyState = WebSocket$1.CLOSING;\r\n  websocket._receiver.end();\r\n  this.end();\r\n}\r\n\r\n/**\r\n * The listener of the socket `'error'` event.\r\n *\r\n * @private\r\n */\r\nfunction socketOnError$1() {\r\n  const websocket = this[kWebSocket$1];\r\n\r\n  this.removeListener('error', socketOnError$1);\r\n  this.on('error', NOOP$1);\r\n\r\n  if (websocket) {\r\n    websocket._readyState = WebSocket$1.CLOSING;\r\n    this.destroy();\r\n  }\r\n}\r\n\r\nconst { tokenChars } = validationExports;\r\n\r\n/**\r\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\r\n *\r\n * @param {String} header The field value of the header\r\n * @return {Set} The subprotocol names\r\n * @public\r\n */\r\nfunction parse(header) {\r\n  const protocols = new Set();\r\n  let start = -1;\r\n  let end = -1;\r\n  let i = 0;\r\n\r\n  for (i; i < header.length; i++) {\r\n    const code = header.charCodeAt(i);\r\n\r\n    if (end === -1 && tokenChars[code] === 1) {\r\n      if (start === -1) start = i;\r\n    } else if (\r\n      i !== 0 &&\r\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\r\n    ) {\r\n      if (end === -1 && start !== -1) end = i;\r\n    } else if (code === 0x2c /* ',' */) {\r\n      if (start === -1) {\r\n        throw new SyntaxError(`Unexpected character at index ${i}`);\r\n      }\r\n\r\n      if (end === -1) end = i;\r\n\r\n      const protocol = header.slice(start, end);\r\n\r\n      if (protocols.has(protocol)) {\r\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\r\n      }\r\n\r\n      protocols.add(protocol);\r\n      start = end = -1;\r\n    } else {\r\n      throw new SyntaxError(`Unexpected character at index ${i}`);\r\n    }\r\n  }\r\n\r\n  if (start === -1 || end !== -1) {\r\n    throw new SyntaxError('Unexpected end of input');\r\n  }\r\n\r\n  const protocol = header.slice(start, i);\r\n\r\n  if (protocols.has(protocol)) {\r\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\r\n  }\r\n\r\n  protocols.add(protocol);\r\n  return protocols;\r\n}\r\n\r\nvar subprotocol$1 = { parse };\r\n\r\n/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex$\", \"caughtErrors\": \"none\" }] */\r\n\r\nconst EventEmitter = require$$0$7;\r\nconst http$2 = require$$1;\r\nconst { createHash } = require$$3$1;\r\n\r\nconst extension = extension$1;\r\nconst PerMessageDeflate = permessageDeflate;\r\nconst subprotocol = subprotocol$1;\r\nconst WebSocket = websocket;\r\nconst { GUID, kWebSocket } = constants;\r\n\r\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\r\n\r\nconst RUNNING = 0;\r\nconst CLOSING = 1;\r\nconst CLOSED = 2;\r\n\r\n/**\r\n * Class representing a WebSocket server.\r\n *\r\n * @extends EventEmitter\r\n */\r\nclass WebSocketServer extends EventEmitter {\r\n  /**\r\n   * Create a `WebSocketServer` instance.\r\n   *\r\n   * @param {Object} options Configuration options\r\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\r\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\r\n   *     multiple times in the same tick\r\n   * @param {Boolean} [options.autoPong=true] Specifies whether or not to\r\n   *     automatically send a pong in response to a ping\r\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\r\n   *     pending connections\r\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\r\n   *     track clients\r\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\r\n   * @param {String} [options.host] The hostname where to bind the server\r\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\r\n   *     size\r\n   * @param {Boolean} [options.noServer=false] Enable no server mode\r\n   * @param {String} [options.path] Accept only connections matching this path\r\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\r\n   *     permessage-deflate\r\n   * @param {Number} [options.port] The port where to bind the server\r\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\r\n   *     server to use\r\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\r\n   *     not to skip UTF-8 validation for text and close messages\r\n   * @param {Function} [options.verifyClient] A hook to reject connections\r\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\r\n   *     class to use. It must be the `WebSocket` class or class that extends it\r\n   * @param {Function} [callback] A listener for the `listening` event\r\n   */\r\n  constructor(options, callback) {\r\n    super();\r\n\r\n    options = {\r\n      allowSynchronousEvents: true,\r\n      autoPong: true,\r\n      maxPayload: 100 * 1024 * 1024,\r\n      skipUTF8Validation: false,\r\n      perMessageDeflate: false,\r\n      handleProtocols: null,\r\n      clientTracking: true,\r\n      verifyClient: null,\r\n      noServer: false,\r\n      backlog: null, // use default (511 as implemented in net.js)\r\n      server: null,\r\n      host: null,\r\n      path: null,\r\n      port: null,\r\n      WebSocket,\r\n      ...options\r\n    };\r\n\r\n    if (\r\n      (options.port == null && !options.server && !options.noServer) ||\r\n      (options.port != null && (options.server || options.noServer)) ||\r\n      (options.server && options.noServer)\r\n    ) {\r\n      throw new TypeError(\r\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\r\n          'must be specified'\r\n      );\r\n    }\r\n\r\n    if (options.port != null) {\r\n      this._server = http$2.createServer((req, res) => {\r\n        const body = http$2.STATUS_CODES[426];\r\n\r\n        res.writeHead(426, {\r\n          'Content-Length': body.length,\r\n          'Content-Type': 'text/plain'\r\n        });\r\n        res.end(body);\r\n      });\r\n      this._server.listen(\r\n        options.port,\r\n        options.host,\r\n        options.backlog,\r\n        callback\r\n      );\r\n    } else if (options.server) {\r\n      this._server = options.server;\r\n    }\r\n\r\n    if (this._server) {\r\n      const emitConnection = this.emit.bind(this, 'connection');\r\n\r\n      this._removeListeners = addListeners(this._server, {\r\n        listening: this.emit.bind(this, 'listening'),\r\n        error: this.emit.bind(this, 'error'),\r\n        upgrade: (req, socket, head) => {\r\n          this.handleUpgrade(req, socket, head, emitConnection);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\r\n    if (options.clientTracking) {\r\n      this.clients = new Set();\r\n      this._shouldEmitClose = false;\r\n    }\r\n\r\n    this.options = options;\r\n    this._state = RUNNING;\r\n  }\r\n\r\n  /**\r\n   * Returns the bound address, the address family name, and port of the server\r\n   * as reported by the operating system if listening on an IP socket.\r\n   * If the server is listening on a pipe or UNIX domain socket, the name is\r\n   * returned as a string.\r\n   *\r\n   * @return {(Object|String|null)} The address of the server\r\n   * @public\r\n   */\r\n  address() {\r\n    if (this.options.noServer) {\r\n      throw new Error('The server is operating in \"noServer\" mode');\r\n    }\r\n\r\n    if (!this._server) return null;\r\n    return this._server.address();\r\n  }\r\n\r\n  /**\r\n   * Stop the server from accepting new connections and emit the `'close'` event\r\n   * when all existing connections are closed.\r\n   *\r\n   * @param {Function} [cb] A one-time listener for the `'close'` event\r\n   * @public\r\n   */\r\n  close(cb) {\r\n    if (this._state === CLOSED) {\r\n      if (cb) {\r\n        this.once('close', () => {\r\n          cb(new Error('The server is not running'));\r\n        });\r\n      }\r\n\r\n      process.nextTick(emitClose, this);\r\n      return;\r\n    }\r\n\r\n    if (cb) this.once('close', cb);\r\n\r\n    if (this._state === CLOSING) return;\r\n    this._state = CLOSING;\r\n\r\n    if (this.options.noServer || this.options.server) {\r\n      if (this._server) {\r\n        this._removeListeners();\r\n        this._removeListeners = this._server = null;\r\n      }\r\n\r\n      if (this.clients) {\r\n        if (!this.clients.size) {\r\n          process.nextTick(emitClose, this);\r\n        } else {\r\n          this._shouldEmitClose = true;\r\n        }\r\n      } else {\r\n        process.nextTick(emitClose, this);\r\n      }\r\n    } else {\r\n      const server = this._server;\r\n\r\n      this._removeListeners();\r\n      this._removeListeners = this._server = null;\r\n\r\n      //\r\n      // The HTTP/S server was created internally. Close it, and rely on its\r\n      // `'close'` event.\r\n      //\r\n      server.close(() => {\r\n        emitClose(this);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * See if a given request should be handled by this server instance.\r\n   *\r\n   * @param {http.IncomingMessage} req Request object to inspect\r\n   * @return {Boolean} `true` if the request is valid, else `false`\r\n   * @public\r\n   */\r\n  shouldHandle(req) {\r\n    if (this.options.path) {\r\n      const index = req.url.indexOf('?');\r\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\r\n\r\n      if (pathname !== this.options.path) return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Handle a HTTP Upgrade request.\r\n   *\r\n   * @param {http.IncomingMessage} req The request object\r\n   * @param {Duplex} socket The network socket between the server and client\r\n   * @param {Buffer} head The first packet of the upgraded stream\r\n   * @param {Function} cb Callback\r\n   * @public\r\n   */\r\n  handleUpgrade(req, socket, head, cb) {\r\n    socket.on('error', socketOnError);\r\n\r\n    const key = req.headers['sec-websocket-key'];\r\n    const upgrade = req.headers.upgrade;\r\n    const version = +req.headers['sec-websocket-version'];\r\n\r\n    if (req.method !== 'GET') {\r\n      const message = 'Invalid HTTP method';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\r\n      return;\r\n    }\r\n\r\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\r\n      const message = 'Invalid Upgrade header';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n      return;\r\n    }\r\n\r\n    if (key === undefined || !keyRegex.test(key)) {\r\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n      return;\r\n    }\r\n\r\n    if (version !== 8 && version !== 13) {\r\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\r\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n      return;\r\n    }\r\n\r\n    if (!this.shouldHandle(req)) {\r\n      abortHandshake(socket, 400);\r\n      return;\r\n    }\r\n\r\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\r\n    let protocols = new Set();\r\n\r\n    if (secWebSocketProtocol !== undefined) {\r\n      try {\r\n        protocols = subprotocol.parse(secWebSocketProtocol);\r\n      } catch (err) {\r\n        const message = 'Invalid Sec-WebSocket-Protocol header';\r\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n        return;\r\n      }\r\n    }\r\n\r\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\r\n    const extensions = {};\r\n\r\n    if (\r\n      this.options.perMessageDeflate &&\r\n      secWebSocketExtensions !== undefined\r\n    ) {\r\n      const perMessageDeflate = new PerMessageDeflate(\r\n        this.options.perMessageDeflate,\r\n        true,\r\n        this.options.maxPayload\r\n      );\r\n\r\n      try {\r\n        const offers = extension.parse(secWebSocketExtensions);\r\n\r\n        if (offers[PerMessageDeflate.extensionName]) {\r\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\r\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\r\n        }\r\n      } catch (err) {\r\n        const message =\r\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\r\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\r\n        return;\r\n      }\r\n    }\r\n\r\n    //\r\n    // Optionally call external client verification handler.\r\n    //\r\n    if (this.options.verifyClient) {\r\n      const info = {\r\n        origin:\r\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\r\n        secure: !!(req.socket.authorized || req.socket.encrypted),\r\n        req\r\n      };\r\n\r\n      if (this.options.verifyClient.length === 2) {\r\n        this.options.verifyClient(info, (verified, code, message, headers) => {\r\n          if (!verified) {\r\n            return abortHandshake(socket, code || 401, message, headers);\r\n          }\r\n\r\n          this.completeUpgrade(\r\n            extensions,\r\n            key,\r\n            protocols,\r\n            req,\r\n            socket,\r\n            head,\r\n            cb\r\n          );\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\r\n    }\r\n\r\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\r\n  }\r\n\r\n  /**\r\n   * Upgrade the connection to WebSocket.\r\n   *\r\n   * @param {Object} extensions The accepted extensions\r\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\r\n   * @param {Set} protocols The subprotocols\r\n   * @param {http.IncomingMessage} req The request object\r\n   * @param {Duplex} socket The network socket between the server and client\r\n   * @param {Buffer} head The first packet of the upgraded stream\r\n   * @param {Function} cb Callback\r\n   * @throws {Error} If called more than once with the same socket\r\n   * @private\r\n   */\r\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\r\n    //\r\n    // Destroy the socket if the client has already sent a FIN packet.\r\n    //\r\n    if (!socket.readable || !socket.writable) return socket.destroy();\r\n\r\n    if (socket[kWebSocket]) {\r\n      throw new Error(\r\n        'server.handleUpgrade() was called more than once with the same ' +\r\n          'socket, possibly due to a misconfiguration'\r\n      );\r\n    }\r\n\r\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\r\n\r\n    const digest = createHash('sha1')\r\n      .update(key + GUID)\r\n      .digest('base64');\r\n\r\n    const headers = [\r\n      'HTTP/1.1 101 Switching Protocols',\r\n      'Upgrade: websocket',\r\n      'Connection: Upgrade',\r\n      `Sec-WebSocket-Accept: ${digest}`\r\n    ];\r\n\r\n    const ws = new this.options.WebSocket(null, undefined, this.options);\r\n\r\n    if (protocols.size) {\r\n      //\r\n      // Optionally call external protocol selection handler.\r\n      //\r\n      const protocol = this.options.handleProtocols\r\n        ? this.options.handleProtocols(protocols, req)\r\n        : protocols.values().next().value;\r\n\r\n      if (protocol) {\r\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\r\n        ws._protocol = protocol;\r\n      }\r\n    }\r\n\r\n    if (extensions[PerMessageDeflate.extensionName]) {\r\n      const params = extensions[PerMessageDeflate.extensionName].params;\r\n      const value = extension.format({\r\n        [PerMessageDeflate.extensionName]: [params]\r\n      });\r\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\r\n      ws._extensions = extensions;\r\n    }\r\n\r\n    //\r\n    // Allow external modification/inspection of handshake headers.\r\n    //\r\n    this.emit('headers', headers, req);\r\n\r\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\r\n    socket.removeListener('error', socketOnError);\r\n\r\n    ws.setSocket(socket, head, {\r\n      allowSynchronousEvents: this.options.allowSynchronousEvents,\r\n      maxPayload: this.options.maxPayload,\r\n      skipUTF8Validation: this.options.skipUTF8Validation\r\n    });\r\n\r\n    if (this.clients) {\r\n      this.clients.add(ws);\r\n      ws.on('close', () => {\r\n        this.clients.delete(ws);\r\n\r\n        if (this._shouldEmitClose && !this.clients.size) {\r\n          process.nextTick(emitClose, this);\r\n        }\r\n      });\r\n    }\r\n\r\n    cb(ws, req);\r\n  }\r\n}\r\n\r\nvar websocketServer = WebSocketServer;\r\n\r\n/**\r\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\r\n * pairs.\r\n *\r\n * @param {EventEmitter} server The event emitter\r\n * @param {Object.<String, Function>} map The listeners to add\r\n * @return {Function} A function that will remove the added listeners when\r\n *     called\r\n * @private\r\n */\r\nfunction addListeners(server, map) {\r\n  for (const event of Object.keys(map)) server.on(event, map[event]);\r\n\r\n  return function removeListeners() {\r\n    for (const event of Object.keys(map)) {\r\n      server.removeListener(event, map[event]);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Emit a `'close'` event on an `EventEmitter`.\r\n *\r\n * @param {EventEmitter} server The event emitter\r\n * @private\r\n */\r\nfunction emitClose(server) {\r\n  server._state = CLOSED;\r\n  server.emit('close');\r\n}\r\n\r\n/**\r\n * Handle socket errors.\r\n *\r\n * @private\r\n */\r\nfunction socketOnError() {\r\n  this.destroy();\r\n}\r\n\r\n/**\r\n * Close the connection when preconditions are not fulfilled.\r\n *\r\n * @param {Duplex} socket The socket of the upgrade request\r\n * @param {Number} code The HTTP response status code\r\n * @param {String} [message] The HTTP response body\r\n * @param {Object} [headers] Additional HTTP response headers\r\n * @private\r\n */\r\nfunction abortHandshake(socket, code, message, headers) {\r\n  //\r\n  // The socket is writable unless the user destroyed or ended it before calling\r\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\r\n  // error. Handling this does not make much sense as the worst that can happen\r\n  // is that some of the data written by the user might be discarded due to the\r\n  // call to `socket.end()` below, which triggers an `'error'` event that in\r\n  // turn causes the socket to be destroyed.\r\n  //\r\n  message = message || http$2.STATUS_CODES[code];\r\n  headers = {\r\n    Connection: 'close',\r\n    'Content-Type': 'text/html',\r\n    'Content-Length': Buffer.byteLength(message),\r\n    ...headers\r\n  };\r\n\r\n  socket.once('finish', socket.destroy);\r\n\r\n  socket.end(\r\n    `HTTP/1.1 ${code} ${http$2.STATUS_CODES[code]}\\r\\n` +\r\n      Object.keys(headers)\r\n        .map((h) => `${h}: ${headers[h]}`)\r\n        .join('\\r\\n') +\r\n      '\\r\\n\\r\\n' +\r\n      message\r\n  );\r\n}\r\n\r\n/**\r\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\r\n * one listener for it, otherwise call `abortHandshake()`.\r\n *\r\n * @param {WebSocketServer} server The WebSocket server\r\n * @param {http.IncomingMessage} req The request object\r\n * @param {Duplex} socket The socket of the upgrade request\r\n * @param {Number} code The HTTP response status code\r\n * @param {String} message The HTTP response body\r\n * @private\r\n */\r\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\r\n  if (server.listenerCount('wsClientError')) {\r\n    const err = new Error(message);\r\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\r\n\r\n    server.emit('wsClientError', err, socket, req);\r\n  } else {\r\n    abortHandshake(socket, code, message);\r\n  }\r\n}\r\n\r\nvar WebSocketServerRaw_ = /*@__PURE__*/getDefaultExportFromCjs(websocketServer);\r\n\r\nconst WebSocketServerRaw = process.versions.bun ? (\r\n  // @ts-expect-error: Bun defines `import.meta.require`\r\n  import.meta.require(\"ws\").WebSocketServer\r\n) : WebSocketServerRaw_;\r\nconst HMR_HEADER = \"vite-hmr\";\r\nconst wsServerEvents = [\r\n  \"connection\",\r\n  \"error\",\r\n  \"headers\",\r\n  \"listening\",\r\n  \"message\"\r\n];\r\nfunction noop$1() {\r\n}\r\nfunction createWebSocketServer(server, config, httpsOptions) {\r\n  if (config.server.ws === false) {\r\n    return {\r\n      name: \"ws\",\r\n      get clients() {\r\n        return /* @__PURE__ */ new Set();\r\n      },\r\n      async close() {\r\n      },\r\n      on: noop$1,\r\n      off: noop$1,\r\n      listen: noop$1,\r\n      send: noop$1\r\n    };\r\n  }\r\n  let wss;\r\n  let wsHttpServer = void 0;\r\n  const hmr = isObject$1(config.server.hmr) && config.server.hmr;\r\n  const hmrServer = hmr && hmr.server;\r\n  const hmrPort = hmr && hmr.port;\r\n  const portsAreCompatible = !hmrPort || hmrPort === config.server.port;\r\n  const wsServer = hmrServer || portsAreCompatible && server;\r\n  let hmrServerWsListener;\r\n  const customListeners = /* @__PURE__ */ new Map();\r\n  const clientsMap = /* @__PURE__ */ new WeakMap();\r\n  const port = hmrPort || 24678;\r\n  const host = hmr && hmr.host || void 0;\r\n  if (wsServer) {\r\n    let hmrBase = config.base;\r\n    const hmrPath = hmr ? hmr.path : void 0;\r\n    if (hmrPath) {\r\n      hmrBase = path$n.posix.join(hmrBase, hmrPath);\r\n    }\r\n    wss = new WebSocketServerRaw({ noServer: true });\r\n    hmrServerWsListener = (req, socket, head) => {\r\n      if (req.headers[\"sec-websocket-protocol\"] === HMR_HEADER && req.url === hmrBase) {\r\n        wss.handleUpgrade(req, socket, head, (ws) => {\r\n          wss.emit(\"connection\", ws, req);\r\n        });\r\n      }\r\n    };\r\n    wsServer.on(\"upgrade\", hmrServerWsListener);\r\n  } else {\r\n    const route = (_, res) => {\r\n      const statusCode = 426;\r\n      const body = STATUS_CODES[statusCode];\r\n      if (!body)\r\n        throw new Error(`No body text found for the ${statusCode} status code`);\r\n      res.writeHead(statusCode, {\r\n        \"Content-Length\": body.length,\r\n        \"Content-Type\": \"text/plain\"\r\n      });\r\n      res.end(body);\r\n    };\r\n    if (httpsOptions) {\r\n      wsHttpServer = createServer$2(httpsOptions, route);\r\n    } else {\r\n      wsHttpServer = createServer$3(route);\r\n    }\r\n    wss = new WebSocketServerRaw({ server: wsHttpServer });\r\n  }\r\n  wss.on(\"connection\", (socket) => {\r\n    socket.on(\"message\", (raw) => {\r\n      if (!customListeners.size) return;\r\n      let parsed;\r\n      try {\r\n        parsed = JSON.parse(String(raw));\r\n      } catch {\r\n      }\r\n      if (!parsed || parsed.type !== \"custom\" || !parsed.event) return;\r\n      const listeners = customListeners.get(parsed.event);\r\n      if (!listeners?.size) return;\r\n      const client = getSocketClient(socket);\r\n      listeners.forEach((listener) => listener(parsed.data, client));\r\n    });\r\n    socket.on(\"error\", (err) => {\r\n      config.logger.error(`${colors$1.red(`ws error:`)}\r\n${err.stack}`, {\r\n        timestamp: true,\r\n        error: err\r\n      });\r\n    });\r\n    socket.send(JSON.stringify({ type: \"connected\" }));\r\n    if (bufferedError) {\r\n      socket.send(JSON.stringify(bufferedError));\r\n      bufferedError = null;\r\n    }\r\n  });\r\n  wss.on(\"error\", (e) => {\r\n    if (e.code === \"EADDRINUSE\") {\r\n      config.logger.error(\r\n        colors$1.red(`WebSocket server error: Port is already in use`),\r\n        { error: e }\r\n      );\r\n    } else {\r\n      config.logger.error(\r\n        colors$1.red(`WebSocket server error:\r\n${e.stack || e.message}`),\r\n        { error: e }\r\n      );\r\n    }\r\n  });\r\n  function getSocketClient(socket) {\r\n    if (!clientsMap.has(socket)) {\r\n      clientsMap.set(socket, {\r\n        send: (...args) => {\r\n          let payload;\r\n          if (typeof args[0] === \"string\") {\r\n            payload = {\r\n              type: \"custom\",\r\n              event: args[0],\r\n              data: args[1]\r\n            };\r\n          } else {\r\n            payload = args[0];\r\n          }\r\n          socket.send(JSON.stringify(payload));\r\n        },\r\n        socket\r\n      });\r\n    }\r\n    return clientsMap.get(socket);\r\n  }\r\n  let bufferedError = null;\r\n  return {\r\n    name: \"ws\",\r\n    listen: () => {\r\n      wsHttpServer?.listen(port, host);\r\n    },\r\n    on: (event, fn) => {\r\n      if (wsServerEvents.includes(event)) wss.on(event, fn);\r\n      else {\r\n        if (!customListeners.has(event)) {\r\n          customListeners.set(event, /* @__PURE__ */ new Set());\r\n        }\r\n        customListeners.get(event).add(fn);\r\n      }\r\n    },\r\n    off: (event, fn) => {\r\n      if (wsServerEvents.includes(event)) {\r\n        wss.off(event, fn);\r\n      } else {\r\n        customListeners.get(event)?.delete(fn);\r\n      }\r\n    },\r\n    get clients() {\r\n      return new Set(Array.from(wss.clients).map(getSocketClient));\r\n    },\r\n    send(...args) {\r\n      let payload;\r\n      if (typeof args[0] === \"string\") {\r\n        payload = {\r\n          type: \"custom\",\r\n          event: args[0],\r\n          data: args[1]\r\n        };\r\n      } else {\r\n        payload = args[0];\r\n      }\r\n      if (payload.type === \"error\" && !wss.clients.size) {\r\n        bufferedError = payload;\r\n        return;\r\n      }\r\n      const stringified = JSON.stringify(payload);\r\n      wss.clients.forEach((client) => {\r\n        if (client.readyState === 1) {\r\n          client.send(stringified);\r\n        }\r\n      });\r\n    },\r\n    close() {\r\n      if (hmrServerWsListener && wsServer) {\r\n        wsServer.off(\"upgrade\", hmrServerWsListener);\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        wss.clients.forEach((client) => {\r\n          client.terminate();\r\n        });\r\n        wss.close((err) => {\r\n          if (err) {\r\n            reject(err);\r\n          } else {\r\n            if (wsHttpServer) {\r\n              wsHttpServer.close((err2) => {\r\n                if (err2) {\r\n                  reject(err2);\r\n                } else {\r\n                  resolve();\r\n                }\r\n              });\r\n            } else {\r\n              resolve();\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\nfunction baseMiddleware(rawBase, middlewareMode) {\r\n  return function viteBaseMiddleware(req, res, next) {\r\n    const url = req.url;\r\n    const pathname = cleanUrl(url);\r\n    const base = rawBase;\r\n    if (pathname.startsWith(base)) {\r\n      req.url = stripBase(url, base);\r\n      return next();\r\n    }\r\n    if (middlewareMode) {\r\n      return next();\r\n    }\r\n    if (pathname === \"/\" || pathname === \"/index.html\") {\r\n      res.writeHead(302, {\r\n        Location: base + url.slice(pathname.length)\r\n      });\r\n      res.end();\r\n      return;\r\n    }\r\n    const redirectPath = withTrailingSlash(url) !== base ? joinUrlSegments(base, url) : base;\r\n    if (req.headers.accept?.includes(\"text/html\")) {\r\n      res.writeHead(404, {\r\n        \"Content-Type\": \"text/html\"\r\n      });\r\n      res.end(\r\n        `The server is configured with a public base URL of ${base} - did you mean to visit <a href=\"${redirectPath}\">${redirectPath}</a> instead?`\r\n      );\r\n      return;\r\n    } else {\r\n      res.writeHead(404, {\r\n        \"Content-Type\": \"text/plain\"\r\n      });\r\n      res.end(\r\n        `The server is configured with a public base URL of ${base} - did you mean to visit ${redirectPath} instead?`\r\n      );\r\n      return;\r\n    }\r\n  };\r\n}\r\n\r\nvar httpProxy$3 = {exports: {}};\r\n\r\nvar eventemitter3 = {exports: {}};\r\n\r\n(function (module) {\r\n\r\n\tvar has = Object.prototype.hasOwnProperty\r\n\t  , prefix = '~';\r\n\r\n\t/**\r\n\t * Constructor to create a storage for our `EE` objects.\r\n\t * An `Events` instance is a plain object whose properties are event names.\r\n\t *\r\n\t * @constructor\r\n\t * @private\r\n\t */\r\n\tfunction Events() {}\r\n\r\n\t//\r\n\t// We try to not inherit from `Object.prototype`. In some engines creating an\r\n\t// instance in this way is faster than calling `Object.create(null)` directly.\r\n\t// If `Object.create(null)` is not supported we prefix the event names with a\r\n\t// character to make sure that the built-in object properties are not\r\n\t// overridden or used as an attack vector.\r\n\t//\r\n\tif (Object.create) {\r\n\t  Events.prototype = Object.create(null);\r\n\r\n\t  //\r\n\t  // This hack is needed because the `__proto__` property is still inherited in\r\n\t  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\r\n\t  //\r\n\t  if (!new Events().__proto__) prefix = false;\r\n\t}\r\n\r\n\t/**\r\n\t * Representation of a single event listener.\r\n\t *\r\n\t * @param {Function} fn The listener function.\r\n\t * @param {*} context The context to invoke the listener with.\r\n\t * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\r\n\t * @constructor\r\n\t * @private\r\n\t */\r\n\tfunction EE(fn, context, once) {\r\n\t  this.fn = fn;\r\n\t  this.context = context;\r\n\t  this.once = once || false;\r\n\t}\r\n\r\n\t/**\r\n\t * Add a listener for a given event.\r\n\t *\r\n\t * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @param {Function} fn The listener function.\r\n\t * @param {*} context The context to invoke the listener with.\r\n\t * @param {Boolean} once Specify if the listener is a one-time listener.\r\n\t * @returns {EventEmitter}\r\n\t * @private\r\n\t */\r\n\tfunction addListener(emitter, event, fn, context, once) {\r\n\t  if (typeof fn !== 'function') {\r\n\t    throw new TypeError('The listener must be a function');\r\n\t  }\r\n\r\n\t  var listener = new EE(fn, context || emitter, once)\r\n\t    , evt = prefix ? prefix + event : event;\r\n\r\n\t  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\r\n\t  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\r\n\t  else emitter._events[evt] = [emitter._events[evt], listener];\r\n\r\n\t  return emitter;\r\n\t}\r\n\r\n\t/**\r\n\t * Clear event by name.\r\n\t *\r\n\t * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\r\n\t * @param {(String|Symbol)} evt The Event name.\r\n\t * @private\r\n\t */\r\n\tfunction clearEvent(emitter, evt) {\r\n\t  if (--emitter._eventsCount === 0) emitter._events = new Events();\r\n\t  else delete emitter._events[evt];\r\n\t}\r\n\r\n\t/**\r\n\t * Minimal `EventEmitter` interface that is molded against the Node.js\r\n\t * `EventEmitter` interface.\r\n\t *\r\n\t * @constructor\r\n\t * @public\r\n\t */\r\n\tfunction EventEmitter() {\r\n\t  this._events = new Events();\r\n\t  this._eventsCount = 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Return an array listing the events for which the emitter has registered\r\n\t * listeners.\r\n\t *\r\n\t * @returns {Array}\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.eventNames = function eventNames() {\r\n\t  var names = []\r\n\t    , events\r\n\t    , name;\r\n\r\n\t  if (this._eventsCount === 0) return names;\r\n\r\n\t  for (name in (events = this._events)) {\r\n\t    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\r\n\t  }\r\n\r\n\t  if (Object.getOwnPropertySymbols) {\r\n\t    return names.concat(Object.getOwnPropertySymbols(events));\r\n\t  }\r\n\r\n\t  return names;\r\n\t};\r\n\r\n\t/**\r\n\t * Return the listeners registered for a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @returns {Array} The registered listeners.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.listeners = function listeners(event) {\r\n\t  var evt = prefix ? prefix + event : event\r\n\t    , handlers = this._events[evt];\r\n\r\n\t  if (!handlers) return [];\r\n\t  if (handlers.fn) return [handlers.fn];\r\n\r\n\t  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\r\n\t    ee[i] = handlers[i].fn;\r\n\t  }\r\n\r\n\t  return ee;\r\n\t};\r\n\r\n\t/**\r\n\t * Return the number of listeners listening to a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @returns {Number} The number of listeners.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.listenerCount = function listenerCount(event) {\r\n\t  var evt = prefix ? prefix + event : event\r\n\t    , listeners = this._events[evt];\r\n\r\n\t  if (!listeners) return 0;\r\n\t  if (listeners.fn) return 1;\r\n\t  return listeners.length;\r\n\t};\r\n\r\n\t/**\r\n\t * Calls each of the listeners registered for a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @returns {Boolean} `true` if the event had listeners, else `false`.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\r\n\t  var evt = prefix ? prefix + event : event;\r\n\r\n\t  if (!this._events[evt]) return false;\r\n\r\n\t  var listeners = this._events[evt]\r\n\t    , len = arguments.length\r\n\t    , args\r\n\t    , i;\r\n\r\n\t  if (listeners.fn) {\r\n\t    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\r\n\r\n\t    switch (len) {\r\n\t      case 1: return listeners.fn.call(listeners.context), true;\r\n\t      case 2: return listeners.fn.call(listeners.context, a1), true;\r\n\t      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\r\n\t      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\r\n\t      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\r\n\t      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\r\n\t    }\r\n\r\n\t    for (i = 1, args = new Array(len -1); i < len; i++) {\r\n\t      args[i - 1] = arguments[i];\r\n\t    }\r\n\r\n\t    listeners.fn.apply(listeners.context, args);\r\n\t  } else {\r\n\t    var length = listeners.length\r\n\t      , j;\r\n\r\n\t    for (i = 0; i < length; i++) {\r\n\t      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\r\n\r\n\t      switch (len) {\r\n\t        case 1: listeners[i].fn.call(listeners[i].context); break;\r\n\t        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\r\n\t        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\r\n\t        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\r\n\t        default:\r\n\t          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\r\n\t            args[j - 1] = arguments[j];\r\n\t          }\r\n\r\n\t          listeners[i].fn.apply(listeners[i].context, args);\r\n\t      }\r\n\t    }\r\n\t  }\r\n\r\n\t  return true;\r\n\t};\r\n\r\n\t/**\r\n\t * Add a listener for a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @param {Function} fn The listener function.\r\n\t * @param {*} [context=this] The context to invoke the listener with.\r\n\t * @returns {EventEmitter} `this`.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.on = function on(event, fn, context) {\r\n\t  return addListener(this, event, fn, context, false);\r\n\t};\r\n\r\n\t/**\r\n\t * Add a one-time listener for a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @param {Function} fn The listener function.\r\n\t * @param {*} [context=this] The context to invoke the listener with.\r\n\t * @returns {EventEmitter} `this`.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.once = function once(event, fn, context) {\r\n\t  return addListener(this, event, fn, context, true);\r\n\t};\r\n\r\n\t/**\r\n\t * Remove the listeners of a given event.\r\n\t *\r\n\t * @param {(String|Symbol)} event The event name.\r\n\t * @param {Function} fn Only remove the listeners that match this function.\r\n\t * @param {*} context Only remove the listeners that have this context.\r\n\t * @param {Boolean} once Only remove one-time listeners.\r\n\t * @returns {EventEmitter} `this`.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\r\n\t  var evt = prefix ? prefix + event : event;\r\n\r\n\t  if (!this._events[evt]) return this;\r\n\t  if (!fn) {\r\n\t    clearEvent(this, evt);\r\n\t    return this;\r\n\t  }\r\n\r\n\t  var listeners = this._events[evt];\r\n\r\n\t  if (listeners.fn) {\r\n\t    if (\r\n\t      listeners.fn === fn &&\r\n\t      (!once || listeners.once) &&\r\n\t      (!context || listeners.context === context)\r\n\t    ) {\r\n\t      clearEvent(this, evt);\r\n\t    }\r\n\t  } else {\r\n\t    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\r\n\t      if (\r\n\t        listeners[i].fn !== fn ||\r\n\t        (once && !listeners[i].once) ||\r\n\t        (context && listeners[i].context !== context)\r\n\t      ) {\r\n\t        events.push(listeners[i]);\r\n\t      }\r\n\t    }\r\n\r\n\t    //\r\n\t    // Reset the array, or remove it completely if we have no more listeners.\r\n\t    //\r\n\t    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\r\n\t    else clearEvent(this, evt);\r\n\t  }\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t/**\r\n\t * Remove all listeners, or those of the specified event.\r\n\t *\r\n\t * @param {(String|Symbol)} [event] The event name.\r\n\t * @returns {EventEmitter} `this`.\r\n\t * @public\r\n\t */\r\n\tEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\r\n\t  var evt;\r\n\r\n\t  if (event) {\r\n\t    evt = prefix ? prefix + event : event;\r\n\t    if (this._events[evt]) clearEvent(this, evt);\r\n\t  } else {\r\n\t    this._events = new Events();\r\n\t    this._eventsCount = 0;\r\n\t  }\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\t//\r\n\t// Alias methods names because people roll like that.\r\n\t//\r\n\tEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\r\n\tEventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n\t//\r\n\t// Expose the prefix.\r\n\t//\r\n\tEventEmitter.prefixed = prefix;\r\n\r\n\t//\r\n\t// Allow `EventEmitter` to be imported as module namespace.\r\n\t//\r\n\tEventEmitter.EventEmitter = EventEmitter;\r\n\r\n\t//\r\n\t// Expose the module.\r\n\t//\r\n\t{\r\n\t  module.exports = EventEmitter;\r\n\t} \r\n} (eventemitter3));\r\n\r\nvar eventemitter3Exports = eventemitter3.exports;\r\n\r\nvar common$3 = {};\r\n\r\n/**\r\n * Check if we're required to add a port number.\r\n *\r\n * @see https://url.spec.whatwg.org/#default-port\r\n * @param {Number|String} port Port number we need to check\r\n * @param {String} protocol Protocol we need to check against.\r\n * @returns {Boolean} Is it a default port for the given protocol\r\n * @api private\r\n */\r\nvar requiresPort = function required(port, protocol) {\r\n  protocol = protocol.split(':')[0];\r\n  port = +port;\r\n\r\n  if (!port) return false;\r\n\r\n  switch (protocol) {\r\n    case 'http':\r\n    case 'ws':\r\n    return port !== 80;\r\n\r\n    case 'https':\r\n    case 'wss':\r\n    return port !== 443;\r\n\r\n    case 'ftp':\r\n    return port !== 21;\r\n\r\n    case 'gopher':\r\n    return port !== 70;\r\n\r\n    case 'file':\r\n    return false;\r\n  }\r\n\r\n  return port !== 0;\r\n};\r\n\r\n(function (exports) {\r\n\tvar common   = exports,\r\n\t    url      = require$$0$9,\r\n\t    required = requiresPort;\r\n\r\n\tvar upgradeHeader = /(^|,)\\s*upgrade\\s*($|,)/i,\r\n\t    isSSL = /^https|wss/;\r\n\r\n\t/**\r\n\t * Simple Regex for testing if protocol is https\r\n\t */\r\n\tcommon.isSSL = isSSL;\r\n\t/**\r\n\t * Copies the right headers from `options` and `req` to\r\n\t * `outgoing` which is then used to fire the proxied\r\n\t * request.\r\n\t *\r\n\t * Examples:\r\n\t *\r\n\t *    common.setupOutgoing(outgoing, options, req)\r\n\t *    // => { host: ..., hostname: ...}\r\n\t *\r\n\t * @param {Object} Outgoing Base object to be filled with required properties\r\n\t * @param {Object} Options Config object passed to the proxy\r\n\t * @param {ClientRequest} Req Request Object\r\n\t * @param {String} Forward String to select forward or target\r\n\t * \r\n\t * @return {Object} Outgoing Object with all required properties set\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tcommon.setupOutgoing = function(outgoing, options, req, forward) {\r\n\t  outgoing.port = options[forward || 'target'].port ||\r\n\t                  (isSSL.test(options[forward || 'target'].protocol) ? 443 : 80);\r\n\r\n\t  ['host', 'hostname', 'socketPath', 'pfx', 'key',\r\n\t    'passphrase', 'cert', 'ca', 'ciphers', 'secureProtocol'].forEach(\r\n\t    function(e) { outgoing[e] = options[forward || 'target'][e]; }\r\n\t  );\r\n\r\n\t  outgoing.method = options.method || req.method;\r\n\t  outgoing.headers = Object.assign({}, req.headers);\r\n\r\n\t  if (options.headers){\r\n\t    Object.assign(outgoing.headers, options.headers);\r\n\t  }\r\n\r\n\t  if (options.auth) {\r\n\t    outgoing.auth = options.auth;\r\n\t  }\r\n\t  \r\n\t  if (options.ca) {\r\n\t      outgoing.ca = options.ca;\r\n\t  }\r\n\r\n\t  if (isSSL.test(options[forward || 'target'].protocol)) {\r\n\t    outgoing.rejectUnauthorized = (typeof options.secure === \"undefined\") ? true : options.secure;\r\n\t  }\r\n\r\n\r\n\t  outgoing.agent = options.agent || false;\r\n\t  outgoing.localAddress = options.localAddress;\r\n\r\n\t  //\r\n\t  // Remark: If we are false and not upgrading, set the connection: close. This is the right thing to do\r\n\t  // as node core doesn't handle this COMPLETELY properly yet.\r\n\t  //\r\n\t  if (!outgoing.agent) {\r\n\t    outgoing.headers = outgoing.headers || {};\r\n\t    if (typeof outgoing.headers.connection !== 'string'\r\n\t        || !upgradeHeader.test(outgoing.headers.connection)\r\n\t       ) { outgoing.headers.connection = 'close'; }\r\n\t  }\r\n\r\n\r\n\t  // the final path is target path + relative path requested by user:\r\n\t  var target = options[forward || 'target'];\r\n\t  var targetPath = target && options.prependPath !== false\r\n\t    ? (target.path || '')\r\n\t    : '';\r\n\r\n\t  //\r\n\t  // Remark: Can we somehow not use url.parse as a perf optimization?\r\n\t  //\r\n\t  var outgoingPath = !options.toProxy\r\n\t    ? (url.parse(req.url).path || '')\r\n\t    : req.url;\r\n\r\n\t  //\r\n\t  // Remark: ignorePath will just straight up ignore whatever the request's\r\n\t  // path is. This can be labeled as FOOT-GUN material if you do not know what\r\n\t  // you are doing and are using conflicting options.\r\n\t  //\r\n\t  outgoingPath = !options.ignorePath ? outgoingPath : '';\r\n\r\n\t  outgoing.path = common.urlJoin(targetPath, outgoingPath);\r\n\r\n\t  if (options.changeOrigin) {\r\n\t    outgoing.headers.host =\r\n\t      required(outgoing.port, options[forward || 'target'].protocol) && !hasPort(outgoing.host)\r\n\t        ? outgoing.host + ':' + outgoing.port\r\n\t        : outgoing.host;\r\n\t  }\r\n\t  return outgoing;\r\n\t};\r\n\r\n\t/**\r\n\t * Set the proper configuration for sockets,\r\n\t * set no delay and set keep alive, also set\r\n\t * the timeout to 0.\r\n\t *\r\n\t * Examples:\r\n\t *\r\n\t *    common.setupSocket(socket)\r\n\t *    // => Socket\r\n\t *\r\n\t * @param {Socket} Socket instance to setup\r\n\t * \r\n\t * @return {Socket} Return the configured socket.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tcommon.setupSocket = function(socket) {\r\n\t  socket.setTimeout(0);\r\n\t  socket.setNoDelay(true);\r\n\r\n\t  socket.setKeepAlive(true, 0);\r\n\r\n\t  return socket;\r\n\t};\r\n\r\n\t/**\r\n\t * Get the port number from the host. Or guess it based on the connection type.\r\n\t *\r\n\t * @param {Request} req Incoming HTTP request.\r\n\t *\r\n\t * @return {String} The port number.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\tcommon.getPort = function(req) {\r\n\t  var res = req.headers.host ? req.headers.host.match(/:(\\d+)/) : '';\r\n\r\n\t  return res ?\r\n\t    res[1] :\r\n\t    common.hasEncryptedConnection(req) ? '443' : '80';\r\n\t};\r\n\r\n\t/**\r\n\t * Check if the request has an encrypted connection.\r\n\t *\r\n\t * @param {Request} req Incoming HTTP request.\r\n\t *\r\n\t * @return {Boolean} Whether the connection is encrypted or not.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\tcommon.hasEncryptedConnection = function(req) {\r\n\t  return Boolean(req.connection.encrypted || req.connection.pair);\r\n\t};\r\n\r\n\t/**\r\n\t * OS-agnostic join (doesn't break on URLs like path.join does on Windows)>\r\n\t *\r\n\t * @return {String} The generated path.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tcommon.urlJoin = function() {\r\n\t    //\r\n\t    // We do not want to mess with the query string. All we want to touch is the path.\r\n\t    //\r\n\t  var args = Array.prototype.slice.call(arguments),\r\n\t      lastIndex = args.length - 1,\r\n\t      last = args[lastIndex],\r\n\t      lastSegs = last.split('?'),\r\n\t      retSegs;\r\n\r\n\t  args[lastIndex] = lastSegs.shift();\r\n\r\n\t  //\r\n\t  // Join all strings, but remove empty strings so we don't get extra slashes from\r\n\t  // joining e.g. ['', 'am']\r\n\t  //\r\n\t  retSegs = [\r\n\t    args.filter(Boolean).join('/')\r\n\t        .replace(/\\/+/g, '/')\r\n\t        .replace('http:/', 'http://')\r\n\t        .replace('https:/', 'https://')\r\n\t  ];\r\n\r\n\t  // Only join the query string if it exists so we don't have trailing a '?'\r\n\t  // on every request\r\n\r\n\t  // Handle case where there could be multiple ? in the URL.\r\n\t  retSegs.push.apply(retSegs, lastSegs);\r\n\r\n\t  return retSegs.join('?')\r\n\t};\r\n\r\n\t/**\r\n\t * Rewrites or removes the domain of a cookie header\r\n\t *\r\n\t * @param {String|Array} Header\r\n\t * @param {Object} Config, mapping of domain to rewritten domain.\r\n\t *                 '*' key to match any domain, null value to remove the domain.\r\n\t *\r\n\t * @api private\r\n\t */\r\n\tcommon.rewriteCookieProperty = function rewriteCookieProperty(header, config, property) {\r\n\t  if (Array.isArray(header)) {\r\n\t    return header.map(function (headerElement) {\r\n\t      return rewriteCookieProperty(headerElement, config, property);\r\n\t    });\r\n\t  }\r\n\t  return header.replace(new RegExp(\"(;\\\\s*\" + property + \"=)([^;]+)\", 'i'), function(match, prefix, previousValue) {\r\n\t    var newValue;\r\n\t    if (previousValue in config) {\r\n\t      newValue = config[previousValue];\r\n\t    } else if ('*' in config) {\r\n\t      newValue = config['*'];\r\n\t    } else {\r\n\t      //no match, return previous value\r\n\t      return match;\r\n\t    }\r\n\t    if (newValue) {\r\n\t      //replace value\r\n\t      return prefix + newValue;\r\n\t    } else {\r\n\t      //remove value\r\n\t      return '';\r\n\t    }\r\n\t  });\r\n\t};\r\n\r\n\t/**\r\n\t * Check the host and see if it potentially has a port in it (keep it simple)\r\n\t *\r\n\t * @returns {Boolean} Whether we have one or not\r\n\t *\r\n\t * @api private\r\n\t */\r\n\tfunction hasPort(host) {\r\n\t  return !!~host.indexOf(':');\r\n\t}} (common$3));\r\n\r\nvar url$1    = require$$0$9,\r\n    common$2 = common$3;\r\n\r\n\r\nvar redirectRegex = /^201|30(1|2|7|8)$/;\r\n\r\n/*!\r\n * Array of passes.\r\n *\r\n * A `pass` is just a function that is executed on `req, res, options`\r\n * so that you can easily add new checks while still keeping the base\r\n * flexible.\r\n */\r\n\r\nvar webOutgoing = { // <--\r\n\r\n  /**\r\n   * If is a HTTP 1.0 request, remove chunk headers\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {IncomingMessage} Res Response object\r\n   * @param {proxyResponse} Res Response object from the proxy request\r\n   *\r\n   * @api private\r\n   */\r\n  removeChunked: function removeChunked(req, res, proxyRes) {\r\n    if (req.httpVersion === '1.0') {\r\n      delete proxyRes.headers['transfer-encoding'];\r\n    }\r\n  },\r\n\r\n  /**\r\n   * If is a HTTP 1.0 request, set the correct connection header\r\n   * or if connection header not present, then use `keep-alive`\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {IncomingMessage} Res Response object\r\n   * @param {proxyResponse} Res Response object from the proxy request\r\n   *\r\n   * @api private\r\n   */\r\n  setConnection: function setConnection(req, res, proxyRes) {\r\n    if (req.httpVersion === '1.0') {\r\n      proxyRes.headers.connection = req.headers.connection || 'close';\r\n    } else if (req.httpVersion !== '2.0' && !proxyRes.headers.connection) {\r\n      proxyRes.headers.connection = req.headers.connection || 'keep-alive';\r\n    }\r\n  },\r\n\r\n  setRedirectHostRewrite: function setRedirectHostRewrite(req, res, proxyRes, options) {\r\n    if ((options.hostRewrite || options.autoRewrite || options.protocolRewrite)\r\n        && proxyRes.headers['location']\r\n        && redirectRegex.test(proxyRes.statusCode)) {\r\n      var target = url$1.parse(options.target);\r\n      var u = url$1.parse(proxyRes.headers['location']);\r\n\r\n      // make sure the redirected host matches the target host before rewriting\r\n      if (target.host != u.host) {\r\n        return;\r\n      }\r\n\r\n      if (options.hostRewrite) {\r\n        u.host = options.hostRewrite;\r\n      } else if (options.autoRewrite) {\r\n        u.host = req.headers['host'];\r\n      }\r\n      if (options.protocolRewrite) {\r\n        u.protocol = options.protocolRewrite;\r\n      }\r\n\r\n      proxyRes.headers['location'] = u.format();\r\n    }\r\n  },\r\n  /**\r\n   * Copy headers from proxyResponse to response\r\n   * set each header in response object.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {IncomingMessage} Res Response object\r\n   * @param {proxyResponse} Res Response object from the proxy request\r\n   * @param {Object} Options options.cookieDomainRewrite: Config to rewrite cookie domain\r\n   *\r\n   * @api private\r\n   */\r\n  writeHeaders: function writeHeaders(req, res, proxyRes, options) {\r\n    var rewriteCookieDomainConfig = options.cookieDomainRewrite,\r\n        rewriteCookiePathConfig = options.cookiePathRewrite,\r\n        preserveHeaderKeyCase = options.preserveHeaderKeyCase,\r\n        rawHeaderKeyMap,\r\n        setHeader = function(key, header) {\r\n          if (header == undefined) return;\r\n          if (rewriteCookieDomainConfig && key.toLowerCase() === 'set-cookie') {\r\n            header = common$2.rewriteCookieProperty(header, rewriteCookieDomainConfig, 'domain');\r\n          }\r\n          if (rewriteCookiePathConfig && key.toLowerCase() === 'set-cookie') {\r\n            header = common$2.rewriteCookieProperty(header, rewriteCookiePathConfig, 'path');\r\n          }\r\n          res.setHeader(String(key).trim(), header);\r\n        };\r\n\r\n    if (typeof rewriteCookieDomainConfig === 'string') { //also test for ''\r\n      rewriteCookieDomainConfig = { '*': rewriteCookieDomainConfig };\r\n    }\r\n\r\n    if (typeof rewriteCookiePathConfig === 'string') { //also test for ''\r\n      rewriteCookiePathConfig = { '*': rewriteCookiePathConfig };\r\n    }\r\n\r\n    // message.rawHeaders is added in: v0.11.6\r\n    // https://nodejs.org/api/http.html#http_message_rawheaders\r\n    if (preserveHeaderKeyCase && proxyRes.rawHeaders != undefined) {\r\n      rawHeaderKeyMap = {};\r\n      for (var i = 0; i < proxyRes.rawHeaders.length; i += 2) {\r\n        var key = proxyRes.rawHeaders[i];\r\n        rawHeaderKeyMap[key.toLowerCase()] = key;\r\n      }\r\n    }\r\n\r\n    Object.keys(proxyRes.headers).forEach(function(key) {\r\n      var header = proxyRes.headers[key];\r\n      if (preserveHeaderKeyCase && rawHeaderKeyMap) {\r\n        key = rawHeaderKeyMap[key] || key;\r\n      }\r\n      setHeader(key, header);\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Set the statusCode from the proxyResponse\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {IncomingMessage} Res Response object\r\n   * @param {proxyResponse} Res Response object from the proxy request\r\n   *\r\n   * @api private\r\n   */\r\n  writeStatusCode: function writeStatusCode(req, res, proxyRes) {\r\n    // From Node.js docs: response.writeHead(statusCode[, statusMessage][, headers])\r\n    if(proxyRes.statusMessage) {\r\n      res.statusCode = proxyRes.statusCode;\r\n      res.statusMessage = proxyRes.statusMessage;\r\n    } else {\r\n      res.statusCode = proxyRes.statusCode;\r\n    }\r\n  }\r\n\r\n};\r\n\r\nvar followRedirects$1 = {exports: {}};\r\n\r\nvar debug$6;\r\n\r\nvar debug_1 = function () {\r\n  if (!debug$6) {\r\n    try {\r\n      /* eslint global-require: off */\r\n      debug$6 = srcExports$1(\"follow-redirects\");\r\n    }\r\n    catch (error) { /* */ }\r\n    if (typeof debug$6 !== \"function\") {\r\n      debug$6 = function () { /* */ };\r\n    }\r\n  }\r\n  debug$6.apply(null, arguments);\r\n};\r\n\r\nvar url = require$$0$9;\r\nvar URL$1 = url.URL;\r\nvar http$1 = require$$1;\r\nvar https$1 = require$$1$1;\r\nvar Writable = require$$0$6.Writable;\r\nvar assert = require$$4$3;\r\nvar debug$5 = debug_1;\r\n\r\n// Whether to use the native URL object or the legacy url module\r\nvar useNativeURL = false;\r\ntry {\r\n  assert(new URL$1());\r\n}\r\ncatch (error) {\r\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\r\n}\r\n\r\n// URL fields to preserve in copy operations\r\nvar preservedUrlFields = [\r\n  \"auth\",\r\n  \"host\",\r\n  \"hostname\",\r\n  \"href\",\r\n  \"path\",\r\n  \"pathname\",\r\n  \"port\",\r\n  \"protocol\",\r\n  \"query\",\r\n  \"search\",\r\n  \"hash\",\r\n];\r\n\r\n// Create handlers that pass events from native requests\r\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\r\nvar eventHandlers = Object.create(null);\r\nevents.forEach(function (event) {\r\n  eventHandlers[event] = function (arg1, arg2, arg3) {\r\n    this._redirectable.emit(event, arg1, arg2, arg3);\r\n  };\r\n});\r\n\r\n// Error types with codes\r\nvar InvalidUrlError = createErrorType(\r\n  \"ERR_INVALID_URL\",\r\n  \"Invalid URL\",\r\n  TypeError\r\n);\r\nvar RedirectionError = createErrorType(\r\n  \"ERR_FR_REDIRECTION_FAILURE\",\r\n  \"Redirected request failed\"\r\n);\r\nvar TooManyRedirectsError = createErrorType(\r\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\r\n  \"Maximum number of redirects exceeded\",\r\n  RedirectionError\r\n);\r\nvar MaxBodyLengthExceededError = createErrorType(\r\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\r\n  \"Request body larger than maxBodyLength limit\"\r\n);\r\nvar WriteAfterEndError = createErrorType(\r\n  \"ERR_STREAM_WRITE_AFTER_END\",\r\n  \"write after end\"\r\n);\r\n\r\n// istanbul ignore next\r\nvar destroy = Writable.prototype.destroy || noop;\r\n\r\n// An HTTP(S) request that can be redirected\r\nfunction RedirectableRequest(options, responseCallback) {\r\n  // Initialize the request\r\n  Writable.call(this);\r\n  this._sanitizeOptions(options);\r\n  this._options = options;\r\n  this._ended = false;\r\n  this._ending = false;\r\n  this._redirectCount = 0;\r\n  this._redirects = [];\r\n  this._requestBodyLength = 0;\r\n  this._requestBodyBuffers = [];\r\n\r\n  // Attach a callback if passed\r\n  if (responseCallback) {\r\n    this.on(\"response\", responseCallback);\r\n  }\r\n\r\n  // React to responses of native requests\r\n  var self = this;\r\n  this._onNativeResponse = function (response) {\r\n    try {\r\n      self._processResponse(response);\r\n    }\r\n    catch (cause) {\r\n      self.emit(\"error\", cause instanceof RedirectionError ?\r\n        cause : new RedirectionError({ cause: cause }));\r\n    }\r\n  };\r\n\r\n  // Perform the first request\r\n  this._performRequest();\r\n}\r\nRedirectableRequest.prototype = Object.create(Writable.prototype);\r\n\r\nRedirectableRequest.prototype.abort = function () {\r\n  destroyRequest(this._currentRequest);\r\n  this._currentRequest.abort();\r\n  this.emit(\"abort\");\r\n};\r\n\r\nRedirectableRequest.prototype.destroy = function (error) {\r\n  destroyRequest(this._currentRequest, error);\r\n  destroy.call(this, error);\r\n  return this;\r\n};\r\n\r\n// Writes buffered data to the current native request\r\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\r\n  // Writing is not allowed if end has been called\r\n  if (this._ending) {\r\n    throw new WriteAfterEndError();\r\n  }\r\n\r\n  // Validate input and shift parameters if necessary\r\n  if (!isString(data) && !isBuffer(data)) {\r\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\r\n  }\r\n  if (isFunction(encoding)) {\r\n    callback = encoding;\r\n    encoding = null;\r\n  }\r\n\r\n  // Ignore empty buffers, since writing them doesn't invoke the callback\r\n  // https://github.com/nodejs/node/issues/22066\r\n  if (data.length === 0) {\r\n    if (callback) {\r\n      callback();\r\n    }\r\n    return;\r\n  }\r\n  // Only write when we don't exceed the maximum body length\r\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\r\n    this._requestBodyLength += data.length;\r\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\r\n    this._currentRequest.write(data, encoding, callback);\r\n  }\r\n  // Error when we exceed the maximum body length\r\n  else {\r\n    this.emit(\"error\", new MaxBodyLengthExceededError());\r\n    this.abort();\r\n  }\r\n};\r\n\r\n// Ends the current native request\r\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\r\n  // Shift parameters if necessary\r\n  if (isFunction(data)) {\r\n    callback = data;\r\n    data = encoding = null;\r\n  }\r\n  else if (isFunction(encoding)) {\r\n    callback = encoding;\r\n    encoding = null;\r\n  }\r\n\r\n  // Write data if needed and end\r\n  if (!data) {\r\n    this._ended = this._ending = true;\r\n    this._currentRequest.end(null, null, callback);\r\n  }\r\n  else {\r\n    var self = this;\r\n    var currentRequest = this._currentRequest;\r\n    this.write(data, encoding, function () {\r\n      self._ended = true;\r\n      currentRequest.end(null, null, callback);\r\n    });\r\n    this._ending = true;\r\n  }\r\n};\r\n\r\n// Sets a header value on the current native request\r\nRedirectableRequest.prototype.setHeader = function (name, value) {\r\n  this._options.headers[name] = value;\r\n  this._currentRequest.setHeader(name, value);\r\n};\r\n\r\n// Clears a header value on the current native request\r\nRedirectableRequest.prototype.removeHeader = function (name) {\r\n  delete this._options.headers[name];\r\n  this._currentRequest.removeHeader(name);\r\n};\r\n\r\n// Global timeout for all underlying requests\r\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\r\n  var self = this;\r\n\r\n  // Destroys the socket on timeout\r\n  function destroyOnTimeout(socket) {\r\n    socket.setTimeout(msecs);\r\n    socket.removeListener(\"timeout\", socket.destroy);\r\n    socket.addListener(\"timeout\", socket.destroy);\r\n  }\r\n\r\n  // Sets up a timer to trigger a timeout event\r\n  function startTimer(socket) {\r\n    if (self._timeout) {\r\n      clearTimeout(self._timeout);\r\n    }\r\n    self._timeout = setTimeout(function () {\r\n      self.emit(\"timeout\");\r\n      clearTimer();\r\n    }, msecs);\r\n    destroyOnTimeout(socket);\r\n  }\r\n\r\n  // Stops a timeout from triggering\r\n  function clearTimer() {\r\n    // Clear the timeout\r\n    if (self._timeout) {\r\n      clearTimeout(self._timeout);\r\n      self._timeout = null;\r\n    }\r\n\r\n    // Clean up all attached listeners\r\n    self.removeListener(\"abort\", clearTimer);\r\n    self.removeListener(\"error\", clearTimer);\r\n    self.removeListener(\"response\", clearTimer);\r\n    self.removeListener(\"close\", clearTimer);\r\n    if (callback) {\r\n      self.removeListener(\"timeout\", callback);\r\n    }\r\n    if (!self.socket) {\r\n      self._currentRequest.removeListener(\"socket\", startTimer);\r\n    }\r\n  }\r\n\r\n  // Attach callback if passed\r\n  if (callback) {\r\n    this.on(\"timeout\", callback);\r\n  }\r\n\r\n  // Start the timer if or when the socket is opened\r\n  if (this.socket) {\r\n    startTimer(this.socket);\r\n  }\r\n  else {\r\n    this._currentRequest.once(\"socket\", startTimer);\r\n  }\r\n\r\n  // Clean up on events\r\n  this.on(\"socket\", destroyOnTimeout);\r\n  this.on(\"abort\", clearTimer);\r\n  this.on(\"error\", clearTimer);\r\n  this.on(\"response\", clearTimer);\r\n  this.on(\"close\", clearTimer);\r\n\r\n  return this;\r\n};\r\n\r\n// Proxy all other public ClientRequest methods\r\n[\r\n  \"flushHeaders\", \"getHeader\",\r\n  \"setNoDelay\", \"setSocketKeepAlive\",\r\n].forEach(function (method) {\r\n  RedirectableRequest.prototype[method] = function (a, b) {\r\n    return this._currentRequest[method](a, b);\r\n  };\r\n});\r\n\r\n// Proxy all public ClientRequest properties\r\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\r\n  Object.defineProperty(RedirectableRequest.prototype, property, {\r\n    get: function () { return this._currentRequest[property]; },\r\n  });\r\n});\r\n\r\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\r\n  // Ensure headers are always present\r\n  if (!options.headers) {\r\n    options.headers = {};\r\n  }\r\n\r\n  // Since http.request treats host as an alias of hostname,\r\n  // but the url module interprets host as hostname plus port,\r\n  // eliminate the host property to avoid confusion.\r\n  if (options.host) {\r\n    // Use hostname if set, because it has precedence\r\n    if (!options.hostname) {\r\n      options.hostname = options.host;\r\n    }\r\n    delete options.host;\r\n  }\r\n\r\n  // Complete the URL object when necessary\r\n  if (!options.pathname && options.path) {\r\n    var searchPos = options.path.indexOf(\"?\");\r\n    if (searchPos < 0) {\r\n      options.pathname = options.path;\r\n    }\r\n    else {\r\n      options.pathname = options.path.substring(0, searchPos);\r\n      options.search = options.path.substring(searchPos);\r\n    }\r\n  }\r\n};\r\n\r\n\r\n// Executes the next native request (initial or redirect)\r\nRedirectableRequest.prototype._performRequest = function () {\r\n  // Load the native protocol\r\n  var protocol = this._options.protocol;\r\n  var nativeProtocol = this._options.nativeProtocols[protocol];\r\n  if (!nativeProtocol) {\r\n    throw new TypeError(\"Unsupported protocol \" + protocol);\r\n  }\r\n\r\n  // If specified, use the agent corresponding to the protocol\r\n  // (HTTP and HTTPS use different types of agents)\r\n  if (this._options.agents) {\r\n    var scheme = protocol.slice(0, -1);\r\n    this._options.agent = this._options.agents[scheme];\r\n  }\r\n\r\n  // Create the native request and set up its event handlers\r\n  var request = this._currentRequest =\r\n        nativeProtocol.request(this._options, this._onNativeResponse);\r\n  request._redirectable = this;\r\n  for (var event of events) {\r\n    request.on(event, eventHandlers[event]);\r\n  }\r\n\r\n  // RFC7230§5.3.1: When making a request directly to an origin server, […]\r\n  // a client MUST send only the absolute path […] as the request-target.\r\n  this._currentUrl = /^\\//.test(this._options.path) ?\r\n    url.format(this._options) :\r\n    // When making a request to a proxy, […]\r\n    // a client MUST send the target URI in absolute-form […].\r\n    this._options.path;\r\n\r\n  // End a redirected request\r\n  // (The first request must be ended explicitly with RedirectableRequest#end)\r\n  if (this._isRedirect) {\r\n    // Write the request entity and end\r\n    var i = 0;\r\n    var self = this;\r\n    var buffers = this._requestBodyBuffers;\r\n    (function writeNext(error) {\r\n      // Only write if this request has not been redirected yet\r\n      /* istanbul ignore else */\r\n      if (request === self._currentRequest) {\r\n        // Report any write errors\r\n        /* istanbul ignore if */\r\n        if (error) {\r\n          self.emit(\"error\", error);\r\n        }\r\n        // Write the next buffer if there are still left\r\n        else if (i < buffers.length) {\r\n          var buffer = buffers[i++];\r\n          /* istanbul ignore else */\r\n          if (!request.finished) {\r\n            request.write(buffer.data, buffer.encoding, writeNext);\r\n          }\r\n        }\r\n        // End the request if `end` has been called on us\r\n        else if (self._ended) {\r\n          request.end();\r\n        }\r\n      }\r\n    }());\r\n  }\r\n};\r\n\r\n// Processes a response from the current native request\r\nRedirectableRequest.prototype._processResponse = function (response) {\r\n  // Store the redirected response\r\n  var statusCode = response.statusCode;\r\n  if (this._options.trackRedirects) {\r\n    this._redirects.push({\r\n      url: this._currentUrl,\r\n      headers: response.headers,\r\n      statusCode: statusCode,\r\n    });\r\n  }\r\n\r\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\r\n  // that further action needs to be taken by the user agent in order to\r\n  // fulfill the request. If a Location header field is provided,\r\n  // the user agent MAY automatically redirect its request to the URI\r\n  // referenced by the Location field value,\r\n  // even if the specific status code is not understood.\r\n\r\n  // If the response is not a redirect; return it as-is\r\n  var location = response.headers.location;\r\n  if (!location || this._options.followRedirects === false ||\r\n      statusCode < 300 || statusCode >= 400) {\r\n    response.responseUrl = this._currentUrl;\r\n    response.redirects = this._redirects;\r\n    this.emit(\"response\", response);\r\n\r\n    // Clean up\r\n    this._requestBodyBuffers = [];\r\n    return;\r\n  }\r\n\r\n  // The response is a redirect, so abort the current request\r\n  destroyRequest(this._currentRequest);\r\n  // Discard the remainder of the response to avoid waiting for data\r\n  response.destroy();\r\n\r\n  // RFC7231§6.4: A client SHOULD detect and intervene\r\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\r\n  if (++this._redirectCount > this._options.maxRedirects) {\r\n    throw new TooManyRedirectsError();\r\n  }\r\n\r\n  // Store the request headers if applicable\r\n  var requestHeaders;\r\n  var beforeRedirect = this._options.beforeRedirect;\r\n  if (beforeRedirect) {\r\n    requestHeaders = Object.assign({\r\n      // The Host header was set by nativeProtocol.request\r\n      Host: response.req.getHeader(\"host\"),\r\n    }, this._options.headers);\r\n  }\r\n\r\n  // RFC7231§6.4: Automatic redirection needs to done with\r\n  // care for methods not known to be safe, […]\r\n  // RFC7231§6.4.2–3: For historical reasons, a user agent MAY change\r\n  // the request method from POST to GET for the subsequent request.\r\n  var method = this._options.method;\r\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\r\n      // RFC7231§6.4.4: The 303 (See Other) status code indicates that\r\n      // the server is redirecting the user agent to a different resource […]\r\n      // A user agent can perform a retrieval request targeting that URI\r\n      // (a GET or HEAD request if using HTTP) […]\r\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\r\n    this._options.method = \"GET\";\r\n    // Drop a possible entity and headers related to it\r\n    this._requestBodyBuffers = [];\r\n    removeMatchingHeaders(/^content-/i, this._options.headers);\r\n  }\r\n\r\n  // Drop the Host header, as the redirect might lead to a different host\r\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\r\n\r\n  // If the redirect is relative, carry over the host of the last request\r\n  var currentUrlParts = parseUrl(this._currentUrl);\r\n  var currentHost = currentHostHeader || currentUrlParts.host;\r\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\r\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\r\n\r\n  // Create the redirected request\r\n  var redirectUrl = resolveUrl(location, currentUrl);\r\n  debug$5(\"redirecting to\", redirectUrl.href);\r\n  this._isRedirect = true;\r\n  spreadUrlObject(redirectUrl, this._options);\r\n\r\n  // Drop confidential headers when redirecting to a less secure protocol\r\n  // or to a different domain that is not a superdomain\r\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\r\n     redirectUrl.protocol !== \"https:\" ||\r\n     redirectUrl.host !== currentHost &&\r\n     !isSubdomain(redirectUrl.host, currentHost)) {\r\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\r\n  }\r\n\r\n  // Evaluate the beforeRedirect callback\r\n  if (isFunction(beforeRedirect)) {\r\n    var responseDetails = {\r\n      headers: response.headers,\r\n      statusCode: statusCode,\r\n    };\r\n    var requestDetails = {\r\n      url: currentUrl,\r\n      method: method,\r\n      headers: requestHeaders,\r\n    };\r\n    beforeRedirect(this._options, responseDetails, requestDetails);\r\n    this._sanitizeOptions(this._options);\r\n  }\r\n\r\n  // Perform the redirected request\r\n  this._performRequest();\r\n};\r\n\r\n// Wraps the key/value object of protocols with redirect functionality\r\nfunction wrap(protocols) {\r\n  // Default settings\r\n  var exports = {\r\n    maxRedirects: 21,\r\n    maxBodyLength: 10 * 1024 * 1024,\r\n  };\r\n\r\n  // Wrap each protocol\r\n  var nativeProtocols = {};\r\n  Object.keys(protocols).forEach(function (scheme) {\r\n    var protocol = scheme + \":\";\r\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\r\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\r\n\r\n    // Executes a request, following redirects\r\n    function request(input, options, callback) {\r\n      // Parse parameters, ensuring that input is an object\r\n      if (isURL(input)) {\r\n        input = spreadUrlObject(input);\r\n      }\r\n      else if (isString(input)) {\r\n        input = spreadUrlObject(parseUrl(input));\r\n      }\r\n      else {\r\n        callback = options;\r\n        options = validateUrl(input);\r\n        input = { protocol: protocol };\r\n      }\r\n      if (isFunction(options)) {\r\n        callback = options;\r\n        options = null;\r\n      }\r\n\r\n      // Set defaults\r\n      options = Object.assign({\r\n        maxRedirects: exports.maxRedirects,\r\n        maxBodyLength: exports.maxBodyLength,\r\n      }, input, options);\r\n      options.nativeProtocols = nativeProtocols;\r\n      if (!isString(options.host) && !isString(options.hostname)) {\r\n        options.hostname = \"::1\";\r\n      }\r\n\r\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\r\n      debug$5(\"options\", options);\r\n      return new RedirectableRequest(options, callback);\r\n    }\r\n\r\n    // Executes a GET request, following redirects\r\n    function get(input, options, callback) {\r\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\r\n      wrappedRequest.end();\r\n      return wrappedRequest;\r\n    }\r\n\r\n    // Expose the properties on the wrapped protocol\r\n    Object.defineProperties(wrappedProtocol, {\r\n      request: { value: request, configurable: true, enumerable: true, writable: true },\r\n      get: { value: get, configurable: true, enumerable: true, writable: true },\r\n    });\r\n  });\r\n  return exports;\r\n}\r\n\r\nfunction noop() { /* empty */ }\r\n\r\nfunction parseUrl(input) {\r\n  var parsed;\r\n  /* istanbul ignore else */\r\n  if (useNativeURL) {\r\n    parsed = new URL$1(input);\r\n  }\r\n  else {\r\n    // Ensure the URL is valid and absolute\r\n    parsed = validateUrl(url.parse(input));\r\n    if (!isString(parsed.protocol)) {\r\n      throw new InvalidUrlError({ input });\r\n    }\r\n  }\r\n  return parsed;\r\n}\r\n\r\nfunction resolveUrl(relative, base) {\r\n  /* istanbul ignore next */\r\n  return useNativeURL ? new URL$1(relative, base) : parseUrl(url.resolve(base, relative));\r\n}\r\n\r\nfunction validateUrl(input) {\r\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\r\n    throw new InvalidUrlError({ input: input.href || input });\r\n  }\r\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\r\n    throw new InvalidUrlError({ input: input.href || input });\r\n  }\r\n  return input;\r\n}\r\n\r\nfunction spreadUrlObject(urlObject, target) {\r\n  var spread = target || {};\r\n  for (var key of preservedUrlFields) {\r\n    spread[key] = urlObject[key];\r\n  }\r\n\r\n  // Fix IPv6 hostname\r\n  if (spread.hostname.startsWith(\"[\")) {\r\n    spread.hostname = spread.hostname.slice(1, -1);\r\n  }\r\n  // Ensure port is a number\r\n  if (spread.port !== \"\") {\r\n    spread.port = Number(spread.port);\r\n  }\r\n  // Concatenate path\r\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\r\n\r\n  return spread;\r\n}\r\n\r\nfunction removeMatchingHeaders(regex, headers) {\r\n  var lastValue;\r\n  for (var header in headers) {\r\n    if (regex.test(header)) {\r\n      lastValue = headers[header];\r\n      delete headers[header];\r\n    }\r\n  }\r\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\r\n    undefined : String(lastValue).trim();\r\n}\r\n\r\nfunction createErrorType(code, message, baseClass) {\r\n  // Create constructor\r\n  function CustomError(properties) {\r\n    Error.captureStackTrace(this, this.constructor);\r\n    Object.assign(this, properties || {});\r\n    this.code = code;\r\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\r\n  }\r\n\r\n  // Attach constructor and set default properties\r\n  CustomError.prototype = new (baseClass || Error)();\r\n  Object.defineProperties(CustomError.prototype, {\r\n    constructor: {\r\n      value: CustomError,\r\n      enumerable: false,\r\n    },\r\n    name: {\r\n      value: \"Error [\" + code + \"]\",\r\n      enumerable: false,\r\n    },\r\n  });\r\n  return CustomError;\r\n}\r\n\r\nfunction destroyRequest(request, error) {\r\n  for (var event of events) {\r\n    request.removeListener(event, eventHandlers[event]);\r\n  }\r\n  request.on(\"error\", noop);\r\n  request.destroy(error);\r\n}\r\n\r\nfunction isSubdomain(subdomain, domain) {\r\n  assert(isString(subdomain) && isString(domain));\r\n  var dot = subdomain.length - domain.length - 1;\r\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\r\n}\r\n\r\nfunction isString(value) {\r\n  return typeof value === \"string\" || value instanceof String;\r\n}\r\n\r\nfunction isFunction(value) {\r\n  return typeof value === \"function\";\r\n}\r\n\r\nfunction isBuffer(value) {\r\n  return typeof value === \"object\" && (\"length\" in value);\r\n}\r\n\r\nfunction isURL(value) {\r\n  return URL$1 && value instanceof URL$1;\r\n}\r\n\r\n// Exports\r\nfollowRedirects$1.exports = wrap({ http: http$1, https: https$1 });\r\nfollowRedirects$1.exports.wrap = wrap;\r\n\r\nvar followRedirectsExports = followRedirects$1.exports;\r\n\r\nvar httpNative   = require$$1,\r\n    httpsNative  = require$$1$1,\r\n    web_o  = webOutgoing,\r\n    common$1 = common$3,\r\n    followRedirects = followRedirectsExports;\r\n\r\nweb_o = Object.keys(web_o).map(function(pass) {\r\n  return web_o[pass];\r\n});\r\n\r\nvar nativeAgents = { http: httpNative, https: httpsNative };\r\n\r\n/*!\r\n * Array of passes.\r\n *\r\n * A `pass` is just a function that is executed on `req, res, options`\r\n * so that you can easily add new checks while still keeping the base\r\n * flexible.\r\n */\r\n\r\n\r\nvar webIncoming = {\r\n\r\n  /**\r\n   * Sets `content-length` to '0' if request is of DELETE type.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {IncomingMessage} Res Response object\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  deleteLength: function deleteLength(req, res, options) {\r\n    if((req.method === 'DELETE' || req.method === 'OPTIONS')\r\n       && !req.headers['content-length']) {\r\n      req.headers['content-length'] = '0';\r\n      delete req.headers['transfer-encoding'];\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets timeout in request socket if it was specified in options.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {IncomingMessage} Res Response object\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  timeout: function timeout(req, res, options) {\r\n    if(options.timeout) {\r\n      req.socket.setTimeout(options.timeout);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets `x-forwarded-*` headers if specified in config.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {IncomingMessage} Res Response object\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  XHeaders: function XHeaders(req, res, options) {\r\n    if(!options.xfwd) return;\r\n\r\n    var encrypted = req.isSpdy || common$1.hasEncryptedConnection(req);\r\n    var values = {\r\n      for  : req.connection.remoteAddress || req.socket.remoteAddress,\r\n      port : common$1.getPort(req),\r\n      proto: encrypted ? 'https' : 'http'\r\n    };\r\n\r\n    ['for', 'port', 'proto'].forEach(function(header) {\r\n      req.headers['x-forwarded-' + header] =\r\n        (req.headers['x-forwarded-' + header] || '') +\r\n        (req.headers['x-forwarded-' + header] ? ',' : '') +\r\n        values[header];\r\n    });\r\n\r\n    req.headers['x-forwarded-host'] = req.headers['x-forwarded-host'] || req.headers['host'] || '';\r\n  },\r\n\r\n  /**\r\n   * Does the actual proxying. If `forward` is enabled fires up\r\n   * a ForwardStream, same happens for ProxyStream. The request\r\n   * just dies otherwise.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {IncomingMessage} Res Response object\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  stream: function stream(req, res, options, _, server, clb) {\r\n\r\n    // And we begin!\r\n    server.emit('start', req, res, options.target || options.forward);\r\n\r\n    var agents = options.followRedirects ? followRedirects : nativeAgents;\r\n    var http = agents.http;\r\n    var https = agents.https;\r\n\r\n    if(options.forward) {\r\n      // If forward enable, so just pipe the request\r\n      var forwardReq = (options.forward.protocol === 'https:' ? https : http).request(\r\n        common$1.setupOutgoing(options.ssl || {}, options, req, 'forward')\r\n      );\r\n\r\n      // error handler (e.g. ECONNRESET, ECONNREFUSED)\r\n      // Handle errors on incoming request as well as it makes sense to\r\n      var forwardError = createErrorHandler(forwardReq, options.forward);\r\n      req.on('error', forwardError);\r\n      forwardReq.on('error', forwardError);\r\n\r\n      (options.buffer || req).pipe(forwardReq);\r\n      if(!options.target) { return res.end(); }\r\n    }\r\n\r\n    // Request initalization\r\n    var proxyReq = (options.target.protocol === 'https:' ? https : http).request(\r\n      common$1.setupOutgoing(options.ssl || {}, options, req)\r\n    );\r\n\r\n    // Enable developers to modify the proxyReq before headers are sent\r\n    proxyReq.on('socket', function(socket) {\r\n      if(server && !proxyReq.getHeader('expect')) {\r\n        server.emit('proxyReq', proxyReq, req, res, options);\r\n      }\r\n    });\r\n\r\n    // allow outgoing socket to timeout so that we could\r\n    // show an error page at the initial request\r\n    if(options.proxyTimeout) {\r\n      proxyReq.setTimeout(options.proxyTimeout, function() {\r\n         proxyReq.abort();\r\n      });\r\n    }\r\n\r\n    // Ensure we abort proxy if request is aborted\r\n    req.on('aborted', function () {\r\n      proxyReq.abort();\r\n    });\r\n\r\n    // handle errors in proxy and incoming request, just like for forward proxy\r\n    var proxyError = createErrorHandler(proxyReq, options.target);\r\n    req.on('error', proxyError);\r\n    proxyReq.on('error', proxyError);\r\n\r\n    function createErrorHandler(proxyReq, url) {\r\n      return function proxyError(err) {\r\n        if (req.socket.destroyed && err.code === 'ECONNRESET') {\r\n          server.emit('econnreset', err, req, res, url);\r\n          return proxyReq.abort();\r\n        }\r\n\r\n        if (clb) {\r\n          clb(err, req, res, url);\r\n        } else {\r\n          server.emit('error', err, req, res, url);\r\n        }\r\n      }\r\n    }\r\n\r\n    (options.buffer || req).pipe(proxyReq);\r\n\r\n    proxyReq.on('response', function(proxyRes) {\r\n      if(server) { server.emit('proxyRes', proxyRes, req, res); }\r\n\r\n      if(!res.headersSent && !options.selfHandleResponse) {\r\n        for(var i=0; i < web_o.length; i++) {\r\n          if(web_o[i](req, res, proxyRes, options)) { break; }\r\n        }\r\n      }\r\n\r\n      if (!res.finished) {\r\n        // Allow us to listen when the proxy has completed\r\n        proxyRes.on('end', function () {\r\n          if (server) server.emit('end', req, res, proxyRes);\r\n        });\r\n        // We pipe to the response unless its expected to be handled by the user\r\n        if (!options.selfHandleResponse) proxyRes.pipe(res);\r\n      } else {\r\n        if (server) server.emit('end', req, res, proxyRes);\r\n      }\r\n    });\r\n  }\r\n\r\n};\r\n\r\nvar http   = require$$1,\r\n    https  = require$$1$1,\r\n    common = common$3;\r\n\r\n/*!\r\n * Array of passes.\r\n *\r\n * A `pass` is just a function that is executed on `req, socket, options`\r\n * so that you can easily add new checks while still keeping the base\r\n * flexible.\r\n */\r\n\r\n/*\r\n * Websockets Passes\r\n *\r\n */\r\n\r\n\r\nvar wsIncoming = {\r\n  /**\r\n   * WebSocket requests must have the `GET` method and\r\n   * the `upgrade:websocket` header\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {Socket} Websocket\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  checkMethodAndHeader : function checkMethodAndHeader(req, socket) {\r\n    if (req.method !== 'GET' || !req.headers.upgrade) {\r\n      socket.destroy();\r\n      return true;\r\n    }\r\n\r\n    if (req.headers.upgrade.toLowerCase() !== 'websocket') {\r\n      socket.destroy();\r\n      return true;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets `x-forwarded-*` headers if specified in config.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {Socket} Websocket\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n\r\n  XHeaders : function XHeaders(req, socket, options) {\r\n    if(!options.xfwd) return;\r\n\r\n    var values = {\r\n      for  : req.connection.remoteAddress || req.socket.remoteAddress,\r\n      port : common.getPort(req),\r\n      proto: common.hasEncryptedConnection(req) ? 'wss' : 'ws'\r\n    };\r\n\r\n    ['for', 'port', 'proto'].forEach(function(header) {\r\n      req.headers['x-forwarded-' + header] =\r\n        (req.headers['x-forwarded-' + header] || '') +\r\n        (req.headers['x-forwarded-' + header] ? ',' : '') +\r\n        values[header];\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Does the actual proxying. Make the request and upgrade it\r\n   * send the Switching Protocols request and pipe the sockets.\r\n   *\r\n   * @param {ClientRequest} Req Request object\r\n   * @param {Socket} Websocket\r\n   * @param {Object} Options Config object passed to the proxy\r\n   *\r\n   * @api private\r\n   */\r\n  stream : function stream(req, socket, options, head, server, clb) {\r\n\r\n    var createHttpHeader = function(line, headers) {\r\n      return Object.keys(headers).reduce(function (head, key) {\r\n        var value = headers[key];\r\n\r\n        if (!Array.isArray(value)) {\r\n          head.push(key + ': ' + value);\r\n          return head;\r\n        }\r\n\r\n        for (var i = 0; i < value.length; i++) {\r\n          head.push(key + ': ' + value[i]);\r\n        }\r\n        return head;\r\n      }, [line])\r\n      .join('\\r\\n') + '\\r\\n\\r\\n';\r\n    };\r\n\r\n    common.setupSocket(socket);\r\n\r\n    if (head && head.length) socket.unshift(head);\r\n\r\n\r\n    var proxyReq = (common.isSSL.test(options.target.protocol) ? https : http).request(\r\n      common.setupOutgoing(options.ssl || {}, options, req)\r\n    );\r\n\r\n    // Enable developers to modify the proxyReq before headers are sent\r\n    if (server) { server.emit('proxyReqWs', proxyReq, req, socket, options, head); }\r\n\r\n    // Error Handler\r\n    proxyReq.on('error', onOutgoingError);\r\n    proxyReq.on('response', function (res) {\r\n      // if upgrade event isn't going to happen, close the socket\r\n      if (!res.upgrade) {\r\n        socket.write(createHttpHeader('HTTP/' + res.httpVersion + ' ' + res.statusCode + ' ' + res.statusMessage, res.headers));\r\n        res.pipe(socket);\r\n      }\r\n    });\r\n\r\n    proxyReq.on('upgrade', function(proxyRes, proxySocket, proxyHead) {\r\n      proxySocket.on('error', onOutgoingError);\r\n\r\n      // Allow us to listen when the websocket has completed\r\n      proxySocket.on('end', function () {\r\n        server.emit('close', proxyRes, proxySocket, proxyHead);\r\n      });\r\n\r\n      // The pipe below will end proxySocket if socket closes cleanly, but not\r\n      // if it errors (eg, vanishes from the net and starts returning\r\n      // EHOSTUNREACH). We need to do that explicitly.\r\n      socket.on('error', function () {\r\n        proxySocket.end();\r\n      });\r\n\r\n      common.setupSocket(proxySocket);\r\n\r\n      if (proxyHead && proxyHead.length) proxySocket.unshift(proxyHead);\r\n\r\n      //\r\n      // Remark: Handle writing the headers to the socket when switching protocols\r\n      // Also handles when a header is an array\r\n      //\r\n      socket.write(createHttpHeader('HTTP/1.1 101 Switching Protocols', proxyRes.headers));\r\n\r\n      proxySocket.pipe(socket).pipe(proxySocket);\r\n\r\n      server.emit('open', proxySocket);\r\n      server.emit('proxySocket', proxySocket);  //DEPRECATED.\r\n    });\r\n\r\n    return proxyReq.end(); // XXX: CHECK IF THIS IS THIS CORRECT\r\n\r\n    function onOutgoingError(err) {\r\n      if (clb) {\r\n        clb(err, req, socket);\r\n      } else {\r\n        server.emit('error', err, req, socket);\r\n      }\r\n      socket.end();\r\n    }\r\n  }\r\n};\r\n\r\n(function (module) {\r\n\tvar httpProxy = module.exports,\r\n\t    parse_url = require$$0$9.parse,\r\n\t    EE3       = eventemitter3Exports,\r\n\t    http      = require$$1,\r\n\t    https     = require$$1$1,\r\n\t    web       = webIncoming,\r\n\t    ws        = wsIncoming;\r\n\r\n\thttpProxy.Server = ProxyServer;\r\n\r\n\t/**\r\n\t * Returns a function that creates the loader for\r\n\t * either `ws` or `web`'s  passes.\r\n\t *\r\n\t * Examples:\r\n\t *\r\n\t *    httpProxy.createRightProxy('ws')\r\n\t *    // => [Function]\r\n\t *\r\n\t * @param {String} Type Either 'ws' or 'web'\r\n\t * \r\n\t * @return {Function} Loader Function that when called returns an iterator for the right passes\r\n\t *\r\n\t * @api private\r\n\t */\r\n\r\n\tfunction createRightProxy(type) {\r\n\r\n\t  return function(options) {\r\n\t    return function(req, res /*, [head], [opts] */) {\r\n\t      var passes = (type === 'ws') ? this.wsPasses : this.webPasses,\r\n\t          args = [].slice.call(arguments),\r\n\t          cntr = args.length - 1,\r\n\t          head, cbl;\r\n\r\n\t      /* optional args parse begin */\r\n\t      if(typeof args[cntr] === 'function') {\r\n\t        cbl = args[cntr];\r\n\r\n\t        cntr--;\r\n\t      }\r\n\r\n\t      var requestOptions = options;\r\n\t      if(\r\n\t        !(args[cntr] instanceof Buffer) &&\r\n\t        args[cntr] !== res\r\n\t      ) {\r\n\t        //Copy global options\r\n\t        requestOptions = Object.assign({}, options);\r\n\t        //Overwrite with request options\r\n\t        Object.assign(requestOptions, args[cntr]);\r\n\r\n\t        cntr--;\r\n\t      }\r\n\r\n\t      if(args[cntr] instanceof Buffer) {\r\n\t        head = args[cntr];\r\n\t      }\r\n\r\n\t      /* optional args parse end */\r\n\r\n\t      ['target', 'forward'].forEach(function(e) {\r\n\t        if (typeof requestOptions[e] === 'string')\r\n\t          requestOptions[e] = parse_url(requestOptions[e]);\r\n\t      });\r\n\r\n\t      if (!requestOptions.target && !requestOptions.forward) {\r\n\t        return this.emit('error', new Error('Must provide a proper URL as target'));\r\n\t      }\r\n\r\n\t      for(var i=0; i < passes.length; i++) {\r\n\t        /**\r\n\t         * Call of passes functions\r\n\t         * pass(req, res, options, head)\r\n\t         *\r\n\t         * In WebSockets case the `res` variable\r\n\t         * refer to the connection socket\r\n\t         * pass(req, socket, options, head)\r\n\t         */\r\n\t        if(passes[i](req, res, requestOptions, head, this, cbl)) { // passes can return a truthy value to halt the loop\r\n\t          break;\r\n\t        }\r\n\t      }\r\n\t    };\r\n\t  };\r\n\t}\r\n\thttpProxy.createRightProxy = createRightProxy;\r\n\r\n\tfunction ProxyServer(options) {\r\n\t  EE3.call(this);\r\n\r\n\t  options = options || {};\r\n\t  options.prependPath = options.prependPath === false ? false : true;\r\n\r\n\t  this.web = this.proxyRequest           = createRightProxy('web')(options);\r\n\t  this.ws  = this.proxyWebsocketRequest  = createRightProxy('ws')(options);\r\n\t  this.options = options;\r\n\r\n\t  this.webPasses = Object.keys(web).map(function(pass) {\r\n\t    return web[pass];\r\n\t  });\r\n\r\n\t  this.wsPasses = Object.keys(ws).map(function(pass) {\r\n\t    return ws[pass];\r\n\t  });\r\n\r\n\t  this.on('error', this.onError, this);\r\n\r\n\t}\r\n\r\n\trequire$$0$5.inherits(ProxyServer, EE3);\r\n\r\n\tProxyServer.prototype.onError = function (err) {\r\n\t  //\r\n\t  // Remark: Replicate node core behavior using EE3\r\n\t  // so we force people to handle their own errors\r\n\t  //\r\n\t  if(this.listeners('error').length === 1) {\r\n\t    throw err;\r\n\t  }\r\n\t};\r\n\r\n\tProxyServer.prototype.listen = function(port, hostname) {\r\n\t  var self    = this,\r\n\t      closure = function(req, res) { self.web(req, res); };\r\n\r\n\t  this._server  = this.options.ssl ?\r\n\t    https.createServer(this.options.ssl, closure) :\r\n\t    http.createServer(closure);\r\n\r\n\t  if(this.options.ws) {\r\n\t    this._server.on('upgrade', function(req, socket, head) { self.ws(req, socket, head); });\r\n\t  }\r\n\r\n\t  this._server.listen(port, hostname);\r\n\r\n\t  return this;\r\n\t};\r\n\r\n\tProxyServer.prototype.close = function(callback) {\r\n\t  var self = this;\r\n\t  if (this._server) {\r\n\t    this._server.close(done);\r\n\t  }\r\n\r\n\t  // Wrap callback to nullify server after all open connections are closed.\r\n\t  function done() {\r\n\t    self._server = null;\r\n\t    if (callback) {\r\n\t      callback.apply(null, arguments);\r\n\t    }\r\n\t  }\t};\r\n\r\n\tProxyServer.prototype.before = function(type, passName, callback) {\r\n\t  if (type !== 'ws' && type !== 'web') {\r\n\t    throw new Error('type must be `web` or `ws`');\r\n\t  }\r\n\t  var passes = (type === 'ws') ? this.wsPasses : this.webPasses,\r\n\t      i = false;\r\n\r\n\t  passes.forEach(function(v, idx) {\r\n\t    if(v.name === passName) i = idx;\r\n\t  });\r\n\r\n\t  if(i === false) throw new Error('No such pass');\r\n\r\n\t  passes.splice(i, 0, callback);\r\n\t};\r\n\tProxyServer.prototype.after = function(type, passName, callback) {\r\n\t  if (type !== 'ws' && type !== 'web') {\r\n\t    throw new Error('type must be `web` or `ws`');\r\n\t  }\r\n\t  var passes = (type === 'ws') ? this.wsPasses : this.webPasses,\r\n\t      i = false;\r\n\r\n\t  passes.forEach(function(v, idx) {\r\n\t    if(v.name === passName) i = idx;\r\n\t  });\r\n\r\n\t  if(i === false) throw new Error('No such pass');\r\n\r\n\t  passes.splice(i++, 0, callback);\r\n\t}; \r\n} (httpProxy$3));\r\n\r\nvar httpProxyExports = httpProxy$3.exports;\r\n\r\n// Use explicit /index.js to help browserify negociation in require '/lib/http-proxy' (!)\r\nvar ProxyServer = httpProxyExports.Server;\r\n\r\n\r\n/**\r\n * Creates the proxy server.\r\n *\r\n * Examples:\r\n *\r\n *    httpProxy.createProxyServer({ .. }, 8000)\r\n *    // => '{ web: [Function], ws: [Function] ... }'\r\n *\r\n * @param {Object} Options Config object passed to the proxy\r\n *\r\n * @return {Object} Proxy Proxy object with handlers for `ws` and `web` requests\r\n *\r\n * @api public\r\n */\r\n\r\n\r\nfunction createProxyServer(options) {\r\n  /*\r\n   *  `options` is needed and it must have the following layout:\r\n   *\r\n   *  {\r\n   *    target : <url string to be parsed with the url module>\r\n   *    forward: <url string to be parsed with the url module>\r\n   *    agent  : <object to be passed to http(s).request>\r\n   *    ssl    : <object to be passed to https.createServer()>\r\n   *    ws     : <true/false, if you want to proxy websockets>\r\n   *    xfwd   : <true/false, adds x-forward headers>\r\n   *    secure : <true/false, verify SSL certificate>\r\n   *    toProxy: <true/false, explicitly specify if we are proxying to another proxy>\r\n   *    prependPath: <true/false, Default: true - specify whether you want to prepend the target's path to the proxy path>\r\n   *    ignorePath: <true/false, Default: false - specify whether you want to ignore the proxy path of the incoming request>\r\n   *    localAddress : <Local interface string to bind for outgoing connections>\r\n   *    changeOrigin: <true/false, Default: false - changes the origin of the host header to the target URL>\r\n   *    preserveHeaderKeyCase: <true/false, Default: false - specify whether you want to keep letter case of response header key >\r\n   *    auth   : Basic authentication i.e. 'user:password' to compute an Authorization header.\r\n   *    hostRewrite: rewrites the location hostname on (201/301/302/307/308) redirects, Default: null.\r\n   *    autoRewrite: rewrites the location host/port on (201/301/302/307/308) redirects based on requested host/port. Default: false.\r\n   *    protocolRewrite: rewrites the location protocol on (201/301/302/307/308) redirects to 'http' or 'https'. Default: null.\r\n   *  }\r\n   *\r\n   *  NOTE: `options.ws` and `options.ssl` are optional.\r\n   *    `options.target and `options.forward` cannot be\r\n   *    both missing\r\n   *  }\r\n   */\r\n\r\n  return new ProxyServer(options);\r\n}\r\n\r\n\r\nProxyServer.createProxyServer = createProxyServer;\r\nProxyServer.createServer      = createProxyServer;\r\nProxyServer.createProxy       = createProxyServer;\r\n\r\n\r\n\r\n\r\n/**\r\n * Export the proxy \"Server\" as the main export.\r\n */\r\nvar httpProxy$2 = ProxyServer;\r\n\r\n/*!\r\n * Caron dimonio, con occhi di bragia\r\n * loro accennando, tutte le raccoglie;\r\n * batte col remo qualunque s’adagia \r\n *\r\n * Charon the demon, with the eyes of glede,\r\n * Beckoning to them, collects them all together,\r\n * Beats with his oar whoever lags behind\r\n *          \r\n *          Dante - The Divine Comedy (Canto III)\r\n */\r\n\r\nvar httpProxy = httpProxy$2;\r\n\r\nvar httpProxy$1 = /*@__PURE__*/getDefaultExportFromCjs(httpProxy);\r\n\r\nconst debug$4 = createDebugger(\"vite:proxy\");\r\nconst rewriteOriginHeader = (proxyReq, options, config) => {\r\n  if (options.rewriteWsOrigin) {\r\n    const { target } = options;\r\n    if (proxyReq.headersSent) {\r\n      config.logger.warn(\r\n        colors$1.yellow(\r\n          `Unable to rewrite Origin header as headers are already sent.`\r\n        )\r\n      );\r\n      return;\r\n    }\r\n    if (proxyReq.getHeader(\"origin\") && target) {\r\n      const changedOrigin = typeof target === \"object\" ? `${target.protocol}//${target.host}` : target;\r\n      proxyReq.setHeader(\"origin\", changedOrigin);\r\n    }\r\n  }\r\n};\r\nfunction proxyMiddleware(httpServer, options, config) {\r\n  const proxies = {};\r\n  Object.keys(options).forEach((context) => {\r\n    let opts = options[context];\r\n    if (!opts) {\r\n      return;\r\n    }\r\n    if (typeof opts === \"string\") {\r\n      opts = { target: opts, changeOrigin: true };\r\n    }\r\n    const proxy = httpProxy$1.createProxyServer(opts);\r\n    if (opts.configure) {\r\n      opts.configure(proxy, opts);\r\n    }\r\n    proxy.on(\"error\", (err, req, originalRes) => {\r\n      const res = originalRes;\r\n      if (!res) {\r\n        config.logger.error(\r\n          `${colors$1.red(`http proxy error: ${err.message}`)}\r\n${err.stack}`,\r\n          {\r\n            timestamp: true,\r\n            error: err\r\n          }\r\n        );\r\n      } else if (\"req\" in res) {\r\n        config.logger.error(\r\n          `${colors$1.red(`http proxy error: ${originalRes.req.url}`)}\r\n${err.stack}`,\r\n          {\r\n            timestamp: true,\r\n            error: err\r\n          }\r\n        );\r\n        if (!res.headersSent && !res.writableEnded) {\r\n          res.writeHead(500, {\r\n            \"Content-Type\": \"text/plain\"\r\n          }).end();\r\n        }\r\n      } else {\r\n        config.logger.error(`${colors$1.red(`ws proxy error:`)}\r\n${err.stack}`, {\r\n          timestamp: true,\r\n          error: err\r\n        });\r\n        res.end();\r\n      }\r\n    });\r\n    proxy.on(\"proxyReqWs\", (proxyReq, req, socket, options2, head) => {\r\n      rewriteOriginHeader(proxyReq, options2, config);\r\n      socket.on(\"error\", (err) => {\r\n        config.logger.error(\r\n          `${colors$1.red(`ws proxy socket error:`)}\r\n${err.stack}`,\r\n          {\r\n            timestamp: true,\r\n            error: err\r\n          }\r\n        );\r\n      });\r\n    });\r\n    proxy.on(\"proxyRes\", (proxyRes, req, res) => {\r\n      res.on(\"close\", () => {\r\n        if (!res.writableEnded) {\r\n          debug$4?.(\"destroying proxyRes in proxyRes close event\");\r\n          proxyRes.destroy();\r\n        }\r\n      });\r\n    });\r\n    proxies[context] = [proxy, { ...opts }];\r\n  });\r\n  if (httpServer) {\r\n    httpServer.on(\"upgrade\", (req, socket, head) => {\r\n      const url = req.url;\r\n      for (const context in proxies) {\r\n        if (doesProxyContextMatchUrl(context, url)) {\r\n          const [proxy, opts] = proxies[context];\r\n          if (opts.ws || opts.target?.toString().startsWith(\"ws:\") || opts.target?.toString().startsWith(\"wss:\")) {\r\n            if (opts.rewrite) {\r\n              req.url = opts.rewrite(url);\r\n            }\r\n            debug$4?.(`${req.url} -> ws ${opts.target}`);\r\n            proxy.ws(req, socket, head);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return function viteProxyMiddleware(req, res, next) {\r\n    const url = req.url;\r\n    for (const context in proxies) {\r\n      if (doesProxyContextMatchUrl(context, url)) {\r\n        const [proxy, opts] = proxies[context];\r\n        const options2 = {};\r\n        if (opts.bypass) {\r\n          const bypassResult = opts.bypass(req, res, opts);\r\n          if (typeof bypassResult === \"string\") {\r\n            req.url = bypassResult;\r\n            debug$4?.(`bypass: ${req.url} -> ${bypassResult}`);\r\n            return next();\r\n          } else if (bypassResult === false) {\r\n            debug$4?.(`bypass: ${req.url} -> 404`);\r\n            res.statusCode = 404;\r\n            return res.end();\r\n          }\r\n        }\r\n        debug$4?.(`${req.url} -> ${opts.target || opts.forward}`);\r\n        if (opts.rewrite) {\r\n          req.url = opts.rewrite(req.url);\r\n        }\r\n        proxy.web(req, res, options2);\r\n        return;\r\n      }\r\n    }\r\n    next();\r\n  };\r\n}\r\nfunction doesProxyContextMatchUrl(context, url) {\r\n  return context[0] === \"^\" && new RegExp(context).test(url) || url.startsWith(context);\r\n}\r\n\r\nconst debug$3 = createDebugger(\"vite:html-fallback\");\r\nfunction htmlFallbackMiddleware(root, spaFallback, fsUtils = commonFsUtils) {\r\n  return function viteHtmlFallbackMiddleware(req, res, next) {\r\n    if (\r\n      // Only accept GET or HEAD\r\n      req.method !== \"GET\" && req.method !== \"HEAD\" || // Exclude default favicon requests\r\n      req.url === \"/favicon.ico\" || // Require Accept: text/html or */*\r\n      !(req.headers.accept === void 0 || // equivalent to `Accept: */*`\r\n      req.headers.accept === \"\" || // equivalent to `Accept: */*`\r\n      req.headers.accept.includes(\"text/html\") || req.headers.accept.includes(\"*/*\"))\r\n    ) {\r\n      return next();\r\n    }\r\n    const url = cleanUrl(req.url);\r\n    const pathname = decodeURIComponent(url);\r\n    if (pathname.endsWith(\".html\")) {\r\n      const filePath = path$n.join(root, pathname);\r\n      if (fsUtils.existsSync(filePath)) {\r\n        debug$3?.(`Rewriting ${req.method} ${req.url} to ${url}`);\r\n        req.url = url;\r\n        return next();\r\n      }\r\n    } else if (pathname[pathname.length - 1] === \"/\") {\r\n      const filePath = path$n.join(root, pathname, \"index.html\");\r\n      if (fsUtils.existsSync(filePath)) {\r\n        const newUrl = url + \"index.html\";\r\n        debug$3?.(`Rewriting ${req.method} ${req.url} to ${newUrl}`);\r\n        req.url = newUrl;\r\n        return next();\r\n      }\r\n    } else {\r\n      const filePath = path$n.join(root, pathname + \".html\");\r\n      if (fsUtils.existsSync(filePath)) {\r\n        const newUrl = url + \".html\";\r\n        debug$3?.(`Rewriting ${req.method} ${req.url} to ${newUrl}`);\r\n        req.url = newUrl;\r\n        return next();\r\n      }\r\n    }\r\n    if (spaFallback) {\r\n      debug$3?.(`Rewriting ${req.method} ${req.url} to /index.html`);\r\n      req.url = \"/index.html\";\r\n    }\r\n    next();\r\n  };\r\n}\r\n\r\nconst debug$2 = createDebugger(\"vite:send\", {\r\n  onlyWhenFocused: true\r\n});\r\nconst alias = {\r\n  js: \"text/javascript\",\r\n  css: \"text/css\",\r\n  html: \"text/html\",\r\n  json: \"application/json\"\r\n};\r\nfunction send(req, res, content, type, options) {\r\n  const {\r\n    etag = getEtag(content, { weak: true }),\r\n    cacheControl = \"no-cache\",\r\n    headers,\r\n    map\r\n  } = options;\r\n  if (res.writableEnded) {\r\n    return;\r\n  }\r\n  if (req.headers[\"if-none-match\"] === etag) {\r\n    res.statusCode = 304;\r\n    res.end();\r\n    return;\r\n  }\r\n  res.setHeader(\"Content-Type\", alias[type] || type);\r\n  res.setHeader(\"Cache-Control\", cacheControl);\r\n  res.setHeader(\"Etag\", etag);\r\n  if (headers) {\r\n    for (const name in headers) {\r\n      res.setHeader(name, headers[name]);\r\n    }\r\n  }\r\n  if (map && \"version\" in map && map.mappings) {\r\n    if (type === \"js\" || type === \"css\") {\r\n      content = getCodeWithSourcemap(type, content.toString(), map);\r\n    }\r\n  } else if (type === \"js\" && (!map || map.mappings !== \"\")) {\r\n    const code = content.toString();\r\n    if (convertSourceMap.mapFileCommentRegex.test(code)) {\r\n      debug$2?.(`Skipped injecting fallback sourcemap for ${req.url}`);\r\n    } else {\r\n      const urlWithoutTimestamp = removeTimestampQuery(req.url);\r\n      const ms = new MagicString(code);\r\n      content = getCodeWithSourcemap(\r\n        type,\r\n        code,\r\n        ms.generateMap({\r\n          source: path$n.basename(urlWithoutTimestamp),\r\n          hires: \"boundary\",\r\n          includeContent: true\r\n        })\r\n      );\r\n    }\r\n  }\r\n  res.statusCode = 200;\r\n  res.end(content);\r\n  return;\r\n}\r\n\r\nconst debugCache = createDebugger(\"vite:cache\");\r\nconst knownIgnoreList = /* @__PURE__ */ new Set([\"/\", \"/favicon.ico\"]);\r\nfunction cachedTransformMiddleware(server) {\r\n  return function viteCachedTransformMiddleware(req, res, next) {\r\n    const ifNoneMatch = req.headers[\"if-none-match\"];\r\n    if (ifNoneMatch) {\r\n      const moduleByEtag = server.moduleGraph.getModuleByEtag(ifNoneMatch);\r\n      if (moduleByEtag?.transformResult?.etag === ifNoneMatch && moduleByEtag?.url === req.url) {\r\n        const maybeMixedEtag = isCSSRequest(req.url);\r\n        if (!maybeMixedEtag) {\r\n          debugCache?.(`[304] ${prettifyUrl(req.url, server.config.root)}`);\r\n          res.statusCode = 304;\r\n          return res.end();\r\n        }\r\n      }\r\n    }\r\n    next();\r\n  };\r\n}\r\nfunction transformMiddleware(server) {\r\n  const { root, publicDir } = server.config;\r\n  const publicDirInRoot = publicDir.startsWith(withTrailingSlash(root));\r\n  const publicPath = `${publicDir.slice(root.length)}/`;\r\n  return async function viteTransformMiddleware(req, res, next) {\r\n    if (req.method !== \"GET\" || knownIgnoreList.has(req.url)) {\r\n      return next();\r\n    }\r\n    let url;\r\n    try {\r\n      url = decodeURI(removeTimestampQuery(req.url)).replace(\r\n        NULL_BYTE_PLACEHOLDER,\r\n        \"\\0\"\r\n      );\r\n    } catch (e) {\r\n      return next(e);\r\n    }\r\n    const withoutQuery = cleanUrl(url);\r\n    try {\r\n      const isSourceMap = withoutQuery.endsWith(\".map\");\r\n      if (isSourceMap) {\r\n        const depsOptimizer = getDepsOptimizer(server.config, false);\r\n        if (depsOptimizer?.isOptimizedDepUrl(url)) {\r\n          const sourcemapPath = url.startsWith(FS_PREFIX) ? fsPathFromId(url) : normalizePath$3(path$n.resolve(server.config.root, url.slice(1)));\r\n          try {\r\n            const map = JSON.parse(\r\n              await fsp.readFile(sourcemapPath, \"utf-8\")\r\n            );\r\n            applySourcemapIgnoreList(\r\n              map,\r\n              sourcemapPath,\r\n              server.config.server.sourcemapIgnoreList,\r\n              server.config.logger\r\n            );\r\n            return send(req, res, JSON.stringify(map), \"json\", {\r\n              headers: server.config.server.headers\r\n            });\r\n          } catch (e) {\r\n            const dummySourceMap = {\r\n              version: 3,\r\n              file: sourcemapPath.replace(/\\.map$/, \"\"),\r\n              sources: [],\r\n              sourcesContent: [],\r\n              names: [],\r\n              mappings: \";;;;;;;;;\"\r\n            };\r\n            return send(req, res, JSON.stringify(dummySourceMap), \"json\", {\r\n              cacheControl: \"no-cache\",\r\n              headers: server.config.server.headers\r\n            });\r\n          }\r\n        } else {\r\n          const originalUrl = url.replace(/\\.map($|\\?)/, \"$1\");\r\n          const map = (await server.moduleGraph.getModuleByUrl(originalUrl, false))?.transformResult?.map;\r\n          if (map) {\r\n            return send(req, res, JSON.stringify(map), \"json\", {\r\n              headers: server.config.server.headers\r\n            });\r\n          } else {\r\n            return next();\r\n          }\r\n        }\r\n      }\r\n      if (publicDirInRoot && url.startsWith(publicPath)) {\r\n        warnAboutExplicitPublicPathInUrl(url);\r\n      }\r\n      if ((rawRE.test(url) || urlRE.test(url)) && !ensureServingAccess(url, server, res, next)) {\r\n        return;\r\n      }\r\n      if (isJSRequest(url) || isImportRequest(url) || isCSSRequest(url) || isHTMLProxy(url)) {\r\n        url = removeImportQuery(url);\r\n        url = unwrapId$1(url);\r\n        if (isCSSRequest(url)) {\r\n          if (req.headers.accept?.includes(\"text/css\") && !isDirectRequest(url)) {\r\n            url = injectQuery(url, \"direct\");\r\n          }\r\n          const ifNoneMatch = req.headers[\"if-none-match\"];\r\n          if (ifNoneMatch && (await server.moduleGraph.getModuleByUrl(url, false))?.transformResult?.etag === ifNoneMatch) {\r\n            debugCache?.(`[304] ${prettifyUrl(url, server.config.root)}`);\r\n            res.statusCode = 304;\r\n            return res.end();\r\n          }\r\n        }\r\n        const result = await transformRequest(url, server, {\r\n          html: req.headers.accept?.includes(\"text/html\")\r\n        });\r\n        if (result) {\r\n          const depsOptimizer = getDepsOptimizer(server.config, false);\r\n          const type = isDirectCSSRequest(url) ? \"css\" : \"js\";\r\n          const isDep = DEP_VERSION_RE.test(url) || depsOptimizer?.isOptimizedDepUrl(url);\r\n          return send(req, res, result.code, type, {\r\n            etag: result.etag,\r\n            // allow browser to cache npm deps!\r\n            cacheControl: isDep ? \"max-age=31536000,immutable\" : \"no-cache\",\r\n            headers: server.config.server.headers,\r\n            map: result.map\r\n          });\r\n        }\r\n      }\r\n    } catch (e) {\r\n      if (e?.code === ERR_OPTIMIZE_DEPS_PROCESSING_ERROR) {\r\n        if (!res.writableEnded) {\r\n          res.statusCode = 504;\r\n          res.statusMessage = \"Optimize Deps Processing Error\";\r\n          res.end();\r\n        }\r\n        server.config.logger.error(e.message);\r\n        return;\r\n      }\r\n      if (e?.code === ERR_OUTDATED_OPTIMIZED_DEP) {\r\n        if (!res.writableEnded) {\r\n          res.statusCode = 504;\r\n          res.statusMessage = \"Outdated Optimize Dep\";\r\n          res.end();\r\n        }\r\n        return;\r\n      }\r\n      if (e?.code === ERR_CLOSED_SERVER) {\r\n        if (!res.writableEnded) {\r\n          res.statusCode = 504;\r\n          res.statusMessage = \"Outdated Request\";\r\n          res.end();\r\n        }\r\n        return;\r\n      }\r\n      if (e?.code === ERR_FILE_NOT_FOUND_IN_OPTIMIZED_DEP_DIR) {\r\n        if (!res.writableEnded) {\r\n          res.statusCode = 404;\r\n          res.end();\r\n        }\r\n        server.config.logger.warn(colors$1.yellow(e.message));\r\n        return;\r\n      }\r\n      if (e?.code === ERR_LOAD_URL) {\r\n        return next();\r\n      }\r\n      return next(e);\r\n    }\r\n    next();\r\n  };\r\n  function warnAboutExplicitPublicPathInUrl(url) {\r\n    let warning;\r\n    if (isImportRequest(url)) {\r\n      const rawUrl = removeImportQuery(url);\r\n      if (urlRE.test(url)) {\r\n        warning = `Assets in the public directory are served at the root path.\r\nInstead of ${colors$1.cyan(rawUrl)}, use ${colors$1.cyan(\r\n          rawUrl.replace(publicPath, \"/\")\r\n        )}.`;\r\n      } else {\r\n        warning = `Assets in public directory cannot be imported from JavaScript.\r\nIf you intend to import that asset, put the file in the src directory, and use ${colors$1.cyan(\r\n          rawUrl.replace(publicPath, \"/src/\")\r\n        )} instead of ${colors$1.cyan(rawUrl)}.\r\nIf you intend to use the URL of that asset, use ${colors$1.cyan(\r\n          injectQuery(rawUrl.replace(publicPath, \"/\"), \"url\")\r\n        )}.`;\r\n      }\r\n    } else {\r\n      warning = `Files in the public directory are served at the root path.\r\nInstead of ${colors$1.cyan(url)}, use ${colors$1.cyan(\r\n        url.replace(publicPath, \"/\")\r\n      )}.`;\r\n    }\r\n    server.config.logger.warn(colors$1.yellow(warning));\r\n  }\r\n}\r\n\r\nfunction createDevHtmlTransformFn(config) {\r\n  const [preHooks, normalHooks, postHooks] = resolveHtmlTransforms(\r\n    config.plugins,\r\n    config.logger\r\n  );\r\n  const transformHooks = [\r\n    preImportMapHook(config),\r\n    injectCspNonceMetaTagHook(config),\r\n    ...preHooks,\r\n    htmlEnvHook(config),\r\n    devHtmlHook,\r\n    ...normalHooks,\r\n    ...postHooks,\r\n    injectNonceAttributeTagHook(config),\r\n    postImportMapHook()\r\n  ];\r\n  return (server, url, html, originalUrl) => {\r\n    return applyHtmlTransforms(html, transformHooks, {\r\n      path: url,\r\n      filename: getHtmlFilename(url, server),\r\n      server,\r\n      originalUrl\r\n    });\r\n  };\r\n}\r\nfunction getHtmlFilename(url, server) {\r\n  if (url.startsWith(FS_PREFIX)) {\r\n    return decodeURIComponent(fsPathFromId(url));\r\n  } else {\r\n    return decodeURIComponent(\r\n      normalizePath$3(path$n.join(server.config.root, url.slice(1)))\r\n    );\r\n  }\r\n}\r\nfunction shouldPreTransform(url, config) {\r\n  return !checkPublicFile(url, config) && (isJSRequest(url) || isCSSRequest(url));\r\n}\r\nconst wordCharRE = /\\w/;\r\nfunction isBareRelative(url) {\r\n  return wordCharRE.test(url[0]) && !url.includes(\":\");\r\n}\r\nconst isSrcSet = (attr) => attr.name === \"srcset\" && attr.prefix === void 0;\r\nconst processNodeUrl = (url, useSrcSetReplacer, config, htmlPath, originalUrl, server, isClassicScriptLink) => {\r\n  const replacer = (url2) => {\r\n    if (server?.moduleGraph) {\r\n      const mod = server.moduleGraph.urlToModuleMap.get(url2);\r\n      if (mod && mod.lastHMRTimestamp > 0) {\r\n        url2 = injectQuery(url2, `t=${mod.lastHMRTimestamp}`);\r\n      }\r\n    }\r\n    if (url2[0] === \"/\" && url2[1] !== \"/\" || // #3230 if some request url (localhost:3000/a/b) return to fallback html, the relative assets\r\n    // path will add `/a/` prefix, it will caused 404.\r\n    //\r\n    // skip if url contains `:` as it implies a url protocol or Windows path that we don't want to replace.\r\n    //\r\n    // rewrite `./index.js` -> `localhost:5173/a/index.js`.\r\n    // rewrite `../index.js` -> `localhost:5173/index.js`.\r\n    // rewrite `relative/index.js` -> `localhost:5173/a/relative/index.js`.\r\n    (url2[0] === \".\" || isBareRelative(url2)) && originalUrl && originalUrl !== \"/\" && htmlPath === \"/index.html\") {\r\n      url2 = path$n.posix.join(config.base, url2);\r\n    }\r\n    if (server && !isClassicScriptLink && shouldPreTransform(url2, config)) {\r\n      let preTransformUrl;\r\n      if (url2[0] === \"/\" && url2[1] !== \"/\") {\r\n        preTransformUrl = url2;\r\n      } else if (url2[0] === \".\" || isBareRelative(url2)) {\r\n        preTransformUrl = path$n.posix.join(\r\n          config.base,\r\n          path$n.posix.dirname(htmlPath),\r\n          url2\r\n        );\r\n      }\r\n      if (preTransformUrl) {\r\n        try {\r\n          preTransformUrl = decodeURI(preTransformUrl);\r\n        } catch (err) {\r\n          return url2;\r\n        }\r\n        preTransformRequest(server, preTransformUrl, config.decodedBase);\r\n      }\r\n    }\r\n    return url2;\r\n  };\r\n  const processedUrl = useSrcSetReplacer ? processSrcSetSync(url, ({ url: url2 }) => replacer(url2)) : replacer(url);\r\n  return processedUrl;\r\n};\r\nconst devHtmlHook = async (html, { path: htmlPath, filename, server, originalUrl }) => {\r\n  const { config, moduleGraph, watcher } = server;\r\n  const base = config.base || \"/\";\r\n  const decodedBase = config.decodedBase || \"/\";\r\n  let proxyModulePath;\r\n  let proxyModuleUrl;\r\n  const trailingSlash = htmlPath.endsWith(\"/\");\r\n  if (!trailingSlash && getFsUtils(config).existsSync(filename)) {\r\n    proxyModulePath = htmlPath;\r\n    proxyModuleUrl = proxyModulePath;\r\n  } else {\r\n    const validPath = `${htmlPath}${trailingSlash ? \"index.html\" : \"\"}`;\r\n    proxyModulePath = `\\0${validPath}`;\r\n    proxyModuleUrl = wrapId$1(proxyModulePath);\r\n  }\r\n  proxyModuleUrl = joinUrlSegments(decodedBase, proxyModuleUrl);\r\n  const s = new MagicString(html);\r\n  let inlineModuleIndex = -1;\r\n  const proxyCacheUrl = decodeURI(\r\n    cleanUrl(proxyModulePath).replace(normalizePath$3(config.root), \"\")\r\n  );\r\n  const styleUrl = [];\r\n  const inlineStyles = [];\r\n  const addInlineModule = (node, ext) => {\r\n    inlineModuleIndex++;\r\n    const contentNode = node.childNodes[0];\r\n    const code = contentNode.value;\r\n    let map;\r\n    if (proxyModulePath[0] !== \"\\0\") {\r\n      map = new MagicString(html).snip(\r\n        contentNode.sourceCodeLocation.startOffset,\r\n        contentNode.sourceCodeLocation.endOffset\r\n      ).generateMap({ hires: \"boundary\" });\r\n      map.sources = [filename];\r\n      map.file = filename;\r\n    }\r\n    addToHTMLProxyCache(config, proxyCacheUrl, inlineModuleIndex, { code, map });\r\n    const modulePath = `${proxyModuleUrl}?html-proxy&index=${inlineModuleIndex}.${ext}`;\r\n    const module = server?.moduleGraph.getModuleById(modulePath);\r\n    if (module) {\r\n      server?.moduleGraph.invalidateModule(module);\r\n    }\r\n    s.update(\r\n      node.sourceCodeLocation.startOffset,\r\n      node.sourceCodeLocation.endOffset,\r\n      `<script type=\"module\" src=\"${modulePath}\"><\\/script>`\r\n    );\r\n    preTransformRequest(server, modulePath, decodedBase);\r\n  };\r\n  await traverseHtml(html, filename, (node) => {\r\n    if (!nodeIsElement(node)) {\r\n      return;\r\n    }\r\n    if (node.nodeName === \"script\") {\r\n      const { src, sourceCodeLocation, isModule } = getScriptInfo(node);\r\n      if (src) {\r\n        const processedUrl = processNodeUrl(\r\n          src.value,\r\n          isSrcSet(src),\r\n          config,\r\n          htmlPath,\r\n          originalUrl,\r\n          server,\r\n          !isModule\r\n        );\r\n        if (processedUrl !== src.value) {\r\n          overwriteAttrValue(s, sourceCodeLocation, processedUrl);\r\n        }\r\n      } else if (isModule && node.childNodes.length) {\r\n        addInlineModule(node, \"js\");\r\n      } else if (node.childNodes.length) {\r\n        const scriptNode = node.childNodes[node.childNodes.length - 1];\r\n        for (const {\r\n          url,\r\n          start,\r\n          end\r\n        } of extractImportExpressionFromClassicScript(scriptNode)) {\r\n          const processedUrl = processNodeUrl(\r\n            url,\r\n            false,\r\n            config,\r\n            htmlPath,\r\n            originalUrl\r\n          );\r\n          if (processedUrl !== url) {\r\n            s.update(start, end, processedUrl);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    const inlineStyle = findNeedTransformStyleAttribute(node);\r\n    if (inlineStyle) {\r\n      inlineModuleIndex++;\r\n      inlineStyles.push({\r\n        index: inlineModuleIndex,\r\n        location: inlineStyle.location,\r\n        code: inlineStyle.attr.value\r\n      });\r\n    }\r\n    if (node.nodeName === \"style\" && node.childNodes.length) {\r\n      const children = node.childNodes[0];\r\n      styleUrl.push({\r\n        start: children.sourceCodeLocation.startOffset,\r\n        end: children.sourceCodeLocation.endOffset,\r\n        code: children.value\r\n      });\r\n    }\r\n    const assetAttrs = assetAttrsConfig[node.nodeName];\r\n    if (assetAttrs) {\r\n      for (const p of node.attrs) {\r\n        const attrKey = getAttrKey(p);\r\n        if (p.value && assetAttrs.includes(attrKey)) {\r\n          const processedUrl = processNodeUrl(\r\n            p.value,\r\n            isSrcSet(p),\r\n            config,\r\n            htmlPath,\r\n            originalUrl\r\n          );\r\n          if (processedUrl !== p.value) {\r\n            overwriteAttrValue(\r\n              s,\r\n              node.sourceCodeLocation.attrs[attrKey],\r\n              processedUrl\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n  await Promise.all([\r\n    ...styleUrl.map(async ({ start, end, code }, index) => {\r\n      const url = `${proxyModulePath}?html-proxy&direct&index=${index}.css`;\r\n      const mod = await moduleGraph.ensureEntryFromUrl(url, false);\r\n      ensureWatchedFile(watcher, mod.file, config.root);\r\n      const result = await server.pluginContainer.transform(code, mod.id);\r\n      let content = \"\";\r\n      if (result) {\r\n        if (result.map && \"version\" in result.map) {\r\n          if (result.map.mappings) {\r\n            await injectSourcesContent(\r\n              result.map,\r\n              proxyModulePath,\r\n              config.logger\r\n            );\r\n          }\r\n          content = getCodeWithSourcemap(\"css\", result.code, result.map);\r\n        } else {\r\n          content = result.code;\r\n        }\r\n      }\r\n      s.overwrite(start, end, content);\r\n    }),\r\n    ...inlineStyles.map(async ({ index, location, code }) => {\r\n      const url = `${proxyModulePath}?html-proxy&inline-css&style-attr&index=${index}.css`;\r\n      const mod = await moduleGraph.ensureEntryFromUrl(url, false);\r\n      ensureWatchedFile(watcher, mod.file, config.root);\r\n      await server?.pluginContainer.transform(code, mod.id);\r\n      const hash = getHash(cleanUrl(mod.id));\r\n      const result = htmlProxyResult.get(`${hash}_${index}`);\r\n      overwriteAttrValue(s, location, result ?? \"\");\r\n    })\r\n  ]);\r\n  html = s.toString();\r\n  return {\r\n    html,\r\n    tags: [\r\n      {\r\n        tag: \"script\",\r\n        attrs: {\r\n          type: \"module\",\r\n          src: path$n.posix.join(base, CLIENT_PUBLIC_PATH)\r\n        },\r\n        injectTo: \"head-prepend\"\r\n      }\r\n    ]\r\n  };\r\n};\r\nfunction indexHtmlMiddleware(root, server) {\r\n  const isDev = isDevServer(server);\r\n  const fsUtils = getFsUtils(server.config);\r\n  return async function viteIndexHtmlMiddleware(req, res, next) {\r\n    if (res.writableEnded) {\r\n      return next();\r\n    }\r\n    const url = req.url && cleanUrl(req.url);\r\n    if (url?.endsWith(\".html\") && req.headers[\"sec-fetch-dest\"] !== \"script\") {\r\n      let filePath;\r\n      if (isDev && url.startsWith(FS_PREFIX)) {\r\n        filePath = decodeURIComponent(fsPathFromId(url));\r\n      } else {\r\n        filePath = path$n.join(root, decodeURIComponent(url));\r\n      }\r\n      if (fsUtils.existsSync(filePath)) {\r\n        const headers = isDev ? server.config.server.headers : server.config.preview.headers;\r\n        try {\r\n          let html = await fsp.readFile(filePath, \"utf-8\");\r\n          if (isDev) {\r\n            html = await server.transformIndexHtml(url, html, req.originalUrl);\r\n          }\r\n          return send(req, res, html, \"html\", { headers });\r\n        } catch (e) {\r\n          return next(e);\r\n        }\r\n      }\r\n    }\r\n    next();\r\n  };\r\n}\r\nfunction preTransformRequest(server, decodedUrl, decodedBase) {\r\n  if (!server.config.server.preTransformRequests) return;\r\n  decodedUrl = unwrapId$1(stripBase(decodedUrl, decodedBase));\r\n  server.warmupRequest(decodedUrl);\r\n}\r\n\r\nconst logTime = createDebugger(\"vite:time\");\r\nfunction timeMiddleware(root) {\r\n  return function viteTimeMiddleware(req, res, next) {\r\n    const start = performance$1.now();\r\n    const end = res.end;\r\n    res.end = (...args) => {\r\n      logTime?.(`${timeFrom(start)} ${prettifyUrl(req.url, root)}`);\r\n      return end.call(res, ...args);\r\n    };\r\n    next();\r\n  };\r\n}\r\n\r\nclass ModuleNode {\r\n  /**\r\n   * Public served url path, starts with /\r\n   */\r\n  url;\r\n  /**\r\n   * Resolved file system path + query\r\n   */\r\n  id = null;\r\n  file = null;\r\n  type;\r\n  info;\r\n  meta;\r\n  importers = /* @__PURE__ */ new Set();\r\n  clientImportedModules = /* @__PURE__ */ new Set();\r\n  ssrImportedModules = /* @__PURE__ */ new Set();\r\n  acceptedHmrDeps = /* @__PURE__ */ new Set();\r\n  acceptedHmrExports = null;\r\n  importedBindings = null;\r\n  isSelfAccepting;\r\n  transformResult = null;\r\n  ssrTransformResult = null;\r\n  ssrModule = null;\r\n  ssrError = null;\r\n  lastHMRTimestamp = 0;\r\n  /**\r\n   * `import.meta.hot.invalidate` is called by the client.\r\n   * If there's multiple clients, multiple `invalidate` request is received.\r\n   * This property is used to dedupe those request to avoid multiple updates happening.\r\n   * @internal\r\n   */\r\n  lastHMRInvalidationReceived = false;\r\n  lastInvalidationTimestamp = 0;\r\n  /**\r\n   * If the module only needs to update its imports timestamp (e.g. within an HMR chain),\r\n   * it is considered soft-invalidated. In this state, its `transformResult` should exist,\r\n   * and the next `transformRequest` for this module will replace the timestamps.\r\n   *\r\n   * By default the value is `undefined` if it's not soft/hard-invalidated. If it gets\r\n   * soft-invalidated, this will contain the previous `transformResult` value. If it gets\r\n   * hard-invalidated, this will be set to `'HARD_INVALIDATED'`.\r\n   * @internal\r\n   */\r\n  invalidationState;\r\n  /**\r\n   * @internal\r\n   */\r\n  ssrInvalidationState;\r\n  /**\r\n   * The module urls that are statically imported in the code. This information is separated\r\n   * out from `importedModules` as only importers that statically import the module can be\r\n   * soft invalidated. Other imports (e.g. watched files) needs the importer to be hard invalidated.\r\n   * @internal\r\n   */\r\n  staticImportedUrls;\r\n  /**\r\n   * @param setIsSelfAccepting - set `false` to set `isSelfAccepting` later. e.g. #7870\r\n   */\r\n  constructor(url, setIsSelfAccepting = true) {\r\n    this.url = url;\r\n    this.type = isDirectCSSRequest(url) ? \"css\" : \"js\";\r\n    if (setIsSelfAccepting) {\r\n      this.isSelfAccepting = false;\r\n    }\r\n  }\r\n  get importedModules() {\r\n    const importedModules = new Set(this.clientImportedModules);\r\n    for (const module of this.ssrImportedModules) {\r\n      importedModules.add(module);\r\n    }\r\n    return importedModules;\r\n  }\r\n}\r\nclass ModuleGraph {\r\n  constructor(resolveId) {\r\n    this.resolveId = resolveId;\r\n  }\r\n  urlToModuleMap = /* @__PURE__ */ new Map();\r\n  idToModuleMap = /* @__PURE__ */ new Map();\r\n  etagToModuleMap = /* @__PURE__ */ new Map();\r\n  // a single file may corresponds to multiple modules with different queries\r\n  fileToModulesMap = /* @__PURE__ */ new Map();\r\n  safeModulesPath = /* @__PURE__ */ new Set();\r\n  /**\r\n   * @internal\r\n   */\r\n  _unresolvedUrlToModuleMap = /* @__PURE__ */ new Map();\r\n  /**\r\n   * @internal\r\n   */\r\n  _ssrUnresolvedUrlToModuleMap = /* @__PURE__ */ new Map();\r\n  /** @internal */\r\n  _hasResolveFailedErrorModules = /* @__PURE__ */ new Set();\r\n  async getModuleByUrl(rawUrl, ssr) {\r\n    rawUrl = removeImportQuery(removeTimestampQuery(rawUrl));\r\n    const mod = this._getUnresolvedUrlToModule(rawUrl, ssr);\r\n    if (mod) {\r\n      return mod;\r\n    }\r\n    const [url] = await this._resolveUrl(rawUrl, ssr);\r\n    return this.urlToModuleMap.get(url);\r\n  }\r\n  getModuleById(id) {\r\n    return this.idToModuleMap.get(removeTimestampQuery(id));\r\n  }\r\n  getModulesByFile(file) {\r\n    return this.fileToModulesMap.get(file);\r\n  }\r\n  onFileChange(file) {\r\n    const mods = this.getModulesByFile(file);\r\n    if (mods) {\r\n      const seen = /* @__PURE__ */ new Set();\r\n      mods.forEach((mod) => {\r\n        this.invalidateModule(mod, seen);\r\n      });\r\n    }\r\n  }\r\n  onFileDelete(file) {\r\n    const mods = this.getModulesByFile(file);\r\n    if (mods) {\r\n      mods.forEach((mod) => {\r\n        mod.importedModules.forEach((importedMod) => {\r\n          importedMod.importers.delete(mod);\r\n        });\r\n      });\r\n    }\r\n  }\r\n  invalidateModule(mod, seen = /* @__PURE__ */ new Set(), timestamp = Date.now(), isHmr = false, softInvalidate = false) {\r\n    const prevInvalidationState = mod.invalidationState;\r\n    const prevSsrInvalidationState = mod.ssrInvalidationState;\r\n    if (softInvalidate) {\r\n      mod.invalidationState ??= mod.transformResult ?? \"HARD_INVALIDATED\";\r\n      mod.ssrInvalidationState ??= mod.ssrTransformResult ?? \"HARD_INVALIDATED\";\r\n    } else {\r\n      mod.invalidationState = \"HARD_INVALIDATED\";\r\n      mod.ssrInvalidationState = \"HARD_INVALIDATED\";\r\n    }\r\n    if (seen.has(mod) && prevInvalidationState === mod.invalidationState && prevSsrInvalidationState === mod.ssrInvalidationState) {\r\n      return;\r\n    }\r\n    seen.add(mod);\r\n    if (isHmr) {\r\n      mod.lastHMRTimestamp = timestamp;\r\n      mod.lastHMRInvalidationReceived = false;\r\n    } else {\r\n      mod.lastInvalidationTimestamp = timestamp;\r\n    }\r\n    const etag = mod.transformResult?.etag;\r\n    if (etag) this.etagToModuleMap.delete(etag);\r\n    mod.transformResult = null;\r\n    mod.ssrTransformResult = null;\r\n    mod.ssrModule = null;\r\n    mod.ssrError = null;\r\n    mod.importers.forEach((importer) => {\r\n      if (!importer.acceptedHmrDeps.has(mod)) {\r\n        const shouldSoftInvalidateImporter = (importer.staticImportedUrls?.has(mod.url) || softInvalidate) && importer.type !== \"css\";\r\n        this.invalidateModule(\r\n          importer,\r\n          seen,\r\n          timestamp,\r\n          isHmr,\r\n          shouldSoftInvalidateImporter\r\n        );\r\n      }\r\n    });\r\n    this._hasResolveFailedErrorModules.delete(mod);\r\n  }\r\n  invalidateAll() {\r\n    const timestamp = Date.now();\r\n    const seen = /* @__PURE__ */ new Set();\r\n    this.idToModuleMap.forEach((mod) => {\r\n      this.invalidateModule(mod, seen, timestamp);\r\n    });\r\n  }\r\n  /**\r\n   * Update the module graph based on a module's updated imports information\r\n   * If there are dependencies that no longer have any importers, they are\r\n   * returned as a Set.\r\n   *\r\n   * @param staticImportedUrls Subset of `importedModules` where they're statically imported in code.\r\n   *   This is only used for soft invalidations so `undefined` is fine but may cause more runtime processing.\r\n   */\r\n  async updateModuleInfo(mod, importedModules, importedBindings, acceptedModules, acceptedExports, isSelfAccepting, ssr, staticImportedUrls) {\r\n    mod.isSelfAccepting = isSelfAccepting;\r\n    const prevImports = ssr ? mod.ssrImportedModules : mod.clientImportedModules;\r\n    let noLongerImported;\r\n    let resolvePromises = [];\r\n    let resolveResults = new Array(importedModules.size);\r\n    let index = 0;\r\n    for (const imported of importedModules) {\r\n      const nextIndex = index++;\r\n      if (typeof imported === \"string\") {\r\n        resolvePromises.push(\r\n          this.ensureEntryFromUrl(imported, ssr).then((dep) => {\r\n            dep.importers.add(mod);\r\n            resolveResults[nextIndex] = dep;\r\n          })\r\n        );\r\n      } else {\r\n        imported.importers.add(mod);\r\n        resolveResults[nextIndex] = imported;\r\n      }\r\n    }\r\n    if (resolvePromises.length) {\r\n      await Promise.all(resolvePromises);\r\n    }\r\n    const nextImports = new Set(resolveResults);\r\n    if (ssr) {\r\n      mod.ssrImportedModules = nextImports;\r\n    } else {\r\n      mod.clientImportedModules = nextImports;\r\n    }\r\n    prevImports.forEach((dep) => {\r\n      if (!mod.clientImportedModules.has(dep) && !mod.ssrImportedModules.has(dep)) {\r\n        dep.importers.delete(mod);\r\n        if (!dep.importers.size) {\r\n          (noLongerImported || (noLongerImported = /* @__PURE__ */ new Set())).add(dep);\r\n        }\r\n      }\r\n    });\r\n    resolvePromises = [];\r\n    resolveResults = new Array(acceptedModules.size);\r\n    index = 0;\r\n    for (const accepted of acceptedModules) {\r\n      const nextIndex = index++;\r\n      if (typeof accepted === \"string\") {\r\n        resolvePromises.push(\r\n          this.ensureEntryFromUrl(accepted, ssr).then((dep) => {\r\n            resolveResults[nextIndex] = dep;\r\n          })\r\n        );\r\n      } else {\r\n        resolveResults[nextIndex] = accepted;\r\n      }\r\n    }\r\n    if (resolvePromises.length) {\r\n      await Promise.all(resolvePromises);\r\n    }\r\n    mod.acceptedHmrDeps = new Set(resolveResults);\r\n    mod.staticImportedUrls = staticImportedUrls;\r\n    mod.acceptedHmrExports = acceptedExports;\r\n    mod.importedBindings = importedBindings;\r\n    return noLongerImported;\r\n  }\r\n  async ensureEntryFromUrl(rawUrl, ssr, setIsSelfAccepting = true) {\r\n    return this._ensureEntryFromUrl(rawUrl, ssr, setIsSelfAccepting);\r\n  }\r\n  /**\r\n   * @internal\r\n   */\r\n  async _ensureEntryFromUrl(rawUrl, ssr, setIsSelfAccepting = true, resolved) {\r\n    rawUrl = removeImportQuery(removeTimestampQuery(rawUrl));\r\n    let mod = this._getUnresolvedUrlToModule(rawUrl, ssr);\r\n    if (mod) {\r\n      return mod;\r\n    }\r\n    const modPromise = (async () => {\r\n      const [url, resolvedId, meta] = await this._resolveUrl(\r\n        rawUrl,\r\n        ssr,\r\n        resolved\r\n      );\r\n      mod = this.idToModuleMap.get(resolvedId);\r\n      if (!mod) {\r\n        mod = new ModuleNode(url, setIsSelfAccepting);\r\n        if (meta) mod.meta = meta;\r\n        this.urlToModuleMap.set(url, mod);\r\n        mod.id = resolvedId;\r\n        this.idToModuleMap.set(resolvedId, mod);\r\n        const file = mod.file = cleanUrl(resolvedId);\r\n        let fileMappedModules = this.fileToModulesMap.get(file);\r\n        if (!fileMappedModules) {\r\n          fileMappedModules = /* @__PURE__ */ new Set();\r\n          this.fileToModulesMap.set(file, fileMappedModules);\r\n        }\r\n        fileMappedModules.add(mod);\r\n      } else if (!this.urlToModuleMap.has(url)) {\r\n        this.urlToModuleMap.set(url, mod);\r\n      }\r\n      this._setUnresolvedUrlToModule(rawUrl, mod, ssr);\r\n      return mod;\r\n    })();\r\n    this._setUnresolvedUrlToModule(rawUrl, modPromise, ssr);\r\n    return modPromise;\r\n  }\r\n  // some deps, like a css file referenced via @import, don't have its own\r\n  // url because they are inlined into the main css import. But they still\r\n  // need to be represented in the module graph so that they can trigger\r\n  // hmr in the importing css file.\r\n  createFileOnlyEntry(file) {\r\n    file = normalizePath$3(file);\r\n    let fileMappedModules = this.fileToModulesMap.get(file);\r\n    if (!fileMappedModules) {\r\n      fileMappedModules = /* @__PURE__ */ new Set();\r\n      this.fileToModulesMap.set(file, fileMappedModules);\r\n    }\r\n    const url = `${FS_PREFIX}${file}`;\r\n    for (const m of fileMappedModules) {\r\n      if (m.url === url || m.id === file) {\r\n        return m;\r\n      }\r\n    }\r\n    const mod = new ModuleNode(url);\r\n    mod.file = file;\r\n    fileMappedModules.add(mod);\r\n    return mod;\r\n  }\r\n  // for incoming urls, it is important to:\r\n  // 1. remove the HMR timestamp query (?t=xxxx) and the ?import query\r\n  // 2. resolve its extension so that urls with or without extension all map to\r\n  // the same module\r\n  async resolveUrl(url, ssr) {\r\n    url = removeImportQuery(removeTimestampQuery(url));\r\n    const mod = await this._getUnresolvedUrlToModule(url, ssr);\r\n    if (mod?.id) {\r\n      return [mod.url, mod.id, mod.meta];\r\n    }\r\n    return this._resolveUrl(url, ssr);\r\n  }\r\n  updateModuleTransformResult(mod, result, ssr) {\r\n    if (ssr) {\r\n      mod.ssrTransformResult = result;\r\n    } else {\r\n      const prevEtag = mod.transformResult?.etag;\r\n      if (prevEtag) this.etagToModuleMap.delete(prevEtag);\r\n      mod.transformResult = result;\r\n      if (result?.etag) this.etagToModuleMap.set(result.etag, mod);\r\n    }\r\n  }\r\n  getModuleByEtag(etag) {\r\n    return this.etagToModuleMap.get(etag);\r\n  }\r\n  /**\r\n   * @internal\r\n   */\r\n  _getUnresolvedUrlToModule(url, ssr) {\r\n    return (ssr ? this._ssrUnresolvedUrlToModuleMap : this._unresolvedUrlToModuleMap).get(url);\r\n  }\r\n  /**\r\n   * @internal\r\n   */\r\n  _setUnresolvedUrlToModule(url, mod, ssr) {\r\n    (ssr ? this._ssrUnresolvedUrlToModuleMap : this._unresolvedUrlToModuleMap).set(url, mod);\r\n  }\r\n  /**\r\n   * @internal\r\n   */\r\n  async _resolveUrl(url, ssr, alreadyResolved) {\r\n    const resolved = alreadyResolved ?? await this.resolveId(url, !!ssr);\r\n    const resolvedId = resolved?.id || url;\r\n    if (url !== resolvedId && !url.includes(\"\\0\") && !url.startsWith(`virtual:`)) {\r\n      const ext = extname$1(cleanUrl(resolvedId));\r\n      if (ext) {\r\n        const pathname = cleanUrl(url);\r\n        if (!pathname.endsWith(ext)) {\r\n          url = pathname + ext + url.slice(pathname.length);\r\n        }\r\n      }\r\n    }\r\n    return [url, resolvedId, resolved?.meta];\r\n  }\r\n}\r\n\r\nfunction notFoundMiddleware() {\r\n  return function vite404Middleware(_, res) {\r\n    res.statusCode = 404;\r\n    res.end();\r\n  };\r\n}\r\n\r\nconst ROOT_FILES = [\r\n  // '.git',\r\n  // https://pnpm.io/workspaces/\r\n  \"pnpm-workspace.yaml\",\r\n  // https://rushjs.io/pages/advanced/config_files/\r\n  // 'rush.json',\r\n  // https://nx.dev/latest/react/getting-started/nx-setup\r\n  // 'workspace.json',\r\n  // 'nx.json',\r\n  // https://github.com/lerna/lerna#lernajson\r\n  \"lerna.json\"\r\n];\r\nfunction hasWorkspacePackageJSON(root) {\r\n  const path = join$2(root, \"package.json\");\r\n  if (!isFileReadable(path)) {\r\n    return false;\r\n  }\r\n  try {\r\n    const content = JSON.parse(fs__default.readFileSync(path, \"utf-8\")) || {};\r\n    return !!content.workspaces;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\nfunction hasRootFile(root) {\r\n  return ROOT_FILES.some((file) => fs__default.existsSync(join$2(root, file)));\r\n}\r\nfunction hasPackageJSON(root) {\r\n  const path = join$2(root, \"package.json\");\r\n  return fs__default.existsSync(path);\r\n}\r\nfunction searchForPackageRoot(current, root = current) {\r\n  if (hasPackageJSON(current)) return current;\r\n  const dir = dirname$2(current);\r\n  if (!dir || dir === current) return root;\r\n  return searchForPackageRoot(dir, root);\r\n}\r\nfunction searchForWorkspaceRoot(current, root = searchForPackageRoot(current)) {\r\n  if (hasRootFile(current)) return current;\r\n  if (hasWorkspacePackageJSON(current)) return current;\r\n  const dir = dirname$2(current);\r\n  if (!dir || dir === current) return root;\r\n  return searchForWorkspaceRoot(dir, root);\r\n}\r\n\r\nfunction warmupFiles(server) {\r\n  const options = server.config.server.warmup;\r\n  const root = server.config.root;\r\n  if (options?.clientFiles?.length) {\r\n    mapFiles(options.clientFiles, root).then((files) => {\r\n      for (const file of files) {\r\n        warmupFile(server, file, false);\r\n      }\r\n    });\r\n  }\r\n  if (options?.ssrFiles?.length) {\r\n    mapFiles(options.ssrFiles, root).then((files) => {\r\n      for (const file of files) {\r\n        warmupFile(server, file, true);\r\n      }\r\n    });\r\n  }\r\n}\r\nasync function warmupFile(server, file, ssr) {\r\n  if (file.endsWith(\".html\")) {\r\n    const url = htmlFileToUrl(file, server.config.root);\r\n    if (url) {\r\n      try {\r\n        const html = await fsp.readFile(file, \"utf-8\");\r\n        await server.transformIndexHtml(url, html);\r\n      } catch (e) {\r\n        server.config.logger.error(\r\n          `Pre-transform error (${colors$1.cyan(file)}): ${e.message}`,\r\n          {\r\n            error: e,\r\n            timestamp: true\r\n          }\r\n        );\r\n      }\r\n    }\r\n  } else {\r\n    const url = fileToUrl(file, server.config.root);\r\n    await server.warmupRequest(url, { ssr });\r\n  }\r\n}\r\nfunction htmlFileToUrl(file, root) {\r\n  const url = path$n.relative(root, file);\r\n  if (url[0] === \".\") return;\r\n  return \"/\" + normalizePath$3(url);\r\n}\r\nfunction fileToUrl(file, root) {\r\n  const url = path$n.relative(root, file);\r\n  if (url[0] === \".\") {\r\n    return path$n.posix.join(FS_PREFIX, normalizePath$3(file));\r\n  }\r\n  return \"/\" + normalizePath$3(url);\r\n}\r\nfunction mapFiles(files, root) {\r\n  return glob(files, {\r\n    cwd: root,\r\n    absolute: true\r\n  });\r\n}\r\n\r\nfunction createServer(inlineConfig = {}) {\r\n  return _createServer(inlineConfig, { hotListen: true });\r\n}\r\nasync function _createServer(inlineConfig = {}, options) {\r\n  const config = await resolveConfig(inlineConfig, \"serve\");\r\n  const initPublicFilesPromise = initPublicFiles(config);\r\n  const { root, server: serverConfig } = config;\r\n  const httpsOptions = await resolveHttpsConfig(config.server.https);\r\n  const { middlewareMode } = serverConfig;\r\n  const resolvedOutDirs = getResolvedOutDirs(\r\n    config.root,\r\n    config.build.outDir,\r\n    config.build.rollupOptions?.output\r\n  );\r\n  const emptyOutDir = resolveEmptyOutDir(\r\n    config.build.emptyOutDir,\r\n    config.root,\r\n    resolvedOutDirs\r\n  );\r\n  const resolvedWatchOptions = resolveChokidarOptions(\r\n    {\r\n      disableGlobbing: true,\r\n      ...serverConfig.watch\r\n    },\r\n    resolvedOutDirs,\r\n    emptyOutDir,\r\n    config.cacheDir\r\n  );\r\n  const middlewares = connect$1();\r\n  const httpServer = middlewareMode ? null : await resolveHttpServer(serverConfig, middlewares, httpsOptions);\r\n  const ws = createWebSocketServer(httpServer, config, httpsOptions);\r\n  const hot = createHMRBroadcaster().addChannel(ws).addChannel(createServerHMRChannel());\r\n  if (typeof config.server.hmr === \"object\" && config.server.hmr.channels) {\r\n    config.server.hmr.channels.forEach((channel) => hot.addChannel(channel));\r\n  }\r\n  const publicFiles = await initPublicFilesPromise;\r\n  const { publicDir } = config;\r\n  if (httpServer) {\r\n    setClientErrorHandler(httpServer, config.logger);\r\n  }\r\n  const watchEnabled = serverConfig.watch !== null;\r\n  const watcher = watchEnabled ? chokidar.watch(\r\n    // config file dependencies and env file might be outside of root\r\n    [\r\n      root,\r\n      ...config.configFileDependencies,\r\n      ...getEnvFilesForMode(config.mode, config.envDir),\r\n      // Watch the public directory explicitly because it might be outside\r\n      // of the root directory.\r\n      ...publicDir && publicFiles ? [publicDir] : []\r\n    ],\r\n    resolvedWatchOptions\r\n  ) : createNoopWatcher(resolvedWatchOptions);\r\n  const moduleGraph = new ModuleGraph(\r\n    (url, ssr) => container.resolveId(url, void 0, { ssr })\r\n  );\r\n  const container = await createPluginContainer(config, moduleGraph, watcher);\r\n  const closeHttpServer = createServerCloseFn(httpServer);\r\n  const devHtmlTransformFn = createDevHtmlTransformFn(config);\r\n  const onCrawlEndCallbacks = [];\r\n  const crawlEndFinder = setupOnCrawlEnd(() => {\r\n    onCrawlEndCallbacks.forEach((cb) => cb());\r\n  });\r\n  function waitForRequestsIdle(ignoredId) {\r\n    return crawlEndFinder.waitForRequestsIdle(ignoredId);\r\n  }\r\n  function _registerRequestProcessing(id, done) {\r\n    crawlEndFinder.registerRequestProcessing(id, done);\r\n  }\r\n  function _onCrawlEnd(cb) {\r\n    onCrawlEndCallbacks.push(cb);\r\n  }\r\n  let server = {\r\n    config,\r\n    middlewares,\r\n    httpServer,\r\n    watcher,\r\n    pluginContainer: container,\r\n    ws,\r\n    hot,\r\n    moduleGraph,\r\n    resolvedUrls: null,\r\n    // will be set on listen\r\n    ssrTransform(code, inMap, url, originalCode = code) {\r\n      return ssrTransform(code, inMap, url, originalCode, server.config);\r\n    },\r\n    transformRequest(url, options2) {\r\n      return transformRequest(url, server, options2);\r\n    },\r\n    async warmupRequest(url, options2) {\r\n      try {\r\n        await transformRequest(url, server, options2);\r\n      } catch (e) {\r\n        if (e?.code === ERR_OUTDATED_OPTIMIZED_DEP || e?.code === ERR_CLOSED_SERVER) {\r\n          return;\r\n        }\r\n        server.config.logger.error(`Pre-transform error: ${e.message}`, {\r\n          error: e,\r\n          timestamp: true\r\n        });\r\n      }\r\n    },\r\n    transformIndexHtml(url, html, originalUrl) {\r\n      return devHtmlTransformFn(server, url, html, originalUrl);\r\n    },\r\n    async ssrLoadModule(url, opts) {\r\n      return ssrLoadModule(url, server, opts?.fixStacktrace);\r\n    },\r\n    async ssrFetchModule(url, importer) {\r\n      return ssrFetchModule(server, url, importer);\r\n    },\r\n    ssrFixStacktrace(e) {\r\n      ssrFixStacktrace(e, moduleGraph);\r\n    },\r\n    ssrRewriteStacktrace(stack) {\r\n      return ssrRewriteStacktrace(stack, moduleGraph);\r\n    },\r\n    async reloadModule(module) {\r\n      if (serverConfig.hmr !== false && module.file) {\r\n        updateModules(module.file, [module], Date.now(), server);\r\n      }\r\n    },\r\n    async listen(port, isRestart) {\r\n      await startServer(server, port);\r\n      if (httpServer) {\r\n        server.resolvedUrls = await resolveServerUrls(\r\n          httpServer,\r\n          config.server,\r\n          config\r\n        );\r\n        if (!isRestart && config.server.open) server.openBrowser();\r\n      }\r\n      return server;\r\n    },\r\n    openBrowser() {\r\n      const options2 = server.config.server;\r\n      const url = server.resolvedUrls?.local[0] ?? server.resolvedUrls?.network[0];\r\n      if (url) {\r\n        const path2 = typeof options2.open === \"string\" ? new URL(options2.open, url).href : url;\r\n        if (server.config.server.preTransformRequests) {\r\n          setTimeout(() => {\r\n            const getMethod = path2.startsWith(\"https:\") ? get$1 : get$2;\r\n            getMethod(\r\n              path2,\r\n              {\r\n                headers: {\r\n                  // Allow the history middleware to redirect to /index.html\r\n                  Accept: \"text/html\"\r\n                }\r\n              },\r\n              (res) => {\r\n                res.on(\"end\", () => {\r\n                });\r\n              }\r\n            ).on(\"error\", () => {\r\n            }).end();\r\n          }, 0);\r\n        }\r\n        openBrowser(path2, true, server.config.logger);\r\n      } else {\r\n        server.config.logger.warn(\"No URL available to open in browser\");\r\n      }\r\n    },\r\n    async close() {\r\n      if (!middlewareMode) {\r\n        teardownSIGTERMListener(closeServerAndExit);\r\n      }\r\n      await Promise.allSettled([\r\n        watcher.close(),\r\n        hot.close(),\r\n        container.close(),\r\n        crawlEndFinder?.cancel(),\r\n        getDepsOptimizer(server.config)?.close(),\r\n        getDepsOptimizer(server.config, true)?.close(),\r\n        closeHttpServer()\r\n      ]);\r\n      while (server._pendingRequests.size > 0) {\r\n        await Promise.allSettled(\r\n          [...server._pendingRequests.values()].map(\r\n            (pending) => pending.request\r\n          )\r\n        );\r\n      }\r\n      server.resolvedUrls = null;\r\n    },\r\n    printUrls() {\r\n      if (server.resolvedUrls) {\r\n        printServerUrls(\r\n          server.resolvedUrls,\r\n          serverConfig.host,\r\n          config.logger.info\r\n        );\r\n      } else if (middlewareMode) {\r\n        throw new Error(\"cannot print server URLs in middleware mode.\");\r\n      } else {\r\n        throw new Error(\r\n          \"cannot print server URLs before server.listen is called.\"\r\n        );\r\n      }\r\n    },\r\n    bindCLIShortcuts(options2) {\r\n      bindCLIShortcuts(server, options2);\r\n    },\r\n    async restart(forceOptimize) {\r\n      if (!server._restartPromise) {\r\n        server._forceOptimizeOnRestart = !!forceOptimize;\r\n        server._restartPromise = restartServer(server).finally(() => {\r\n          server._restartPromise = null;\r\n          server._forceOptimizeOnRestart = false;\r\n        });\r\n      }\r\n      return server._restartPromise;\r\n    },\r\n    waitForRequestsIdle,\r\n    _registerRequestProcessing,\r\n    _onCrawlEnd,\r\n    _setInternalServer(_server) {\r\n      server = _server;\r\n    },\r\n    _restartPromise: null,\r\n    _importGlobMap: /* @__PURE__ */ new Map(),\r\n    _forceOptimizeOnRestart: false,\r\n    _pendingRequests: /* @__PURE__ */ new Map(),\r\n    _fsDenyGlob: picomatch$4(\r\n      // matchBase: true does not work as it's documented\r\n      // https://github.com/micromatch/picomatch/issues/89\r\n      // convert patterns without `/` on our side for now\r\n      config.server.fs.deny.map(\r\n        (pattern) => pattern.includes(\"/\") ? pattern : `**/${pattern}`\r\n      ),\r\n      {\r\n        matchBase: false,\r\n        nocase: true,\r\n        dot: true\r\n      }\r\n    ),\r\n    _shortcutsOptions: void 0\r\n  };\r\n  const reflexServer = new Proxy(server, {\r\n    get: (_, property) => {\r\n      return server[property];\r\n    },\r\n    set: (_, property, value) => {\r\n      server[property] = value;\r\n      return true;\r\n    }\r\n  });\r\n  const closeServerAndExit = async () => {\r\n    try {\r\n      await server.close();\r\n    } finally {\r\n      process.exit();\r\n    }\r\n  };\r\n  if (!middlewareMode) {\r\n    setupSIGTERMListener(closeServerAndExit);\r\n  }\r\n  const onHMRUpdate = async (type, file) => {\r\n    if (serverConfig.hmr !== false) {\r\n      try {\r\n        await handleHMRUpdate(type, file, server);\r\n      } catch (err) {\r\n        hot.send({\r\n          type: \"error\",\r\n          err: prepareError(err)\r\n        });\r\n      }\r\n    }\r\n  };\r\n  const onFileAddUnlink = async (file, isUnlink) => {\r\n    file = normalizePath$3(file);\r\n    await container.watchChange(file, { event: isUnlink ? \"delete\" : \"create\" });\r\n    if (publicDir && publicFiles) {\r\n      if (file.startsWith(publicDir)) {\r\n        const path2 = file.slice(publicDir.length);\r\n        publicFiles[isUnlink ? \"delete\" : \"add\"](path2);\r\n        if (!isUnlink) {\r\n          const moduleWithSamePath = await moduleGraph.getModuleByUrl(path2);\r\n          const etag = moduleWithSamePath?.transformResult?.etag;\r\n          if (etag) {\r\n            moduleGraph.etagToModuleMap.delete(etag);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (isUnlink) moduleGraph.onFileDelete(file);\r\n    await onHMRUpdate(isUnlink ? \"delete\" : \"create\", file);\r\n  };\r\n  watcher.on(\"change\", async (file) => {\r\n    file = normalizePath$3(file);\r\n    await container.watchChange(file, { event: \"update\" });\r\n    moduleGraph.onFileChange(file);\r\n    await onHMRUpdate(\"update\", file);\r\n  });\r\n  getFsUtils(config).initWatcher?.(watcher);\r\n  watcher.on(\"add\", (file) => {\r\n    onFileAddUnlink(file, false);\r\n  });\r\n  watcher.on(\"unlink\", (file) => {\r\n    onFileAddUnlink(file, true);\r\n  });\r\n  hot.on(\"vite:invalidate\", async ({ path: path2, message }) => {\r\n    const mod = moduleGraph.urlToModuleMap.get(path2);\r\n    if (mod && mod.isSelfAccepting && mod.lastHMRTimestamp > 0 && !mod.lastHMRInvalidationReceived) {\r\n      mod.lastHMRInvalidationReceived = true;\r\n      config.logger.info(\r\n        colors$1.yellow(`hmr invalidate `) + colors$1.dim(path2) + (message ? ` ${message}` : \"\"),\r\n        { timestamp: true }\r\n      );\r\n      const file = getShortName(mod.file, config.root);\r\n      updateModules(\r\n        file,\r\n        [...mod.importers],\r\n        mod.lastHMRTimestamp,\r\n        server,\r\n        true\r\n      );\r\n    }\r\n  });\r\n  if (!middlewareMode && httpServer) {\r\n    httpServer.once(\"listening\", () => {\r\n      serverConfig.port = httpServer.address().port;\r\n    });\r\n  }\r\n  const postHooks = [];\r\n  for (const hook of config.getSortedPluginHooks(\"configureServer\")) {\r\n    postHooks.push(await hook(reflexServer));\r\n  }\r\n  if (process.env.DEBUG) {\r\n    middlewares.use(timeMiddleware(root));\r\n  }\r\n  const { cors } = serverConfig;\r\n  if (cors !== false) {\r\n    middlewares.use(corsMiddleware(typeof cors === \"boolean\" ? {} : cors));\r\n  }\r\n  middlewares.use(cachedTransformMiddleware(server));\r\n  const { proxy } = serverConfig;\r\n  if (proxy) {\r\n    const middlewareServer = (isObject$1(middlewareMode) ? middlewareMode.server : null) || httpServer;\r\n    middlewares.use(proxyMiddleware(middlewareServer, proxy, config));\r\n  }\r\n  if (config.base !== \"/\") {\r\n    middlewares.use(baseMiddleware(config.rawBase, !!middlewareMode));\r\n  }\r\n  middlewares.use(\"/__open-in-editor\", launchEditorMiddleware$1());\r\n  middlewares.use(function viteHMRPingMiddleware(req, res, next) {\r\n    if (req.headers[\"accept\"] === \"text/x-vite-ping\") {\r\n      res.writeHead(204).end();\r\n    } else {\r\n      next();\r\n    }\r\n  });\r\n  if (publicDir) {\r\n    middlewares.use(servePublicMiddleware(server, publicFiles));\r\n  }\r\n  middlewares.use(transformMiddleware(server));\r\n  middlewares.use(serveRawFsMiddleware(server));\r\n  middlewares.use(serveStaticMiddleware(server));\r\n  if (config.appType === \"spa\" || config.appType === \"mpa\") {\r\n    middlewares.use(\r\n      htmlFallbackMiddleware(\r\n        root,\r\n        config.appType === \"spa\",\r\n        getFsUtils(config)\r\n      )\r\n    );\r\n  }\r\n  postHooks.forEach((fn) => fn && fn());\r\n  if (config.appType === \"spa\" || config.appType === \"mpa\") {\r\n    middlewares.use(indexHtmlMiddleware(root, server));\r\n    middlewares.use(notFoundMiddleware());\r\n  }\r\n  middlewares.use(errorMiddleware(server, !!middlewareMode));\r\n  let initingServer;\r\n  let serverInited = false;\r\n  const initServer = async () => {\r\n    if (serverInited) return;\r\n    if (initingServer) return initingServer;\r\n    initingServer = async function() {\r\n      await container.buildStart({});\r\n      if (isDepsOptimizerEnabled(config, false)) {\r\n        await initDepsOptimizer(config, server);\r\n      }\r\n      warmupFiles(server);\r\n      initingServer = void 0;\r\n      serverInited = true;\r\n    }();\r\n    return initingServer;\r\n  };\r\n  if (!middlewareMode && httpServer) {\r\n    const listen = httpServer.listen.bind(httpServer);\r\n    httpServer.listen = async (port, ...args) => {\r\n      try {\r\n        hot.listen();\r\n        await initServer();\r\n      } catch (e) {\r\n        httpServer.emit(\"error\", e);\r\n        return;\r\n      }\r\n      return listen(port, ...args);\r\n    };\r\n  } else {\r\n    if (options.hotListen) {\r\n      hot.listen();\r\n    }\r\n    await initServer();\r\n  }\r\n  return server;\r\n}\r\nasync function startServer(server, inlinePort) {\r\n  const httpServer = server.httpServer;\r\n  if (!httpServer) {\r\n    throw new Error(\"Cannot call server.listen in middleware mode.\");\r\n  }\r\n  const options = server.config.server;\r\n  const hostname = await resolveHostname(options.host);\r\n  const configPort = inlinePort ?? options.port;\r\n  const port = (!configPort || configPort === server._configServerPort ? server._currentServerPort : configPort) ?? DEFAULT_DEV_PORT;\r\n  server._configServerPort = configPort;\r\n  const serverPort = await httpServerStart(httpServer, {\r\n    port,\r\n    strictPort: options.strictPort,\r\n    host: hostname.host,\r\n    logger: server.config.logger\r\n  });\r\n  server._currentServerPort = serverPort;\r\n}\r\nfunction createServerCloseFn(server) {\r\n  if (!server) {\r\n    return () => Promise.resolve();\r\n  }\r\n  let hasListened = false;\r\n  const openSockets = /* @__PURE__ */ new Set();\r\n  server.on(\"connection\", (socket) => {\r\n    openSockets.add(socket);\r\n    socket.on(\"close\", () => {\r\n      openSockets.delete(socket);\r\n    });\r\n  });\r\n  server.once(\"listening\", () => {\r\n    hasListened = true;\r\n  });\r\n  return () => new Promise((resolve, reject) => {\r\n    openSockets.forEach((s) => s.destroy());\r\n    if (hasListened) {\r\n      server.close((err) => {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          resolve();\r\n        }\r\n      });\r\n    } else {\r\n      resolve();\r\n    }\r\n  });\r\n}\r\nfunction resolvedAllowDir(root, dir) {\r\n  return normalizePath$3(path$n.resolve(root, dir));\r\n}\r\nfunction resolveServerOptions(root, raw, logger) {\r\n  const server = {\r\n    preTransformRequests: true,\r\n    ...raw,\r\n    sourcemapIgnoreList: raw?.sourcemapIgnoreList === false ? () => false : raw?.sourcemapIgnoreList || isInNodeModules$1,\r\n    middlewareMode: raw?.middlewareMode || false\r\n  };\r\n  let allowDirs = server.fs?.allow;\r\n  const deny = server.fs?.deny || [\".env\", \".env.*\", \"*.{crt,pem}\"];\r\n  if (!allowDirs) {\r\n    allowDirs = [searchForWorkspaceRoot(root)];\r\n  }\r\n  if (process.versions.pnp) {\r\n    try {\r\n      const enableGlobalCache = execSync(\"yarn config get enableGlobalCache\", { cwd: root }).toString().trim() === \"true\";\r\n      const yarnCacheDir = execSync(\r\n        `yarn config get ${enableGlobalCache ? \"globalFolder\" : \"cacheFolder\"}`,\r\n        { cwd: root }\r\n      ).toString().trim();\r\n      allowDirs.push(yarnCacheDir);\r\n    } catch (e) {\r\n      logger.warn(`Get yarn cache dir error: ${e.message}`, {\r\n        timestamp: true\r\n      });\r\n    }\r\n  }\r\n  allowDirs = allowDirs.map((i) => resolvedAllowDir(root, i));\r\n  const resolvedClientDir = resolvedAllowDir(root, CLIENT_DIR);\r\n  if (!allowDirs.some((dir) => isParentDirectory(dir, resolvedClientDir))) {\r\n    allowDirs.push(resolvedClientDir);\r\n  }\r\n  server.fs = {\r\n    strict: server.fs?.strict ?? true,\r\n    allow: allowDirs,\r\n    deny,\r\n    cachedChecks: server.fs?.cachedChecks\r\n  };\r\n  if (server.origin?.endsWith(\"/\")) {\r\n    server.origin = server.origin.slice(0, -1);\r\n    logger.warn(\r\n      colors$1.yellow(\r\n        `${colors$1.bold(\"(!)\")} server.origin should not end with \"/\". Using \"${server.origin}\" instead.`\r\n      )\r\n    );\r\n  }\r\n  return server;\r\n}\r\nasync function restartServer(server) {\r\n  global.__vite_start_time = performance$1.now();\r\n  const shortcutsOptions = server._shortcutsOptions;\r\n  let inlineConfig = server.config.inlineConfig;\r\n  if (server._forceOptimizeOnRestart) {\r\n    inlineConfig = mergeConfig(inlineConfig, {\r\n      optimizeDeps: {\r\n        force: true\r\n      }\r\n    });\r\n  }\r\n  {\r\n    let newServer = null;\r\n    try {\r\n      newServer = await _createServer(inlineConfig, { hotListen: false });\r\n    } catch (err) {\r\n      server.config.logger.error(err.message, {\r\n        timestamp: true\r\n      });\r\n      server.config.logger.error(\"server restart failed\", { timestamp: true });\r\n      return;\r\n    }\r\n    await server.close();\r\n    const middlewares = server.middlewares;\r\n    newServer._configServerPort = server._configServerPort;\r\n    newServer._currentServerPort = server._currentServerPort;\r\n    Object.assign(server, newServer);\r\n    middlewares.stack = newServer.middlewares.stack;\r\n    server.middlewares = middlewares;\r\n    newServer._setInternalServer(server);\r\n  }\r\n  const {\r\n    logger,\r\n    server: { port, middlewareMode }\r\n  } = server.config;\r\n  if (!middlewareMode) {\r\n    await server.listen(port, true);\r\n  } else {\r\n    server.hot.listen();\r\n  }\r\n  logger.info(\"server restarted.\", { timestamp: true });\r\n  if (shortcutsOptions) {\r\n    shortcutsOptions.print = false;\r\n    bindCLIShortcuts(server, shortcutsOptions);\r\n  }\r\n}\r\nasync function restartServerWithUrls(server) {\r\n  if (server.config.server.middlewareMode) {\r\n    await server.restart();\r\n    return;\r\n  }\r\n  const { port: prevPort, host: prevHost } = server.config.server;\r\n  const prevUrls = server.resolvedUrls;\r\n  await server.restart();\r\n  const {\r\n    logger,\r\n    server: { port, host }\r\n  } = server.config;\r\n  if ((port ?? DEFAULT_DEV_PORT) !== (prevPort ?? DEFAULT_DEV_PORT) || host !== prevHost || diffDnsOrderChange(prevUrls, server.resolvedUrls)) {\r\n    logger.info(\"\");\r\n    server.printUrls();\r\n  }\r\n}\r\nconst callCrawlEndIfIdleAfterMs = 50;\r\nfunction setupOnCrawlEnd(onCrawlEnd) {\r\n  const registeredIds = /* @__PURE__ */ new Set();\r\n  const seenIds = /* @__PURE__ */ new Set();\r\n  const onCrawlEndPromiseWithResolvers = promiseWithResolvers();\r\n  let timeoutHandle;\r\n  let cancelled = false;\r\n  function cancel() {\r\n    cancelled = true;\r\n  }\r\n  let crawlEndCalled = false;\r\n  function callOnCrawlEnd() {\r\n    if (!cancelled && !crawlEndCalled) {\r\n      crawlEndCalled = true;\r\n      onCrawlEnd();\r\n    }\r\n    onCrawlEndPromiseWithResolvers.resolve();\r\n  }\r\n  function registerRequestProcessing(id, done) {\r\n    if (!seenIds.has(id)) {\r\n      seenIds.add(id);\r\n      registeredIds.add(id);\r\n      done().catch(() => {\r\n      }).finally(() => markIdAsDone(id));\r\n    }\r\n  }\r\n  function waitForRequestsIdle(ignoredId) {\r\n    if (ignoredId) {\r\n      seenIds.add(ignoredId);\r\n      markIdAsDone(ignoredId);\r\n    } else {\r\n      checkIfCrawlEndAfterTimeout();\r\n    }\r\n    return onCrawlEndPromiseWithResolvers.promise;\r\n  }\r\n  function markIdAsDone(id) {\r\n    registeredIds.delete(id);\r\n    checkIfCrawlEndAfterTimeout();\r\n  }\r\n  function checkIfCrawlEndAfterTimeout() {\r\n    if (cancelled || registeredIds.size > 0) return;\r\n    if (timeoutHandle) clearTimeout(timeoutHandle);\r\n    timeoutHandle = setTimeout(\r\n      callOnCrawlEndWhenIdle,\r\n      callCrawlEndIfIdleAfterMs\r\n    );\r\n  }\r\n  async function callOnCrawlEndWhenIdle() {\r\n    if (cancelled || registeredIds.size > 0) return;\r\n    callOnCrawlEnd();\r\n  }\r\n  return {\r\n    registerRequestProcessing,\r\n    waitForRequestsIdle,\r\n    cancel\r\n  };\r\n}\r\n\r\nvar index = {\r\n\t__proto__: null,\r\n\t_createServer: _createServer,\r\n\tcreateServer: createServer,\r\n\tcreateServerCloseFn: createServerCloseFn,\r\n\tresolveServerOptions: resolveServerOptions,\r\n\trestartServerWithUrls: restartServerWithUrls\r\n};\r\n\r\nconst debugHmr = createDebugger(\"vite:hmr\");\r\nconst whitespaceRE = /\\s/;\r\nconst normalizedClientDir = normalizePath$3(CLIENT_DIR);\r\nfunction getShortName(file, root) {\r\n  return file.startsWith(withTrailingSlash(root)) ? path$n.posix.relative(root, file) : file;\r\n}\r\nasync function handleHMRUpdate(type, file, server) {\r\n  const { hot, config, moduleGraph } = server;\r\n  const shortFile = getShortName(file, config.root);\r\n  const isConfig = file === config.configFile;\r\n  const isConfigDependency = config.configFileDependencies.some(\r\n    (name) => file === name\r\n  );\r\n  const isEnv = config.inlineConfig.envFile !== false && getEnvFilesForMode(config.mode, config.envDir).includes(file);\r\n  if (isConfig || isConfigDependency || isEnv) {\r\n    debugHmr?.(`[config change] ${colors$1.dim(shortFile)}`);\r\n    config.logger.info(\r\n      colors$1.green(\r\n        `${normalizePath$3(\r\n          path$n.relative(process.cwd(), file)\r\n        )} changed, restarting server...`\r\n      ),\r\n      { clear: true, timestamp: true }\r\n    );\r\n    try {\r\n      await restartServerWithUrls(server);\r\n    } catch (e) {\r\n      config.logger.error(colors$1.red(e));\r\n    }\r\n    return;\r\n  }\r\n  debugHmr?.(`[file change] ${colors$1.dim(shortFile)}`);\r\n  if (file.startsWith(withTrailingSlash(normalizedClientDir))) {\r\n    hot.send({\r\n      type: \"full-reload\",\r\n      path: \"*\",\r\n      triggeredBy: path$n.resolve(config.root, file)\r\n    });\r\n    return;\r\n  }\r\n  const mods = new Set(moduleGraph.getModulesByFile(file));\r\n  if (type === \"create\") {\r\n    for (const mod of moduleGraph._hasResolveFailedErrorModules) {\r\n      mods.add(mod);\r\n    }\r\n  }\r\n  if (type === \"create\" || type === \"delete\") {\r\n    for (const mod of getAffectedGlobModules(file, server)) {\r\n      mods.add(mod);\r\n    }\r\n  }\r\n  const timestamp = Date.now();\r\n  const hmrContext = {\r\n    file,\r\n    timestamp,\r\n    modules: [...mods],\r\n    read: () => readModifiedFile(file),\r\n    server\r\n  };\r\n  if (type === \"update\") {\r\n    for (const hook of config.getSortedPluginHooks(\"handleHotUpdate\")) {\r\n      const filteredModules = await hook(hmrContext);\r\n      if (filteredModules) {\r\n        hmrContext.modules = filteredModules;\r\n      }\r\n    }\r\n  }\r\n  if (!hmrContext.modules.length) {\r\n    if (file.endsWith(\".html\")) {\r\n      config.logger.info(colors$1.green(`page reload `) + colors$1.dim(shortFile), {\r\n        clear: true,\r\n        timestamp: true\r\n      });\r\n      hot.send({\r\n        type: \"full-reload\",\r\n        path: config.server.middlewareMode ? \"*\" : \"/\" + normalizePath$3(path$n.relative(config.root, file))\r\n      });\r\n    } else {\r\n      debugHmr?.(`[no modules matched] ${colors$1.dim(shortFile)}`);\r\n    }\r\n    return;\r\n  }\r\n  updateModules(shortFile, hmrContext.modules, timestamp, server);\r\n}\r\nfunction updateModules(file, modules, timestamp, { config, hot, moduleGraph }, afterInvalidation) {\r\n  const updates = [];\r\n  const invalidatedModules = /* @__PURE__ */ new Set();\r\n  const traversedModules = /* @__PURE__ */ new Set();\r\n  let needFullReload = modules.length === 0;\r\n  for (const mod of modules) {\r\n    const boundaries = [];\r\n    const hasDeadEnd = propagateUpdate(mod, traversedModules, boundaries);\r\n    moduleGraph.invalidateModule(mod, invalidatedModules, timestamp, true);\r\n    if (needFullReload) {\r\n      continue;\r\n    }\r\n    if (hasDeadEnd) {\r\n      needFullReload = hasDeadEnd;\r\n      continue;\r\n    }\r\n    updates.push(\r\n      ...boundaries.map(\r\n        ({ boundary, acceptedVia, isWithinCircularImport }) => ({\r\n          type: `${boundary.type}-update`,\r\n          timestamp,\r\n          path: normalizeHmrUrl(boundary.url),\r\n          acceptedPath: normalizeHmrUrl(acceptedVia.url),\r\n          explicitImportRequired: boundary.type === \"js\" ? isExplicitImportRequired(acceptedVia.url) : false,\r\n          isWithinCircularImport,\r\n          // browser modules are invalidated by changing ?t= query,\r\n          // but in ssr we control the module system, so we can directly remove them form cache\r\n          ssrInvalidates: getSSRInvalidatedImporters(acceptedVia)\r\n        })\r\n      )\r\n    );\r\n  }\r\n  if (needFullReload) {\r\n    const reason = typeof needFullReload === \"string\" ? colors$1.dim(` (${needFullReload})`) : \"\";\r\n    config.logger.info(\r\n      colors$1.green(`page reload `) + colors$1.dim(file) + reason,\r\n      { clear: !afterInvalidation, timestamp: true }\r\n    );\r\n    hot.send({\r\n      type: \"full-reload\",\r\n      triggeredBy: path$n.resolve(config.root, file)\r\n    });\r\n    return;\r\n  }\r\n  if (updates.length === 0) {\r\n    debugHmr?.(colors$1.yellow(`no update happened `) + colors$1.dim(file));\r\n    return;\r\n  }\r\n  config.logger.info(\r\n    colors$1.green(`hmr update `) + colors$1.dim([...new Set(updates.map((u) => u.path))].join(\", \")),\r\n    { clear: !afterInvalidation, timestamp: true }\r\n  );\r\n  hot.send({\r\n    type: \"update\",\r\n    updates\r\n  });\r\n}\r\nfunction populateSSRImporters(module, timestamp, seen = /* @__PURE__ */ new Set()) {\r\n  module.ssrImportedModules.forEach((importer) => {\r\n    if (seen.has(importer)) {\r\n      return;\r\n    }\r\n    if (importer.lastHMRTimestamp === timestamp || importer.lastInvalidationTimestamp === timestamp) {\r\n      seen.add(importer);\r\n      populateSSRImporters(importer, timestamp, seen);\r\n    }\r\n  });\r\n  return seen;\r\n}\r\nfunction getSSRInvalidatedImporters(module) {\r\n  return [...populateSSRImporters(module, module.lastHMRTimestamp)].map(\r\n    (m) => m.file\r\n  );\r\n}\r\nfunction areAllImportsAccepted(importedBindings, acceptedExports) {\r\n  for (const binding of importedBindings) {\r\n    if (!acceptedExports.has(binding)) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\nfunction propagateUpdate(node, traversedModules, boundaries, currentChain = [node]) {\r\n  if (traversedModules.has(node)) {\r\n    return false;\r\n  }\r\n  traversedModules.add(node);\r\n  if (node.id && node.isSelfAccepting === void 0) {\r\n    debugHmr?.(\r\n      `[propagate update] stop propagation because not analyzed: ${colors$1.dim(\r\n        node.id\r\n      )}`\r\n    );\r\n    return false;\r\n  }\r\n  if (node.isSelfAccepting) {\r\n    boundaries.push({\r\n      boundary: node,\r\n      acceptedVia: node,\r\n      isWithinCircularImport: isNodeWithinCircularImports(node, currentChain)\r\n    });\r\n    for (const importer of node.importers) {\r\n      if (isCSSRequest(importer.url) && !currentChain.includes(importer)) {\r\n        propagateUpdate(\r\n          importer,\r\n          traversedModules,\r\n          boundaries,\r\n          currentChain.concat(importer)\r\n        );\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  if (node.acceptedHmrExports) {\r\n    boundaries.push({\r\n      boundary: node,\r\n      acceptedVia: node,\r\n      isWithinCircularImport: isNodeWithinCircularImports(node, currentChain)\r\n    });\r\n  } else {\r\n    if (!node.importers.size) {\r\n      return true;\r\n    }\r\n    if (!isCSSRequest(node.url) && [...node.importers].every((i) => isCSSRequest(i.url))) {\r\n      return true;\r\n    }\r\n  }\r\n  for (const importer of node.importers) {\r\n    const subChain = currentChain.concat(importer);\r\n    if (importer.acceptedHmrDeps.has(node)) {\r\n      boundaries.push({\r\n        boundary: importer,\r\n        acceptedVia: node,\r\n        isWithinCircularImport: isNodeWithinCircularImports(importer, subChain)\r\n      });\r\n      continue;\r\n    }\r\n    if (node.id && node.acceptedHmrExports && importer.importedBindings) {\r\n      const importedBindingsFromNode = importer.importedBindings.get(node.id);\r\n      if (importedBindingsFromNode && areAllImportsAccepted(importedBindingsFromNode, node.acceptedHmrExports)) {\r\n        continue;\r\n      }\r\n    }\r\n    if (!currentChain.includes(importer) && propagateUpdate(importer, traversedModules, boundaries, subChain)) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\nfunction isNodeWithinCircularImports(node, nodeChain, currentChain = [node], traversedModules = /* @__PURE__ */ new Set()) {\r\n  if (traversedModules.has(node)) {\r\n    return false;\r\n  }\r\n  traversedModules.add(node);\r\n  for (const importer of node.importers) {\r\n    if (importer === node) continue;\r\n    if (isCSSRequest(importer.url)) continue;\r\n    const importerIndex = nodeChain.indexOf(importer);\r\n    if (importerIndex > -1) {\r\n      if (debugHmr) {\r\n        const importChain = [\r\n          importer,\r\n          ...[...currentChain].reverse(),\r\n          ...nodeChain.slice(importerIndex, -1).reverse()\r\n        ];\r\n        debugHmr(\r\n          colors$1.yellow(`circular imports detected: `) + importChain.map((m) => colors$1.dim(m.url)).join(\" -> \")\r\n        );\r\n      }\r\n      return true;\r\n    }\r\n    if (!currentChain.includes(importer)) {\r\n      const result = isNodeWithinCircularImports(\r\n        importer,\r\n        nodeChain,\r\n        currentChain.concat(importer),\r\n        traversedModules\r\n      );\r\n      if (result) return result;\r\n    }\r\n  }\r\n  return false;\r\n}\r\nfunction handlePrunedModules(mods, { hot }) {\r\n  const t = Date.now();\r\n  mods.forEach((mod) => {\r\n    mod.lastHMRTimestamp = t;\r\n    mod.lastHMRInvalidationReceived = false;\r\n    debugHmr?.(`[dispose] ${colors$1.dim(mod.file)}`);\r\n  });\r\n  hot.send({\r\n    type: \"prune\",\r\n    paths: [...mods].map((m) => m.url)\r\n  });\r\n}\r\nfunction lexAcceptedHmrDeps(code, start, urls) {\r\n  let state = 0 /* inCall */;\r\n  let prevState = 0 /* inCall */;\r\n  let currentDep = \"\";\r\n  function addDep(index) {\r\n    urls.add({\r\n      url: currentDep,\r\n      start: index - currentDep.length - 1,\r\n      end: index + 1\r\n    });\r\n    currentDep = \"\";\r\n  }\r\n  for (let i = start; i < code.length; i++) {\r\n    const char = code.charAt(i);\r\n    switch (state) {\r\n      case 0 /* inCall */:\r\n      case 4 /* inArray */:\r\n        if (char === `'`) {\r\n          prevState = state;\r\n          state = 1 /* inSingleQuoteString */;\r\n        } else if (char === `\"`) {\r\n          prevState = state;\r\n          state = 2 /* inDoubleQuoteString */;\r\n        } else if (char === \"`\") {\r\n          prevState = state;\r\n          state = 3 /* inTemplateString */;\r\n        } else if (whitespaceRE.test(char)) {\r\n          continue;\r\n        } else {\r\n          if (state === 0 /* inCall */) {\r\n            if (char === `[`) {\r\n              state = 4 /* inArray */;\r\n            } else {\r\n              return true;\r\n            }\r\n          } else if (state === 4 /* inArray */) {\r\n            if (char === `]`) {\r\n              return false;\r\n            } else if (char === \",\") {\r\n              continue;\r\n            } else {\r\n              error(i);\r\n            }\r\n          }\r\n        }\r\n        break;\r\n      case 1 /* inSingleQuoteString */:\r\n        if (char === `'`) {\r\n          addDep(i);\r\n          if (prevState === 0 /* inCall */) {\r\n            return false;\r\n          } else {\r\n            state = prevState;\r\n          }\r\n        } else {\r\n          currentDep += char;\r\n        }\r\n        break;\r\n      case 2 /* inDoubleQuoteString */:\r\n        if (char === `\"`) {\r\n          addDep(i);\r\n          if (prevState === 0 /* inCall */) {\r\n            return false;\r\n          } else {\r\n            state = prevState;\r\n          }\r\n        } else {\r\n          currentDep += char;\r\n        }\r\n        break;\r\n      case 3 /* inTemplateString */:\r\n        if (char === \"`\") {\r\n          addDep(i);\r\n          if (prevState === 0 /* inCall */) {\r\n            return false;\r\n          } else {\r\n            state = prevState;\r\n          }\r\n        } else if (char === \"$\" && code.charAt(i + 1) === \"{\") {\r\n          error(i);\r\n        } else {\r\n          currentDep += char;\r\n        }\r\n        break;\r\n      default:\r\n        throw new Error(\"unknown import.meta.hot lexer state\");\r\n    }\r\n  }\r\n  return false;\r\n}\r\nfunction lexAcceptedHmrExports(code, start, exportNames) {\r\n  const urls = /* @__PURE__ */ new Set();\r\n  lexAcceptedHmrDeps(code, start, urls);\r\n  for (const { url } of urls) {\r\n    exportNames.add(url);\r\n  }\r\n  return urls.size > 0;\r\n}\r\nfunction normalizeHmrUrl(url) {\r\n  if (url[0] !== \".\" && url[0] !== \"/\") {\r\n    url = wrapId$1(url);\r\n  }\r\n  return url;\r\n}\r\nfunction error(pos) {\r\n  const err = new Error(\r\n    `import.meta.hot.accept() can only accept string literals or an Array of string literals.`\r\n  );\r\n  err.pos = pos;\r\n  throw err;\r\n}\r\nasync function readModifiedFile(file) {\r\n  const content = await fsp.readFile(file, \"utf-8\");\r\n  if (!content) {\r\n    const mtime = (await fsp.stat(file)).mtimeMs;\r\n    for (let n = 0; n < 10; n++) {\r\n      await new Promise((r) => setTimeout(r, 10));\r\n      const newMtime = (await fsp.stat(file)).mtimeMs;\r\n      if (newMtime !== mtime) {\r\n        break;\r\n      }\r\n    }\r\n    return await fsp.readFile(file, \"utf-8\");\r\n  } else {\r\n    return content;\r\n  }\r\n}\r\nfunction createHMRBroadcaster() {\r\n  const channels = [];\r\n  const readyChannels = /* @__PURE__ */ new WeakSet();\r\n  const broadcaster = {\r\n    get channels() {\r\n      return [...channels];\r\n    },\r\n    addChannel(channel) {\r\n      if (channels.some((c) => c.name === channel.name)) {\r\n        throw new Error(`HMR channel \"${channel.name}\" is already defined.`);\r\n      }\r\n      channels.push(channel);\r\n      return broadcaster;\r\n    },\r\n    on(event, listener) {\r\n      if (event === \"connection\") {\r\n        const channels2 = this.channels;\r\n        channels2.forEach(\r\n          (channel) => channel.on(\"connection\", () => {\r\n            readyChannels.add(channel);\r\n            if (channels2.every((c) => readyChannels.has(c))) {\r\n              listener();\r\n            }\r\n          })\r\n        );\r\n        return;\r\n      }\r\n      channels.forEach((channel) => channel.on(event, listener));\r\n      return;\r\n    },\r\n    off(event, listener) {\r\n      channels.forEach((channel) => channel.off(event, listener));\r\n      return;\r\n    },\r\n    send(...args) {\r\n      channels.forEach((channel) => channel.send(...args));\r\n    },\r\n    listen() {\r\n      channels.forEach((channel) => channel.listen());\r\n    },\r\n    close() {\r\n      return Promise.all(channels.map((channel) => channel.close()));\r\n    }\r\n  };\r\n  return broadcaster;\r\n}\r\nfunction createServerHMRChannel() {\r\n  const innerEmitter = new EventEmitter$4();\r\n  const outsideEmitter = new EventEmitter$4();\r\n  return {\r\n    name: \"ssr\",\r\n    send(...args) {\r\n      let payload;\r\n      if (typeof args[0] === \"string\") {\r\n        payload = {\r\n          type: \"custom\",\r\n          event: args[0],\r\n          data: args[1]\r\n        };\r\n      } else {\r\n        payload = args[0];\r\n      }\r\n      outsideEmitter.emit(\"send\", payload);\r\n    },\r\n    off(event, listener) {\r\n      innerEmitter.off(event, listener);\r\n    },\r\n    on: (event, listener) => {\r\n      innerEmitter.on(event, listener);\r\n    },\r\n    close() {\r\n      innerEmitter.removeAllListeners();\r\n      outsideEmitter.removeAllListeners();\r\n    },\r\n    listen() {\r\n      innerEmitter.emit(\"connection\");\r\n    },\r\n    api: {\r\n      innerEmitter,\r\n      outsideEmitter\r\n    }\r\n  };\r\n}\r\n\r\nconst debug$1 = createDebugger(\"vite:import-analysis\");\r\nconst clientDir = normalizePath$3(CLIENT_DIR);\r\nconst skipRE = /\\.(?:map|json)(?:$|\\?)/;\r\nconst canSkipImportAnalysis = (id) => skipRE.test(id) || isDirectCSSRequest(id);\r\nconst optimizedDepChunkRE = /\\/chunk-[A-Z\\d]{8}\\.js/;\r\nconst optimizedDepDynamicRE = /-[A-Z\\d]{8}\\.js/;\r\nconst hasViteIgnoreRE = /\\/\\*\\s*@vite-ignore\\s*\\*\\//;\r\nconst urlIsStringRE = /^(?:'.*'|\".*\"|`.*`)$/;\r\nconst templateLiteralRE = /^\\s*`(.*)`\\s*$/;\r\nfunction isExplicitImportRequired(url) {\r\n  return !isJSRequest(url) && !isCSSRequest(url);\r\n}\r\nfunction extractImportedBindings(id, source, importSpec, importedBindings) {\r\n  let bindings = importedBindings.get(id);\r\n  if (!bindings) {\r\n    bindings = /* @__PURE__ */ new Set();\r\n    importedBindings.set(id, bindings);\r\n  }\r\n  const isDynamic = importSpec.d > -1;\r\n  const isMeta = importSpec.d === -2;\r\n  if (isDynamic || isMeta) {\r\n    bindings.add(\"*\");\r\n    return;\r\n  }\r\n  const exp = source.slice(importSpec.ss, importSpec.se);\r\n  ESM_STATIC_IMPORT_RE.lastIndex = 0;\r\n  const match = ESM_STATIC_IMPORT_RE.exec(exp);\r\n  if (!match) {\r\n    return;\r\n  }\r\n  const staticImport = {\r\n    type: \"static\",\r\n    code: match[0],\r\n    start: match.index,\r\n    end: match.index + match[0].length,\r\n    imports: match.groups.imports,\r\n    specifier: match.groups.specifier\r\n  };\r\n  const parsed = parseStaticImport(staticImport);\r\n  if (!parsed) {\r\n    return;\r\n  }\r\n  if (parsed.namespacedImport) {\r\n    bindings.add(\"*\");\r\n  }\r\n  if (parsed.defaultImport) {\r\n    bindings.add(\"default\");\r\n  }\r\n  if (parsed.namedImports) {\r\n    for (const name of Object.keys(parsed.namedImports)) {\r\n      bindings.add(name);\r\n    }\r\n  }\r\n}\r\nfunction importAnalysisPlugin(config) {\r\n  const { root, base } = config;\r\n  const fsUtils = getFsUtils(config);\r\n  const clientPublicPath = path$n.posix.join(base, CLIENT_PUBLIC_PATH);\r\n  const enablePartialAccept = config.experimental?.hmrPartialAccept;\r\n  const matchAlias = getAliasPatternMatcher(config.resolve.alias);\r\n  let server;\r\n  let _env;\r\n  let _ssrEnv;\r\n  function getEnv(ssr) {\r\n    if (!_ssrEnv || !_env) {\r\n      const importMetaEnvKeys = {};\r\n      const userDefineEnv = {};\r\n      for (const key in config.env) {\r\n        importMetaEnvKeys[key] = JSON.stringify(config.env[key]);\r\n      }\r\n      for (const key in config.define) {\r\n        if (key.startsWith(\"import.meta.env.\")) {\r\n          userDefineEnv[key.slice(16)] = config.define[key];\r\n        }\r\n      }\r\n      const env = `import.meta.env = ${serializeDefine({\r\n        ...importMetaEnvKeys,\r\n        SSR: \"__vite_ssr__\",\r\n        ...userDefineEnv\r\n      })};`;\r\n      _ssrEnv = env.replace(\"__vite_ssr__\", \"true\");\r\n      _env = env.replace(\"__vite_ssr__\", \"false\");\r\n    }\r\n    return ssr ? _ssrEnv : _env;\r\n  }\r\n  return {\r\n    name: \"vite:import-analysis\",\r\n    configureServer(_server) {\r\n      server = _server;\r\n    },\r\n    async transform(source, importer, options) {\r\n      if (!server) {\r\n        return null;\r\n      }\r\n      const ssr = options?.ssr === true;\r\n      if (canSkipImportAnalysis(importer)) {\r\n        debug$1?.(colors$1.dim(`[skipped] ${prettifyUrl(importer, root)}`));\r\n        return null;\r\n      }\r\n      const msAtStart = debug$1 ? performance$1.now() : 0;\r\n      await init;\r\n      let imports;\r\n      let exports;\r\n      source = stripBomTag(source);\r\n      try {\r\n        [imports, exports] = parse$d(source);\r\n      } catch (_e) {\r\n        const e = _e;\r\n        const { message, showCodeFrame } = createParseErrorInfo(\r\n          importer,\r\n          source\r\n        );\r\n        this.error(message, showCodeFrame ? e.idx : void 0);\r\n      }\r\n      const depsOptimizer = getDepsOptimizer(config, ssr);\r\n      const { moduleGraph } = server;\r\n      const importerModule = moduleGraph.getModuleById(importer);\r\n      if (!importerModule) {\r\n        throwOutdatedRequest(importer);\r\n      }\r\n      if (!imports.length && !this._addedImports) {\r\n        importerModule.isSelfAccepting = false;\r\n        debug$1?.(\r\n          `${timeFrom(msAtStart)} ${colors$1.dim(\r\n            `[no imports] ${prettifyUrl(importer, root)}`\r\n          )}`\r\n        );\r\n        return source;\r\n      }\r\n      let hasHMR = false;\r\n      let isSelfAccepting = false;\r\n      let hasEnv = false;\r\n      let needQueryInjectHelper = false;\r\n      let s;\r\n      const str = () => s || (s = new MagicString(source));\r\n      let isPartiallySelfAccepting = false;\r\n      const importedBindings = enablePartialAccept ? /* @__PURE__ */ new Map() : null;\r\n      const toAbsoluteUrl = (url) => path$n.posix.resolve(path$n.posix.dirname(importerModule.url), url);\r\n      const normalizeUrl = async (url, pos, forceSkipImportAnalysis = false) => {\r\n        url = stripBase(url, base);\r\n        let importerFile = importer;\r\n        const optimizeDeps = getDepOptimizationConfig(config, ssr);\r\n        if (moduleListContains(optimizeDeps?.exclude, url)) {\r\n          if (depsOptimizer) {\r\n            await depsOptimizer.scanProcessing;\r\n            for (const optimizedModule of depsOptimizer.metadata.depInfoList) {\r\n              if (!optimizedModule.src) continue;\r\n              if (optimizedModule.file === importerModule.file) {\r\n                importerFile = optimizedModule.src;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        const resolved = await this.resolve(url, importerFile);\r\n        if (!resolved || resolved.meta?.[\"vite:alias\"]?.noResolved) {\r\n          if (ssr) {\r\n            return [url, url];\r\n          }\r\n          importerModule.isSelfAccepting = false;\r\n          moduleGraph._hasResolveFailedErrorModules.add(importerModule);\r\n          return this.error(\r\n            `Failed to resolve import \"${url}\" from \"${normalizePath$3(\r\n              path$n.relative(process.cwd(), importerFile)\r\n            )}\". Does the file exist?`,\r\n            pos\r\n          );\r\n        }\r\n        if (isExternalUrl(resolved.id)) {\r\n          return [resolved.id, resolved.id];\r\n        }\r\n        const isRelative = url[0] === \".\";\r\n        const isSelfImport = !isRelative && cleanUrl(url) === cleanUrl(importer);\r\n        if (resolved.id.startsWith(withTrailingSlash(root))) {\r\n          url = resolved.id.slice(root.length);\r\n        } else if (depsOptimizer?.isOptimizedDepFile(resolved.id) || // vite-plugin-react isn't following the leading \\0 virtual module convention.\r\n        // This is a temporary hack to avoid expensive fs checks for React apps.\r\n        // We'll remove this as soon we're able to fix the react plugins.\r\n        resolved.id !== \"/@react-refresh\" && path$n.isAbsolute(resolved.id) && fsUtils.existsSync(cleanUrl(resolved.id))) {\r\n          url = path$n.posix.join(FS_PREFIX, resolved.id);\r\n        } else {\r\n          url = resolved.id;\r\n        }\r\n        if (url[0] !== \".\" && url[0] !== \"/\") {\r\n          url = wrapId$1(resolved.id);\r\n        }\r\n        if (!ssr) {\r\n          if (isExplicitImportRequired(url)) {\r\n            url = injectQuery(url, \"import\");\r\n          } else if ((isRelative || isSelfImport) && !DEP_VERSION_RE.test(url)) {\r\n            const versionMatch = DEP_VERSION_RE.exec(importer);\r\n            if (versionMatch) {\r\n              url = injectQuery(url, versionMatch[1]);\r\n            }\r\n          }\r\n          try {\r\n            const depModule = await moduleGraph._ensureEntryFromUrl(\r\n              unwrapId$1(url),\r\n              ssr,\r\n              canSkipImportAnalysis(url) || forceSkipImportAnalysis,\r\n              resolved\r\n            );\r\n            if (depModule.lastHMRTimestamp > 0) {\r\n              url = injectQuery(url, `t=${depModule.lastHMRTimestamp}`);\r\n            }\r\n          } catch (e) {\r\n            e.pos = pos;\r\n            throw e;\r\n          }\r\n          url = joinUrlSegments(base, url);\r\n        }\r\n        return [url, resolved.id];\r\n      };\r\n      const orderedImportedUrls = new Array(imports.length);\r\n      const orderedAcceptedUrls = new Array(\r\n        imports.length\r\n      );\r\n      const orderedAcceptedExports = new Array(\r\n        imports.length\r\n      );\r\n      await Promise.all(\r\n        imports.map(async (importSpecifier, index) => {\r\n          const {\r\n            s: start,\r\n            e: end,\r\n            ss: expStart,\r\n            se: expEnd,\r\n            d: dynamicIndex,\r\n            a: attributeIndex\r\n          } = importSpecifier;\r\n          let specifier = importSpecifier.n;\r\n          const rawUrl = source.slice(start, end);\r\n          if (rawUrl === \"import.meta\") {\r\n            const prop = source.slice(end, end + 4);\r\n            if (prop === \".hot\") {\r\n              hasHMR = true;\r\n              const endHot = end + 4 + (source[end + 4] === \"?\" ? 1 : 0);\r\n              if (source.slice(endHot, endHot + 7) === \".accept\") {\r\n                if (source.slice(endHot, endHot + 14) === \".acceptExports\") {\r\n                  const importAcceptedExports = orderedAcceptedExports[index] = /* @__PURE__ */ new Set();\r\n                  lexAcceptedHmrExports(\r\n                    source,\r\n                    source.indexOf(\"(\", endHot + 14) + 1,\r\n                    importAcceptedExports\r\n                  );\r\n                  isPartiallySelfAccepting = true;\r\n                } else {\r\n                  const importAcceptedUrls = orderedAcceptedUrls[index] = /* @__PURE__ */ new Set();\r\n                  if (lexAcceptedHmrDeps(\r\n                    source,\r\n                    source.indexOf(\"(\", endHot + 7) + 1,\r\n                    importAcceptedUrls\r\n                  )) {\r\n                    isSelfAccepting = true;\r\n                  }\r\n                }\r\n              }\r\n            } else if (prop === \".env\") {\r\n              hasEnv = true;\r\n            }\r\n            return;\r\n          } else if (templateLiteralRE.test(rawUrl)) {\r\n            if (!(rawUrl.includes(\"${\") && rawUrl.includes(\"}\"))) {\r\n              specifier = rawUrl.replace(templateLiteralRE, \"$1\");\r\n            }\r\n          }\r\n          const isDynamicImport = dynamicIndex > -1;\r\n          if (!isDynamicImport && attributeIndex > -1) {\r\n            str().remove(end + 1, expEnd);\r\n          }\r\n          if (specifier !== void 0) {\r\n            if (isExternalUrl(specifier) || isDataUrl(specifier)) {\r\n              return;\r\n            }\r\n            if (ssr && !matchAlias(specifier)) {\r\n              if (shouldExternalizeForSSR(specifier, importer, config)) {\r\n                return;\r\n              }\r\n              if (isBuiltin(specifier)) {\r\n                return;\r\n              }\r\n            }\r\n            if (specifier === clientPublicPath) {\r\n              return;\r\n            }\r\n            if (specifier[0] === \"/\" && !(config.assetsInclude(cleanUrl(specifier)) || urlRE.test(specifier)) && checkPublicFile(specifier, config)) {\r\n              throw new Error(\r\n                `Cannot import non-asset file ${specifier} which is inside /public. JS/CSS files inside /public are copied as-is on build and can only be referenced via <script src> or <link href> in html. If you want to get the URL of that file, use ${injectQuery(\r\n                  specifier,\r\n                  \"url\"\r\n                )} instead.`\r\n              );\r\n            }\r\n            const [url, resolvedId] = await normalizeUrl(specifier, start);\r\n            server?.moduleGraph.safeModulesPath.add(\r\n              fsPathFromUrl(stripBase(url, base))\r\n            );\r\n            if (url !== specifier) {\r\n              let rewriteDone = false;\r\n              if (depsOptimizer?.isOptimizedDepFile(resolvedId) && !optimizedDepChunkRE.test(resolvedId)) {\r\n                const file = cleanUrl(resolvedId);\r\n                const needsInterop = await optimizedDepNeedsInterop(\r\n                  depsOptimizer.metadata,\r\n                  file,\r\n                  config,\r\n                  ssr\r\n                );\r\n                if (needsInterop === void 0) {\r\n                  if (!optimizedDepDynamicRE.test(file)) {\r\n                    config.logger.error(\r\n                      colors$1.red(\r\n                        `Vite Error, ${url} optimized info should be defined`\r\n                      )\r\n                    );\r\n                  }\r\n                } else if (needsInterop) {\r\n                  debug$1?.(`${url} needs interop`);\r\n                  interopNamedImports(\r\n                    str(),\r\n                    importSpecifier,\r\n                    url,\r\n                    index,\r\n                    importer,\r\n                    config\r\n                  );\r\n                  rewriteDone = true;\r\n                }\r\n              } else if (url.includes(browserExternalId) && source.slice(expStart, start).includes(\"{\")) {\r\n                interopNamedImports(\r\n                  str(),\r\n                  importSpecifier,\r\n                  url,\r\n                  index,\r\n                  importer,\r\n                  config\r\n                );\r\n                rewriteDone = true;\r\n              }\r\n              if (!rewriteDone) {\r\n                const rewrittenUrl = JSON.stringify(url);\r\n                const s2 = isDynamicImport ? start : start - 1;\r\n                const e = isDynamicImport ? end : end + 1;\r\n                str().overwrite(s2, e, rewrittenUrl, {\r\n                  contentOnly: true\r\n                });\r\n              }\r\n            }\r\n            const hmrUrl = unwrapId$1(stripBase(url, base));\r\n            const isLocalImport = !isExternalUrl(hmrUrl) && !isDataUrl(hmrUrl);\r\n            if (isLocalImport) {\r\n              orderedImportedUrls[index] = hmrUrl;\r\n            }\r\n            if (enablePartialAccept && importedBindings) {\r\n              extractImportedBindings(\r\n                resolvedId,\r\n                source,\r\n                importSpecifier,\r\n                importedBindings\r\n              );\r\n            }\r\n            if (!isDynamicImport && isLocalImport && config.server.preTransformRequests) {\r\n              const url2 = removeImportQuery(hmrUrl);\r\n              server.warmupRequest(url2, { ssr });\r\n            }\r\n          } else if (!importer.startsWith(withTrailingSlash(clientDir))) {\r\n            if (!isInNodeModules$1(importer)) {\r\n              const hasViteIgnore = hasViteIgnoreRE.test(\r\n                // complete expression inside parens\r\n                source.slice(dynamicIndex + 1, end)\r\n              );\r\n              if (!hasViteIgnore) {\r\n                this.warn(\r\n                  `\r\n` + colors$1.cyan(importerModule.file) + `\r\n` + colors$1.reset(generateCodeFrame(source, start, end)) + colors$1.yellow(\r\n                    `\r\nThe above dynamic import cannot be analyzed by Vite.\r\nSee ${colors$1.blue(\r\n                      `https://github.com/rollup/plugins/tree/master/packages/dynamic-import-vars#limitations`\r\n                    )} for supported dynamic import formats. If this is intended to be left as-is, you can use the /* @vite-ignore */ comment inside the import() call to suppress this warning.\r\n`\r\n                  )\r\n                );\r\n              }\r\n            }\r\n            if (!ssr) {\r\n              if (!urlIsStringRE.test(rawUrl) || isExplicitImportRequired(rawUrl.slice(1, -1))) {\r\n                needQueryInjectHelper = true;\r\n                str().overwrite(\r\n                  start,\r\n                  end,\r\n                  `__vite__injectQuery(${rawUrl}, 'import')`,\r\n                  { contentOnly: true }\r\n                );\r\n              }\r\n            }\r\n          }\r\n        })\r\n      );\r\n      const _orderedImportedUrls = orderedImportedUrls.filter(isDefined);\r\n      const importedUrls = new Set(_orderedImportedUrls);\r\n      const staticImportedUrls = new Set(\r\n        _orderedImportedUrls.map((url) => removeTimestampQuery(url))\r\n      );\r\n      const acceptedUrls = mergeAcceptedUrls(orderedAcceptedUrls);\r\n      const acceptedExports = mergeAcceptedUrls(orderedAcceptedExports);\r\n      const isClassicWorker = importer.includes(WORKER_FILE_ID) && importer.includes(\"type=classic\");\r\n      if (hasEnv && !isClassicWorker) {\r\n        str().prepend(getEnv(ssr));\r\n      }\r\n      if (hasHMR && !ssr && !isClassicWorker) {\r\n        debugHmr?.(\r\n          `${isSelfAccepting ? `[self-accepts]` : isPartiallySelfAccepting ? `[accepts-exports]` : acceptedUrls.size ? `[accepts-deps]` : `[detected api usage]`} ${prettifyUrl(importer, root)}`\r\n        );\r\n        str().prepend(\r\n          `import { createHotContext as __vite__createHotContext } from \"${clientPublicPath}\";import.meta.hot = __vite__createHotContext(${JSON.stringify(\r\n            normalizeHmrUrl(importerModule.url)\r\n          )});`\r\n        );\r\n      }\r\n      if (needQueryInjectHelper) {\r\n        if (isClassicWorker) {\r\n          str().append(\"\\n\" + __vite__injectQuery.toString());\r\n        } else {\r\n          str().prepend(\r\n            `import { injectQuery as __vite__injectQuery } from \"${clientPublicPath}\";`\r\n          );\r\n        }\r\n      }\r\n      const normalizedAcceptedUrls = /* @__PURE__ */ new Set();\r\n      for (const { url, start, end } of acceptedUrls) {\r\n        const [normalized] = await moduleGraph.resolveUrl(\r\n          toAbsoluteUrl(url),\r\n          ssr\r\n        );\r\n        normalizedAcceptedUrls.add(normalized);\r\n        str().overwrite(start, end, JSON.stringify(normalized), {\r\n          contentOnly: true\r\n        });\r\n      }\r\n      if (!isCSSRequest(importer) || SPECIAL_QUERY_RE.test(importer)) {\r\n        const pluginImports = this._addedImports;\r\n        if (pluginImports) {\r\n          (await Promise.all(\r\n            [...pluginImports].map((id) => normalizeUrl(id, 0, true))\r\n          )).forEach(([url]) => importedUrls.add(url));\r\n        }\r\n        if (ssr && importerModule.isSelfAccepting) {\r\n          isSelfAccepting = true;\r\n        }\r\n        if (!isSelfAccepting && isPartiallySelfAccepting && acceptedExports.size >= exports.length && exports.every((e) => acceptedExports.has(e.n))) {\r\n          isSelfAccepting = true;\r\n        }\r\n        const prunedImports = await moduleGraph.updateModuleInfo(\r\n          importerModule,\r\n          importedUrls,\r\n          importedBindings,\r\n          normalizedAcceptedUrls,\r\n          isPartiallySelfAccepting ? acceptedExports : null,\r\n          isSelfAccepting,\r\n          ssr,\r\n          staticImportedUrls\r\n        );\r\n        if (hasHMR && prunedImports) {\r\n          handlePrunedModules(prunedImports, server);\r\n        }\r\n      }\r\n      debug$1?.(\r\n        `${timeFrom(msAtStart)} ${colors$1.dim(\r\n          `[${importedUrls.size} imports rewritten] ${prettifyUrl(\r\n            importer,\r\n            root\r\n          )}`\r\n        )}`\r\n      );\r\n      if (s) {\r\n        return transformStableResult(s, importer, config);\r\n      } else {\r\n        return source;\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction mergeAcceptedUrls(orderedUrls) {\r\n  const acceptedUrls = /* @__PURE__ */ new Set();\r\n  for (const urls of orderedUrls) {\r\n    if (!urls) continue;\r\n    for (const url of urls) acceptedUrls.add(url);\r\n  }\r\n  return acceptedUrls;\r\n}\r\nfunction createParseErrorInfo(importer, source) {\r\n  const isVue = importer.endsWith(\".vue\");\r\n  const isJsx = importer.endsWith(\".jsx\") || importer.endsWith(\".tsx\");\r\n  const maybeJSX = !isVue && isJSRequest(importer);\r\n  const probablyBinary = source.includes(\r\n    \"\\uFFFD\"\r\n  );\r\n  const msg = isVue ? `Install @vitejs/plugin-vue to handle .vue files.` : maybeJSX ? isJsx ? `If you use tsconfig.json, make sure to not set jsx to preserve.` : `If you are using JSX, make sure to name the file with the .jsx or .tsx extension.` : `You may need to install appropriate plugins to handle the ${path$n.extname(\r\n    importer\r\n  )} file format, or if it's an asset, add \"**/*${path$n.extname(\r\n    importer\r\n  )}\" to \\`assetsInclude\\` in your configuration.`;\r\n  return {\r\n    message: `Failed to parse source for import analysis because the content contains invalid JS syntax. ` + msg,\r\n    showCodeFrame: !probablyBinary\r\n  };\r\n}\r\nconst interopHelper = (m) => m?.__esModule ? m : { ...typeof m === \"object\" && !Array.isArray(m) || typeof m === \"function\" ? m : {}, default: m };\r\nfunction interopNamedImports(str, importSpecifier, rewrittenUrl, importIndex, importer, config) {\r\n  const source = str.original;\r\n  const {\r\n    s: start,\r\n    e: end,\r\n    ss: expStart,\r\n    se: expEnd,\r\n    d: dynamicIndex\r\n  } = importSpecifier;\r\n  const exp = source.slice(expStart, expEnd);\r\n  if (dynamicIndex > -1) {\r\n    str.overwrite(\r\n      expStart,\r\n      expEnd,\r\n      `import('${rewrittenUrl}').then(m => (${interopHelper.toString()})(m.default))` + getLineBreaks(exp),\r\n      { contentOnly: true }\r\n    );\r\n  } else {\r\n    const rawUrl = source.slice(start, end);\r\n    const rewritten = transformCjsImport(\r\n      exp,\r\n      rewrittenUrl,\r\n      rawUrl,\r\n      importIndex,\r\n      importer,\r\n      config\r\n    );\r\n    if (rewritten) {\r\n      str.overwrite(expStart, expEnd, rewritten + getLineBreaks(exp), {\r\n        contentOnly: true\r\n      });\r\n    } else {\r\n      str.overwrite(\r\n        start,\r\n        end,\r\n        rewrittenUrl + getLineBreaks(source.slice(start, end)),\r\n        {\r\n          contentOnly: true\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\nfunction getLineBreaks(str) {\r\n  return str.includes(\"\\n\") ? \"\\n\".repeat(str.split(\"\\n\").length - 1) : \"\";\r\n}\r\nfunction transformCjsImport(importExp, url, rawUrl, importIndex, importer, config) {\r\n  const node = parseAst(importExp).body[0];\r\n  if (config.command === \"serve\" && node.type === \"ExportAllDeclaration\" && !node.exported) {\r\n    config.logger.warn(\r\n      colors$1.yellow(\r\n        `\r\nUnable to interop \\`${importExp}\\` in ${importer}, this may lose module exports. Please export \"${rawUrl}\" as ESM or use named exports instead, e.g. \\`export { A, B } from \"${rawUrl}\"\\``\r\n      )\r\n    );\r\n  } else if (node.type === \"ImportDeclaration\" || node.type === \"ExportNamedDeclaration\") {\r\n    if (!node.specifiers.length) {\r\n      return `import \"${url}\"`;\r\n    }\r\n    const importNames = [];\r\n    const exportNames = [];\r\n    let defaultExports = \"\";\r\n    for (const spec of node.specifiers) {\r\n      if (spec.type === \"ImportSpecifier\" && spec.imported.type === \"Identifier\") {\r\n        const importedName = spec.imported.name;\r\n        const localName = spec.local.name;\r\n        importNames.push({ importedName, localName });\r\n      } else if (spec.type === \"ImportDefaultSpecifier\") {\r\n        importNames.push({\r\n          importedName: \"default\",\r\n          localName: spec.local.name\r\n        });\r\n      } else if (spec.type === \"ImportNamespaceSpecifier\") {\r\n        importNames.push({ importedName: \"*\", localName: spec.local.name });\r\n      } else if (spec.type === \"ExportSpecifier\" && spec.exported.type === \"Identifier\") {\r\n        const importedName = spec.local.name;\r\n        const exportedName = spec.exported.name;\r\n        if (exportedName === \"default\") {\r\n          defaultExports = makeLegalIdentifier(\r\n            `__vite__cjsExportDefault_${importIndex}`\r\n          );\r\n          importNames.push({ importedName, localName: defaultExports });\r\n        } else {\r\n          const localName = makeLegalIdentifier(\r\n            `__vite__cjsExport_${exportedName}`\r\n          );\r\n          importNames.push({ importedName, localName });\r\n          exportNames.push(`${localName} as ${exportedName}`);\r\n        }\r\n      }\r\n    }\r\n    const cjsModuleName = makeLegalIdentifier(\r\n      `__vite__cjsImport${importIndex}_${rawUrl}`\r\n    );\r\n    const lines = [`import ${cjsModuleName} from \"${url}\"`];\r\n    importNames.forEach(({ importedName, localName }) => {\r\n      if (importedName === \"*\") {\r\n        lines.push(\r\n          `const ${localName} = (${interopHelper.toString()})(${cjsModuleName})`\r\n        );\r\n      } else if (importedName === \"default\") {\r\n        lines.push(\r\n          `const ${localName} = ${cjsModuleName}.__esModule ? ${cjsModuleName}.default : ${cjsModuleName}`\r\n        );\r\n      } else {\r\n        lines.push(`const ${localName} = ${cjsModuleName}[\"${importedName}\"]`);\r\n      }\r\n    });\r\n    if (defaultExports) {\r\n      lines.push(`export default ${defaultExports}`);\r\n    }\r\n    if (exportNames.length) {\r\n      lines.push(`export { ${exportNames.join(\", \")} }`);\r\n    }\r\n    return lines.join(\"; \");\r\n  }\r\n}\r\nfunction __vite__injectQuery(url, queryToInject) {\r\n  if (url[0] !== \".\" && url[0] !== \"/\") {\r\n    return url;\r\n  }\r\n  const pathname = url.replace(/[?#].*$/, \"\");\r\n  const { search, hash } = new URL(url, \"http://vite.dev\");\r\n  return `${pathname}?${queryToInject}${search ? `&` + search.slice(1) : \"\"}${hash || \"\"}`;\r\n}\r\n\r\nconst isModernFlag = `__VITE_IS_MODERN__`;\r\nconst preloadMethod = `__vitePreload`;\r\nconst preloadMarker = `__VITE_PRELOAD__`;\r\nconst preloadHelperId = \"\\0vite/preload-helper.js\";\r\nconst preloadMarkerRE = new RegExp(preloadMarker, \"g\");\r\nconst dynamicImportPrefixRE = /import\\s*\\(/;\r\nconst dynamicImportTreeshakenRE = /((?:\\bconst\\s+|\\blet\\s+|\\bvar\\s+|,\\s*)(\\{[^{}.=]+\\})\\s*=\\s*await\\s+import\\([^)]+\\))|(\\(\\s*await\\s+import\\([^)]+\\)\\s*\\)(\\??\\.[\\w$]+))|\\bimport\\([^)]+\\)(\\s*\\.then\\(\\s*(?:function\\s*)?\\(\\s*\\{([^{}.=]+)\\}\\))/g;\r\nfunction toRelativePath(filename, importer) {\r\n  const relPath = path$n.posix.relative(path$n.posix.dirname(importer), filename);\r\n  return relPath[0] === \".\" ? relPath : `./${relPath}`;\r\n}\r\nfunction indexOfMatchInSlice(str, reg, pos = 0) {\r\n  reg.lastIndex = pos;\r\n  const result = reg.exec(str);\r\n  return result?.index ?? -1;\r\n}\r\nfunction detectScriptRel() {\r\n  const relList = typeof document !== \"undefined\" && document.createElement(\"link\").relList;\r\n  return relList && relList.supports && relList.supports(\"modulepreload\") ? \"modulepreload\" : \"preload\";\r\n}\r\nfunction preload(baseModule, deps, importerUrl) {\r\n  let promise = Promise.resolve();\r\n  if (__VITE_IS_MODERN__ && deps && deps.length > 0) {\r\n    const links = document.getElementsByTagName(\"link\");\r\n    const cspNonceMeta = document.querySelector(\r\n      \"meta[property=csp-nonce]\"\r\n    );\r\n    const cspNonce = cspNonceMeta?.nonce || cspNonceMeta?.getAttribute(\"nonce\");\r\n    promise = Promise.allSettled(\r\n      deps.map((dep) => {\r\n        dep = assetsURL(dep, importerUrl);\r\n        if (dep in seen) return;\r\n        seen[dep] = true;\r\n        const isCss = dep.endsWith(\".css\");\r\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : \"\";\r\n        const isBaseRelative = !!importerUrl;\r\n        if (isBaseRelative) {\r\n          for (let i = links.length - 1; i >= 0; i--) {\r\n            const link2 = links[i];\r\n            if (link2.href === dep && (!isCss || link2.rel === \"stylesheet\")) {\r\n              return;\r\n            }\r\n          }\r\n        } else if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\r\n          return;\r\n        }\r\n        const link = document.createElement(\"link\");\r\n        link.rel = isCss ? \"stylesheet\" : scriptRel;\r\n        if (!isCss) {\r\n          link.as = \"script\";\r\n        }\r\n        link.crossOrigin = \"\";\r\n        link.href = dep;\r\n        if (cspNonce) {\r\n          link.setAttribute(\"nonce\", cspNonce);\r\n        }\r\n        document.head.appendChild(link);\r\n        if (isCss) {\r\n          return new Promise((res, rej) => {\r\n            link.addEventListener(\"load\", res);\r\n            link.addEventListener(\r\n              \"error\",\r\n              () => rej(new Error(`Unable to preload CSS for ${dep}`))\r\n            );\r\n          });\r\n        }\r\n      })\r\n    );\r\n  }\r\n  function handlePreloadError(err) {\r\n    const e = new Event(\"vite:preloadError\", {\r\n      cancelable: true\r\n    });\r\n    e.payload = err;\r\n    window.dispatchEvent(e);\r\n    if (!e.defaultPrevented) {\r\n      throw err;\r\n    }\r\n  }\r\n  return promise.then((res) => {\r\n    for (const item of res || []) {\r\n      if (item.status !== \"rejected\") continue;\r\n      handlePreloadError(item.reason);\r\n    }\r\n    return baseModule().catch(handlePreloadError);\r\n  });\r\n}\r\nfunction buildImportAnalysisPlugin(config) {\r\n  const ssr = !!config.build.ssr;\r\n  const isWorker = config.isWorker;\r\n  const insertPreload = !(ssr || !!config.build.lib || isWorker);\r\n  const renderBuiltUrl = config.experimental.renderBuiltUrl;\r\n  const isRelativeBase = config.base === \"./\" || config.base === \"\";\r\n  const { modulePreload } = config.build;\r\n  const scriptRel2 = modulePreload && modulePreload.polyfill ? `'modulepreload'` : `(${detectScriptRel.toString()})()`;\r\n  const assetsURL2 = renderBuiltUrl || isRelativeBase ? (\r\n    // If `experimental.renderBuiltUrl` is used, the dependencies might be relative to the current chunk.\r\n    // If relative base is used, the dependencies are relative to the current chunk.\r\n    // The importerUrl is passed as third parameter to __vitePreload in this case\r\n    `function(dep, importerUrl) { return new URL(dep, importerUrl).href }`\r\n  ) : (\r\n    // If the base isn't relative, then the deps are relative to the projects `outDir` and the base\r\n    // is appended inside __vitePreload too.\r\n    `function(dep) { return ${JSON.stringify(config.base)}+dep }`\r\n  );\r\n  const preloadCode = `const scriptRel = ${scriptRel2};const assetsURL = ${assetsURL2};const seen = {};export const ${preloadMethod} = ${preload.toString()}`;\r\n  return {\r\n    name: \"vite:build-import-analysis\",\r\n    resolveId(id) {\r\n      if (id === preloadHelperId) {\r\n        return id;\r\n      }\r\n    },\r\n    load(id) {\r\n      if (id === preloadHelperId) {\r\n        return preloadCode;\r\n      }\r\n    },\r\n    async transform(source, importer) {\r\n      if (isInNodeModules$1(importer) && !dynamicImportPrefixRE.test(source)) {\r\n        return;\r\n      }\r\n      await init;\r\n      let imports = [];\r\n      try {\r\n        imports = parse$d(source)[0];\r\n      } catch (_e) {\r\n        const e = _e;\r\n        const { message, showCodeFrame } = createParseErrorInfo(\r\n          importer,\r\n          source\r\n        );\r\n        this.error(message, showCodeFrame ? e.idx : void 0);\r\n      }\r\n      if (!imports.length) {\r\n        return null;\r\n      }\r\n      const dynamicImports = {};\r\n      if (insertPreload) {\r\n        let match;\r\n        while (match = dynamicImportTreeshakenRE.exec(source)) {\r\n          if (match[1]) {\r\n            dynamicImports[dynamicImportTreeshakenRE.lastIndex] = {\r\n              declaration: `const ${match[2]}`,\r\n              names: match[2]?.trim()\r\n            };\r\n            continue;\r\n          }\r\n          if (match[3]) {\r\n            let names2 = /\\.([^.?]+)/.exec(match[4])?.[1] || \"\";\r\n            if (names2 === \"default\") {\r\n              names2 = \"default: __vite_default__\";\r\n            }\r\n            dynamicImports[dynamicImportTreeshakenRE.lastIndex - match[4]?.length - 1] = { declaration: `const {${names2}}`, names: `{ ${names2} }` };\r\n            continue;\r\n          }\r\n          const names = match[6]?.trim();\r\n          dynamicImports[dynamicImportTreeshakenRE.lastIndex - match[5]?.length] = { declaration: `const {${names}}`, names: `{ ${names} }` };\r\n        }\r\n      }\r\n      let s;\r\n      const str = () => s || (s = new MagicString(source));\r\n      let needPreloadHelper = false;\r\n      for (let index = 0; index < imports.length; index++) {\r\n        const {\r\n          s: start,\r\n          e: end,\r\n          ss: expStart,\r\n          se: expEnd,\r\n          d: dynamicIndex,\r\n          a: attributeIndex\r\n        } = imports[index];\r\n        const isDynamicImport = dynamicIndex > -1;\r\n        if (!isDynamicImport && attributeIndex > -1) {\r\n          str().remove(end + 1, expEnd);\r\n        }\r\n        if (isDynamicImport && insertPreload && // Only preload static urls\r\n        (source[start] === '\"' || source[start] === \"'\" || source[start] === \"`\")) {\r\n          needPreloadHelper = true;\r\n          const { declaration, names } = dynamicImports[expEnd] || {};\r\n          if (names) {\r\n            str().prependLeft(\r\n              expStart,\r\n              `${preloadMethod}(async () => { ${declaration} = await `\r\n            );\r\n            str().appendRight(expEnd, `;return ${names}}`);\r\n          } else {\r\n            str().prependLeft(expStart, `${preloadMethod}(() => `);\r\n          }\r\n          str().appendRight(\r\n            expEnd,\r\n            `,${isModernFlag}?${preloadMarker}:void 0${renderBuiltUrl || isRelativeBase ? \",import.meta.url\" : \"\"})`\r\n          );\r\n        }\r\n      }\r\n      if (needPreloadHelper && insertPreload && !source.includes(`const ${preloadMethod} =`)) {\r\n        str().prepend(`import { ${preloadMethod} } from \"${preloadHelperId}\";`);\r\n      }\r\n      if (s) {\r\n        return {\r\n          code: s.toString(),\r\n          map: config.build.sourcemap ? s.generateMap({ hires: \"boundary\" }) : null\r\n        };\r\n      }\r\n    },\r\n    renderChunk(code, _, { format }) {\r\n      if (code.indexOf(isModernFlag) > -1) {\r\n        const re = new RegExp(isModernFlag, \"g\");\r\n        const isModern = String(format === \"es\");\r\n        if (config.build.sourcemap) {\r\n          const s = new MagicString(code);\r\n          let match;\r\n          while (match = re.exec(code)) {\r\n            s.update(match.index, match.index + isModernFlag.length, isModern);\r\n          }\r\n          return {\r\n            code: s.toString(),\r\n            map: s.generateMap({ hires: \"boundary\" })\r\n          };\r\n        } else {\r\n          return code.replace(re, isModern);\r\n        }\r\n      }\r\n      return null;\r\n    },\r\n    generateBundle({ format }, bundle) {\r\n      if (format !== \"es\") {\r\n        return;\r\n      }\r\n      if (!insertPreload) {\r\n        const removedPureCssFiles = removedPureCssFilesCache.get(config);\r\n        if (removedPureCssFiles && removedPureCssFiles.size > 0) {\r\n          for (const file in bundle) {\r\n            const chunk = bundle[file];\r\n            if (chunk.type === \"chunk\" && chunk.code.includes(\"import\")) {\r\n              const code = chunk.code;\r\n              let imports;\r\n              try {\r\n                imports = parse$d(code)[0].filter((i) => i.d > -1);\r\n              } catch (e) {\r\n                const loc = numberToPos(code, e.idx);\r\n                this.error({\r\n                  name: e.name,\r\n                  message: e.message,\r\n                  stack: e.stack,\r\n                  cause: e.cause,\r\n                  pos: e.idx,\r\n                  loc: { ...loc, file: chunk.fileName },\r\n                  frame: generateCodeFrame(code, loc)\r\n                });\r\n              }\r\n              for (const imp of imports) {\r\n                const {\r\n                  n: name,\r\n                  s: start,\r\n                  e: end,\r\n                  ss: expStart,\r\n                  se: expEnd\r\n                } = imp;\r\n                let url = name;\r\n                if (!url) {\r\n                  const rawUrl = code.slice(start, end);\r\n                  if (rawUrl[0] === `\"` && rawUrl[rawUrl.length - 1] === `\"`)\r\n                    url = rawUrl.slice(1, -1);\r\n                }\r\n                if (!url) continue;\r\n                const normalizedFile = path$n.posix.join(\r\n                  path$n.posix.dirname(chunk.fileName),\r\n                  url\r\n                );\r\n                if (removedPureCssFiles.has(normalizedFile)) {\r\n                  chunk.code = chunk.code.slice(0, expStart) + `Promise.resolve({${\"\".padEnd(expEnd - expStart - 19, \" \")}})` + chunk.code.slice(expEnd);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return;\r\n      }\r\n      for (const file in bundle) {\r\n        const chunk = bundle[file];\r\n        if (chunk.type === \"chunk\" && chunk.code.indexOf(preloadMarker) > -1) {\r\n          const code = chunk.code;\r\n          let imports;\r\n          try {\r\n            imports = parse$d(code)[0].filter((i) => i.d > -1);\r\n          } catch (e) {\r\n            const loc = numberToPos(code, e.idx);\r\n            this.error({\r\n              name: e.name,\r\n              message: e.message,\r\n              stack: e.stack,\r\n              cause: e.cause,\r\n              pos: e.idx,\r\n              loc: { ...loc, file: chunk.fileName },\r\n              frame: generateCodeFrame(code, loc)\r\n            });\r\n          }\r\n          const s = new MagicString(code);\r\n          const rewroteMarkerStartPos = /* @__PURE__ */ new Set();\r\n          const fileDeps = [];\r\n          const addFileDep = (url, runtime = false) => {\r\n            const index = fileDeps.findIndex((dep) => dep.url === url);\r\n            if (index === -1) {\r\n              return fileDeps.push({ url, runtime }) - 1;\r\n            } else {\r\n              return index;\r\n            }\r\n          };\r\n          if (imports.length) {\r\n            for (let index = 0; index < imports.length; index++) {\r\n              const {\r\n                n: name,\r\n                s: start,\r\n                e: end,\r\n                ss: expStart,\r\n                se: expEnd\r\n              } = imports[index];\r\n              let url = name;\r\n              if (!url) {\r\n                const rawUrl = code.slice(start, end);\r\n                if (rawUrl[0] === `\"` && rawUrl[rawUrl.length - 1] === `\"`)\r\n                  url = rawUrl.slice(1, -1);\r\n              }\r\n              const deps = /* @__PURE__ */ new Set();\r\n              let hasRemovedPureCssChunk = false;\r\n              let normalizedFile = void 0;\r\n              if (url) {\r\n                normalizedFile = path$n.posix.join(\r\n                  path$n.posix.dirname(chunk.fileName),\r\n                  url\r\n                );\r\n                const ownerFilename = chunk.fileName;\r\n                const analyzed = /* @__PURE__ */ new Set();\r\n                const addDeps = (filename) => {\r\n                  if (filename === ownerFilename) return;\r\n                  if (analyzed.has(filename)) return;\r\n                  analyzed.add(filename);\r\n                  const chunk2 = bundle[filename];\r\n                  if (chunk2) {\r\n                    deps.add(chunk2.fileName);\r\n                    if (chunk2.type === \"chunk\") {\r\n                      chunk2.imports.forEach(addDeps);\r\n                      chunk2.viteMetadata.importedCss.forEach((file2) => {\r\n                        deps.add(file2);\r\n                      });\r\n                    }\r\n                  } else {\r\n                    const removedPureCssFiles = removedPureCssFilesCache.get(config);\r\n                    const chunk3 = removedPureCssFiles.get(filename);\r\n                    if (chunk3) {\r\n                      if (chunk3.viteMetadata.importedCss.size) {\r\n                        chunk3.viteMetadata.importedCss.forEach((file2) => {\r\n                          deps.add(file2);\r\n                        });\r\n                        hasRemovedPureCssChunk = true;\r\n                      }\r\n                      s.update(expStart, expEnd, \"Promise.resolve({})\");\r\n                    }\r\n                  }\r\n                };\r\n                addDeps(normalizedFile);\r\n              }\r\n              let markerStartPos2 = indexOfMatchInSlice(\r\n                code,\r\n                preloadMarkerRE,\r\n                end\r\n              );\r\n              if (markerStartPos2 === -1 && imports.length === 1) {\r\n                markerStartPos2 = indexOfMatchInSlice(code, preloadMarkerRE);\r\n              }\r\n              if (markerStartPos2 > 0) {\r\n                let depsArray = deps.size > 1 || // main chunk is removed\r\n                hasRemovedPureCssChunk && deps.size > 0 ? modulePreload === false ? (\r\n                  // CSS deps use the same mechanism as module preloads, so even if disabled,\r\n                  // we still need to pass these deps to the preload helper in dynamic imports.\r\n                  [...deps].filter((d) => d.endsWith(\".css\"))\r\n                ) : [...deps] : [];\r\n                const resolveDependencies = modulePreload ? modulePreload.resolveDependencies : void 0;\r\n                if (resolveDependencies && normalizedFile) {\r\n                  const cssDeps = [];\r\n                  const otherDeps = [];\r\n                  for (const dep of depsArray) {\r\n                    (dep.endsWith(\".css\") ? cssDeps : otherDeps).push(dep);\r\n                  }\r\n                  depsArray = [\r\n                    ...resolveDependencies(normalizedFile, otherDeps, {\r\n                      hostId: file,\r\n                      hostType: \"js\"\r\n                    }),\r\n                    ...cssDeps\r\n                  ];\r\n                }\r\n                let renderedDeps;\r\n                if (renderBuiltUrl) {\r\n                  renderedDeps = depsArray.map((dep) => {\r\n                    const replacement = toOutputFilePathInJS(\r\n                      dep,\r\n                      \"asset\",\r\n                      chunk.fileName,\r\n                      \"js\",\r\n                      config,\r\n                      toRelativePath\r\n                    );\r\n                    if (typeof replacement === \"string\") {\r\n                      return addFileDep(replacement);\r\n                    }\r\n                    return addFileDep(replacement.runtime, true);\r\n                  });\r\n                } else {\r\n                  renderedDeps = depsArray.map(\r\n                    (d) => (\r\n                      // Don't include the assets dir if the default asset file names\r\n                      // are used, the path will be reconstructed by the import preload helper\r\n                      isRelativeBase ? addFileDep(toRelativePath(d, file)) : addFileDep(d)\r\n                    )\r\n                  );\r\n                }\r\n                s.update(\r\n                  markerStartPos2,\r\n                  markerStartPos2 + preloadMarker.length,\r\n                  renderedDeps.length > 0 ? `__vite__mapDeps([${renderedDeps.join(\",\")}])` : `[]`\r\n                );\r\n                rewroteMarkerStartPos.add(markerStartPos2);\r\n              }\r\n            }\r\n          }\r\n          if (fileDeps.length > 0) {\r\n            const fileDepsCode = `[${fileDeps.map(\r\n              (fileDep) => fileDep.runtime ? fileDep.url : JSON.stringify(fileDep.url)\r\n            ).join(\",\")}]`;\r\n            const mapDepsCode = `const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=${fileDepsCode})))=>i.map(i=>d[i]);\r\n`;\r\n            if (code.startsWith(\"#!\")) {\r\n              s.prependLeft(code.indexOf(\"\\n\") + 1, mapDepsCode);\r\n            } else {\r\n              s.prepend(mapDepsCode);\r\n            }\r\n          }\r\n          let markerStartPos = indexOfMatchInSlice(code, preloadMarkerRE);\r\n          while (markerStartPos >= 0) {\r\n            if (!rewroteMarkerStartPos.has(markerStartPos)) {\r\n              s.update(\r\n                markerStartPos,\r\n                markerStartPos + preloadMarker.length,\r\n                \"void 0\"\r\n              );\r\n            }\r\n            markerStartPos = indexOfMatchInSlice(\r\n              code,\r\n              preloadMarkerRE,\r\n              markerStartPos + preloadMarker.length\r\n            );\r\n          }\r\n          if (s.hasChanged()) {\r\n            chunk.code = s.toString();\r\n            if (config.build.sourcemap && chunk.map) {\r\n              const nextMap = s.generateMap({\r\n                source: chunk.fileName,\r\n                hires: \"boundary\"\r\n              });\r\n              const map = combineSourcemaps(chunk.fileName, [\r\n                nextMap,\r\n                chunk.map\r\n              ]);\r\n              map.toUrl = () => genSourceMapUrl(map);\r\n              chunk.map = map;\r\n              if (config.build.sourcemap === \"inline\") {\r\n                chunk.code = chunk.code.replace(\r\n                  convertSourceMap.mapFileCommentRegex,\r\n                  \"\"\r\n                );\r\n                chunk.code += `\r\n//# sourceMappingURL=${genSourceMapUrl(map)}`;\r\n              } else if (config.build.sourcemap) {\r\n                const mapAsset = bundle[chunk.fileName + \".map\"];\r\n                if (mapAsset && mapAsset.type === \"asset\") {\r\n                  mapAsset.source = map.toString();\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction ssrManifestPlugin(config) {\r\n  const ssrManifest = {};\r\n  const base = config.base;\r\n  return {\r\n    name: \"vite:ssr-manifest\",\r\n    generateBundle(_options, bundle) {\r\n      for (const file in bundle) {\r\n        const chunk = bundle[file];\r\n        if (chunk.type === \"chunk\") {\r\n          for (const id in chunk.modules) {\r\n            const normalizedId = normalizePath$3(relative$2(config.root, id));\r\n            const mappedChunks = ssrManifest[normalizedId] ?? (ssrManifest[normalizedId] = []);\r\n            if (!chunk.isEntry) {\r\n              mappedChunks.push(joinUrlSegments(base, chunk.fileName));\r\n              chunk.viteMetadata.importedCss.forEach((file2) => {\r\n                mappedChunks.push(joinUrlSegments(base, file2));\r\n              });\r\n            }\r\n            chunk.viteMetadata.importedAssets.forEach((file2) => {\r\n              mappedChunks.push(joinUrlSegments(base, file2));\r\n            });\r\n          }\r\n          if (chunk.code.includes(preloadMethod)) {\r\n            const code = chunk.code;\r\n            let imports = [];\r\n            try {\r\n              imports = parse$d(code)[0].filter((i) => i.n && i.d > -1);\r\n            } catch (_e) {\r\n              const e = _e;\r\n              const loc = numberToPos(code, e.idx);\r\n              this.error({\r\n                name: e.name,\r\n                message: e.message,\r\n                stack: e.stack,\r\n                cause: e.cause,\r\n                pos: e.idx,\r\n                loc: { ...loc, file: chunk.fileName },\r\n                frame: generateCodeFrame(code, loc)\r\n              });\r\n            }\r\n            if (imports.length) {\r\n              for (let index = 0; index < imports.length; index++) {\r\n                const { s: start, e: end, n: name } = imports[index];\r\n                const url = code.slice(start, end);\r\n                const deps = [];\r\n                const ownerFilename = chunk.fileName;\r\n                const analyzed = /* @__PURE__ */ new Set();\r\n                const addDeps = (filename) => {\r\n                  if (filename === ownerFilename) return;\r\n                  if (analyzed.has(filename)) return;\r\n                  analyzed.add(filename);\r\n                  const chunk2 = bundle[filename];\r\n                  if (chunk2) {\r\n                    chunk2.viteMetadata.importedCss.forEach((file2) => {\r\n                      deps.push(joinUrlSegments(base, file2));\r\n                    });\r\n                    chunk2.imports.forEach(addDeps);\r\n                  }\r\n                };\r\n                const normalizedFile = normalizePath$3(\r\n                  join$2(dirname$2(chunk.fileName), url.slice(1, -1))\r\n                );\r\n                addDeps(normalizedFile);\r\n                ssrManifest[basename$2(name)] = deps;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.emitFile({\r\n        fileName: typeof config.build.ssrManifest === \"string\" ? config.build.ssrManifest : \".vite/ssr-manifest.json\",\r\n        type: \"asset\",\r\n        source: JSON.stringify(sortObjectKeys(ssrManifest), void 0, 2)\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\nfunction loadFallbackPlugin() {\r\n  return {\r\n    name: \"vite:load-fallback\",\r\n    async load(id) {\r\n      try {\r\n        const cleanedId = cleanUrl(id);\r\n        const content = await fsp.readFile(cleanedId, \"utf-8\");\r\n        this.addWatchFile(cleanedId);\r\n        return content;\r\n      } catch (e) {\r\n        const content = await fsp.readFile(id, \"utf-8\");\r\n        this.addWatchFile(id);\r\n        return content;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction completeSystemWrapPlugin() {\r\n  const SystemJSWrapRE = /System.register\\(.*?(\\(exports\\)|\\(\\))/g;\r\n  return {\r\n    name: \"vite:force-systemjs-wrap-complete\",\r\n    renderChunk(code, chunk, opts) {\r\n      if (opts.format === \"system\") {\r\n        return {\r\n          code: code.replace(\r\n            SystemJSWrapRE,\r\n            (s, s1) => s.replace(s1, \"(exports, module)\")\r\n          ),\r\n          map: null\r\n        };\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction resolveBuildOptions(raw, logger, root) {\r\n  const deprecatedPolyfillModulePreload = raw?.polyfillModulePreload;\r\n  if (raw) {\r\n    const { polyfillModulePreload, ...rest } = raw;\r\n    raw = rest;\r\n    if (deprecatedPolyfillModulePreload !== void 0) {\r\n      logger.warn(\r\n        \"polyfillModulePreload is deprecated. Use modulePreload.polyfill instead.\"\r\n      );\r\n    }\r\n    if (deprecatedPolyfillModulePreload === false && raw.modulePreload === void 0) {\r\n      raw.modulePreload = { polyfill: false };\r\n    }\r\n  }\r\n  const modulePreload = raw?.modulePreload;\r\n  const defaultModulePreload = {\r\n    polyfill: true\r\n  };\r\n  const defaultBuildOptions = {\r\n    outDir: \"dist\",\r\n    assetsDir: \"assets\",\r\n    assetsInlineLimit: DEFAULT_ASSETS_INLINE_LIMIT,\r\n    cssCodeSplit: !raw?.lib,\r\n    sourcemap: false,\r\n    rollupOptions: {},\r\n    minify: raw?.ssr ? false : \"esbuild\",\r\n    terserOptions: {},\r\n    write: true,\r\n    emptyOutDir: null,\r\n    copyPublicDir: true,\r\n    manifest: false,\r\n    lib: false,\r\n    ssr: false,\r\n    ssrManifest: false,\r\n    ssrEmitAssets: false,\r\n    reportCompressedSize: true,\r\n    chunkSizeWarningLimit: 500,\r\n    watch: null\r\n  };\r\n  const userBuildOptions = raw ? mergeConfig(defaultBuildOptions, raw) : defaultBuildOptions;\r\n  const resolved = {\r\n    target: \"modules\",\r\n    cssTarget: false,\r\n    ...userBuildOptions,\r\n    commonjsOptions: {\r\n      include: [/node_modules/],\r\n      extensions: [\".js\", \".cjs\"],\r\n      ...userBuildOptions.commonjsOptions\r\n    },\r\n    dynamicImportVarsOptions: {\r\n      warnOnError: true,\r\n      exclude: [/node_modules/],\r\n      ...userBuildOptions.dynamicImportVarsOptions\r\n    },\r\n    // Resolve to false | object\r\n    modulePreload: modulePreload === false ? false : typeof modulePreload === \"object\" ? {\r\n      ...defaultModulePreload,\r\n      ...modulePreload\r\n    } : defaultModulePreload\r\n  };\r\n  if (resolved.target === \"modules\") {\r\n    resolved.target = ESBUILD_MODULES_TARGET;\r\n  } else if (resolved.target === \"esnext\" && resolved.minify === \"terser\") {\r\n    try {\r\n      const terserPackageJsonPath = requireResolveFromRootWithFallback(\r\n        root,\r\n        \"terser/package.json\"\r\n      );\r\n      const terserPackageJson = JSON.parse(\r\n        fs__default.readFileSync(terserPackageJsonPath, \"utf-8\")\r\n      );\r\n      const v = terserPackageJson.version.split(\".\");\r\n      if (v[0] === \"5\" && v[1] < 16) {\r\n        resolved.target = \"es2021\";\r\n      }\r\n    } catch {\r\n    }\r\n  }\r\n  if (!resolved.cssTarget) {\r\n    resolved.cssTarget = resolved.target;\r\n  }\r\n  if (resolved.minify === \"false\") {\r\n    resolved.minify = false;\r\n  } else if (resolved.minify === true) {\r\n    resolved.minify = \"esbuild\";\r\n  }\r\n  if (resolved.cssMinify == null) {\r\n    resolved.cssMinify = !!resolved.minify;\r\n  }\r\n  return resolved;\r\n}\r\nasync function resolveBuildPlugins(config) {\r\n  const options = config.build;\r\n  const { commonjsOptions } = options;\r\n  const usePluginCommonjs = !Array.isArray(commonjsOptions?.include) || commonjsOptions?.include.length !== 0;\r\n  const rollupOptionsPlugins = options.rollupOptions.plugins;\r\n  return {\r\n    pre: [\r\n      completeSystemWrapPlugin(),\r\n      ...usePluginCommonjs ? [commonjs(options.commonjsOptions)] : [],\r\n      dataURIPlugin(),\r\n      ...(await asyncFlatten(arraify(rollupOptionsPlugins))).filter(\r\n        Boolean\r\n      ),\r\n      ...config.isWorker ? [webWorkerPostPlugin()] : []\r\n    ],\r\n    post: [\r\n      buildImportAnalysisPlugin(config),\r\n      ...config.esbuild !== false ? [buildEsbuildPlugin(config)] : [],\r\n      ...options.minify ? [terserPlugin(config)] : [],\r\n      ...!config.isWorker ? [\r\n        ...options.manifest ? [manifestPlugin(config)] : [],\r\n        ...options.ssrManifest ? [ssrManifestPlugin(config)] : [],\r\n        buildReporterPlugin(config)\r\n      ] : [],\r\n      loadFallbackPlugin()\r\n    ]\r\n  };\r\n}\r\nasync function build(inlineConfig = {}) {\r\n  const config = await resolveConfig(\r\n    inlineConfig,\r\n    \"build\",\r\n    \"production\",\r\n    \"production\"\r\n  );\r\n  const options = config.build;\r\n  const { root, logger, packageCache } = config;\r\n  const ssr = !!options.ssr;\r\n  const libOptions = options.lib;\r\n  logger.info(\r\n    colors$1.cyan(\r\n      `vite v${VERSION} ${colors$1.green(\r\n        `building ${ssr ? `SSR bundle ` : ``}for ${config.mode}...`\r\n      )}`\r\n    )\r\n  );\r\n  const resolve = (p) => path$n.resolve(root, p);\r\n  const input = libOptions ? options.rollupOptions?.input || (typeof libOptions.entry === \"string\" ? resolve(libOptions.entry) : Array.isArray(libOptions.entry) ? libOptions.entry.map(resolve) : Object.fromEntries(\r\n    Object.entries(libOptions.entry).map(([alias, file]) => [\r\n      alias,\r\n      resolve(file)\r\n    ])\r\n  )) : typeof options.ssr === \"string\" ? resolve(options.ssr) : options.rollupOptions?.input || resolve(\"index.html\");\r\n  if (ssr && typeof input === \"string\" && input.endsWith(\".html\")) {\r\n    throw new Error(\r\n      `rollupOptions.input should not be an html file when building for SSR. Please specify a dedicated SSR entry.`\r\n    );\r\n  }\r\n  if (config.build.cssCodeSplit === false) {\r\n    const inputs = typeof input === \"string\" ? [input] : Array.isArray(input) ? input : Object.values(input);\r\n    if (inputs.some((input2) => input2.endsWith(\".css\"))) {\r\n      throw new Error(\r\n        `When \"build.cssCodeSplit: false\" is set, \"rollupOptions.input\" should not include CSS files.`\r\n      );\r\n    }\r\n  }\r\n  const outDir = resolve(options.outDir);\r\n  const plugins = ssr ? config.plugins.map((p) => injectSsrFlagToHooks(p)) : config.plugins;\r\n  const rollupOptions = {\r\n    preserveEntrySignatures: ssr ? \"allow-extension\" : libOptions ? \"strict\" : false,\r\n    cache: config.build.watch ? void 0 : false,\r\n    ...options.rollupOptions,\r\n    input,\r\n    plugins,\r\n    external: options.rollupOptions?.external,\r\n    onwarn(warning, warn) {\r\n      onRollupWarning(warning, warn, config);\r\n    }\r\n  };\r\n  function extractStack(e) {\r\n    const { stack, name = \"Error\", message } = e;\r\n    if (!stack) {\r\n      return stack;\r\n    }\r\n    const expectedPrefix = `${name}: ${message}\r\n`;\r\n    if (stack.startsWith(expectedPrefix)) {\r\n      return stack.slice(expectedPrefix.length);\r\n    }\r\n    return stack;\r\n  }\r\n  const normalizeCodeFrame = (frame) => {\r\n    const trimmedPadding = frame.replace(/^\\n|\\n$/g, \"\");\r\n    return `\r\n${trimmedPadding}\r\n`;\r\n  };\r\n  const enhanceRollupError = (e) => {\r\n    const stackOnly = extractStack(e);\r\n    let msg = colors$1.red((e.plugin ? `[${e.plugin}] ` : \"\") + e.message);\r\n    if (e.id) {\r\n      msg += `\r\nfile: ${colors$1.cyan(\r\n        e.id + (e.loc ? `:${e.loc.line}:${e.loc.column}` : \"\")\r\n      )}`;\r\n    }\r\n    if (e.frame) {\r\n      msg += `\r\n` + colors$1.yellow(normalizeCodeFrame(e.frame));\r\n    }\r\n    e.message = msg;\r\n    if (stackOnly !== void 0) {\r\n      e.stack = `${e.message}\r\n${stackOnly}`;\r\n    }\r\n  };\r\n  const outputBuildError = (e) => {\r\n    enhanceRollupError(e);\r\n    clearLine();\r\n    logger.error(e.message, { error: e });\r\n  };\r\n  let bundle;\r\n  let startTime;\r\n  try {\r\n    const buildOutputOptions = (output = {}) => {\r\n      if (output.output) {\r\n        logger.warn(\r\n          `You've set \"rollupOptions.output.output\" in your config. This is deprecated and will override all Vite.js default output options. Please use \"rollupOptions.output\" instead.`\r\n        );\r\n      }\r\n      if (output.file) {\r\n        throw new Error(\r\n          `Vite does not support \"rollupOptions.output.file\". Please use \"rollupOptions.output.dir\" and \"rollupOptions.output.entryFileNames\" instead.`\r\n        );\r\n      }\r\n      if (output.sourcemap) {\r\n        logger.warnOnce(\r\n          colors$1.yellow(\r\n            `Vite does not support \"rollupOptions.output.sourcemap\". Please use \"build.sourcemap\" instead.`\r\n          )\r\n        );\r\n      }\r\n      const ssrNodeBuild = ssr && config.ssr.target === \"node\";\r\n      const ssrWorkerBuild = ssr && config.ssr.target === \"webworker\";\r\n      const format = output.format || \"es\";\r\n      const jsExt = ssrNodeBuild || libOptions ? resolveOutputJsExtension(\r\n        format,\r\n        findNearestPackageData(root, packageCache)?.data.type\r\n      ) : \"js\";\r\n      return {\r\n        dir: outDir,\r\n        // Default format is 'es' for regular and for SSR builds\r\n        format,\r\n        exports: \"auto\",\r\n        sourcemap: options.sourcemap,\r\n        name: libOptions ? libOptions.name : void 0,\r\n        hoistTransitiveImports: libOptions ? false : void 0,\r\n        // es2015 enables `generatedCode.symbols`\r\n        // - #764 add `Symbol.toStringTag` when build es module into cjs chunk\r\n        // - #1048 add `Symbol.toStringTag` for module default export\r\n        generatedCode: \"es2015\",\r\n        entryFileNames: ssr ? `[name].${jsExt}` : libOptions ? ({ name }) => resolveLibFilename(\r\n          libOptions,\r\n          format,\r\n          name,\r\n          root,\r\n          jsExt,\r\n          packageCache\r\n        ) : path$n.posix.join(options.assetsDir, `[name]-[hash].${jsExt}`),\r\n        chunkFileNames: libOptions ? `[name]-[hash].${jsExt}` : path$n.posix.join(options.assetsDir, `[name]-[hash].${jsExt}`),\r\n        assetFileNames: libOptions ? `[name].[ext]` : path$n.posix.join(options.assetsDir, `[name]-[hash].[ext]`),\r\n        inlineDynamicImports: output.format === \"umd\" || output.format === \"iife\" || ssrWorkerBuild && (typeof input === \"string\" || Object.keys(input).length === 1),\r\n        ...output\r\n      };\r\n    };\r\n    const outputs = resolveBuildOutputs(\r\n      options.rollupOptions?.output,\r\n      libOptions,\r\n      logger\r\n    );\r\n    const normalizedOutputs = [];\r\n    if (Array.isArray(outputs)) {\r\n      for (const resolvedOutput of outputs) {\r\n        normalizedOutputs.push(buildOutputOptions(resolvedOutput));\r\n      }\r\n    } else {\r\n      normalizedOutputs.push(buildOutputOptions(outputs));\r\n    }\r\n    const resolvedOutDirs = getResolvedOutDirs(\r\n      root,\r\n      options.outDir,\r\n      options.rollupOptions?.output\r\n    );\r\n    const emptyOutDir = resolveEmptyOutDir(\r\n      options.emptyOutDir,\r\n      root,\r\n      resolvedOutDirs,\r\n      logger\r\n    );\r\n    if (config.build.watch) {\r\n      logger.info(colors$1.cyan(`\r\nwatching for file changes...`));\r\n      const resolvedChokidarOptions = resolveChokidarOptions(\r\n        config.build.watch.chokidar,\r\n        resolvedOutDirs,\r\n        emptyOutDir,\r\n        config.cacheDir\r\n      );\r\n      const { watch } = await import('rollup');\r\n      const watcher = watch({\r\n        ...rollupOptions,\r\n        output: normalizedOutputs,\r\n        watch: {\r\n          ...config.build.watch,\r\n          chokidar: resolvedChokidarOptions\r\n        }\r\n      });\r\n      watcher.on(\"event\", (event) => {\r\n        if (event.code === \"BUNDLE_START\") {\r\n          logger.info(colors$1.cyan(`\r\nbuild started...`));\r\n          if (options.write) {\r\n            prepareOutDir(resolvedOutDirs, emptyOutDir, config);\r\n          }\r\n        } else if (event.code === \"BUNDLE_END\") {\r\n          event.result.close();\r\n          logger.info(colors$1.cyan(`built in ${event.duration}ms.`));\r\n        } else if (event.code === \"ERROR\") {\r\n          outputBuildError(event.error);\r\n        }\r\n      });\r\n      return watcher;\r\n    }\r\n    const { rollup } = await import('rollup');\r\n    startTime = Date.now();\r\n    bundle = await rollup(rollupOptions);\r\n    if (options.write) {\r\n      prepareOutDir(resolvedOutDirs, emptyOutDir, config);\r\n    }\r\n    const res = [];\r\n    for (const output of normalizedOutputs) {\r\n      res.push(await bundle[options.write ? \"write\" : \"generate\"](output));\r\n    }\r\n    logger.info(\r\n      `${colors$1.green(`\\u2713 built in ${displayTime(Date.now() - startTime)}`)}`\r\n    );\r\n    return Array.isArray(outputs) ? res : res[0];\r\n  } catch (e) {\r\n    enhanceRollupError(e);\r\n    clearLine();\r\n    if (startTime) {\r\n      logger.error(\r\n        `${colors$1.red(\"x\")} Build failed in ${displayTime(Date.now() - startTime)}`\r\n      );\r\n      startTime = void 0;\r\n    }\r\n    throw e;\r\n  } finally {\r\n    if (bundle) await bundle.close();\r\n  }\r\n}\r\nfunction prepareOutDir(outDirs, emptyOutDir, config) {\r\n  const outDirsArray = [...outDirs];\r\n  for (const outDir of outDirs) {\r\n    if (emptyOutDir !== false && fs__default.existsSync(outDir)) {\r\n      const skipDirs = outDirsArray.map((dir) => {\r\n        const relative = path$n.relative(outDir, dir);\r\n        if (relative && !relative.startsWith(\"..\") && !path$n.isAbsolute(relative)) {\r\n          return relative;\r\n        }\r\n        return \"\";\r\n      }).filter(Boolean);\r\n      emptyDir(outDir, [...skipDirs, \".git\"]);\r\n    }\r\n    if (config.build.copyPublicDir && config.publicDir && fs__default.existsSync(config.publicDir)) {\r\n      if (!areSeparateFolders(outDir, config.publicDir)) {\r\n        config.logger.warn(\r\n          colors$1.yellow(\r\n            `\r\n${colors$1.bold(\r\n              `(!)`\r\n            )} The public directory feature may not work correctly. outDir ${colors$1.white(\r\n              colors$1.dim(outDir)\r\n            )} and publicDir ${colors$1.white(\r\n              colors$1.dim(config.publicDir)\r\n            )} are not separate folders.\r\n`\r\n          )\r\n        );\r\n      }\r\n      copyDir(config.publicDir, outDir);\r\n    }\r\n  }\r\n}\r\nfunction getPkgName(name) {\r\n  return name?.[0] === \"@\" ? name.split(\"/\")[1] : name;\r\n}\r\nfunction resolveOutputJsExtension(format, type = \"commonjs\") {\r\n  if (type === \"module\") {\r\n    return format === \"cjs\" || format === \"umd\" ? \"cjs\" : \"js\";\r\n  } else {\r\n    return format === \"es\" ? \"mjs\" : \"js\";\r\n  }\r\n}\r\nfunction resolveLibFilename(libOptions, format, entryName, root, extension, packageCache) {\r\n  if (typeof libOptions.fileName === \"function\") {\r\n    return libOptions.fileName(format, entryName);\r\n  }\r\n  const packageJson = findNearestPackageData(root, packageCache)?.data;\r\n  const name = libOptions.fileName || (packageJson && typeof libOptions.entry === \"string\" ? getPkgName(packageJson.name) : entryName);\r\n  if (!name)\r\n    throw new Error(\r\n      'Name in package.json is required if option \"build.lib.fileName\" is not provided.'\r\n    );\r\n  extension ??= resolveOutputJsExtension(format, packageJson?.type);\r\n  if (format === \"cjs\" || format === \"es\") {\r\n    return `${name}.${extension}`;\r\n  }\r\n  return `${name}.${format}.${extension}`;\r\n}\r\nfunction resolveBuildOutputs(outputs, libOptions, logger) {\r\n  if (libOptions) {\r\n    const libHasMultipleEntries = typeof libOptions.entry !== \"string\" && Object.values(libOptions.entry).length > 1;\r\n    const libFormats = libOptions.formats || (libHasMultipleEntries ? [\"es\", \"cjs\"] : [\"es\", \"umd\"]);\r\n    if (!Array.isArray(outputs)) {\r\n      if (libFormats.includes(\"umd\") || libFormats.includes(\"iife\")) {\r\n        if (libHasMultipleEntries) {\r\n          throw new Error(\r\n            'Multiple entry points are not supported when output formats include \"umd\" or \"iife\".'\r\n          );\r\n        }\r\n        if (!libOptions.name) {\r\n          throw new Error(\r\n            'Option \"build.lib.name\" is required when output formats include \"umd\" or \"iife\".'\r\n          );\r\n        }\r\n      }\r\n      return libFormats.map((format) => ({ ...outputs, format }));\r\n    }\r\n    if (libOptions.formats) {\r\n      logger.warn(\r\n        colors$1.yellow(\r\n          '\"build.lib.formats\" will be ignored because \"build.rollupOptions.output\" is already an array format.'\r\n        )\r\n      );\r\n    }\r\n    outputs.forEach((output) => {\r\n      if ((output.format === \"umd\" || output.format === \"iife\") && !output.name) {\r\n        throw new Error(\r\n          'Entries in \"build.rollupOptions.output\" must specify \"name\" when the format is \"umd\" or \"iife\".'\r\n        );\r\n      }\r\n    });\r\n  }\r\n  return outputs;\r\n}\r\nconst warningIgnoreList = [`CIRCULAR_DEPENDENCY`, `THIS_IS_UNDEFINED`];\r\nconst dynamicImportWarningIgnoreList = [\r\n  `Unsupported expression`,\r\n  `statically analyzed`\r\n];\r\nfunction clearLine() {\r\n  const tty = process.stdout.isTTY && !process.env.CI;\r\n  if (tty) {\r\n    process.stdout.clearLine(0);\r\n    process.stdout.cursorTo(0);\r\n  }\r\n}\r\nfunction onRollupWarning(warning, warn, config) {\r\n  const viteWarn = (warnLog) => {\r\n    let warning2;\r\n    if (typeof warnLog === \"function\") {\r\n      warning2 = warnLog();\r\n    } else {\r\n      warning2 = warnLog;\r\n    }\r\n    if (typeof warning2 === \"object\") {\r\n      if (warning2.code === \"UNRESOLVED_IMPORT\") {\r\n        const id = warning2.id;\r\n        const exporter = warning2.exporter;\r\n        if (!id || !id.endsWith(\"?commonjs-external\")) {\r\n          throw new Error(\r\n            `[vite]: Rollup failed to resolve import \"${exporter}\" from \"${id}\".\r\nThis is most likely unintended because it can break your application at runtime.\r\nIf you do want to externalize this module explicitly add it to\r\n\\`build.rollupOptions.external\\``\r\n          );\r\n        }\r\n      }\r\n      if (warning2.plugin === \"rollup-plugin-dynamic-import-variables\" && dynamicImportWarningIgnoreList.some(\r\n        (msg) => warning2.message.includes(msg)\r\n      )) {\r\n        return;\r\n      }\r\n      if (warningIgnoreList.includes(warning2.code)) {\r\n        return;\r\n      }\r\n      if (warning2.code === \"PLUGIN_WARNING\") {\r\n        config.logger.warn(\r\n          `${colors$1.bold(\r\n            colors$1.yellow(`[plugin:${warning2.plugin}]`)\r\n          )} ${colors$1.yellow(warning2.message)}`\r\n        );\r\n        return;\r\n      }\r\n    }\r\n    warn(warnLog);\r\n  };\r\n  clearLine();\r\n  const userOnWarn = config.build.rollupOptions?.onwarn;\r\n  if (userOnWarn) {\r\n    userOnWarn(warning, viteWarn);\r\n  } else {\r\n    viteWarn(warning);\r\n  }\r\n}\r\nfunction resolveUserExternal(user, id, parentId, isResolved) {\r\n  if (typeof user === \"function\") {\r\n    return user(id, parentId, isResolved);\r\n  } else if (Array.isArray(user)) {\r\n    return user.some((test) => isExternal(id, test));\r\n  } else {\r\n    return isExternal(id, user);\r\n  }\r\n}\r\nfunction isExternal(id, test) {\r\n  if (typeof test === \"string\") {\r\n    return id === test;\r\n  } else {\r\n    return test.test(id);\r\n  }\r\n}\r\nfunction injectSsrFlagToHooks(plugin) {\r\n  const { resolveId, load, transform } = plugin;\r\n  return {\r\n    ...plugin,\r\n    resolveId: wrapSsrResolveId(resolveId),\r\n    load: wrapSsrLoad(load),\r\n    transform: wrapSsrTransform(transform)\r\n  };\r\n}\r\nfunction wrapSsrResolveId(hook) {\r\n  if (!hook) return;\r\n  const fn = getHookHandler(hook);\r\n  const handler = function(id, importer, options) {\r\n    return fn.call(this, id, importer, injectSsrFlag(options));\r\n  };\r\n  if (\"handler\" in hook) {\r\n    return {\r\n      ...hook,\r\n      handler\r\n    };\r\n  } else {\r\n    return handler;\r\n  }\r\n}\r\nfunction wrapSsrLoad(hook) {\r\n  if (!hook) return;\r\n  const fn = getHookHandler(hook);\r\n  const handler = function(id, ...args) {\r\n    return fn.call(this, id, injectSsrFlag(args[0]));\r\n  };\r\n  if (\"handler\" in hook) {\r\n    return {\r\n      ...hook,\r\n      handler\r\n    };\r\n  } else {\r\n    return handler;\r\n  }\r\n}\r\nfunction wrapSsrTransform(hook) {\r\n  if (!hook) return;\r\n  const fn = getHookHandler(hook);\r\n  const handler = function(code, importer, ...args) {\r\n    return fn.call(this, code, importer, injectSsrFlag(args[0]));\r\n  };\r\n  if (\"handler\" in hook) {\r\n    return {\r\n      ...hook,\r\n      handler\r\n    };\r\n  } else {\r\n    return handler;\r\n  }\r\n}\r\nfunction injectSsrFlag(options) {\r\n  return { ...options ?? {}, ssr: true };\r\n}\r\nconst needsEscapeRegEx = /[\\n\\r'\\\\\\u2028\\u2029]/;\r\nconst quoteNewlineRegEx = /([\\n\\r'\\u2028\\u2029])/g;\r\nconst backSlashRegEx = /\\\\/g;\r\nfunction escapeId(id) {\r\n  if (!needsEscapeRegEx.test(id)) return id;\r\n  return id.replace(backSlashRegEx, \"\\\\\\\\\").replace(quoteNewlineRegEx, \"\\\\$1\");\r\n}\r\nconst getResolveUrl = (path2, URL = \"URL\") => `new ${URL}(${path2}).href`;\r\nconst getRelativeUrlFromDocument = (relativePath, umd = false) => getResolveUrl(\r\n  `'${escapeId(partialEncodeURIPath(relativePath))}', ${umd ? `typeof document === 'undefined' ? location.href : ` : \"\"}document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT' && document.currentScript.src || document.baseURI`\r\n);\r\nconst getFileUrlFromFullPath = (path2) => `require('u' + 'rl').pathToFileURL(${path2}).href`;\r\nconst getFileUrlFromRelativePath = (path2) => getFileUrlFromFullPath(`__dirname + '/${escapeId(path2)}'`);\r\nconst relativeUrlMechanisms = {\r\n  amd: (relativePath) => {\r\n    if (relativePath[0] !== \".\") relativePath = \"./\" + relativePath;\r\n    return getResolveUrl(\r\n      `require.toUrl('${escapeId(relativePath)}'), document.baseURI`\r\n    );\r\n  },\r\n  cjs: (relativePath) => `(typeof document === 'undefined' ? ${getFileUrlFromRelativePath(\r\n    relativePath\r\n  )} : ${getRelativeUrlFromDocument(relativePath)})`,\r\n  es: (relativePath) => getResolveUrl(\r\n    `'${escapeId(partialEncodeURIPath(relativePath))}', import.meta.url`\r\n  ),\r\n  iife: (relativePath) => getRelativeUrlFromDocument(relativePath),\r\n  // NOTE: make sure rollup generate `module` params\r\n  system: (relativePath) => getResolveUrl(\r\n    `'${escapeId(partialEncodeURIPath(relativePath))}', module.meta.url`\r\n  ),\r\n  umd: (relativePath) => `(typeof document === 'undefined' && typeof location === 'undefined' ? ${getFileUrlFromRelativePath(\r\n    relativePath\r\n  )} : ${getRelativeUrlFromDocument(relativePath, true)})`\r\n};\r\nconst customRelativeUrlMechanisms = {\r\n  ...relativeUrlMechanisms,\r\n  \"worker-iife\": (relativePath) => getResolveUrl(\r\n    `'${escapeId(partialEncodeURIPath(relativePath))}', self.location.href`\r\n  )\r\n};\r\nfunction toOutputFilePathInJS(filename, type, hostId, hostType, config, toRelative) {\r\n  const { renderBuiltUrl } = config.experimental;\r\n  let relative = config.base === \"\" || config.base === \"./\";\r\n  if (renderBuiltUrl) {\r\n    const result = renderBuiltUrl(filename, {\r\n      hostId,\r\n      hostType,\r\n      type,\r\n      ssr: !!config.build.ssr\r\n    });\r\n    if (typeof result === \"object\") {\r\n      if (result.runtime) {\r\n        return { runtime: result.runtime };\r\n      }\r\n      if (typeof result.relative === \"boolean\") {\r\n        relative = result.relative;\r\n      }\r\n    } else if (result) {\r\n      return result;\r\n    }\r\n  }\r\n  if (relative && !config.build.ssr) {\r\n    return toRelative(filename, hostId);\r\n  }\r\n  return joinUrlSegments(config.decodedBase, filename);\r\n}\r\nfunction createToImportMetaURLBasedRelativeRuntime(format, isWorker) {\r\n  const formatLong = isWorker && format === \"iife\" ? \"worker-iife\" : format;\r\n  const toRelativePath = customRelativeUrlMechanisms[formatLong];\r\n  return (filename, importer) => ({\r\n    runtime: toRelativePath(\r\n      path$n.posix.relative(path$n.dirname(importer), filename)\r\n    )\r\n  });\r\n}\r\nfunction toOutputFilePathWithoutRuntime(filename, type, hostId, hostType, config, toRelative) {\r\n  const { renderBuiltUrl } = config.experimental;\r\n  let relative = config.base === \"\" || config.base === \"./\";\r\n  if (renderBuiltUrl) {\r\n    const result = renderBuiltUrl(filename, {\r\n      hostId,\r\n      hostType,\r\n      type,\r\n      ssr: !!config.build.ssr\r\n    });\r\n    if (typeof result === \"object\") {\r\n      if (result.runtime) {\r\n        throw new Error(\r\n          `{ runtime: \"${result.runtime}\" } is not supported for assets in ${hostType} files: ${filename}`\r\n        );\r\n      }\r\n      if (typeof result.relative === \"boolean\") {\r\n        relative = result.relative;\r\n      }\r\n    } else if (result) {\r\n      return result;\r\n    }\r\n  }\r\n  if (relative && !config.build.ssr) {\r\n    return toRelative(filename, hostId);\r\n  } else {\r\n    return joinUrlSegments(config.decodedBase, filename);\r\n  }\r\n}\r\nconst toOutputFilePathInCss = toOutputFilePathWithoutRuntime;\r\nconst toOutputFilePathInHtml = toOutputFilePathWithoutRuntime;\r\nfunction areSeparateFolders(a, b) {\r\n  const na = normalizePath$3(a);\r\n  const nb = normalizePath$3(b);\r\n  return na !== nb && !na.startsWith(withTrailingSlash(nb)) && !nb.startsWith(withTrailingSlash(na));\r\n}\r\n\r\nvar build$1 = {\r\n\t__proto__: null,\r\n\tbuild: build,\r\n\tcreateToImportMetaURLBasedRelativeRuntime: createToImportMetaURLBasedRelativeRuntime,\r\n\tonRollupWarning: onRollupWarning,\r\n\tresolveBuildOptions: resolveBuildOptions,\r\n\tresolveBuildOutputs: resolveBuildOutputs,\r\n\tresolveBuildPlugins: resolveBuildPlugins,\r\n\tresolveLibFilename: resolveLibFilename,\r\n\tresolveUserExternal: resolveUserExternal,\r\n\ttoOutputFilePathInCss: toOutputFilePathInCss,\r\n\ttoOutputFilePathInHtml: toOutputFilePathInHtml,\r\n\ttoOutputFilePathInJS: toOutputFilePathInJS,\r\n\ttoOutputFilePathWithoutRuntime: toOutputFilePathWithoutRuntime\r\n};\r\n\r\n// NOTE: supports Node 6.x\r\n\r\n\r\nconst NOOP = () => {};\r\nconst MIMES = /text|javascript|\\/json|xml/i;\r\n\r\n/**\r\n * @param {any} chunk\r\n * @param {BufferEncoding} enc\r\n * @returns {number}\r\n */\r\nfunction getChunkSize(chunk, enc) {\r\n\treturn chunk ? Buffer.byteLength(chunk, enc) : 0;\r\n}\r\n\r\n/**\r\n * @param {import('./index.d.mts').Options} [options]\r\n * @returns {import('./index.d.mts').Middleware}\r\n */\r\nfunction compression ({ threshold = 1024, level = -1, brotli = false, gzip = true, mimes = MIMES } = {}) {\r\n\tconst brotliOpts = (typeof brotli === 'object' && brotli) || {};\r\n\tconst gzipOpts = (typeof gzip === 'object' && gzip) || {};\r\n\r\n\t// disable Brotli on Node<12.7 where it is unsupported:\r\n\tif (!zlib$1.createBrotliCompress) brotli = false;\r\n\r\n\treturn (req, res, next = NOOP) => {\r\n\t\tconst accept = req.headers['accept-encoding'] + '';\r\n\t\tconst encoding = ((brotli && accept.match(/\\bbr\\b/)) || (gzip && accept.match(/\\bgzip\\b/)) || [])[0];\r\n\r\n\t\t// skip if no response body or no supported encoding:\r\n\t\tif (req.method === 'HEAD' || !encoding) return next();\r\n\r\n\t\t/** @type {zlib.Gzip | zlib.BrotliCompress} */\r\n\t\tlet compress;\r\n\t\t/** @type {Array<[string, function]>?} */\r\n\t\tlet pendingListeners = [];\r\n\t\tlet pendingStatus = 0;\r\n\t\tlet started = false;\r\n\t\tlet size = 0;\r\n\r\n\t\tfunction start() {\r\n\t\t\tstarted = true;\r\n\t\t\t// @ts-ignore\r\n\t\t\tsize = res.getHeader('Content-Length') | 0 || size;\r\n\t\t\tconst compressible = mimes.test(\r\n\t\t\t\tString(res.getHeader('Content-Type') || 'text/plain')\r\n\t\t\t);\r\n\t\t\tconst cleartext = !res.getHeader('Content-Encoding');\r\n\t\t\tconst listeners = pendingListeners || [];\r\n\r\n\t\t\tif (compressible && cleartext && size >= threshold) {\r\n\t\t\t\tres.setHeader('Content-Encoding', encoding);\r\n\t\t\t\tres.removeHeader('Content-Length');\r\n\t\t\t\tif (encoding === 'br') {\r\n\t\t\t\t\tcompress = zlib$1.createBrotliCompress({\r\n\t\t\t\t\t\tparams: Object.assign({\r\n\t\t\t\t\t\t\t[zlib$1.constants.BROTLI_PARAM_QUALITY]: level,\r\n\t\t\t\t\t\t\t[zlib$1.constants.BROTLI_PARAM_SIZE_HINT]: size,\r\n\t\t\t\t\t\t}, brotliOpts)\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcompress = zlib$1.createGzip(\r\n\t\t\t\t\t\tObject.assign({ level }, gzipOpts)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\t// backpressure\r\n\t\t\t\tcompress.on('data', chunk => write.call(res, chunk) || compress.pause());\r\n\t\t\t\ton.call(res, 'drain', () => compress.resume());\r\n\t\t\t\tcompress.on('end', () => end.call(res));\r\n\t\t\t\tlisteners.forEach(p => compress.on.apply(compress, p));\r\n\t\t\t} else {\r\n\t\t\t\tpendingListeners = null;\r\n\t\t\t\tlisteners.forEach(p => on.apply(res, p));\r\n\t\t\t}\r\n\r\n\t\t\twriteHead.call(res, pendingStatus || res.statusCode);\r\n\t\t}\r\n\r\n\t\tconst { end, write, on, writeHead } = res;\r\n\r\n\t\tres.writeHead = function (status, reason, headers) {\r\n\t\t\tif (typeof reason !== 'string') [headers, reason] = [reason, headers];\r\n\t\t\tif (headers) for (let k in headers) res.setHeader(k, headers[k]);\r\n\t\t\tpendingStatus = status;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tres.write = function (chunk, enc) {\r\n\t\t\tsize += getChunkSize(chunk, enc);\r\n\t\t\tif (!started) start();\r\n\t\t\tif (!compress) return write.apply(this, arguments);\r\n\t\t\treturn compress.write.apply(compress, arguments);\r\n\t\t};\r\n\r\n\t\tres.end = function (chunk, enc) {\r\n\t\t\tif (arguments.length > 0 && typeof chunk !== 'function') {\r\n\t\t\t\tsize += getChunkSize(chunk, enc);\r\n\t\t\t}\r\n\t\t\tif (!started) start();\r\n\t\t\tif (!compress) return end.apply(this, arguments);\r\n\t\t\treturn compress.end.apply(compress, arguments);\r\n\t\t};\r\n\r\n\t\tres.on = function (type, listener) {\r\n\t\t\tif (!pendingListeners) on.call(this, type, listener);\r\n\t\t\telse if (compress) compress.on(type, listener);\r\n\t\t\telse pendingListeners.push([type, listener]);\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tnext();\r\n\t};\r\n}\r\n\r\nfunction resolvePreviewOptions(preview2, server) {\r\n  return {\r\n    port: preview2?.port,\r\n    strictPort: preview2?.strictPort ?? server.strictPort,\r\n    host: preview2?.host ?? server.host,\r\n    https: preview2?.https ?? server.https,\r\n    open: preview2?.open ?? server.open,\r\n    proxy: preview2?.proxy ?? server.proxy,\r\n    cors: preview2?.cors ?? server.cors,\r\n    headers: preview2?.headers ?? server.headers\r\n  };\r\n}\r\nasync function preview(inlineConfig = {}) {\r\n  const config = await resolveConfig(\r\n    inlineConfig,\r\n    \"serve\",\r\n    \"production\",\r\n    \"production\",\r\n    true\r\n  );\r\n  const distDir = path$n.resolve(config.root, config.build.outDir);\r\n  if (!fs__default.existsSync(distDir) && // error if no plugins implement `configurePreviewServer`\r\n  config.plugins.every((plugin) => !plugin.configurePreviewServer) && // error if called in CLI only. programmatic usage could access `httpServer`\r\n  // and affect file serving\r\n  process.argv[1]?.endsWith(path$n.normalize(\"bin/vite.js\")) && process.argv[2] === \"preview\") {\r\n    throw new Error(\r\n      `The directory \"${config.build.outDir}\" does not exist. Did you build your project?`\r\n    );\r\n  }\r\n  const app = connect$1();\r\n  const httpServer = await resolveHttpServer(\r\n    config.preview,\r\n    app,\r\n    await resolveHttpsConfig(config.preview?.https)\r\n  );\r\n  setClientErrorHandler(httpServer, config.logger);\r\n  const options = config.preview;\r\n  const logger = config.logger;\r\n  const closeHttpServer = createServerCloseFn(httpServer);\r\n  const server = {\r\n    config,\r\n    middlewares: app,\r\n    httpServer,\r\n    async close() {\r\n      teardownSIGTERMListener(closeServerAndExit);\r\n      await closeHttpServer();\r\n    },\r\n    resolvedUrls: null,\r\n    printUrls() {\r\n      if (server.resolvedUrls) {\r\n        printServerUrls(server.resolvedUrls, options.host, logger.info);\r\n      } else {\r\n        throw new Error(\"cannot print server URLs before server is listening.\");\r\n      }\r\n    },\r\n    bindCLIShortcuts(options2) {\r\n      bindCLIShortcuts(server, options2);\r\n    }\r\n  };\r\n  const closeServerAndExit = async () => {\r\n    try {\r\n      await server.close();\r\n    } finally {\r\n      process.exit();\r\n    }\r\n  };\r\n  setupSIGTERMListener(closeServerAndExit);\r\n  const postHooks = [];\r\n  for (const hook of config.getSortedPluginHooks(\"configurePreviewServer\")) {\r\n    postHooks.push(await hook(server));\r\n  }\r\n  const { cors } = config.preview;\r\n  if (cors !== false) {\r\n    app.use(corsMiddleware(typeof cors === \"boolean\" ? {} : cors));\r\n  }\r\n  const { proxy } = config.preview;\r\n  if (proxy) {\r\n    app.use(proxyMiddleware(httpServer, proxy, config));\r\n  }\r\n  app.use(compression());\r\n  if (config.base !== \"/\") {\r\n    app.use(baseMiddleware(config.rawBase, false));\r\n  }\r\n  const headers = config.preview.headers;\r\n  const viteAssetMiddleware = (...args) => sirv(distDir, {\r\n    etag: true,\r\n    dev: true,\r\n    extensions: [],\r\n    ignores: false,\r\n    setHeaders(res) {\r\n      if (headers) {\r\n        for (const name in headers) {\r\n          res.setHeader(name, headers[name]);\r\n        }\r\n      }\r\n    },\r\n    shouldServe(filePath) {\r\n      return shouldServeFile(filePath, distDir);\r\n    }\r\n  })(...args);\r\n  app.use(viteAssetMiddleware);\r\n  if (config.appType === \"spa\" || config.appType === \"mpa\") {\r\n    app.use(htmlFallbackMiddleware(distDir, config.appType === \"spa\"));\r\n  }\r\n  postHooks.forEach((fn) => fn && fn());\r\n  if (config.appType === \"spa\" || config.appType === \"mpa\") {\r\n    app.use(indexHtmlMiddleware(distDir, server));\r\n    app.use(notFoundMiddleware());\r\n  }\r\n  const hostname = await resolveHostname(options.host);\r\n  const port = options.port ?? DEFAULT_PREVIEW_PORT;\r\n  await httpServerStart(httpServer, {\r\n    port,\r\n    strictPort: options.strictPort,\r\n    host: hostname.host,\r\n    logger\r\n  });\r\n  server.resolvedUrls = await resolveServerUrls(\r\n    httpServer,\r\n    config.preview,\r\n    config\r\n  );\r\n  if (options.open) {\r\n    const url = server.resolvedUrls?.local[0] ?? server.resolvedUrls?.network[0];\r\n    if (url) {\r\n      const path2 = typeof options.open === \"string\" ? new URL(options.open, url).href : url;\r\n      openBrowser(path2, true, logger);\r\n    }\r\n  }\r\n  return server;\r\n}\r\n\r\nvar preview$1 = {\r\n\t__proto__: null,\r\n\tpreview: preview,\r\n\tresolvePreviewOptions: resolvePreviewOptions\r\n};\r\n\r\nfunction resolveSSROptions(ssr, preserveSymlinks) {\r\n  ssr ??= {};\r\n  const optimizeDeps = ssr.optimizeDeps ?? {};\r\n  const target = \"node\";\r\n  return {\r\n    target,\r\n    ...ssr,\r\n    optimizeDeps: {\r\n      ...optimizeDeps,\r\n      noDiscovery: true,\r\n      // always true for ssr\r\n      esbuildOptions: {\r\n        preserveSymlinks,\r\n        ...optimizeDeps.esbuildOptions\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nconst debug = createDebugger(\"vite:config\");\r\nconst promisifiedRealpath = promisify$4(fs__default.realpath);\r\nfunction defineConfig(config) {\r\n  return config;\r\n}\r\nfunction checkBadCharactersInPath(path2, logger) {\r\n  const badChars = [];\r\n  if (path2.includes(\"#\")) {\r\n    badChars.push(\"#\");\r\n  }\r\n  if (path2.includes(\"?\")) {\r\n    badChars.push(\"?\");\r\n  }\r\n  if (badChars.length > 0) {\r\n    const charString = badChars.map((c) => `\"${c}\"`).join(\" and \");\r\n    const inflectedChars = badChars.length > 1 ? \"characters\" : \"character\";\r\n    logger.warn(\r\n      colors$1.yellow(\r\n        `The project root contains the ${charString} ${inflectedChars} (${colors$1.cyan(\r\n          path2\r\n        )}), which may not work when running Vite. Consider renaming the directory to remove the characters.`\r\n      )\r\n    );\r\n  }\r\n}\r\nasync function resolveConfig(inlineConfig, command, defaultMode = \"development\", defaultNodeEnv = \"development\", isPreview = false) {\r\n  let config = inlineConfig;\r\n  let configFileDependencies = [];\r\n  let mode = inlineConfig.mode || defaultMode;\r\n  const isNodeEnvSet = !!process.env.NODE_ENV;\r\n  const packageCache = /* @__PURE__ */ new Map();\r\n  if (!isNodeEnvSet) {\r\n    process.env.NODE_ENV = defaultNodeEnv;\r\n  }\r\n  const configEnv = {\r\n    mode,\r\n    command,\r\n    isSsrBuild: command === \"build\" && !!config.build?.ssr,\r\n    isPreview\r\n  };\r\n  let { configFile } = config;\r\n  if (configFile !== false) {\r\n    const loadResult = await loadConfigFromFile(\r\n      configEnv,\r\n      configFile,\r\n      config.root,\r\n      config.logLevel,\r\n      config.customLogger\r\n    );\r\n    if (loadResult) {\r\n      config = mergeConfig(loadResult.config, config);\r\n      configFile = loadResult.path;\r\n      configFileDependencies = loadResult.dependencies;\r\n    }\r\n  }\r\n  mode = inlineConfig.mode || config.mode || mode;\r\n  configEnv.mode = mode;\r\n  const filterPlugin = (p) => {\r\n    if (!p) {\r\n      return false;\r\n    } else if (!p.apply) {\r\n      return true;\r\n    } else if (typeof p.apply === \"function\") {\r\n      return p.apply({ ...config, mode }, configEnv);\r\n    } else {\r\n      return p.apply === command;\r\n    }\r\n  };\r\n  const rawUserPlugins = (await asyncFlatten(config.plugins || [])).filter(filterPlugin);\r\n  const [prePlugins, normalPlugins, postPlugins] = sortUserPlugins(rawUserPlugins);\r\n  const userPlugins = [...prePlugins, ...normalPlugins, ...postPlugins];\r\n  config = await runConfigHook(config, userPlugins, configEnv);\r\n  const logger = createLogger(config.logLevel, {\r\n    allowClearScreen: config.clearScreen,\r\n    customLogger: config.customLogger\r\n  });\r\n  const resolvedRoot = normalizePath$3(\r\n    config.root ? path$n.resolve(config.root) : process.cwd()\r\n  );\r\n  checkBadCharactersInPath(resolvedRoot, logger);\r\n  const clientAlias = [\r\n    {\r\n      find: /^\\/?@vite\\/env/,\r\n      replacement: path$n.posix.join(FS_PREFIX, normalizePath$3(ENV_ENTRY))\r\n    },\r\n    {\r\n      find: /^\\/?@vite\\/client/,\r\n      replacement: path$n.posix.join(FS_PREFIX, normalizePath$3(CLIENT_ENTRY))\r\n    }\r\n  ];\r\n  const resolvedAlias = normalizeAlias(\r\n    mergeAlias(clientAlias, config.resolve?.alias || [])\r\n  );\r\n  const resolveOptions = {\r\n    mainFields: config.resolve?.mainFields ?? DEFAULT_MAIN_FIELDS,\r\n    conditions: config.resolve?.conditions ?? [],\r\n    extensions: config.resolve?.extensions ?? DEFAULT_EXTENSIONS,\r\n    dedupe: config.resolve?.dedupe ?? [],\r\n    preserveSymlinks: config.resolve?.preserveSymlinks ?? false,\r\n    alias: resolvedAlias\r\n  };\r\n  if (\r\n    // @ts-expect-error removed field\r\n    config.resolve?.browserField === false && resolveOptions.mainFields.includes(\"browser\")\r\n  ) {\r\n    logger.warn(\r\n      colors$1.yellow(\r\n        `\\`resolve.browserField\\` is set to false, but the option is removed in favour of the 'browser' string in \\`resolve.mainFields\\`. You may want to update \\`resolve.mainFields\\` to remove the 'browser' string and preserve the previous browser behaviour.`\r\n      )\r\n    );\r\n  }\r\n  const envDir = config.envDir ? normalizePath$3(path$n.resolve(resolvedRoot, config.envDir)) : resolvedRoot;\r\n  const userEnv = inlineConfig.envFile !== false && loadEnv(mode, envDir, resolveEnvPrefix(config));\r\n  const userNodeEnv = process.env.VITE_USER_NODE_ENV;\r\n  if (!isNodeEnvSet && userNodeEnv) {\r\n    if (userNodeEnv === \"development\") {\r\n      process.env.NODE_ENV = \"development\";\r\n    } else {\r\n      logger.warn(\r\n        `NODE_ENV=${userNodeEnv} is not supported in the .env file. Only NODE_ENV=development is supported to create a development build of your project. If you need to set process.env.NODE_ENV, you can set it in the Vite config instead.`\r\n      );\r\n    }\r\n  }\r\n  const isProduction = process.env.NODE_ENV === \"production\";\r\n  const isBuild = command === \"build\";\r\n  const relativeBaseShortcut = config.base === \"\" || config.base === \"./\";\r\n  const resolvedBase = relativeBaseShortcut ? !isBuild || config.build?.ssr ? \"/\" : \"./\" : resolveBaseUrl(config.base, isBuild, logger) ?? \"/\";\r\n  const resolvedBuildOptions = resolveBuildOptions(\r\n    config.build,\r\n    logger,\r\n    resolvedRoot\r\n  );\r\n  const pkgDir = findNearestPackageData(resolvedRoot, packageCache)?.dir;\r\n  const cacheDir = normalizePath$3(\r\n    config.cacheDir ? path$n.resolve(resolvedRoot, config.cacheDir) : pkgDir ? path$n.join(pkgDir, `node_modules/.vite`) : path$n.join(resolvedRoot, `.vite`)\r\n  );\r\n  const assetsFilter = config.assetsInclude && (!Array.isArray(config.assetsInclude) || config.assetsInclude.length) ? createFilter(config.assetsInclude) : () => false;\r\n  const createResolver = (options) => {\r\n    let aliasContainer;\r\n    let resolverContainer;\r\n    return async (id, importer, aliasOnly, ssr2) => {\r\n      let container;\r\n      if (aliasOnly) {\r\n        container = aliasContainer || (aliasContainer = await createPluginContainer({\r\n          ...resolved,\r\n          plugins: [alias$1({ entries: resolved.resolve.alias })]\r\n        }));\r\n      } else {\r\n        container = resolverContainer || (resolverContainer = await createPluginContainer({\r\n          ...resolved,\r\n          plugins: [\r\n            alias$1({ entries: resolved.resolve.alias }),\r\n            resolvePlugin({\r\n              ...resolved.resolve,\r\n              root: resolvedRoot,\r\n              isProduction,\r\n              isBuild: command === \"build\",\r\n              ssrConfig: resolved.ssr,\r\n              asSrc: true,\r\n              preferRelative: false,\r\n              tryIndex: true,\r\n              ...options,\r\n              idOnly: true,\r\n              fsUtils: getFsUtils(resolved)\r\n            })\r\n          ]\r\n        }));\r\n      }\r\n      return (await container.resolveId(id, importer, {\r\n        ssr: ssr2,\r\n        scan: options?.scan\r\n      }))?.id;\r\n    };\r\n  };\r\n  const { publicDir } = config;\r\n  const resolvedPublicDir = publicDir !== false && publicDir !== \"\" ? normalizePath$3(\r\n    path$n.resolve(\r\n      resolvedRoot,\r\n      typeof publicDir === \"string\" ? publicDir : \"public\"\r\n    )\r\n  ) : \"\";\r\n  const server = resolveServerOptions(resolvedRoot, config.server, logger);\r\n  const ssr = resolveSSROptions(config.ssr, resolveOptions.preserveSymlinks);\r\n  const optimizeDeps = config.optimizeDeps || {};\r\n  const BASE_URL = resolvedBase;\r\n  let resolved;\r\n  let createUserWorkerPlugins = config.worker?.plugins;\r\n  if (Array.isArray(createUserWorkerPlugins)) {\r\n    createUserWorkerPlugins = () => config.worker?.plugins;\r\n    logger.warn(\r\n      colors$1.yellow(\r\n        `worker.plugins is now a function that returns an array of plugins. Please update your Vite config accordingly.\r\n`\r\n      )\r\n    );\r\n  }\r\n  const createWorkerPlugins = async function(bundleChain) {\r\n    const rawWorkerUserPlugins = (await asyncFlatten(createUserWorkerPlugins?.() || [])).filter(filterPlugin);\r\n    let workerConfig = mergeConfig({}, config);\r\n    const [workerPrePlugins, workerNormalPlugins, workerPostPlugins] = sortUserPlugins(rawWorkerUserPlugins);\r\n    const workerUserPlugins = [\r\n      ...workerPrePlugins,\r\n      ...workerNormalPlugins,\r\n      ...workerPostPlugins\r\n    ];\r\n    workerConfig = await runConfigHook(\r\n      workerConfig,\r\n      workerUserPlugins,\r\n      configEnv\r\n    );\r\n    const workerResolved = {\r\n      ...workerConfig,\r\n      ...resolved,\r\n      isWorker: true,\r\n      mainConfig: resolved,\r\n      bundleChain\r\n    };\r\n    const resolvedWorkerPlugins = await resolvePlugins(\r\n      workerResolved,\r\n      workerPrePlugins,\r\n      workerNormalPlugins,\r\n      workerPostPlugins\r\n    );\r\n    await Promise.all(\r\n      createPluginHookUtils(resolvedWorkerPlugins).getSortedPluginHooks(\"configResolved\").map((hook) => hook(workerResolved))\r\n    );\r\n    return resolvedWorkerPlugins;\r\n  };\r\n  const resolvedWorkerOptions = {\r\n    format: config.worker?.format || \"iife\",\r\n    plugins: createWorkerPlugins,\r\n    rollupOptions: config.worker?.rollupOptions || {}\r\n  };\r\n  const base = withTrailingSlash(resolvedBase);\r\n  resolved = {\r\n    configFile: configFile ? normalizePath$3(configFile) : void 0,\r\n    configFileDependencies: configFileDependencies.map(\r\n      (name) => normalizePath$3(path$n.resolve(name))\r\n    ),\r\n    inlineConfig,\r\n    root: resolvedRoot,\r\n    base,\r\n    decodedBase: decodeURI(base),\r\n    rawBase: resolvedBase,\r\n    resolve: resolveOptions,\r\n    publicDir: resolvedPublicDir,\r\n    cacheDir,\r\n    command,\r\n    mode,\r\n    ssr,\r\n    isWorker: false,\r\n    mainConfig: null,\r\n    bundleChain: [],\r\n    isProduction,\r\n    plugins: userPlugins,\r\n    css: resolveCSSOptions(config.css),\r\n    esbuild: config.esbuild === false ? false : {\r\n      jsxDev: !isProduction,\r\n      ...config.esbuild\r\n    },\r\n    server,\r\n    build: resolvedBuildOptions,\r\n    preview: resolvePreviewOptions(config.preview, server),\r\n    envDir,\r\n    env: {\r\n      ...userEnv,\r\n      BASE_URL,\r\n      MODE: mode,\r\n      DEV: !isProduction,\r\n      PROD: isProduction\r\n    },\r\n    assetsInclude(file) {\r\n      return DEFAULT_ASSETS_RE.test(file) || assetsFilter(file);\r\n    },\r\n    logger,\r\n    packageCache,\r\n    createResolver,\r\n    optimizeDeps: {\r\n      holdUntilCrawlEnd: true,\r\n      ...optimizeDeps,\r\n      esbuildOptions: {\r\n        preserveSymlinks: resolveOptions.preserveSymlinks,\r\n        ...optimizeDeps.esbuildOptions\r\n      }\r\n    },\r\n    worker: resolvedWorkerOptions,\r\n    appType: config.appType ?? \"spa\",\r\n    experimental: {\r\n      importGlobRestoreExtension: false,\r\n      hmrPartialAccept: false,\r\n      ...config.experimental\r\n    },\r\n    getSortedPlugins: void 0,\r\n    getSortedPluginHooks: void 0\r\n  };\r\n  resolved = {\r\n    ...config,\r\n    ...resolved\r\n  };\r\n  resolved.plugins = await resolvePlugins(\r\n    resolved,\r\n    prePlugins,\r\n    normalPlugins,\r\n    postPlugins\r\n  );\r\n  Object.assign(resolved, createPluginHookUtils(resolved.plugins));\r\n  await Promise.all(\r\n    resolved.getSortedPluginHooks(\"configResolved\").map((hook) => hook(resolved))\r\n  );\r\n  optimizeDepsDisabledBackwardCompatibility(resolved, resolved.optimizeDeps);\r\n  optimizeDepsDisabledBackwardCompatibility(\r\n    resolved,\r\n    resolved.ssr.optimizeDeps,\r\n    \"ssr.\"\r\n  );\r\n  debug?.(`using resolved config: %O`, {\r\n    ...resolved,\r\n    plugins: resolved.plugins.map((p) => p.name),\r\n    worker: {\r\n      ...resolved.worker,\r\n      plugins: `() => plugins`\r\n    }\r\n  });\r\n  if (config.build?.terserOptions && config.build.minify && config.build.minify !== \"terser\") {\r\n    logger.warn(\r\n      colors$1.yellow(\r\n        `build.terserOptions is specified but build.minify is not set to use Terser. Note Vite now defaults to use esbuild for minification. If you still prefer Terser, set build.minify to \"terser\".`\r\n      )\r\n    );\r\n  }\r\n  const outputOption = config.build?.rollupOptions?.output ?? [];\r\n  if (Array.isArray(outputOption)) {\r\n    const assetFileNamesList = outputOption.map(\r\n      (output) => output.assetFileNames\r\n    );\r\n    if (assetFileNamesList.length > 1) {\r\n      const firstAssetFileNames = assetFileNamesList[0];\r\n      const hasDifferentReference = assetFileNamesList.some(\r\n        (assetFileNames) => assetFileNames !== firstAssetFileNames\r\n      );\r\n      if (hasDifferentReference) {\r\n        resolved.logger.warn(\r\n          colors$1.yellow(`\r\nassetFileNames isn't equal for every build.rollupOptions.output. A single pattern across all outputs is supported by Vite.\r\n`)\r\n        );\r\n      }\r\n    }\r\n  }\r\n  if (\r\n    // @ts-expect-error Option removed\r\n    config.legacy?.buildSsrCjsExternalHeuristics || // @ts-expect-error Option removed\r\n    config.ssr?.format === \"cjs\"\r\n  ) {\r\n    resolved.logger.warn(\r\n      colors$1.yellow(`\r\n(!) Experimental legacy.buildSsrCjsExternalHeuristics and ssr.format were be removed in Vite 5.\r\n    The only SSR Output format is ESM. Find more information at https://github.com/vitejs/vite/discussions/13816.\r\n`)\r\n    );\r\n  }\r\n  const resolvedBuildOutDir = normalizePath$3(\r\n    path$n.resolve(resolved.root, resolved.build.outDir)\r\n  );\r\n  if (isParentDirectory(resolvedBuildOutDir, resolved.root) || resolvedBuildOutDir === resolved.root) {\r\n    resolved.logger.warn(\r\n      colors$1.yellow(`\r\n(!) build.outDir must not be the same directory of root or a parent directory of root as this could cause Vite to overwriting source files with build outputs.\r\n`)\r\n    );\r\n  }\r\n  return resolved;\r\n}\r\nfunction resolveBaseUrl(base = \"/\", isBuild, logger) {\r\n  if (base[0] === \".\") {\r\n    logger.warn(\r\n      colors$1.yellow(\r\n        colors$1.bold(\r\n          `(!) invalid \"base\" option: \"${base}\". The value can only be an absolute URL, \"./\", or an empty string.`\r\n        )\r\n      )\r\n    );\r\n    return \"/\";\r\n  }\r\n  const isExternal = isExternalUrl(base);\r\n  if (!isExternal && base[0] !== \"/\") {\r\n    logger.warn(\r\n      colors$1.yellow(\r\n        colors$1.bold(`(!) \"base\" option should start with a slash.`)\r\n      )\r\n    );\r\n  }\r\n  if (!isBuild || !isExternal) {\r\n    base = new URL(base, \"http://vite.dev\").pathname;\r\n    if (base[0] !== \"/\") {\r\n      base = \"/\" + base;\r\n    }\r\n  }\r\n  return base;\r\n}\r\nfunction sortUserPlugins(plugins) {\r\n  const prePlugins = [];\r\n  const postPlugins = [];\r\n  const normalPlugins = [];\r\n  if (plugins) {\r\n    plugins.flat().forEach((p) => {\r\n      if (p.enforce === \"pre\") prePlugins.push(p);\r\n      else if (p.enforce === \"post\") postPlugins.push(p);\r\n      else normalPlugins.push(p);\r\n    });\r\n  }\r\n  return [prePlugins, normalPlugins, postPlugins];\r\n}\r\nasync function loadConfigFromFile(configEnv, configFile, configRoot = process.cwd(), logLevel, customLogger) {\r\n  const start = performance$1.now();\r\n  const getTime = () => `${(performance$1.now() - start).toFixed(2)}ms`;\r\n  let resolvedPath;\r\n  if (configFile) {\r\n    resolvedPath = path$n.resolve(configFile);\r\n  } else {\r\n    for (const filename of DEFAULT_CONFIG_FILES) {\r\n      const filePath = path$n.resolve(configRoot, filename);\r\n      if (!fs__default.existsSync(filePath)) continue;\r\n      resolvedPath = filePath;\r\n      break;\r\n    }\r\n  }\r\n  if (!resolvedPath) {\r\n    debug?.(\"no config file found.\");\r\n    return null;\r\n  }\r\n  const isESM = typeof process.versions.deno === \"string\" || isFilePathESM(resolvedPath);\r\n  try {\r\n    const bundled = await bundleConfigFile(resolvedPath, isESM);\r\n    const userConfig = await loadConfigFromBundledFile(\r\n      resolvedPath,\r\n      bundled.code,\r\n      isESM\r\n    );\r\n    debug?.(`bundled config file loaded in ${getTime()}`);\r\n    const config = await (typeof userConfig === \"function\" ? userConfig(configEnv) : userConfig);\r\n    if (!isObject$1(config)) {\r\n      throw new Error(`config must export or return an object.`);\r\n    }\r\n    return {\r\n      path: normalizePath$3(resolvedPath),\r\n      config,\r\n      dependencies: bundled.dependencies\r\n    };\r\n  } catch (e) {\r\n    createLogger(logLevel, { customLogger }).error(\r\n      colors$1.red(`failed to load config from ${resolvedPath}`),\r\n      {\r\n        error: e\r\n      }\r\n    );\r\n    throw e;\r\n  }\r\n}\r\nasync function bundleConfigFile(fileName, isESM) {\r\n  const dirnameVarName = \"__vite_injected_original_dirname\";\r\n  const filenameVarName = \"__vite_injected_original_filename\";\r\n  const importMetaUrlVarName = \"__vite_injected_original_import_meta_url\";\r\n  const result = await build$3({\r\n    absWorkingDir: process.cwd(),\r\n    entryPoints: [fileName],\r\n    write: false,\r\n    target: [`node${process.versions.node}`],\r\n    platform: \"node\",\r\n    bundle: true,\r\n    format: isESM ? \"esm\" : \"cjs\",\r\n    mainFields: [\"main\"],\r\n    sourcemap: \"inline\",\r\n    metafile: true,\r\n    define: {\r\n      __dirname: dirnameVarName,\r\n      __filename: filenameVarName,\r\n      \"import.meta.url\": importMetaUrlVarName,\r\n      \"import.meta.dirname\": dirnameVarName,\r\n      \"import.meta.filename\": filenameVarName\r\n    },\r\n    plugins: [\r\n      {\r\n        name: \"externalize-deps\",\r\n        setup(build2) {\r\n          const packageCache = /* @__PURE__ */ new Map();\r\n          const resolveByViteResolver = (id, importer, isRequire) => {\r\n            return tryNodeResolve(\r\n              id,\r\n              importer,\r\n              {\r\n                root: path$n.dirname(fileName),\r\n                isBuild: true,\r\n                isProduction: true,\r\n                preferRelative: false,\r\n                tryIndex: true,\r\n                mainFields: [],\r\n                conditions: [],\r\n                overrideConditions: [\"node\"],\r\n                dedupe: [],\r\n                extensions: DEFAULT_EXTENSIONS,\r\n                preserveSymlinks: false,\r\n                packageCache,\r\n                isRequire\r\n              },\r\n              false\r\n            )?.id;\r\n          };\r\n          build2.onResolve(\r\n            { filter: /^[^.].*/ },\r\n            async ({ path: id, importer, kind }) => {\r\n              if (kind === \"entry-point\" || path$n.isAbsolute(id) || isNodeBuiltin(id)) {\r\n                return;\r\n              }\r\n              if (isBuiltin(id)) {\r\n                return { external: true };\r\n              }\r\n              const isImport = isESM || kind === \"dynamic-import\";\r\n              let idFsPath;\r\n              try {\r\n                idFsPath = resolveByViteResolver(id, importer, !isImport);\r\n              } catch (e) {\r\n                if (!isImport) {\r\n                  let canResolveWithImport = false;\r\n                  try {\r\n                    canResolveWithImport = !!resolveByViteResolver(\r\n                      id,\r\n                      importer,\r\n                      false\r\n                    );\r\n                  } catch {\r\n                  }\r\n                  if (canResolveWithImport) {\r\n                    throw new Error(\r\n                      `Failed to resolve ${JSON.stringify(\r\n                        id\r\n                      )}. This package is ESM only but it was tried to load by \\`require\\`. See https://vite.dev/guide/troubleshooting.html#this-package-is-esm-only for more details.`\r\n                    );\r\n                  }\r\n                }\r\n                throw e;\r\n              }\r\n              if (idFsPath && isImport) {\r\n                idFsPath = pathToFileURL(idFsPath).href;\r\n              }\r\n              if (idFsPath && !isImport && isFilePathESM(idFsPath, packageCache)) {\r\n                throw new Error(\r\n                  `${JSON.stringify(\r\n                    id\r\n                  )} resolved to an ESM file. ESM file cannot be loaded by \\`require\\`. See https://vite.dev/guide/troubleshooting.html#this-package-is-esm-only for more details.`\r\n                );\r\n              }\r\n              return {\r\n                path: idFsPath,\r\n                external: true\r\n              };\r\n            }\r\n          );\r\n        }\r\n      },\r\n      {\r\n        name: \"inject-file-scope-variables\",\r\n        setup(build2) {\r\n          build2.onLoad({ filter: /\\.[cm]?[jt]s$/ }, async (args) => {\r\n            const contents = await fsp.readFile(args.path, \"utf-8\");\r\n            const injectValues = `const ${dirnameVarName} = ${JSON.stringify(\r\n              path$n.dirname(args.path)\r\n            )};const ${filenameVarName} = ${JSON.stringify(args.path)};const ${importMetaUrlVarName} = ${JSON.stringify(\r\n              pathToFileURL(args.path).href\r\n            )};`;\r\n            return {\r\n              loader: args.path.endsWith(\"ts\") ? \"ts\" : \"js\",\r\n              contents: injectValues + contents\r\n            };\r\n          });\r\n        }\r\n      }\r\n    ]\r\n  });\r\n  const { text } = result.outputFiles[0];\r\n  return {\r\n    code: text,\r\n    dependencies: result.metafile ? Object.keys(result.metafile.inputs) : []\r\n  };\r\n}\r\nconst _require = createRequire$1(import.meta.url);\r\nasync function loadConfigFromBundledFile(fileName, bundledCode, isESM) {\r\n  if (isESM) {\r\n    const fileBase = `${fileName}.timestamp-${Date.now()}-${Math.random().toString(16).slice(2)}`;\r\n    const fileNameTmp = `${fileBase}.mjs`;\r\n    const fileUrl = `${pathToFileURL(fileBase)}.mjs`;\r\n    await fsp.writeFile(fileNameTmp, bundledCode);\r\n    try {\r\n      return (await import(fileUrl)).default;\r\n    } finally {\r\n      fs__default.unlink(fileNameTmp, () => {\r\n      });\r\n    }\r\n  } else {\r\n    const extension = path$n.extname(fileName);\r\n    const realFileName = await promisifiedRealpath(fileName);\r\n    const loaderExt = extension in _require.extensions ? extension : \".js\";\r\n    const defaultLoader = _require.extensions[loaderExt];\r\n    _require.extensions[loaderExt] = (module, filename) => {\r\n      if (filename === realFileName) {\r\n        module._compile(bundledCode, filename);\r\n      } else {\r\n        defaultLoader(module, filename);\r\n      }\r\n    };\r\n    delete _require.cache[_require.resolve(fileName)];\r\n    const raw = _require(fileName);\r\n    _require.extensions[loaderExt] = defaultLoader;\r\n    return raw.__esModule ? raw.default : raw;\r\n  }\r\n}\r\nasync function runConfigHook(config, plugins, configEnv) {\r\n  let conf = config;\r\n  for (const p of getSortedPluginsByHook(\"config\", plugins)) {\r\n    const hook = p.config;\r\n    const handler = getHookHandler(hook);\r\n    if (handler) {\r\n      const res = await handler(conf, configEnv);\r\n      if (res) {\r\n        conf = mergeConfig(conf, res);\r\n      }\r\n    }\r\n  }\r\n  return conf;\r\n}\r\nfunction getDepOptimizationConfig(config, ssr) {\r\n  return ssr ? config.ssr.optimizeDeps : config.optimizeDeps;\r\n}\r\nfunction isDepsOptimizerEnabled(config, ssr) {\r\n  const optimizeDeps = getDepOptimizationConfig(config, ssr);\r\n  return !(optimizeDeps.noDiscovery && !optimizeDeps.include?.length);\r\n}\r\nfunction optimizeDepsDisabledBackwardCompatibility(resolved, optimizeDeps, optimizeDepsPath = \"\") {\r\n  const optimizeDepsDisabled = optimizeDeps.disabled;\r\n  if (optimizeDepsDisabled !== void 0) {\r\n    if (optimizeDepsDisabled === true || optimizeDepsDisabled === \"dev\") {\r\n      const commonjsOptionsInclude = resolved.build?.commonjsOptions?.include;\r\n      const commonjsPluginDisabled = Array.isArray(commonjsOptionsInclude) && commonjsOptionsInclude.length === 0;\r\n      optimizeDeps.noDiscovery = true;\r\n      optimizeDeps.include = void 0;\r\n      if (commonjsPluginDisabled) {\r\n        resolved.build.commonjsOptions.include = void 0;\r\n      }\r\n      resolved.logger.warn(\r\n        colors$1.yellow(`(!) Experimental ${optimizeDepsPath}optimizeDeps.disabled and deps pre-bundling during build were removed in Vite 5.1.\r\n    To disable the deps optimizer, set ${optimizeDepsPath}optimizeDeps.noDiscovery to true and ${optimizeDepsPath}optimizeDeps.include as undefined or empty.\r\n    Please remove ${optimizeDepsPath}optimizeDeps.disabled from your config.\r\n    ${commonjsPluginDisabled ? \"Empty config.build.commonjsOptions.include will be ignored to support CJS during build. This config should also be removed.\" : \"\"}\r\n  `)\r\n      );\r\n    } else if (optimizeDepsDisabled === false || optimizeDepsDisabled === \"build\") {\r\n      resolved.logger.warn(\r\n        colors$1.yellow(`(!) Experimental ${optimizeDepsPath}optimizeDeps.disabled and deps pre-bundling during build were removed in Vite 5.1.\r\n    Setting it to ${optimizeDepsDisabled} now has no effect.\r\n    Please remove ${optimizeDepsPath}optimizeDeps.disabled from your config.\r\n  `)\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport { colors$1 as A, getDefaultExportFromCjs as B, commonjsGlobal as C, index$1 as D, index as E, build$1 as F, preview$1 as G, arraify as a, build as b, createServer as c, defineConfig as d, preprocessCSS as e, formatPostcssSourceMap as f, buildErrorMessage as g, fetchModule as h, isInNodeModules$1 as i, mergeAlias as j, createFilter as k, loadConfigFromFile as l, mergeConfig as m, normalizePath$3 as n, optimizeDeps as o, preview as p, rollupVersion as q, resolveConfig as r, sortUserPlugins as s, transformWithEsbuild as t, send as u, createLogger as v, searchForWorkspaceRoot as w, isFileServingAllowed as x, loadEnv as y, resolveEnvPrefix as z };\r\n"],
  "mappings": "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AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;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",
  "names": ["exports", "exports", "exports", "exports", "exports", "name", "build", "formatMessages", "transform", "version", "visit", "value", "value2", "clone", "offset", "decoder", "quote", "options", "format", "platform", "_a2", "resolveExtensions", "alias", "path3", "ext", "n", "error", "e", "err", "transform2", "formatMessages2", "messages", "plugins", "resolve", "error2", "options2", "resolve2", "promise", "filter", "map", "location", "match", "hash", "binary", "fs", "os", "path", "crypto", "path2", "fs2", "os2", "_a", "status", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "exports", "import_node_path", "path", "import_node_fs", "import_node_path", "import_node_url", "import_node_url", "import_node_path", "import_node_module", "__filename", "__cjs_fileURLToPath", "__dirname", "__cjs_dirname", "require", "__cjs_createRequire", "__require", "n", "f", "a", "path", "require$$0$3", "open", "close", "string", "init", "pattern", "entry", "value", "options", "_a", "require$$0$4", "url", "node", "chars", "win32", "exports", "match", "append", "isGlob", "isExtglob", "braces", "glob", "DOT_LITERAL", "PLUS_LITERAL", "SLASH_LITERAL", "ONE_CHAR", "DOTS_SLASH", "NO_DOT", "NO_DOT_SLASH", "NO_DOTS_SLASH", "QMARK", "QMARK_NO_DOT", "STAR", "START_ANCHOR", "opts", "star", "push", "first", "rest", "posix", "escaped", "range", "out", "t", "NO_DOTS", "source", "isMatch", "state", "regex", "matcher", "format", "err", "extractAssignedNames", "name", "attachScopes", "resolve$3", "makeLegalIdentifier", "dataToEsm", "_b", "r", "pad", "_c", "hasMagic", "src", "start", "final", "i", "acc", "ext", "_hasMagic", "set", "which", "partial", "_i", "_s", "_k", "getOptions", "_d", "_e", "status", "v", "bf", "Stream$1", "EventEmitter$4", "o", "p", "ret", "resolve", "res", "realpathSync$1", "readdir$4", "lstat$3", "readdir$5", "realpath$2", "_size", "read", "e", "mode", "win32$1", "compare", "_children", "_fs", "sep", "fs", "filter", "walk", "queue", "process", "promises", "sync", "posix$1", "platform", "relative", "abs", "tasks", "target", "reader", "min", "segment", "clone", "matchAll", "matches", "replacement", "parse", "basename$1", "dirname$1", "relative$1", "join$1", "statSync$1", "extension", "sep$1", "extensions", "commonjs", "requireNode", "plugins", "hash", "map", "isString", "version", "array", "depth", "SourceMap", "ms", "env", "destroy", "debug", "self", "formatter", "load", "warned", "error", "util", "require$$0$5", "useColors", "createRequire$1", "path$n", "fs__default", "createFilter", "optimizeDeps", "URL$3", "path2", "performance$1", "parentDir", "offset", "stat", "fsp", "server", "config", "os$5", "createHash$2", "found", "defaults", "find", "alias", "promise", "readline", "options2", "promisify$4", "promises$1", "isIncluded", "req", "createRequire$2", "key", "transform$1", "Worker$1", "call", "require2", "Buffer$1", "parse$h", "A", "E", "Q", "B", "g", "I", "w", "K", "D", "C", "require$$2", "stringify", "wrap", "isPadded", "zeros", "max", "index", "basename", "require$$0$6", "stream", "settings", "lstat", "require$$0__default", "_options", "statSync", "DirentFromStats", "Settings", "get", "resume", "_root", "require$$0$7", "provider", "Reader", "isDirectory", "os", "FastGlob", "isDynamicPattern", "escapePath", "convertPathToPattern", "transform", "isEmpty", "yaml", "onError", "handle", "schema", "end", "isBlock", "qs", "_type", "comment", "str", "seq", "pairs", "omap", "merge", "comma", "composeNode", "composeEmptyNode", "isMap", "CN", "tag", "cst", "quote", "ch", "require$$0$8", "require$$0$9", "require$$3$1", "shouldInline", "seen", "location", "resolveUrl", "isExternal", "isHTMLProxy", "url2", "fileURLToPath2", "_f", "_g", "browser", "assert$1", "types", "v8", "format$2", "isRelative", "isAbsolute$1", "fd", "net", "require$$4$1", "escape", "fn", "listener", "statuses", "codes", "require$$1", "vary", "corsMiddleware", "err2", "slice", "testString", "returnIndex", "main", "rawEmitter", "dirname", "newStats", "realpath", "stats", "maj", "globParent", "normalizePath", "NodeFsHandler", "FsEventsHandler", "timeout", "now", "s", "require$$2$1", "guessEditor", "getArgumentsForPosition", "launchEditorMiddleware", "createServer", "https", "_h", "_j", "_l", "_m", "_n", "_o", "isRequire", "processResult", "build", "warn", "plugins2", "utils", "join$2", "scan", "esbuild", "scripts", "timestamp", "build$3", "exports2", "resolve$3", "join$1", "statSync$1", "req", "name", "normalize$1", "setHeaders", "extensions", "lookup", "err", "server", "url", "path$n", "find", "matches", "options", "timestamp", "config", "_a", "map", "performance$1", "fsp", "e", "node", "WalkerBase", "SyncWalker", "value", "exports", "match", "_b", "require$$0__default", "require$$2", "require$$0$4", "require$$2$1", "__dirname", "array", "error", "resolve", "binary", "isexe", "sync", "fs", "path", "stat", "o", "found", "ext", "platform", "env", "string", "cp", "status", "browser", "join$2", "readline", "EventEmitter$4", "offset", "bufferUtil", "require", "zlib$1", "Limiter", "data", "require$$0$a", "isValidUTF8", "require$$0$6", "n", "require$$3$1", "merge", "sender", "Event", "listener", "onError", "extension", "require$$0$7", "require$$1$1", "require$$1", "require$$4$1", "require$$4$2", "require$$0$9", "Receiver", "Sender", "receiver", "websocket", "key", "location", "stream", "parse", "protocol", "PerMessageDeflate", "WebSocket", "version", "createServer$2", "createServer$3", "err2", "EventEmitter", "events", "common", "required", "require$$4$3", "self", "get", "relative", "regex", "http", "https", "proxyReq", "proxyError", "XHeaders", "head", "httpProxy", "ProxyServer", "require$$0$5", "options2", "etag", "ms", "_c", "_d", "_e", "_f", "url2", "src", "hash", "seen", "extname$1", "fs__default", "dirname$2", "path2", "get$1", "get$2", "pattern", "listen", "path$n", "server", "config", "name", "e", "timestamp", "seen", "node", "t", "url", "err", "fsp", "n", "r", "listener", "EventEmitter$4", "match", "_a", "env", "options", "performance$1", "exports", "_e", "_b", "optimizeDeps", "isRelative", "needsInterop", "url2", "hash", "promise", "_c", "_d", "format", "map", "_options", "relative$2", "join$2", "dirname$2", "basename$2", "fs__default", "resolve", "alias", "plugins", "warn", "watch", "relative", "extension", "packageJson", "load", "transform", "path2", "URL", "toRelativePath", "gzip", "mimes", "zlib$1", "req", "status", "options2", "optimizeDeps", "promisify$4", "fs__default", "config", "path2", "_a", "_b", "_c", "_d", "_e", "_f", "_g", "_h", "_i", "_j", "_k", "_l", "_m", "_n", "_o", "_p", "_q", "_r", "mode", "path$n", "createFilter", "options", "server", "name", "isExternal", "plugins", "performance$1", "e", "build$3", "isRequire", "fsp", "createRequire$1", "extension"]
}
